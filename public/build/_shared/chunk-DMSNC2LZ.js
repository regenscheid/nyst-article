import{A as en,B as Bn,C as tn,D as Re,E as Is,F as cM,G as ks,H as Ql,I as ut,J as M0,K as Tg,L as Me,M as Ei,N as tr,O as L0,P as Ts,Q as Ip,R as rn,S as kp,T as xe,U as Bt,V as Tp,Y as As,Z as S0,_ as u$,a as Qy,b as o$,c as eM,d as a$,e as tM,f as l$,fa as Ap,g as iM,ga as dM,h as c$,ha as uM,i as Ss,ia as Ag,j as kg,k as Ep,l as rM,m as Es,ma as hM,n as n1,o as dt,oa as Ng,p as nM,pa as h$,q as ad,qa as f$,r as Hi,ra as m$,s as z,sa as p$,t as wi,ta as g$,u as Rs,ua as v$,v as aM,va as fM,w as Kl,wa as Og,x as Yl,y as lM,z as Jl}from"/myst_assets_folder/_shared/chunk-C4DFGG5C.js";import{a as Uo,b as Np,c as mr,d as Op,e as Ns,f as mM,g as ld}from"/myst_assets_folder/_shared/chunk-J7TUH54J.js";import{a as Rp,d as d$}from"/myst_assets_folder/_shared/chunk-KQM5FBHR.js";import{a as si}from"/myst_assets_folder/_shared/chunk-OCWQY3HK.js";import{g as Xy,n as Ky}from"/myst_assets_folder/_shared/chunk-7HNKBP4B.js";import{a as sM,b as oM}from"/myst_assets_folder/_shared/chunk-CUKUDK3R.js";import{a as Qe}from"/myst_assets_folder/_shared/chunk-3EBOCCHJ.js";import{b as y0}from"/myst_assets_folder/_shared/chunk-O4VQNZ62.js";import{B as Yy,D as Jy,a as Zy,n as qy,r as Uy,s as Gy,t as Rr,y as r1}from"/myst_assets_folder/_shared/chunk-4OEDG4JQ.js";import{a as zy,b as By,c as Py,e as Eg,f as Rg,g as jy,h as $y,i as Vy,k as Fy,m as Wy}from"/myst_assets_folder/_shared/chunk-3ICWWYPB.js";import{a as te,b as Ig,c as s$,d as de}from"/myst_assets_folder/_shared/chunk-JJXTQVMA.js";import{b as P,c as je,d as qo,f as N,g as Pa}from"/myst_assets_folder/_shared/chunk-OZE3FFNP.js";var O8=je((rce,Z0)=>{function JW(i,e){this.v=i,this.k=e}Z0.exports=JW,Z0.exports.__esModule=!0,Z0.exports.default=Z0.exports});var D8=je((nce,Xa)=>{function E9(i,e,t,r){var n=Object.defineProperty;try{n({},"",{})}catch{n=0}Xa.exports=E9=function(o,a,l,c){function u(d,f){E9(o,d,function(h){return this._invoke(d,f,h)})}a?n?n(o,a,{value:l,enumerable:!c,configurable:!c,writable:!c}):o[a]=l:(u("next",0),u("throw",1),u("return",2))},Xa.exports.__esModule=!0,Xa.exports.default=Xa.exports,E9(i,e,t,r)}Xa.exports=E9,Xa.exports.__esModule=!0,Xa.exports.default=Xa.exports});var H8=je((sce,Ka)=>{var ra=D8();function wE(){var i,e,t=typeof Symbol=="function"?Symbol:{},r=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function s(h,m,p,v){var x=m&&m.prototype instanceof a?m:a,C=Object.create(x.prototype);return ra(C,"_invoke",function(y,S,M){var _,E,R,A=0,H=M||[],$=!1,X={p:0,n:0,v:i,a:ue,f:ue.bind(i,4),d:function(Y,ee){return _=Y,E=0,R=i,X.n=ee,o}};function ue(he,Y){for(E=he,R=Y,e=0;!$&&A&&!ee&&e<H.length;e++){var ee,ie=H[e],pe=X.p,we=ie[2];he>3?(ee=we===Y)&&(R=ie[(E=ie[4])?5:(E=3,3)],ie[4]=ie[5]=i):ie[0]<=pe&&((ee=he<2&&pe<ie[1])?(E=0,X.v=Y,X.n=ie[1]):pe<we&&(ee=he<3||ie[0]>Y||Y>we)&&(ie[4]=he,ie[5]=Y,X.n=we,E=0))}if(ee||he>1)return o;throw $=!0,Y}return function(he,Y,ee){if(A>1)throw TypeError("Generator is already running");for($&&Y===1&&ue(Y,ee),E=Y,R=ee;(e=E<2?i:R)||!$;){_||(E?E<3?(E>1&&(X.n=-1),ue(E,R)):X.n=R:X.v=R);try{if(A=2,_){if(E||(he="next"),e=_[he]){if(!(e=e.call(_,R)))throw TypeError("iterator result is not an object");if(!e.done)return e;R=e.value,E<2&&(E=0)}else E===1&&(e=_.return)&&e.call(_),E<2&&(R=TypeError("The iterator does not provide a '"+he+"' method"),E=1);_=i}else if((e=($=X.n<0)?R:y.call(S,X))!==o)break}catch(ie){_=i,E=1,R=ie}finally{A=1}}return{value:e,done:$}}}(h,p,v),!0),C}var o={};function a(){}function l(){}function c(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(ra(e={},r,function(){return this}),e),d=c.prototype=a.prototype=Object.create(u);function f(h){return Object.setPrototypeOf?Object.setPrototypeOf(h,c):(h.__proto__=c,ra(h,n,"GeneratorFunction")),h.prototype=Object.create(d),h}return l.prototype=c,ra(d,"constructor",c),ra(c,"constructor",l),l.displayName="GeneratorFunction",ra(c,n,"GeneratorFunction"),ra(d),ra(d,n,"Generator"),ra(d,r,function(){return this}),ra(d,"toString",function(){return"[object Generator]"}),(Ka.exports=wE=function(){return{w:s,m:f}},Ka.exports.__esModule=!0,Ka.exports.default=Ka.exports)()}Ka.exports=wE,Ka.exports.__esModule=!0,Ka.exports.default=Ka.exports});var P8=je((oce,q0)=>{var QW=O8(),z8=D8();function B8(i,e){function t(n,s,o,a){try{var l=i[n](s),c=l.value;return c instanceof QW?e.resolve(c.v).then(function(u){t("next",u,o,a)},function(u){t("throw",u,o,a)}):e.resolve(c).then(function(u){l.value=u,o(l)},function(u){return t("throw",u,o,a)})}catch(u){a(u)}}var r;this.next||(z8(B8.prototype),z8(B8.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),z8(this,"_invoke",function(n,s,o){function a(){return new e(function(l,c){t(n,o,l,c)})}return r=r?r.then(a,a):a()},!0)}q0.exports=B8,q0.exports.__esModule=!0,q0.exports.default=q0.exports});var j8=je((ace,U0)=>{var eZ=H8(),tZ=P8();function iZ(i,e,t,r,n){return new tZ(eZ().w(i,e,t,r),n||Promise)}U0.exports=iZ,U0.exports.__esModule=!0,U0.exports.default=U0.exports});var yE=je((lce,G0)=>{var rZ=j8();function nZ(i,e,t,r,n){var s=rZ(i,e,t,r,n);return s.next().then(function(o){return o.done?o.value:s.next()})}G0.exports=nZ,G0.exports.__esModule=!0,G0.exports.default=G0.exports});var ME=je((cce,X0)=>{function sZ(i){var e=Object(i),t=[];for(var r in e)t.unshift(r);return function n(){for(;t.length;)if((r=t.pop())in e)return n.value=r,n.done=!1,n;return n.done=!0,n}}X0.exports=sZ,X0.exports.__esModule=!0,X0.exports.default=X0.exports});var LE=je((dce,Ya)=>{function $8(i){return Ya.exports=$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya.exports.__esModule=!0,Ya.exports.default=Ya.exports,$8(i)}Ya.exports=$8,Ya.exports.__esModule=!0,Ya.exports.default=Ya.exports});var SE=je((uce,K0)=>{var oZ=LE().default;function aZ(i){if(i!=null){var e=i[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],t=0;if(e)return e.call(i);if(typeof i.next=="function")return i;if(!isNaN(i.length))return{next:function(){return i&&t>=i.length&&(i=void 0),{value:i&&i[t++],done:!i}}}}throw new TypeError(oZ(i)+" is not iterable")}K0.exports=aZ,K0.exports.__esModule=!0,K0.exports.default=K0.exports});var RE=je((hce,Ja)=>{var lZ=O8(),cZ=H8(),dZ=yE(),uZ=j8(),hZ=P8(),fZ=ME(),EE=SE();function V8(){"use strict";var i=cZ(),e=i.m(V8),t=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(o){var a=typeof o=="function"&&o.constructor;return!!a&&(a===t||(a.displayName||a.name)==="GeneratorFunction")}var n={throw:1,return:2,break:3,continue:3};function s(o){var a,l;return function(c){a||(a={stop:function(){return l(c.a,2)},catch:function(){return c.v},abrupt:function(d,f){return l(c.a,n[d],f)},delegateYield:function(d,f,h){return a.resultName=f,l(c.d,EE(d),h)},finish:function(d){return l(c.f,d)}},l=function(d,f,h){c.p=a.prev,c.n=a.next;try{return d(f,h)}finally{a.next=c.n}}),a.resultName&&(a[a.resultName]=c.v,a.resultName=void 0),a.sent=c.v,a.next=c.n;try{return o.call(this,a)}finally{c.p=a.prev,c.n=a.next}}}return(Ja.exports=V8=function(){return{wrap:function(l,c,u,d){return i.w(s(l),c,u,d&&d.reverse())},isGeneratorFunction:r,mark:i.m,awrap:function(l,c){return new lZ(l,c)},AsyncIterator:hZ,async:function(l,c,u,d,f){return(r(c)?uZ:dZ)(s(l),c,u,d,f)},keys:fZ,values:EE}},Ja.exports.__esModule=!0,Ja.exports.default=Ja.exports)()}Ja.exports=V8,Ja.exports.__esModule=!0,Ja.exports.default=Ja.exports});var F8=je((fce,IE)=>{var R9=RE()();IE.exports=R9;try{regeneratorRuntime=R9}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=R9:Function("r","regeneratorRuntime = r")(R9)}});var WE=je(FE=>{"use strict";var ih=te();function NZ(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}var OZ=typeof Object.is=="function"?Object.is:NZ,DZ=ih.useState,HZ=ih.useEffect,zZ=ih.useLayoutEffect,BZ=ih.useDebugValue;function PZ(i,e){var t=e(),r=DZ({inst:{value:t,getSnapshot:e}}),n=r[0].inst,s=r[1];return zZ(function(){n.value=t,n.getSnapshot=e,X8(n)&&s({inst:n})},[i,t,e]),HZ(function(){return X8(n)&&s({inst:n}),i(function(){X8(n)&&s({inst:n})})},[i]),BZ(t),t}function X8(i){var e=i.getSnapshot;i=i.value;try{var t=e();return!OZ(i,t)}catch{return!0}}function jZ(i,e){return e()}var $Z=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jZ:PZ;FE.useSyncExternalStore=ih.useSyncExternalStore!==void 0?ih.useSyncExternalStore:$Z});var qE=je((Gce,ZE)=>{"use strict";ZE.exports=WE()});var QR=je((D1e,JR)=>{var YR="Expected a function",XR=NaN,YU="[object Symbol]",JU=/^\s+|\s+$/g,QU=/^[-+]0x[0-9a-f]+$/i,eG=/^0b[01]+$/i,tG=/^0o[0-7]+$/i,iG=parseInt,rG=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,nG=typeof self=="object"&&self&&self.Object===Object&&self,sG=rG||nG||Function("return this")(),oG=Object.prototype,aG=oG.toString,lG=Math.max,cG=Math.min,T6=function(){return sG.Date.now()};function dG(i,e,t){var r,n,s,o,a,l,c=0,u=!1,d=!1,f=!0;if(typeof i!="function")throw new TypeError(YR);e=KR(e)||0,G9(t)&&(u=!!t.leading,d="maxWait"in t,s=d?lG(KR(t.maxWait)||0,e):s,f="trailing"in t?!!t.trailing:f);function h(_){var E=r,R=n;return r=n=void 0,c=_,o=i.apply(R,E),o}function m(_){return c=_,a=setTimeout(x,e),u?h(_):o}function p(_){var E=_-l,R=_-c,A=e-E;return d?cG(A,s-R):A}function v(_){var E=_-l,R=_-c;return l===void 0||E>=e||E<0||d&&R>=s}function x(){var _=T6();if(v(_))return C(_);a=setTimeout(x,p(_))}function C(_){return a=void 0,f&&r?h(_):(r=n=void 0,o)}function y(){a!==void 0&&clearTimeout(a),c=0,r=l=n=a=void 0}function S(){return a===void 0?o:C(T6())}function M(){var _=T6(),E=v(_);if(r=arguments,n=this,l=_,E){if(a===void 0)return m(l);if(d)return a=setTimeout(x,e),h(l)}return a===void 0&&(a=setTimeout(x,e)),o}return M.cancel=y,M.flush=S,M}function uG(i,e,t){var r=!0,n=!0;if(typeof i!="function")throw new TypeError(YR);return G9(t)&&(r="leading"in t?!!t.leading:r,n="trailing"in t?!!t.trailing:n),dG(i,e,{leading:r,maxWait:e,trailing:n})}function G9(i){var e=typeof i;return!!i&&(e=="object"||e=="function")}function hG(i){return!!i&&typeof i=="object"}function fG(i){return typeof i=="symbol"||hG(i)&&aG.call(i)==YU}function KR(i){if(typeof i=="number")return i;if(fG(i))return XR;if(G9(i)){var e=typeof i.valueOf=="function"?i.valueOf():i;i=G9(e)?e+"":e}if(typeof i!="string")return i===0?i:+i;i=i.replace(JU,"");var t=eG.test(i);return t||tG.test(i)?iG(i.slice(2),t?2:8):QU.test(i)?XR:+i}JR.exports=uG});var cY=je((Vpe,NT)=>{NT.exports={}});var DT=je(O5=>{"use strict";Object.defineProperty(O5,"__esModule",{value:!0});O5.OutputAreaByRef=void 0;var uY=(Hi(),Pa(ad)),N5=de(),hY=uY.__importDefault(te());O5.OutputAreaByRef=hY.default.forwardRef(({busy:i,content:e},t)=>(0,N5.jsx)("div",{children:(0,N5.jsxs)("div",Object.assign({className:"m-1 hover:delay-15"},{children:[(0,N5.jsx)("div",Object.assign({className:"p-1 rounded",ref:t},{children:e||"[Output Area]"})),i&&(0,N5.jsx)("div",{children:"Cell is running..."})]}))}))});var Xv=je(Gv=>{"use strict";Object.defineProperty(Gv,"__esModule",{value:!0});var fY="0.5.0";Gv.default=fY});function mY(i,e){let t=new URL(e);return`${i}-${t.origin+t.pathname}`}function D5(i,e,t){let r=`${e}/build/${t}`,n=`${e}/v2/${t}`;return{build:r,launch:n,storageKey:mY(i,r)}}function pY(i){if(!i.binder.repo)throw Error("repo is required for git provider");let{repo:e,binderUrl:t,ref:r}=i.binder,n=encodeURIComponent(e.replace(/(^\/)|(\/?$)/g,"")),s=t?.replace(/(\/?$)/g,""),o=`git/${n}/${r??"HEAD"}`;return D5(i.savedSessions.storagePrefix,s,o)}function gY(i){var e,t,r;if(!i.binder.repo)throw Error("repo is required for gitlab provider");let n=(e=i.binder.binderUrl)===null||e===void 0?void 0:e.replace(/(\/?$)/g,""),o=`gl/${encodeURIComponent(((t=i.binder.repo)!==null&&t!==void 0?t:"").replace(/^(https?:\/\/)?gitlab.com\//,"").replace(/(^\/)|(\/?$)/g,""))}/${(r=i.binder.ref)!==null&&r!==void 0?r:"HEAD"}`;return D5(i.savedSessions.storagePrefix,n,o)}function vY(i){var e,t;if(!i.binder.repo)throw Error("repo is required for github provider");let r=i.binder.repo.replace(/^(https?:\/\/)?github.com\//,"").replace(/(^\/)|(\/?$)/g,""),n=(e=i.binder.binderUrl)===null||e===void 0?void 0:e.replace(/(\/?$)/g,""),s=`gh/${r}/${(t=i.binder.ref)!==null&&t!==void 0?t:"HEAD"}`;return D5(i.savedSessions.storagePrefix,n,s)}function _Y(i){var e,t;if(!i.binder.repo)throw Error("repo is required for gist provider");let r=i.binder.repo.replace(/^(https?:\/\/)?github.com\//,"").replace(/(^\/)|(\/?$)/g,""),n=(e=i.binder.binderUrl)===null||e===void 0?void 0:e.replace(/(\/?$)/g,""),s=`gist/${r}/${(t=i.binder.ref)!==null&&t!==void 0?t:"HEAD"}`;return D5(i.savedSessions.storagePrefix,n,s)}function z5(i,e){var t,r;let n=(t=e.reduce((o,a)=>Object.assign(Object.assign({},o),{[a.name]:a}),{}))!==null&&t!==void 0?t:{},s=(r=i.binder.repoProvider)!==null&&r!==void 0?r:"github";if(!Object.keys(n).includes(s))throw Error(`Unknown provider ${i.binder.repoProvider}`);if(!n[s].makeUrls)throw Error(`No makeUrls function for ${s}`);return n[s].makeUrls(i)}var bY,CY,xY,wY,H5,HT=P(()=>{bY={name:"github",makeUrls:vY},CY={name:"gitlab",makeUrls:gY},xY={name:"git",makeUrls:pY},wY={name:"gist",makeUrls:_Y},H5=[bY,CY,xY,wY]});function yY(i){let e=window.localStorage.getItem(i);if(!e)return;let t=JSON.parse(e);window.localStorage.setItem(i,JSON.stringify(Object.assign(Object.assign({},t),{lastUsed:new Date})))}function zT(i,e,t){try{let{baseUrl:r,token:n,wsUrl:s}=t;window.localStorage.setItem(i,JSON.stringify({id:e,baseUrl:r,token:n,wsUrl:s,lastUsed:new Date}))}catch(r){console.warn("Couldn't save thebe binder connection info to local storage",r)}}function BT(i,e){return dt(this,void 0,void 0,function*(){if(!i.enabled)return null;let t=window.localStorage.getItem(e);if(t==null)return console.debug("thebe:getExistingServer No session saved in ",e),null;console.debug("thebe:getExistingServer Saved binder session found");let r=JSON.parse(t??""),n=new Date(r.lastUsed);if((new Date().getTime()-n.getTime())/1e3>i.maxAge)return console.debug(`thebe:getExistingServer Not using expired binder session for ${r.baseUrl} from ${n}`),window.localStorage.removeItem(e),null;try{yield B5.KernelAPI.listRunning(B5.ServerConnection.makeSettings(r))}catch(a){return console.debug("thebe:getExistingServer Saved binder connection appears to be invalid, requesting new session",a),window.localStorage.removeItem(e),null}return yY(e),console.debug(`thebe:getExistingServer Saved binder session is valid and will be reused ${r.baseUrl}`),r})}function PT(i="thebe-binder"){let e=[];for(let t=0;t<window.localStorage.length;t++){let r=window.localStorage.key(t);r?.startsWith(i)&&e.push(r)}console.debug(`thebe:clearAllSavedSessions - removing ${e.length} saved sessions`,e.join(",")),e.forEach(t=>window.localStorage.removeItem(t))}function jT(i){console.debug(`thebe:clearSavedSession - removing ${i}`),window.localStorage.removeItem(i)}var B5,Kv=P(()=>{Hi();B5=N(Tg())});function P5(i){var e;return i.traceback?Array.isArray(i.traceback)?`${i.evalue}
${((e=i.traceback)!==null&&e!==void 0?e:[]).join("")}`:`${i.evalue}
${JSON.stringify(i.traceback)}`:i.evalue}var Xi,Ws,Yv,qn,_c,Lo,Ur,Dh,Pd,rl=P(()=>{(function(i){i.launching="launching",i.ready="server-ready",i.closed="closed",i.unknown="unknown"})(Xi||(Xi={}));(function(i){i.starting="starting",i.ready="ready",i.shutdown="shutdown"})(Ws||(Ws={}));(function(i){i.starting="starting",i.ready="ready",i.shutdown="shutdown"})(Yv||(Yv={}));(function(i){i.attached="attached",i.detached="detached",i.executing="executing",i.idle="idle"})(qn||(qn={}));(function(i){i.attached="attached",i.detached="detached",i.executing="executing",i.idle="idle"})(_c||(_c={}));(function(i){i.server="server",i.session="session",i.kernel="kernel",i.notebook="notebook",i.cell="cell"})(Lo||(Lo={}));(function(i){i.warning="warning",i.executeError="execute-error",i.error="error",i.server="server-error",i.session="session-error"})(Ur||(Ur={}));(function(i){i.status="status",i.error="error"})(Dh||(Dh={}));Pd=class{constructor(){this.listeners={}}_ensureMap(e){e in this.listeners||(this.listeners[e]=new Map)}trigger(e,t){e in this.listeners&&this.listeners[e].forEach(({unbind:r},n)=>{n(e,t),r&&this.listeners[e].delete(n)})}on(e,t){return this._ensureMap(e),this.listeners[e].set(t,{unbind:!1}),()=>this.off(e,t)}one(e,t){return this._ensureMap(e),this.listeners[e].set(t,{unbind:!0}),()=>this.off(e,t)}off(e,t){e in this.listeners&&this.listeners[e].delete(t)}}});var Hh,nl,$T=P(()=>{Hh=class{constructor(){this._first=null,this._last=null,this._size=0}get isEmpty(){return this._size===0}get size(){return this._size}get length(){return this._size}get first(){return this._first?this._first.value:void 0}get last(){return this._last?this._last.value:void 0}get firstNode(){return this._first}get lastNode(){return this._last}*[Symbol.iterator](){let e=this._first;for(;e;)yield e.value,e=e.next}*retro(){let e=this._last;for(;e;)yield e.value,e=e.prev}*nodes(){let e=this._first;for(;e;)yield e,e=e.next}*retroNodes(){let e=this._last;for(;e;)yield e,e=e.prev}assign(e){this.clear();for(let t of e)this.addLast(t)}push(e){this.addLast(e)}pop(){return this.removeLast()}shift(e){this.addFirst(e)}unshift(){return this.removeFirst()}addFirst(e){let t=new nl.LinkedListNode(this,e);return this._first?(t.next=this._first,this._first.prev=t,this._first=t):(this._first=t,this._last=t),this._size++,t}addLast(e){let t=new nl.LinkedListNode(this,e);return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._first=t,this._last=t),this._size++,t}insertBefore(e,t){if(!t||t===this._first)return this.addFirst(e);if(!(t instanceof nl.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");let r=new nl.LinkedListNode(this,e),n=t,s=n.prev;return r.next=n,r.prev=s,n.prev=r,s.next=r,this._size++,r}insertAfter(e,t){if(!t||t===this._last)return this.addLast(e);if(!(t instanceof nl.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");let r=new nl.LinkedListNode(this,e),n=t,s=n.next;return r.next=s,r.prev=n,n.next=r,s.prev=r,this._size++,r}removeFirst(){let e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeLast(){let e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeNode(e){if(!(e instanceof nl.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");let t=e;t===this._first&&t===this._last?(this._first=null,this._last=null):t===this._first?(this._first=t.next,this._first.prev=null):t===this._last?(this._last=t.prev,this._last.next=null):(t.next.prev=t.prev,t.prev.next=t.next),t.list=null,t.next=null,t.prev=null,this._size--}clear(){let e=this._first;for(;e;){let t=e.next;e.list=null,e.prev=null,e.next=null,e=t}this._first=null,this._last=null,this._size=0}};(function(i){function e(t){let r=new i;return r.assign(t),r}i.from=e})(Hh||(Hh={}));(function(i){class e{constructor(r,n){this.list=null,this.next=null,this.prev=null,this.list=r,this.value=n}}i.LinkedListNode=e})(nl||(nl={}))});var wn,bc,ke,j5=P(()=>{Bn();$T();wn=class{constructor(e){this.type=e}get isConflatable(){return!1}conflate(e){return!1}},bc=class extends wn{get isConflatable(){return!0}conflate(e){return!0}};(function(i){let e=null,t=(R=>A=>{let H=!1;return R.then(()=>!H&&A()),()=>{H=!0}})(Promise.resolve());function r(R,A){let H=f.get(R);if(!H||H.length===0){x(R,A);return}Kl(Jl(H),X=>X?v(X,R,A):!0)&&x(R,A)}i.sendMessage=r;function n(R,A){if(!A.isConflatable){C(R,A);return}Yl(d,$=>$.handler!==R||!$.msg||$.msg.type!==A.type||!$.msg.isConflatable?!1:$.msg.conflate(A))||C(R,A)}i.postMessage=n;function s(R,A){let H=f.get(R);H&&H.indexOf(A)!==-1||(H?H.push(A):f.set(R,[A]))}i.installMessageHook=s;function o(R,A){let H=f.get(R);if(!H)return;let $=H.indexOf(A);$!==-1&&(H[$]=null,S(H))}i.removeMessageHook=o;function a(R){let A=f.get(R);A&&A.length>0&&(z.fill(A,null),S(A));for(let H of d)H.handler===R&&(H.handler=null,H.msg=null)}i.clearData=a;function l(){p||e===null||(e(),e=null,p=!0,y(),p=!1)}i.flush=l;function c(){return m}i.getExceptionHandler=c;function u(R){let A=m;return m=R,A}i.setExceptionHandler=u;let d=new Hh,f=new WeakMap,h=new Set,m=R=>{console.error(R)},p=!1;function v(R,A,H){let $=!0;try{typeof R=="function"?$=R(A,H):$=R.messageHook(A,H)}catch(X){m(X)}return $}function x(R,A){try{R.processMessage(A)}catch(H){m(H)}}function C(R,A){d.addLast({handler:R,msg:A}),e===null&&(e=t(y))}function y(){if(e=null,d.isEmpty)return;let R={handler:null,msg:null};for(d.addLast(R);;){let A=d.removeFirst();if(A===R)return;A.handler&&A.msg&&r(A.handler,A.msg)}}function S(R){h.size===0&&t(M),h.add(R)}function M(){h.forEach(_),h.clear()}function _(R){z.removeAllWhere(R,E)}function E(R){return R===null}})(ke||(ke={}))});var ar,an,VT=P(()=>{Ql();ar=class{constructor(e){this._onScrollFrame=()=>{if(!this._scrollTarget)return;let{element:t,edge:r,distance:n}=this._scrollTarget,s=an.SCROLL_EDGE_SIZE-n,o=Math.pow(s/an.SCROLL_EDGE_SIZE,2),a=Math.max(1,Math.round(o*an.SCROLL_EDGE_SIZE));switch(r){case"top":t.scrollTop-=a;break;case"left":t.scrollLeft-=a;break;case"right":t.scrollLeft+=a;break;case"bottom":t.scrollTop+=a;break}requestAnimationFrame(this._onScrollFrame)},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.document=e.document||document,this.mimeData=e.mimeData,this.dragImage=e.dragImage||null,this.proposedAction=e.proposedAction||"copy",this.supportedActions=e.supportedActions||"all",this.source=e.source||null}dispose(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){let e=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:-1,clientY:-1});an.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")}}get isDisposed(){return this._disposed}start(e,t){if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(e,t),this._promise=new Promise(n=>{this._resolve=n});let r=new PointerEvent("pointermove",{bubbles:!0,cancelable:!0,clientX:e,clientY:t});return document.dispatchEvent(r),this._promise}handleEvent(e){switch(e.type){case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault(),e.stopPropagation();break}}moveDragImage(e,t){if(!this.dragImage)return;let r=this.dragImage.style;r.transform=`translate(${e}px, ${t}px)`}_evtPointerMove(e){e.preventDefault(),e.stopPropagation(),this._updateCurrentTarget(e),this._updateDragScroll(e),this.moveDragImage(e.clientX,e.clientY)}_evtPointerUp(e){if(e.preventDefault(),e.stopPropagation(),e.button!==0)return;if(this._updateCurrentTarget(e),!this._currentTarget){this._finalize("none");return}if(this._dropAction==="none"){an.dispatchDragLeave(this,this._currentTarget,null,e),this._finalize("none");return}let t=an.dispatchDrop(this,this._currentTarget,e);this._finalize(t)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&this.dispose()}_addListeners(){document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)}_removeListeners(){document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)}_updateDragScroll(e){let t=an.findScrollTarget(e);!this._scrollTarget&&!t||(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=t)}_updateCurrentTarget(e){let t=this._currentTarget,r=this._currentTarget,n=this._currentElement,s=an.findElementBehindBackdrop(e,this.document);this._currentElement=s,s!==n&&s!==r&&an.dispatchDragExit(this,r,s,e),s!==n&&s!==r&&(r=an.dispatchDragEnter(this,s,r,e)),r!==t&&(this._currentTarget=r,an.dispatchDragLeave(this,t,r,e));let o=an.dispatchDragOver(this,r,e);this._setDropAction(o)}_attachDragImage(e,t){if(!this.dragImage)return;this.dragImage.classList.add("lm-mod-drag-image");let r=this.dragImage.style;r.pointerEvents="none",r.position="fixed",r.transform=`translate(${e}px, ${t}px)`,(this.document instanceof Document?this.document.body:this.document.firstElementChild).appendChild(this.dragImage)}_detachDragImage(){if(!this.dragImage)return;let e=this.dragImage.parentNode;e&&e.removeChild(this.dragImage)}_setDropAction(e){if(e=an.validateAction(e,this.supportedActions),!(this._override&&this._dropAction===e))switch(e){case"none":this._dropAction=e,this._override=ar.overrideCursor("no-drop",this.document);break;case"copy":this._dropAction=e,this._override=ar.overrideCursor("copy",this.document);break;case"link":this._dropAction=e,this._override=ar.overrideCursor("alias",this.document);break;case"move":this._dropAction=e,this._override=ar.overrideCursor("move",this.document);break}}_finalize(e){let t=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,t&&t(e)}};(function(i){class e extends DragEvent{constructor(n,s){super(s.type,{bubbles:!0,cancelable:!0,altKey:n.altKey,button:n.button,clientX:n.clientX,clientY:n.clientY,ctrlKey:n.ctrlKey,detail:0,metaKey:n.metaKey,relatedTarget:s.related,screenX:n.screenX,screenY:n.screenY,shiftKey:n.shiftKey,view:window});let{drag:o}=s;this.dropAction="none",this.mimeData=o.mimeData,this.proposedAction=o.proposedAction,this.supportedActions=o.supportedActions,this.source=o.source}}i.Event=e;function t(r,n=document){return an.overrideCursor(r,n)}i.overrideCursor=t})(ar||(ar={}));(function(i){i.SCROLL_EDGE_SIZE=20;function e(S,M){return d[S]&f[M]?S:"none"}i.validateAction=e;function t(S,M=document){if(S){if(r&&S==r.event)return r.element;i.cursorBackdrop.style.zIndex="-1000";let _=M.elementFromPoint(S.clientX,S.clientY);return i.cursorBackdrop.style.zIndex="",r={event:S,element:_},_}else{let _=i.cursorBackdrop.style.transform;if(n&&_===n.transform)return n.element;let E=i.cursorBackdrop.getBoundingClientRect();i.cursorBackdrop.style.zIndex="-1000";let R=M.elementFromPoint(E.left+E.width/2,E.top+E.height/2);return i.cursorBackdrop.style.zIndex="",n={transform:_,element:R},R}}i.findElementBehindBackdrop=t;let r=null,n=null;function s(S){let M=S.clientX,_=S.clientY,E=t(S);for(;E;E=E.parentElement){if(!E.hasAttribute("data-lm-dragscroll"))continue;let R=0,A=0;E===document.body&&(R=window.pageXOffset,A=window.pageYOffset);let H=E.getBoundingClientRect(),$=H.top+A,X=H.left+R,ue=X+H.width,he=$+H.height;if(M<X||M>=ue||_<$||_>=he)continue;let Y=M-X+1,ee=_-$+1,ie=ue-M,pe=he-_,we=Math.min(Y,ee,ie,pe);if(we>i.SCROLL_EDGE_SIZE)continue;let Ve;switch(we){case pe:Ve="bottom";break;case ee:Ve="top";break;case ie:Ve="right";break;case Y:Ve="left";break;default:throw"unreachable"}let lt=E.scrollWidth-E.clientWidth,gt=E.scrollHeight-E.clientHeight,De;switch(Ve){case"top":De=gt>0&&E.scrollTop>0;break;case"left":De=lt>0&&E.scrollLeft>0;break;case"right":De=lt>0&&E.scrollLeft<lt;break;case"bottom":De=gt>0&&E.scrollTop<gt;break;default:throw"unreachable"}if(De)return{element:E,edge:Ve,distance:we}}return null}i.findScrollTarget=s;function o(S,M,_,E){if(!M)return null;let R=new ar.Event(E,{drag:S,related:_,type:"lm-dragenter"});if(!M.dispatchEvent(R))return M;let H=S.document instanceof Document?S.document.body:S.document.firstElementChild;return M===H?_:(R=new ar.Event(E,{drag:S,related:_,type:"lm-dragenter"}),H.dispatchEvent(R),H)}i.dispatchDragEnter=o;function a(S,M,_,E){if(!M)return;let R=new ar.Event(E,{drag:S,related:_,type:"lm-dragexit"});M.dispatchEvent(R)}i.dispatchDragExit=a;function l(S,M,_,E){if(!M)return;let R=new ar.Event(E,{drag:S,related:_,type:"lm-dragleave"});M.dispatchEvent(R)}i.dispatchDragLeave=l;function c(S,M,_){if(!M)return"none";let E=new ar.Event(_,{drag:S,related:null,type:"lm-dragover"});return M.dispatchEvent(E)?"none":E.dropAction}i.dispatchDragOver=c;function u(S,M,_){if(!M)return"none";let E=new ar.Event(_,{drag:S,related:null,type:"lm-drop"});return M.dispatchEvent(E)?"none":E.dropAction}i.dispatchDrop=u;let d={none:0,copy:1,link:2,move:4},f={none:d.none,copy:d.copy,link:d.link,move:d.move,"copy-link":d.copy|d.link,"copy-move":d.copy|d.move,"link-move":d.link|d.move,all:d.copy|d.link|d.move};function h(S,M=document){let _=++y,E=M instanceof Document?M.body:M.firstElementChild;return i.cursorBackdrop.isConnected||(i.cursorBackdrop.style.transform="scale(0)",E.appendChild(i.cursorBackdrop),v(),document.addEventListener("pointermove",m,{capture:!0,passive:!0}),i.cursorBackdrop.addEventListener("scroll",p,{capture:!0,passive:!0})),i.cursorBackdrop.style.cursor=S,new ks(()=>{_===y&&i.cursorBackdrop.isConnected&&(document.removeEventListener("pointermove",m,!0),i.cursorBackdrop.removeEventListener("scroll",p,!0),E.removeChild(i.cursorBackdrop))})}i.overrideCursor=h;function m(S){i.cursorBackdrop&&(i.cursorBackdrop.style.transform=`translate(${S.clientX}px, ${S.clientY}px)`)}function p(S){if(!i.cursorBackdrop)return;let M=t();if(!M)return;let _=M.closest("[data-lm-dragscroll]");_&&(_.scrollTop+=i.cursorBackdrop.scrollTop-x,_.scrollLeft+=i.cursorBackdrop.scrollLeft-x,v())}function v(){i.cursorBackdrop.scrollTop=x,i.cursorBackdrop.scrollLeft=x}let x=500;function C(){let S=document.createElement("div");return S.classList.add("lm-cursor-backdrop"),S}let y=0;i.cursorBackdrop=C()})(an||(an={}))});var ll,aa,ns,bm,me,$5,ca,$d,zh,Bh,Cm,xm,So,ol,Jv,V5,F5,Qv,Vd,e_,wm,t_,ss,jd,W5,i_,Ph,sl,la,yn,FT,MY,Cc,Zs,r_,Ki,Fd,Bi,al,Cr,jh,Z5,WT,ZT,n_,qT,UT,o_=P(()=>{Bn();ll=N(tn());L0();j5();M0();Is();VT();kp();Tp();Ql();Ip();aa=class{constructor(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}};(function(i){function e(s,o){let a=s.length;if(a===0)return o;let l=0,c=0,u=0,d=0,f=0;for(let p=0;p<a;++p){let v=s[p],x=v.minSize,C=v.maxSize,y=v.sizeHint;v.done=!1,v.size=Math.max(x,Math.min(y,C)),u+=v.size,l+=x,c+=C,v.stretch>0&&(d+=v.stretch,f++)}if(o===u)return 0;if(o<=l){for(let p=0;p<a;++p){let v=s[p];v.size=v.minSize}return o-l}if(o>=c){for(let p=0;p<a;++p){let v=s[p];v.size=v.maxSize}return o-c}let h=.01,m=a;if(o<u){let p=u-o;for(;f>0&&p>h;){let v=p,x=d;for(let C=0;C<a;++C){let y=s[C];if(y.done||y.stretch===0)continue;let S=y.stretch*v/x;y.size-S<=y.minSize?(p-=y.size-y.minSize,d-=y.stretch,y.size=y.minSize,y.done=!0,m--,f--):(p-=S,y.size-=S)}}for(;m>0&&p>h;){let v=p/m;for(let x=0;x<a;++x){let C=s[x];C.done||(C.size-v<=C.minSize?(p-=C.size-C.minSize,C.size=C.minSize,C.done=!0,m--):(p-=v,C.size-=v))}}}else{let p=o-u;for(;f>0&&p>h;){let v=p,x=d;for(let C=0;C<a;++C){let y=s[C];if(y.done||y.stretch===0)continue;let S=y.stretch*v/x;y.size+S>=y.maxSize?(p-=y.maxSize-y.size,d-=y.stretch,y.size=y.maxSize,y.done=!0,m--,f--):(p-=S,y.size+=S)}}for(;m>0&&p>h;){let v=p/m;for(let x=0;x<a;++x){let C=s[x];C.done||(C.size+v>=C.maxSize?(p-=C.maxSize-C.size,C.size=C.maxSize,C.done=!0,m--):(p-=v,C.size+=v))}}}return 0}i.calc=e;function t(s,o,a){s.length===0||a===0||(a>0?r(s,o,a):n(s,o,-a))}i.adjust=t;function r(s,o,a){let l=0;for(let f=0;f<=o;++f){let h=s[f];l+=h.maxSize-h.size}let c=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];c+=m.size-m.minSize}a=Math.min(a,l,c);let u=a;for(let f=o;f>=0&&u>0;--f){let h=s[f],m=h.maxSize-h.size;m>=u?(h.sizeHint=h.size+u,u=0):(h.sizeHint=h.size+m,u-=m)}let d=a;for(let f=o+1,h=s.length;f<h&&d>0;++f){let m=s[f],p=m.size-m.minSize;p>=d?(m.sizeHint=m.size-d,d=0):(m.sizeHint=m.size-p,d-=p)}}function n(s,o,a){let l=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];l+=m.maxSize-m.size}let c=0;for(let f=0;f<=o;++f){let h=s[f];c+=h.size-h.minSize}a=Math.min(a,l,c);let u=a;for(let f=o+1,h=s.length;f<h&&u>0;++f){let m=s[f],p=m.maxSize-m.size;p>=u?(m.sizeHint=m.size+u,u=0):(m.sizeHint=m.size+p,u-=p)}let d=a;for(let f=o;f>=0&&d>0;--f){let h=s[f],m=h.size-h.minSize;m>=d?(h.sizeHint=h.size-d,d=0):(h.sizeHint=h.size-m,d-=m)}}})(ns||(ns={}));bm=class{constructor(e){this._label="",this._caption="",this._mnemonic=-1,this._icon=void 0,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new Re(this),this._isDisposed=!1,this.owner=e.owner,e.label!==void 0&&(this._label=e.label),e.mnemonic!==void 0&&(this._mnemonic=e.mnemonic),e.icon!==void 0&&(this._icon=e.icon),e.iconClass!==void 0&&(this._iconClass=e.iconClass),e.iconLabel!==void 0&&(this._iconLabel=e.iconLabel),e.caption!==void 0&&(this._caption=e.caption),e.className!==void 0&&(this._className=e.className),e.closable!==void 0&&(this._closable=e.closable),this._dataset=e.dataset||{}}get changed(){return this._changed}get label(){return this._label}set label(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))}get mnemonic(){return this._mnemonic}set mnemonic(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))}get icon(){return this._icon}set icon(e){this._icon!==e&&(this._icon=e,this._changed.emit(void 0))}get iconClass(){return this._iconClass}set iconClass(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))}get iconLabel(){return this._iconLabel}set iconLabel(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))}get caption(){return this._caption}set caption(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))}get className(){return this._className}set className(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))}get closable(){return this._closable}set closable(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))}get dataset(){return this._dataset}set dataset(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Re.clearData(this))}},me=class{constructor(e={}){this._flags=0,this._layout=null,this._parent=null,this._disposed=new Re(this),this._hiddenMode=me.HiddenMode.Display,this.node=$5.createNode(e),this.addClass("lm-Widget")}dispose(){this.isDisposed||(this.setFlag(me.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&me.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),Re.clearData(this),ke.clearData(this),ut.clearData(this))}get disposed(){return this._disposed}get isDisposed(){return this.testFlag(me.Flag.IsDisposed)}get isAttached(){return this.testFlag(me.Flag.IsAttached)}get isHidden(){return this.testFlag(me.Flag.IsHidden)}get isVisible(){let e=this;do{if(e.isHidden||!e.isAttached)return!1;e=e.parent}while(e!=null);return!0}get title(){return $5.titleProperty.get(this)}get id(){return this.node.id}set id(e){this.node.id=e}get dataset(){return this.node.dataset}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this.isHidden&&this._toggleHidden(!1),e==me.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=e,this.isHidden&&this._toggleHidden(!0))}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){let t=new me.ChildMessage("child-removed",this);ke.sendMessage(this._parent,t)}if(this._parent=e,this._parent&&!this._parent.isDisposed){let t=new me.ChildMessage("child-added",this);ke.sendMessage(this._parent,t)}this.isDisposed||ke.sendMessage(this,me.Msg.ParentChanged)}}get layout(){return this._layout}set layout(e){if(this._layout!==e){if(this.testFlag(me.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}}*children(){this._layout&&(yield*this._layout)}contains(e){for(let t=e;t;t=t._parent)if(t===this)return!0;return!1}hasClass(e){return this.node.classList.contains(e)}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e,t){return t===!0?(this.node.classList.add(e),!0):t===!1?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)}update(){ke.postMessage(this,me.Msg.UpdateRequest)}fit(){ke.postMessage(this,me.Msg.FitRequest)}activate(){ke.postMessage(this,me.Msg.ActivateRequest)}close(){ke.sendMessage(this,me.Msg.CloseRequest)}show(){if(this.testFlag(me.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&ke.sendMessage(this,me.Msg.BeforeShow),this.clearFlag(me.Flag.IsHidden),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&ke.sendMessage(this,me.Msg.AfterShow),this.parent)){let e=new me.ChildMessage("child-shown",this);ke.sendMessage(this.parent,e)}}hide(){if(!this.testFlag(me.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&ke.sendMessage(this,me.Msg.BeforeHide),this.setFlag(me.Flag.IsHidden),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&ke.sendMessage(this,me.Msg.AfterHide),this.parent)){let e=new me.ChildMessage("child-hidden",this);ke.sendMessage(this.parent,e)}}setHidden(e){e?this.hide():this.show()}testFlag(e){return(this._flags&e)!==0}setFlag(e){this._flags|=e}clearFlag(e){this._flags&=~e}processMessage(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(me.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(me.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(me.Flag.IsVisible),this.setFlag(me.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(me.Flag.IsVisible),this.clearFlag(me.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e);break}}notifyLayout(e){this._layout&&this._layout.processParentMessage(e)}onCloseRequest(e){this.parent?this.parent=null:this.isAttached&&me.detach(this)}onResize(e){}onUpdateRequest(e){}onFitRequest(e){}onActivateRequest(e){}onBeforeShow(e){}onAfterShow(e){}onBeforeHide(e){}onAfterHide(e){}onBeforeAttach(e){}onAfterAttach(e){}onBeforeDetach(e){}onAfterDetach(e){}onChildAdded(e){}onChildRemoved(e){}_toggleHidden(e){if(e)switch(this._hiddenMode){case me.HiddenMode.Display:this.addClass("lm-mod-hidden");break;case me.HiddenMode.Scale:this.node.style.transform="scale(0)",this.node.setAttribute("aria-hidden","true");break;case me.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case me.HiddenMode.Display:this.removeClass("lm-mod-hidden");break;case me.HiddenMode.Scale:this.node.style.transform="",this.node.removeAttribute("aria-hidden");break;case me.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}}};(function(i){(function(s){s[s.Display=0]="Display",s[s.Scale=1]="Scale",s[s.ContentVisibility=2]="ContentVisibility"})(i.HiddenMode||(i.HiddenMode={})),function(s){s[s.IsDisposed=1]="IsDisposed",s[s.IsAttached=2]="IsAttached",s[s.IsHidden=4]="IsHidden",s[s.IsVisible=8]="IsVisible",s[s.DisallowLayout=16]="DisallowLayout"}(i.Flag||(i.Flag={})),function(s){s.BeforeShow=new wn("before-show"),s.AfterShow=new wn("after-show"),s.BeforeHide=new wn("before-hide"),s.AfterHide=new wn("after-hide"),s.BeforeAttach=new wn("before-attach"),s.AfterAttach=new wn("after-attach"),s.BeforeDetach=new wn("before-detach"),s.AfterDetach=new wn("after-detach"),s.ParentChanged=new wn("parent-changed"),s.UpdateRequest=new bc("update-request"),s.FitRequest=new bc("fit-request"),s.ActivateRequest=new bc("activate-request"),s.CloseRequest=new bc("close-request")}(i.Msg||(i.Msg={}));class e extends wn{constructor(o,a){super(o),this.child=a}}i.ChildMessage=e;class t extends wn{constructor(o,a){super("resize"),this.width=o,this.height=a}}i.ResizeMessage=t,function(s){s.UnknownSize=new s(-1,-1)}(t=i.ResizeMessage||(i.ResizeMessage={}));function r(s,o,a=null){if(s.parent)throw new Error("Cannot attach a child widget.");if(s.isAttached||s.node.isConnected)throw new Error("Widget is already attached.");if(!o.isConnected)throw new Error("Host is not attached.");ke.sendMessage(s,i.Msg.BeforeAttach),o.insertBefore(s.node,a),ke.sendMessage(s,i.Msg.AfterAttach)}i.attach=r;function n(s){if(s.parent)throw new Error("Cannot detach a child widget.");if(!s.isAttached||!s.node.isConnected)throw new Error("Widget is not attached.");ke.sendMessage(s,i.Msg.BeforeDetach),s.node.parentNode.removeChild(s.node),ke.sendMessage(s,i.Msg.AfterDetach)}i.detach=n})(me||(me={}));(function(i){i.titleProperty=new ut({name:"title",create:t=>new bm({owner:t})});function e(t){return t.node||document.createElement(t.tag||"div")}i.createNode=e})($5||($5={}));ca=class{constructor(e={}){this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}dispose(){this._parent=null,this._disposed=!0,Re.clearData(this),ut.clearData(this)}get isDisposed(){return this._disposed}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}}get fitPolicy(){return this._fitPolicy}set fitPolicy(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){let t=this._parent.node.style;t.minWidth="",t.minHeight="",t.maxWidth="",t.maxHeight="",this._parent.fit()}}processParentMessage(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}}init(){for(let e of this)e.parent=this.parent}onResize(e){for(let t of this)ke.sendMessage(t,me.ResizeMessage.UnknownSize)}onUpdateRequest(e){for(let t of this)ke.sendMessage(t,me.ResizeMessage.UnknownSize)}onBeforeAttach(e){for(let t of this)ke.sendMessage(t,e)}onAfterAttach(e){for(let t of this)ke.sendMessage(t,e)}onBeforeDetach(e){for(let t of this)ke.sendMessage(t,e)}onAfterDetach(e){for(let t of this)ke.sendMessage(t,e)}onBeforeShow(e){for(let t of this)t.isHidden||ke.sendMessage(t,e)}onAfterShow(e){for(let t of this)t.isHidden||ke.sendMessage(t,e)}onBeforeHide(e){for(let t of this)t.isHidden||ke.sendMessage(t,e)}onAfterHide(e){for(let t of this)t.isHidden||ke.sendMessage(t,e)}onChildRemoved(e){this.removeWidget(e.child)}onFitRequest(e){}onChildShown(e){}onChildHidden(e){}};(function(i){function e(s){return zh.horizontalAlignmentProperty.get(s)}i.getHorizontalAlignment=e;function t(s,o){zh.horizontalAlignmentProperty.set(s,o)}i.setHorizontalAlignment=t;function r(s){return zh.verticalAlignmentProperty.get(s)}i.getVerticalAlignment=r;function n(s,o){zh.verticalAlignmentProperty.set(s,o)}i.setVerticalAlignment=n})(ca||(ca={}));$d=class{constructor(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute",this.widget.node.style.contain="strict"}dispose(){if(this._disposed)return;this._disposed=!0;let e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height="",e.contain=""}get minWidth(){return this._minWidth}get minHeight(){return this._minHeight}get maxWidth(){return this._maxWidth}get maxHeight(){return this._maxHeight}get isDisposed(){return this._disposed}get isHidden(){return this.widget.isHidden}get isVisible(){return this.widget.isVisible}get isAttached(){return this.widget.isAttached}fit(){let e=Me.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight}update(e,t,r,n){let s=Math.max(this._minWidth,Math.min(r,this._maxWidth)),o=Math.max(this._minHeight,Math.min(n,this._maxHeight));if(s<r)switch(ca.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(r-s)/2;break;case"right":e+=r-s;break;default:throw"unreachable"}if(o<n)switch(ca.getVerticalAlignment(this.widget)){case"top":break;case"center":t+=(n-o)/2;break;case"bottom":t+=n-o;break;default:throw"unreachable"}let a=!1,l=this.widget.node.style;if(this._top!==t&&(this._top=t,l.top=`${t}px`),this._left!==e&&(this._left=e,l.left=`${e}px`),this._width!==s&&(a=!0,this._width=s,l.width=`${s}px`),this._height!==o&&(a=!0,this._height=o,l.height=`${o}px`),a){let c=new me.ResizeMessage(s,o);ke.sendMessage(this.widget,c)}}};(function(i){i.horizontalAlignmentProperty=new ut({name:"horizontalAlignment",create:()=>"center",changed:e}),i.verticalAlignmentProperty=new ut({name:"verticalAlignment",create:()=>"top",changed:e});function e(t){t.parent&&t.parent.layout&&t.parent.update()}})(zh||(zh={}));Bh=class extends ca{constructor(){super(...arguments),this._widgets=[]}dispose(){for(;this._widgets.length>0;)this._widgets.pop().dispose();super.dispose()}get widgets(){return this._widgets}*[Symbol.iterator](){yield*this._widgets}addWidget(e){this.insertWidget(this._widgets.length,e)}insertWidget(e,t){t.parent=this.parent;let r=this._widgets.indexOf(t),n=Math.max(0,Math.min(e,this._widgets.length));if(r===-1){z.insert(this._widgets,n,t),this.parent&&this.attachWidget(n,t);return}n===this._widgets.length&&n--,r!==n&&(z.move(this._widgets,r,n),this.parent&&this.moveWidget(r,n,t))}removeWidget(e){this.removeWidgetAt(this._widgets.indexOf(e))}removeWidgetAt(e){let t=z.removeAt(this._widgets,e);t&&this.parent&&this.detachWidget(e,t)}init(){super.init();let e=0;for(let t of this)this.attachWidget(e++,t)}attachWidget(e,t){let r=this.parent.node.children[e];this.parent.isAttached&&ke.sendMessage(t,me.Msg.BeforeAttach),this.parent.node.insertBefore(t.node,r),this.parent.isAttached&&ke.sendMessage(t,me.Msg.AfterAttach)}moveWidget(e,t,r){this.parent.isAttached&&ke.sendMessage(r,me.Msg.BeforeDetach),this.parent.node.removeChild(r.node),this.parent.isAttached&&ke.sendMessage(r,me.Msg.AfterDetach);let n=this.parent.node.children[t];this.parent.isAttached&&ke.sendMessage(r,me.Msg.BeforeAttach),this.parent.node.insertBefore(r.node,n),this.parent.isAttached&&ke.sendMessage(r,me.Msg.AfterAttach)}detachWidget(e,t){this.parent.isAttached&&ke.sendMessage(t,me.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&ke.sendMessage(t,me.Msg.AfterDetach)}};(function(i){function e(t){return Math.max(0,Math.floor(t))}i.clampDimension=e})(Cm||(Cm={}));xm=Cm,So=class extends Bh{constructor(e){super(),this.widgetOffset=0,this._fixed=0,this._spacing=4,this._dirty=!1,this._hasNormedSizes=!1,this._sizers=[],this._items=[],this._handles=[],this._box=null,this._alignment="start",this._orientation="horizontal",this.renderer=e.renderer,e.orientation!==void 0&&(this._orientation=e.orientation),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Cm.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,super.dispose()}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Cm.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get handles(){return this._handles}absoluteSizes(){return this._sizers.map(e=>e.size)}relativeSizes(){return ol.normalize(this._sizers.map(e=>e.size))}setRelativeSizes(e,t=!0){let r=this._sizers.length,n=e.slice(0,r);for(;n.length<r;)n.push(0);let s=ol.normalize(n);for(let o=0;o<r;++o){let a=this._sizers[o];a.sizeHint=s[o],a.size=s[o]}this._hasNormedSizes=!0,t&&this.parent&&this.parent.update()}moveHandle(e,t){let r=this._handles[e];if(!r||r.classList.contains("lm-mod-hidden"))return;let n;if(this._orientation==="horizontal"?n=t-r.offsetLeft:n=t-r.offsetTop,n!==0){for(let s of this._sizers)s.size>0&&(s.sizeHint=s.size);ns.adjust(this._sizers,e,n),this.parent&&this.parent.update()}}init(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,t){let r=new $d(t),n=ol.createHandle(this.renderer),s=ol.averageSize(this._sizers),o=ol.createSizer(s);z.insert(this._items,e,r),z.insert(this._sizers,e,o),z.insert(this._handles,e,n),this.parent.isAttached&&ke.sendMessage(t,me.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.node.appendChild(n),this.parent.isAttached&&ke.sendMessage(t,me.Msg.AfterAttach),this.parent.fit()}moveWidget(e,t,r){z.move(this._items,e,t),z.move(this._sizers,e,t),z.move(this._handles,e,t),this.parent.fit()}detachWidget(e,t){let r=z.removeAt(this._items,e),n=z.removeAt(this._handles,e);z.removeAt(this._sizers,e),this.parent.isAttached&&ke.sendMessage(t,me.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.node.removeChild(n),this.parent.isAttached&&ke.sendMessage(t,me.Msg.AfterDetach),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}updateItemPosition(e,t,r,n,s,o,a){let l=this._items[e];if(l.isHidden)return;let c=this._handles[e].style;t?(r+=this.widgetOffset,l.update(r,n,a,s),r+=a,c.top=`${n}px`,c.left=`${r}px`,c.width=`${this._spacing}px`,c.height=`${s}px`):(n+=this.widgetOffset,l.update(r,n,o,a),n+=a,c.top=`${n}px`,c.left=`${r}px`,c.width=`${o}px`,c.height=`${this._spacing}px`)}_fit(){let e=0,t=-1;for(let l=0,c=this._items.length;l<c;++l)this._items[l].isHidden?this._handles[l].classList.add("lm-mod-hidden"):(this._handles[l].classList.remove("lm-mod-hidden"),t=l,e++);t!==-1&&this._handles[t].classList.add("lm-mod-hidden"),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;let r=this._orientation==="horizontal",n=r?this._fixed:0,s=r?0:this._fixed;for(let l=0,c=this._items.length;l<c;++l){let u=this._items[l],d=this._sizers[l];if(d.size>0&&(d.sizeHint=d.size),u.isHidden){d.minSize=0,d.maxSize=0;continue}u.fit(),d.stretch=So.getStretch(u.widget),r?(d.minSize=u.minWidth,d.maxSize=u.maxWidth,n+=u.minWidth,s=Math.max(s,u.minHeight)):(d.minSize=u.minHeight,d.maxSize=u.maxHeight,s+=u.minHeight,n=Math.max(n,u.minWidth))}let o=this._box=Me.boxSizing(this.parent.node);n+=o.horizontalSum,s+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${n}px`,a.minHeight=`${s}px`,this._dirty=!0,this.parent.parent&&ke.sendMessage(this.parent.parent,me.Msg.FitRequest),this._dirty&&ke.sendMessage(this.parent,me.Msg.UpdateRequest)}_update(e,t){this._dirty=!1;let r=0;for(let d=0,f=this._items.length;d<f;++d)r+=+!this._items[d].isHidden;if(r===0&&this.widgetOffset===0)return;e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=Me.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=t-this._box.verticalSum,l=0,c=0,u=this._orientation==="horizontal";if(r>0){let d;if(u?d=Math.max(0,o-this._fixed):d=Math.max(0,a-this._fixed),this._hasNormedSizes){for(let h of this._sizers)h.sizeHint*=d;this._hasNormedSizes=!1}let f=ns.calc(this._sizers,d);if(f>0)switch(this._alignment){case"start":break;case"center":l=0,c=f/2;break;case"end":l=0,c=f;break;case"justify":l=f/r,c=0;break;default:throw"unreachable"}}for(let d=0,f=this._items.length;d<f;++d){let m=this._items[d].isHidden?0:this._sizers[d].size+l;this.updateItemPosition(d,u,u?s+c:s,u?n:n+c,a,o,m);let p=this.widgetOffset+(this._handles[d].classList.contains("lm-mod-hidden")?0:this._spacing);u?s+=m+p:n+=m+p}}};(function(i){function e(r){return ol.stretchProperty.get(r)}i.getStretch=e;function t(r,n){ol.stretchProperty.set(r,n)}i.setStretch=t})(So||(So={}));(function(i){i.stretchProperty=new ut({name:"stretch",create:()=>0,coerce:(o,a)=>Math.max(0,Math.floor(a)),changed:s});function e(o){let a=new aa;return a.sizeHint=Math.floor(o),a}i.createSizer=e;function t(o){let a=o.createHandle();return a.style.position="absolute",a.style.contain="style",a}i.createHandle=t;function r(o){return o.reduce((a,l)=>a+l.size,0)/o.length||0}i.averageSize=r;function n(o){let a=o.length;if(a===0)return[];let l=o.reduce((c,u)=>c+Math.abs(u),0);return l===0?o.map(c=>1/a):o.map(c=>c/l)}i.normalize=n;function s(o){o.parent&&o.parent.layout instanceof So&&o.parent.fit()}})(ol||(ol={}));Jv=class extends So{constructor(e){super({...e,orientation:e.orientation||"vertical"}),this._titles=[],this.titleSpace=e.titleSpace||22}get titleSpace(){return this.widgetOffset}set titleSpace(e){e=xm.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())}get titles(){return this._titles}dispose(){this.isDisposed||(this._titles.length=0,super.dispose())}updateTitle(e,t){let r=this._titles[e],n=r.classList.contains("lm-mod-expanded"),s=V5.createTitle(this.renderer,t.title,n);this._titles[e]=s,this.parent.node.replaceChild(s,r)}insertWidget(e,t){t.id||(t.id=`id-${ll.UUID.uuid4()}`),super.insertWidget(e,t)}attachWidget(e,t){let r=V5.createTitle(this.renderer,t.title);z.insert(this._titles,e,r),this.parent.node.appendChild(r),t.node.setAttribute("role","region"),t.node.setAttribute("aria-labelledby",r.id),super.attachWidget(e,t)}moveWidget(e,t,r){z.move(this._titles,e,t),super.moveWidget(e,t,r)}detachWidget(e,t){let r=z.removeAt(this._titles,e);this.parent.node.removeChild(r),super.detachWidget(e,t)}updateItemPosition(e,t,r,n,s,o,a){let l=this._titles[e].style;l.top=`${n}px`,l.left=`${r}px`,l.height=`${this.widgetOffset}px`,t?l.width=`${s}px`:l.width=`${o}px`,super.updateItemPosition(e,t,r,n,s,o,a)}};(function(i){function e(t,r,n=!0){let s=t.createSectionTitle(r);return s.style.position="absolute",s.style.contain="strict",s.setAttribute("aria-label",`${r.label} Section`),s.setAttribute("aria-expanded",n?"true":"false"),s.setAttribute("aria-controls",r.owner.id),n&&s.classList.add("lm-mod-expanded"),s}i.createTitle=e})(V5||(V5={}));F5=class extends me{constructor(e={}){super(),this.addClass("lm-Panel"),this.layout=Qv.createLayout(e)}get widgets(){return this.layout.widgets}addWidget(e){this.layout.addWidget(e)}insertWidget(e,t){this.layout.insertWidget(e,t)}};(function(i){function e(t){return t.layout||new Bh}i.createLayout=e})(Qv||(Qv={}));Vd=class extends F5{constructor(e={}){super({layout:e_.createLayout(e)}),this._handleMoved=new Re(this),this._pressData=null,this.addClass("lm-SplitPanel")}dispose(){this._releaseMouse(),super.dispose()}get orientation(){return this.layout.orientation}set orientation(e){this.layout.orientation=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get renderer(){return this.layout.renderer}get handleMoved(){return this._handleMoved}get handles(){return this.layout.handles}relativeSizes(){return this.layout.relativeSizes()}setRelativeSizes(e,t=!0){this.layout.setRelativeSizes(e,t)}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){e.child.addClass("lm-SplitPanel-child"),this._releaseMouse()}onChildRemoved(e){e.child.removeClass("lm-SplitPanel-child"),this._releaseMouse()}_evtKeyDown(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),e.keyCode===27&&this._releaseMouse()}_evtPointerDown(e){if(e.button!==0)return;let t=this.layout,r=z.findFirstIndex(t.handles,c=>c.contains(e.target));if(r===-1)return;e.preventDefault(),e.stopPropagation(),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);let n,s=t.handles[r],o=s.getBoundingClientRect();t.orientation==="horizontal"?n=e.clientX-o.left:n=e.clientY-o.top;let a=window.getComputedStyle(s),l=ar.overrideCursor(a.cursor);this._pressData={index:r,delta:n,override:l}}_evtPointerMove(e){e.preventDefault(),e.stopPropagation();let t,r=this.layout,n=this.node.getBoundingClientRect();r.orientation==="horizontal"?t=e.clientX-n.left-this._pressData.delta:t=e.clientY-n.top-this._pressData.delta,r.moveHandle(this._pressData.index,t)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))}};(function(i){class e{createHandle(){let s=document.createElement("div");return s.className="lm-SplitPanel-handle",s}}i.Renderer=e,i.defaultRenderer=new e;function t(n){return So.getStretch(n)}i.getStretch=t;function r(n,s){So.setStretch(n,s)}i.setStretch=r})(Vd||(Vd={}));(function(i){function e(t){return t.layout||new So({renderer:t.renderer||Vd.defaultRenderer,orientation:t.orientation,alignment:t.alignment,spacing:t.spacing})}i.createLayout=e})(e_||(e_={}));wm=class extends Vd{constructor(e={}){super({...e,layout:t_.createLayout(e)}),this._widgetSizesCache=new WeakMap,this._expansionToggled=new Re(this),this.addClass("lm-AccordionPanel")}get renderer(){return this.layout.renderer}get titleSpace(){return this.layout.titleSpace}set titleSpace(e){this.layout.titleSpace=e}get titles(){return this.layout.titles}get expansionToggled(){return this._expansionToggled}addWidget(e){super.addWidget(e),e.title.changed.connect(this._onTitleChanged,this)}collapse(e){let t=this.layout.widgets[e];t&&!t.isHidden&&this._toggleExpansion(e)}expand(e){let t=this.layout.widgets[e];t&&t.isHidden&&this._toggleExpansion(e)}insertWidget(e,t){super.insertWidget(e,t),t.title.changed.connect(this._onTitleChanged,this)}handleEvent(e){switch(super.handleEvent(e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),super.onBeforeAttach(e)}onAfterDetach(e){super.onAfterDetach(e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)}_onTitleChanged(e){let t=z.findFirstIndex(this.widgets,r=>r.contains(e.owner));t>=0&&(this.layout.updateTitle(t,e.owner),this.update())}_computeWidgetSize(e){let t=this.layout,r=t.widgets[e];if(!r)return;let n=r.isHidden,s=t.absoluteSizes(),o=(n?-1:1)*this.spacing,a=s.reduce((c,u)=>c+u),l=[...s];if(n){let c=this._widgetSizesCache.get(r);if(!c)return;l[e]+=c;let u=l.map(d=>d-c>0).lastIndexOf(!0);u===-1?l.forEach((d,f)=>{f!==e&&(l[f]-=s[f]/a*(c-o))}):l[u]-=c-o}else{let c=s[e];this._widgetSizesCache.set(r,c),l[e]=0;let u=l.map(d=>d>0).lastIndexOf(!0);if(u===-1)return;l[u]=s[u]+c+o}return l.map(c=>c/(a+o))}_evtClick(e){let t=e.target;if(t){let r=z.findFirstIndex(this.titles,n=>n.contains(t));r>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(r))}}_eventKeyDown(e){if(e.defaultPrevented)return;let t=e.target,r=!1;if(t){let n=z.findFirstIndex(this.titles,s=>s.contains(t));if(n>=0){let s=e.keyCode.toString();if(e.key.match(/Space|Enter/)||s.match(/13|32/))t.click(),r=!0;else if(this.orientation==="horizontal"?e.key.match(/ArrowLeft|ArrowRight/)||s.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||s.match(/38|40/)){let o=e.key.match(/ArrowLeft|ArrowUp/)||s.match(/37|38/)?-1:1,a=this.titles.length,l=(n+a+o)%a;this.titles[l].focus(),r=!0}else e.key==="End"||s==="35"?(this.titles[this.titles.length-1].focus(),r=!0):(e.key==="Home"||s==="36")&&(this.titles[0].focus(),r=!0)}r&&e.preventDefault()}}_toggleExpansion(e){let t=this.titles[e],r=this.layout.widgets[e],n=this._computeWidgetSize(e);n&&this.setRelativeSizes(n,!1),r.isHidden?(t.classList.add("lm-mod-expanded"),t.setAttribute("aria-expanded","true"),r.show()):(t.classList.remove("lm-mod-expanded"),t.setAttribute("aria-expanded","false"),r.hide()),this._expansionToggled.emit(e)}};(function(i){class e extends Vd.Renderer{constructor(){super(),this.titleClassName="lm-AccordionPanel-title",this._titleID=0,this._titleKeys=new WeakMap,this._uuid=++e._nInstance}createCollapseIcon(r){return document.createElement("span")}createSectionTitle(r){let n=document.createElement("h3");n.setAttribute("tabindex","0"),n.id=this.createTitleKey(r),n.className=this.titleClassName;for(let a in r.dataset)n.dataset[a]=r.dataset[a];let s=n.appendChild(this.createCollapseIcon(r));s.className="lm-AccordionPanel-titleCollapser";let o=n.appendChild(document.createElement("span"));return o.className="lm-AccordionPanel-titleLabel",o.textContent=r.label,o.title=r.caption||r.label,n}createTitleKey(r){let n=this._titleKeys.get(r);return n===void 0&&(n=`title-key-${this._uuid}-${this._titleID++}`,this._titleKeys.set(r,n)),n}}e._nInstance=0,i.Renderer=e,i.defaultRenderer=new e})(wm||(wm={}));(function(i){function e(t){return t.layout||new Jv({renderer:t.renderer||wm.defaultRenderer,orientation:t.orientation,alignment:t.alignment,spacing:t.spacing,titleSpace:t.titleSpace})}i.createLayout=e})(t_||(t_={}));ss=class extends Bh{constructor(e={}){super(),this._fixed=0,this._spacing=4,this._dirty=!1,this._sizers=[],this._items=[],this._box=null,this._alignment="start",this._direction="top-to-bottom",e.direction!==void 0&&(this._direction=e.direction),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=xm.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,super.dispose()}get direction(){return this._direction}set direction(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=xm.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}init(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,t){z.insert(this._items,e,new $d(t)),z.insert(this._sizers,e,new aa),this.parent.isAttached&&ke.sendMessage(t,me.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&ke.sendMessage(t,me.Msg.AfterAttach),this.parent.fit()}moveWidget(e,t,r){z.move(this._items,e,t),z.move(this._sizers,e,t),this.parent.update()}detachWidget(e,t){let r=z.removeAt(this._items,e);z.removeAt(this._sizers,e),this.parent.isAttached&&ke.sendMessage(t,me.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&ke.sendMessage(t,me.Msg.AfterDetach),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0;for(let a=0,l=this._items.length;a<l;++a)e+=+!this._items[a].isHidden;this._fixed=this._spacing*Math.max(0,e-1);let t=jd.isHorizontal(this._direction),r=t?this._fixed:0,n=t?0:this._fixed;for(let a=0,l=this._items.length;a<l;++a){let c=this._items[a],u=this._sizers[a];if(c.isHidden){u.minSize=0,u.maxSize=0;continue}c.fit(),u.sizeHint=ss.getSizeBasis(c.widget),u.stretch=ss.getStretch(c.widget),t?(u.minSize=c.minWidth,u.maxSize=c.maxWidth,r+=c.minWidth,n=Math.max(n,c.minHeight)):(u.minSize=c.minHeight,u.maxSize=c.maxHeight,n+=c.minHeight,r=Math.max(r,c.minWidth))}let s=this._box=Me.boxSizing(this.parent.node);r+=s.horizontalSum,n+=s.verticalSum;let o=this.parent.node.style;o.minWidth=`${r}px`,o.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&ke.sendMessage(this.parent.parent,me.Msg.FitRequest),this._dirty&&ke.sendMessage(this.parent,me.Msg.UpdateRequest)}_update(e,t){this._dirty=!1;let r=0;for(let d=0,f=this._items.length;d<f;++d)r+=+!this._items[d].isHidden;if(r===0)return;e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=Me.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=t-this._box.verticalSum,l;switch(this._direction){case"left-to-right":l=ns.calc(this._sizers,Math.max(0,o-this._fixed));break;case"top-to-bottom":l=ns.calc(this._sizers,Math.max(0,a-this._fixed));break;case"right-to-left":l=ns.calc(this._sizers,Math.max(0,o-this._fixed)),s+=o;break;case"bottom-to-top":l=ns.calc(this._sizers,Math.max(0,a-this._fixed)),n+=a;break;default:throw"unreachable"}let c=0,u=0;if(l>0)switch(this._alignment){case"start":break;case"center":c=0,u=l/2;break;case"end":c=0,u=l;break;case"justify":c=l/r,u=0;break;default:throw"unreachable"}for(let d=0,f=this._items.length;d<f;++d){let h=this._items[d];if(h.isHidden)continue;let m=this._sizers[d].size;switch(this._direction){case"left-to-right":h.update(s+u,n,m+c,a),s+=m+c+this._spacing;break;case"top-to-bottom":h.update(s,n+u,o,m+c),n+=m+c+this._spacing;break;case"right-to-left":h.update(s-u-m-c,n,m+c,a),s-=m+c+this._spacing;break;case"bottom-to-top":h.update(s,n-u-m-c,o,m+c),n-=m+c+this._spacing;break;default:throw"unreachable"}}}};(function(i){function e(s){return jd.stretchProperty.get(s)}i.getStretch=e;function t(s,o){jd.stretchProperty.set(s,o)}i.setStretch=t;function r(s){return jd.sizeBasisProperty.get(s)}i.getSizeBasis=r;function n(s,o){jd.sizeBasisProperty.set(s,o)}i.setSizeBasis=n})(ss||(ss={}));(function(i){i.stretchProperty=new ut({name:"stretch",create:()=>0,coerce:(n,s)=>Math.max(0,Math.floor(s)),changed:r}),i.sizeBasisProperty=new ut({name:"sizeBasis",create:()=>0,coerce:(n,s)=>Math.max(0,Math.floor(s)),changed:r});function e(n){return n==="left-to-right"||n==="right-to-left"}i.isHorizontal=e;function t(n){return Math.max(0,Math.floor(n))}i.clampSpacing=t;function r(n){n.parent&&n.parent.layout instanceof ss&&n.parent.fit()}})(jd||(jd={}));W5=class extends F5{constructor(e={}){super({layout:i_.createLayout(e)}),this.addClass("lm-BoxPanel")}get direction(){return this.layout.direction}set direction(e){this.layout.direction=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}onChildAdded(e){e.child.addClass("lm-BoxPanel-child")}onChildRemoved(e){e.child.removeClass("lm-BoxPanel-child")}};(function(i){function e(s){return ss.getStretch(s)}i.getStretch=e;function t(s,o){ss.setStretch(s,o)}i.setStretch=t;function r(s){return ss.getSizeBasis(s)}i.getSizeBasis=r;function n(s,o){ss.setSizeBasis(s,o)}i.setSizeBasis=n})(W5||(W5={}));(function(i){function e(t){return t.layout||new ss(t)}i.createLayout=e})(i_||(i_={}));Ph=class extends me{constructor(e){super({node:sl.createNode()}),this._activeIndex=-1,this._items=[],this._results=null,this.addClass("lm-CommandPalette"),this.setFlag(me.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||Ph.defaultRenderer,this.commands.commandChanged.connect(this._onGenericChange,this),this.commands.keyBindingChanged.connect(this._onGenericChange,this)}dispose(){this._items.length=0,this._results=null,super.dispose()}get searchNode(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]}get inputNode(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]}get contentNode(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]}get items(){return this._items}addItem(e){let t=sl.createItem(this.commands,e);return this._items.push(t),this.refresh(),t}addItems(e){let t=e.map(r=>sl.createItem(this.commands,r));return t.forEach(r=>this._items.push(r)),this.refresh(),t}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){z.removeAt(this._items,e)&&this.refresh()}clearItems(){this._items.length!==0&&(this._items.length=0,this.refresh())}refresh(){if(this._results=null,this.inputNode.value!==""){let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)}onAfterDetach(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)}onAfterShow(e){this.update(),super.onAfterShow(e)}onActivateRequest(e){if(this.isAttached){let t=this.inputNode;t.focus(),t.select()}}onUpdateRequest(e){if(!this.isVisible){Bt.render(null,this.contentNode);return}let t=this.inputNode.value,r=this.contentNode,n=this._results;if(n||(n=this._results=sl.search(this._items,t),this._activeIndex=t?z.findFirstIndex(n,sl.canActivate):-1),!t&&n.length===0){Bt.render(null,r);return}if(t&&n.length===0){let l=this.renderer.renderEmptyMessage({query:t});Bt.render(l,r);return}let s=this.renderer,o=this._activeIndex,a=new Array(n.length);for(let l=0,c=n.length;l<c;++l){let u=n[l];if(u.type==="header"){let d=u.indices,f=u.category;a[l]=s.renderHeader({category:f,indices:d})}else{let d=u.item,f=u.indices,h=l===o;a[l]=s.renderItem({item:d,indices:f,active:h})}}if(Bt.render(a,r),o<0||o>=n.length)r.scrollTop=0;else{let l=r.children[o];Me.scrollIntoViewIfNeeded(r,l)}}_evtClick(e){if(e.button!==0)return;if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}let t=z.findFirstIndex(this.contentNode.children,r=>r.contains(e.target));t!==-1&&(e.preventDefault(),e.stopPropagation(),this._execute(t))}_evtKeyDown(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}}_activateNextItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,t=this._results.length,r=e<t-1?e+1:0,n=r===0?t-1:r-1;this._activeIndex=z.findFirstIndex(this._results,sl.canActivate,r,n),this.update()}_activatePreviousItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,t=this._results.length,r=e<=0?t-1:e-1,n=r===t-1?0:r+1;this._activeIndex=z.findLastIndex(this._results,sl.canActivate,r,n),this.update()}_execute(e){if(!this._results)return;let t=this._results[e];if(t){if(t.type==="header"){let r=this.inputNode;r.value=`${t.category.toLowerCase()} `,r.focus(),this.refresh();return}t.item.isEnabled&&(this.commands.execute(t.item.command,t.item.args),this.inputNode.value="",this.refresh())}}_toggleFocused(){let e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e)}_onGenericChange(){this.refresh()}};(function(i){class e{renderHeader(r){let n=this.formatHeader(r);return xe.li({className:"lm-CommandPalette-header"},n)}renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r);return r.item.isToggleable?xe.li({className:n,dataset:s,role:"menuitemcheckbox","aria-checked":`${r.item.isToggled}`},this.renderItemIcon(r),this.renderItemContent(r),this.renderItemShortcut(r)):xe.li({className:n,dataset:s,role:"menuitem"},this.renderItemIcon(r),this.renderItemContent(r),this.renderItemShortcut(r))}renderEmptyMessage(r){let n=this.formatEmptyMessage(r);return xe.li({className:"lm-CommandPalette-emptyMessage"},n)}renderItemIcon(r){let n=this.createIconClass(r);return xe.div({className:n},r.item.icon,r.item.iconLabel)}renderItemContent(r){return xe.div({className:"lm-CommandPalette-itemContent"},this.renderItemLabel(r),this.renderItemCaption(r))}renderItemLabel(r){let n=this.formatItemLabel(r);return xe.div({className:"lm-CommandPalette-itemLabel"},n)}renderItemCaption(r){let n=this.formatItemCaption(r);return xe.div({className:"lm-CommandPalette-itemCaption"},n)}renderItemShortcut(r){let n=this.formatItemShortcut(r);return xe.div({className:"lm-CommandPalette-itemShortcut"},n)}createItemClass(r){let n="lm-CommandPalette-item";r.item.isEnabled||(n+=" lm-mod-disabled"),r.item.isToggled&&(n+=" lm-mod-toggled"),r.active&&(n+=" lm-mod-active");let s=r.item.className;return s&&(n+=` ${s}`),n}createItemDataset(r){return{...r.item.dataset,command:r.item.command}}createIconClass(r){let n="lm-CommandPalette-itemIcon",s=r.item.iconClass;return s?`${n} ${s}`:n}formatHeader(r){return!r.indices||r.indices.length===0?r.category:en.highlight(r.category,r.indices,xe.mark)}formatEmptyMessage(r){return`No commands found that match '${r.query}'`}formatItemShortcut(r){let n=r.item.keyBinding;return n?rn.formatKeystroke(n.keys):null}formatItemLabel(r){return!r.indices||r.indices.length===0?r.item.label:en.highlight(r.item.label,r.indices,xe.mark)}formatItemCaption(r){return r.item.caption}}i.Renderer=e,i.defaultRenderer=new e})(Ph||(Ph={}));(function(i){function e(){let f=document.createElement("div"),h=document.createElement("div"),m=document.createElement("div"),p=document.createElement("input"),v=document.createElement("ul"),x=document.createElement("button");return h.className="lm-CommandPalette-search",m.className="lm-CommandPalette-wrapper",p.className="lm-CommandPalette-input",x.className="lm-close-icon",v.className="lm-CommandPalette-content",v.setAttribute("role","menu"),p.spellcheck=!1,m.appendChild(p),m.appendChild(x),h.appendChild(m),f.appendChild(h),f.appendChild(v),f}i.createNode=e;function t(f,h){return new d(f,h)}i.createItem=t;function r(f,h){let m=a(f,h);return m.sort(c),u(m)}i.search=r;function n(f){return f.type==="item"&&f.item.isEnabled}i.canActivate=n;function s(f){return f.trim().replace(/\s+/g," ")}function o(f){return f.replace(/\s+/g,"").toLowerCase()}function a(f,h){h=o(h);let m=[];for(let p=0,v=f.length;p<v;++p){let x=f[p];if(!x.isVisible)continue;if(!h){m.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:x});continue}let C=l(x,h);C&&(x.isEnabled||(C.score+=1e3),m.push(C))}return m}function l(f,h){let m=f.category.toLowerCase(),p=f.label.toLowerCase(),v=`${m} ${p}`,x=1/0,C=null,y=/\b\w/g;for(;;){let R=y.exec(v);if(!R)break;let A=en.matchSumOfDeltas(v,h,R.index);if(!A)break;A.score<=x&&(x=A.score,C=A.indices)}if(!C||x===1/0)return null;let S=m.length+1,M=z.lowerBound(C,S,(R,A)=>R-A),_=C.slice(0,M),E=C.slice(M);for(let R=0,A=E.length;R<A;++R)E[R]-=S;return _.length===0?{matchType:0,categoryIndices:null,labelIndices:E,score:x,item:f}:E.length===0?{matchType:1,categoryIndices:_,labelIndices:null,score:x,item:f}:{matchType:2,categoryIndices:_,labelIndices:E,score:x,item:f}}function c(f,h){let m=f.matchType-h.matchType;if(m!==0)return m;let p=f.score-h.score;if(p!==0)return p;let v=0,x=0;switch(f.matchType){case 0:v=f.labelIndices[0],x=h.labelIndices[0];break;case 1:case 2:v=f.categoryIndices[0],x=h.categoryIndices[0];break}if(v!==x)return v-x;let C=f.item.category.localeCompare(h.item.category);if(C!==0)return C;let y=f.item.rank,S=h.item.rank;return y!==S?y<S?-1:1:f.item.label.localeCompare(h.item.label)}function u(f){let h=[];for(let m=0,p=f.length;m<p;++m){let{item:v,categoryIndices:x,labelIndices:C}=f[m],y=v.category;(m===0||y!==f[m-1].item.category)&&h.push({type:"header",category:y,indices:x}),h.push({type:"item",item:v,indices:C})}return h}class d{constructor(h,m){this._commands=h,this.category=s(m.category),this.command=m.command,this.args=m.args||ll.JSONExt.emptyObject,this.rank=m.rank!==void 0?m.rank:1/0}get label(){return this._commands.label(this.command,this.args)}get icon(){return this._commands.icon(this.command,this.args)}get iconClass(){return this._commands.iconClass(this.command,this.args)}get iconLabel(){return this._commands.iconLabel(this.command,this.args)}get caption(){return this._commands.caption(this.command,this.args)}get className(){return this._commands.className(this.command,this.args)}get dataset(){return this._commands.dataset(this.command,this.args)}get isEnabled(){return this._commands.isEnabled(this.command,this.args)}get isToggled(){return this._commands.isToggled(this.command,this.args)}get isToggleable(){return this._commands.isToggleable(this.command,this.args)}get isVisible(){return this._commands.isVisible(this.command,this.args)}get keyBinding(){let{command:h,args:m}=this;return z.findLastValue(this._commands.keyBindings,p=>p.command===h&&ll.JSONExt.deepEqual(p.args,m))||null}}})(sl||(sl={}));la=class extends me{constructor(e){super({node:yn.createNode()}),this._childIndex=-1,this._activeIndex=-1,this._openTimerID=0,this._closeTimerID=0,this._items=[],this._childMenu=null,this._parentMenu=null,this._aboutToClose=new Re(this),this._menuRequested=new Re(this),this.addClass("lm-Menu"),this.setFlag(me.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||la.defaultRenderer}dispose(){this.close(),this._items.length=0,super.dispose()}get aboutToClose(){return this._aboutToClose}get menuRequested(){return this._menuRequested}get parentMenu(){return this._parentMenu}get childMenu(){return this._childMenu}get rootMenu(){let e=this;for(;e._parentMenu;)e=e._parentMenu;return e}get leafMenu(){let e=this;for(;e._childMenu;)e=e._childMenu;return e}get contentNode(){return this.node.getElementsByClassName("lm-Menu-content")[0]}get activeItem(){return this._items[this._activeIndex]||null}set activeItem(e){this.activeIndex=e?this._items.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._items.length)&&(e=-1),e!==-1&&!yn.canActivate(this._items[e])&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())}get items(){return this._items}activateNextItem(){let e=this._items.length,t=this._activeIndex,r=t<e-1?t+1:0,n=r===0?e-1:r-1;this.activeIndex=z.findFirstIndex(this._items,yn.canActivate,r,n)}activatePreviousItem(){let e=this._items.length,t=this._activeIndex,r=t<=0?e-1:t-1,n=r===e-1?0:r+1;this.activeIndex=z.findLastIndex(this._items,yn.canActivate,r,n)}triggerActiveItem(){if(!this.isAttached)return;let e=this.activeItem;if(!e)return;if(this._cancelOpenTimer(),this._cancelCloseTimer(),e.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();let{command:t,args:r}=e;this.commands.isEnabled(t,r)?this.commands.execute(t,r):console.log(`Command '${t}' is disabled.`)}addItem(e){return this.insertItem(this._items.length,e)}insertItem(e,t){this.isAttached&&this.close(),this.activeIndex=-1;let r=Math.max(0,Math.min(e,this._items.length)),n=yn.createItem(this,t);return z.insert(this._items,r,n),this.update(),n}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){this.isAttached&&this.close(),this.activeIndex=-1,z.removeAt(this._items,e)&&this.update()}clearItems(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())}open(e,t,r={}){var n,s,o;if(this.isAttached)return;let a=r.forceX||!1,l=r.forceY||!1,c=(n=r.host)!==null&&n!==void 0?n:null,u=(s=r.ref)!==null&&s!==void 0?s:null,d=(o=r.horizontalAlignment)!==null&&o!==void 0?o:document.documentElement.dir==="rtl"?"right":"left";yn.openRootMenu(this,e,t,a,l,d,c,u),this.activate()}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)}onActivateRequest(e){this.isAttached&&this.node.focus()}onUpdateRequest(e){let t=this._items,r=this.renderer,n=this._activeIndex,s=yn.computeCollapsed(t),o=new Array(t.length);for(let a=0,l=t.length;a<l;++a){let c=t[a],u=a===n,d=s[a];o[a]=r.renderItem({item:c,active:u,collapsed:d,onfocus:()=>{this.activeIndex=a}})}Bt.render(o,this.contentNode)}onCloseRequest(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;let t=this._childMenu;t&&(this._childIndex=-1,this._childMenu=null,t._parentMenu=null,t.close());let r=this._parentMenu;r&&(this._parentMenu=null,r._childIndex=-1,r._childMenu=null,r.activate()),this.isAttached&&this._aboutToClose.emit(void 0),super.onCloseRequest(e)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation();let t=e.keyCode;if(t===13){this.triggerActiveItem();return}if(t===27){this.close();return}if(t===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(t===38){this.activatePreviousItem();return}if(t===39){let o=this.activeItem;o&&o.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(t===40){this.activateNextItem();return}let r=Ts().keyForKeydownEvent(e);if(!r)return;let n=this._activeIndex+1,s=yn.findMnemonic(this._items,r,n);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.triggerActiveItem()):s.index!==-1?this.activeIndex=s.index:s.auto!==-1&&(this.activeIndex=s.auto)}_evtMouseUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())}_evtMouseMove(e){let t=z.findFirstIndex(this.contentNode.children,n=>Me.hitTest(n,e.clientX,e.clientY));if(t===this._activeIndex)return;if(this.activeIndex=t,t=this.activeIndex,t===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();let r=this.activeItem;!r||r.type!=="submenu"||!r.submenu||this._startOpenTimer()}_evtMouseEnter(e){for(let t=this._parentMenu;t;t=t._parentMenu)t._cancelOpenTimer(),t._cancelCloseTimer(),t.activeIndex=t._childIndex}_evtMouseLeave(e){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}let{clientX:t,clientY:r}=e;if(Me.hitTest(this._childMenu.node,t,r)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()}_evtMouseDown(e){this._parentMenu||(yn.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())}_openChildMenu(e=!1){let t=this.activeItem;if(!t||t.type!=="submenu"||!t.submenu){this._closeChildMenu();return}let r=t.submenu;if(r===this._childMenu)return;la.saveWindowData(),this._closeChildMenu(),this._childMenu=r,this._childIndex=this._activeIndex,r._parentMenu=this,ke.sendMessage(this,me.Msg.UpdateRequest);let n=this.contentNode.children[this._activeIndex];yn.openSubmenu(r,n),e&&(r.activeIndex=-1,r.activateNextItem()),r.activate()}_closeChildMenu(){this._childMenu&&this._childMenu.close()}_startOpenTimer(){this._openTimerID===0&&(this._openTimerID=window.setTimeout(()=>{this._openTimerID=0,this._openChildMenu()},yn.TIMER_DELAY))}_startCloseTimer(){this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(()=>{this._closeTimerID=0,this._closeChildMenu()},yn.TIMER_DELAY))}_cancelOpenTimer(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)}_cancelCloseTimer(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)}static saveWindowData(){yn.saveWindowData()}};(function(i){class e{renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r),o=this.createItemARIA(r);return xe.li({className:n,dataset:s,tabindex:"0",onfocus:r.onfocus,...o},this.renderIcon(r),this.renderLabel(r),this.renderShortcut(r),this.renderSubmenu(r))}renderIcon(r){let n=this.createIconClass(r);return xe.div({className:n},r.item.icon,r.item.iconLabel)}renderLabel(r){let n=this.formatLabel(r);return xe.div({className:"lm-Menu-itemLabel"},n)}renderShortcut(r){let n=this.formatShortcut(r);return xe.div({className:"lm-Menu-itemShortcut"},n)}renderSubmenu(r){return xe.div({className:"lm-Menu-itemSubmenuIcon"})}createItemClass(r){let n="lm-Menu-item";r.item.isEnabled||(n+=" lm-mod-disabled"),r.item.isToggled&&(n+=" lm-mod-toggled"),r.item.isVisible||(n+=" lm-mod-hidden"),r.active&&(n+=" lm-mod-active"),r.collapsed&&(n+=" lm-mod-collapsed");let s=r.item.className;return s&&(n+=` ${s}`),n}createItemDataset(r){let n,{type:s,command:o,dataset:a}=r.item;return s==="command"?n={...a,type:s,command:o}:n={...a,type:s},n}createIconClass(r){let n="lm-Menu-itemIcon",s=r.item.iconClass;return s?`${n} ${s}`:n}createItemARIA(r){let n={};switch(r.item.type){case"separator":n.role="presentation";break;case"submenu":n["aria-haspopup"]="true",r.item.isEnabled||(n["aria-disabled"]="true");break;default:r.item.isEnabled||(n["aria-disabled"]="true"),r.item.isToggled?(n.role="menuitemcheckbox",n["aria-checked"]="true"):n.role="menuitem"}return n}formatLabel(r){let{label:n,mnemonic:s}=r.item;if(s<0||s>=n.length)return n;let o=n.slice(0,s),a=n.slice(s+1),l=n[s],c=xe.span({className:"lm-Menu-itemMnemonic"},l);return[o,c,a]}formatShortcut(r){let n=r.item.keyBinding;return n?rn.formatKeystroke(n.keys):null}}i.Renderer=e,i.defaultRenderer=new e})(la||(la={}));(function(i){i.TIMER_DELAY=300,i.SUBMENU_OVERLAP=3;let e=null,t=0;function r(){return t>0?(t--,e):u()}function n(){e=u(),t++}i.saveWindowData=n;function s(){let p=document.createElement("div"),v=document.createElement("ul");return v.className="lm-Menu-content",p.appendChild(v),v.setAttribute("role","menu"),p.tabIndex=0,p}i.createNode=s;function o(p){return p.type!=="separator"&&p.isEnabled&&p.isVisible}i.canActivate=o;function a(p,v){return new m(p.commands,v)}i.createItem=a;function l(p,v,x){for(let C=p;C;C=C.childMenu)if(Me.hitTest(C.node,v,x))return!0;return!1}i.hitTestMenus=l;function c(p){let v=new Array(p.length);z.fill(v,!1);let x=0,C=p.length;for(;x<C;++x){let M=p[x];if(M.isVisible){if(M.type!=="separator")break;v[x]=!0}}let y=C-1;for(;y>=0;--y){let M=p[y];if(M.isVisible){if(M.type!=="separator")break;v[y]=!0}}let S=!1;for(;++x<y;){let M=p[x];M.isVisible&&(M.type!=="separator"?S=!1:S?v[x]=!0:S=!0)}return v}i.computeCollapsed=c;function u(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function d(p,v,x,C,y,S,M,_){let E=r(),R=E.pageXOffset,A=E.pageYOffset,H=E.clientWidth,$=E.clientHeight;ke.sendMessage(p,me.Msg.UpdateRequest);let X=$-(y?x:0),ue=p.node,he=ue.style;he.opacity="0",he.maxHeight=`${X}px`,me.attach(p,M||document.body,_);let{width:Y,height:ee}=ue.getBoundingClientRect();S==="right"&&(v-=Y),!C&&v+Y>R+H&&(v=R+H-Y),!y&&x+ee>A+$&&(x>A+$?x=A+$-ee:x=x-ee),he.transform=`translate(${Math.max(0,v)}px, ${Math.max(0,x)}px`,he.opacity="1"}i.openRootMenu=d;function f(p,v){let x=r(),C=x.pageXOffset,y=x.pageYOffset,S=x.clientWidth,M=x.clientHeight;ke.sendMessage(p,me.Msg.UpdateRequest);let _=M,E=p.node,R=E.style;R.opacity="0",R.maxHeight=`${_}px`,me.attach(p,document.body);let{width:A,height:H}=E.getBoundingClientRect(),$=Me.boxSizing(p.node),X=v.getBoundingClientRect(),ue=X.right-i.SUBMENU_OVERLAP;ue+A>C+S&&(ue=X.left+i.SUBMENU_OVERLAP-A);let he=X.top-$.borderTop-$.paddingTop;he+H>y+M&&(he=X.bottom+$.borderBottom+$.paddingBottom-H),R.transform=`translate(${Math.max(0,ue)}px, ${Math.max(0,he)}px`,R.opacity="1"}i.openSubmenu=f;function h(p,v,x){let C=-1,y=-1,S=!1,M=v.toUpperCase();for(let _=0,E=p.length;_<E;++_){let R=(_+x)%E,A=p[R];if(!o(A))continue;let H=A.label;if(H.length===0)continue;let $=A.mnemonic;if($>=0&&$<H.length){H[$].toUpperCase()===M&&(C===-1?C=R:S=!0);continue}y===-1&&H[0].toUpperCase()===M&&(y=R)}return{index:C,multiple:S,auto:y}}i.findMnemonic=h;class m{constructor(v,x){this._commands=v,this.type=x.type||"command",this.command=x.command||"",this.args=x.args||ll.JSONExt.emptyObject,this.submenu=x.submenu||null}get label(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""}get mnemonic(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1}get icon(){if(this.type==="command")return this._commands.icon(this.command,this.args);if(this.type==="submenu"&&this.submenu)return this.submenu.title.icon}get iconClass(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""}get iconLabel(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""}get caption(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""}get className(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""}get dataset(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}}get isEnabled(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get isToggled(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1}get isVisible(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get keyBinding(){if(this.type==="command"){let{command:v,args:x}=this;return z.findLastValue(this._commands.keyBindings,C=>C.command===v&&ll.JSONExt.deepEqual(C.args,x))||null}return null}}})(yn||(yn={}));(function(i){function e(o,a){let l=r(o.selector),c=o.rank!==void 0?o.rank:1/0;return{...o,selector:l,rank:c,id:a}}i.createItem=e;function t(o,a,l,c){let u=a.target;if(!u)return null;let d=a.currentTarget;if(!d||!d.contains(u)&&(u=document.elementFromPoint(a.clientX,a.clientY),!u||!d.contains(u)))return null;let f=[],h=o.slice();for(;u!==null;){let m=[];for(let p=0,v=h.length;p<v;++p){let x=h[p];x&&tr.matches(u,x.selector)&&(m.push(x),h[p]=null)}if(m.length!==0&&(l&&m.sort(c?s:n),f.push(...m)),u===d)break;u=u.parentElement}return l||f.sort(c?s:n),f}i.matchItems=t;function r(o){if(o.indexOf(",")!==-1)throw new Error(`Selector cannot contain commas: ${o}`);if(!tr.isValid(o))throw new Error(`Invalid selector: ${o}`);return o}function n(o,a){let l=o.rank,c=a.rank;return l!==c?l<c?-1:1:o.id-a.id}function s(o,a){let l=tr.calculateSpecificity(o.selector),c=tr.calculateSpecificity(a.selector);return l!==c?c-l:n(o,a)}})(FT||(FT={}));MY=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"],Cc=class extends me{constructor(e={}){super({node:Zs.createNode()}),this._currentIndex=-1,this._titles=[],this._titlesEditable=!1,this._previousTitle=null,this._dragData=null,this._addButtonEnabled=!1,this._tabMoved=new Re(this),this._currentChanged=new Re(this),this._addRequested=new Re(this),this._tabCloseRequested=new Re(this),this._tabDetachRequested=new Re(this),this._tabActivateRequested=new Re(this),this.addClass("lm-TabBar"),this.contentNode.setAttribute("role","tablist"),this.setFlag(me.Flag.DisallowLayout),this._document=e.document||document,this.tabsMovable=e.tabsMovable||!1,this.titlesEditable=e.titlesEditable||!1,this.allowDeselect=e.allowDeselect||!1,this.addButtonEnabled=e.addButtonEnabled||!1,this.insertBehavior=e.insertBehavior||"select-tab-if-needed",this.name=e.name||"",this.orientation=e.orientation||"horizontal",this.removeBehavior=e.removeBehavior||"select-tab-after",this.renderer=e.renderer||Cc.defaultRenderer}dispose(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,super.dispose()}get currentChanged(){return this._currentChanged}get tabMoved(){return this._tabMoved}get tabActivateRequested(){return this._tabActivateRequested}get addRequested(){return this._addRequested}get tabCloseRequested(){return this._tabCloseRequested}get tabDetachRequested(){return this._tabDetachRequested}get document(){return this._document}get titlesEditable(){return this._titlesEditable}set titlesEditable(e){this._titlesEditable=e}get currentTitle(){return this._titles[this._currentIndex]||null}set currentTitle(e){this.currentIndex=e?this._titles.indexOf(e):-1}get currentIndex(){return this._currentIndex}set currentIndex(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex===e)return;let t=this._currentIndex,r=this._titles[t]||null,n=e,s=this._titles[n]||null;this._currentIndex=n,this._previousTitle=r,this.update(),this._currentChanged.emit({previousIndex:t,previousTitle:r,currentIndex:n,currentTitle:s})}get name(){return this._name}set name(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))}get titles(){return this._titles}get contentNode(){return this.node.getElementsByClassName("lm-TabBar-content")[0]}get addButtonNode(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]}addTab(e){return this.insertTab(this._titles.length,e)}insertTab(e,t){this._releaseMouse();let r=Zs.asTitle(t),n=this._titles.indexOf(r),s=Math.max(0,Math.min(e,this._titles.length));return n===-1?(z.insert(this._titles,s,r),r.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(s,r),r):(s===this._titles.length&&s--,n===s||(z.move(this._titles,n,s),this.update(),this._adjustCurrentForMove(n,s)),r)}removeTab(e){this.removeTabAt(this._titles.indexOf(e))}removeTabAt(e){this._releaseMouse();let t=z.removeAt(this._titles,e);t&&(t.changed.disconnect(this._onTitleChanged,this),t===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,t))}clearTabs(){if(this._titles.length===0)return;this._releaseMouse();for(let r of this._titles)r.changed.disconnect(this._onTitleChanged,this);let e=this.currentIndex,t=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),e!==-1&&this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null})}releaseMouse(){this._releaseMouse()}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":e.eventPhase===Event.CAPTURING_PHASE?this._evtKeyDownCapturing(e):this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this),this.node.addEventListener("keydown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this.node.removeEventListener("keydown",this),this._releaseMouse()}onUpdateRequest(e){var t;let r=this._titles,n=this.renderer,s=this.currentTitle,o=new Array(r.length),a=(t=this._getCurrentTabindex())!==null&&t!==void 0?t:this._currentIndex>-1?this._currentIndex:0;for(let l=0,c=r.length;l<c;++l){let u=r[l],d=u===s,f=d?c:c-l-1,h=a===l?0:-1;o[l]=n.renderTab({title:u,current:d,zIndex:f,tabIndex:h})}Bt.render(o,this.contentNode)}_getCurrentTabindex(){let e=null,t=this.contentNode.querySelector('li[tabindex="0"]');return t?e=[...this.contentNode.children].indexOf(t):this._addButtonEnabled&&this.addButtonNode.getAttribute("tabindex")==="0"&&(e=-1),e}_evtDblClick(e){if(!this.titlesEditable)return;let t=this.contentNode.children,r=z.findFirstIndex(t,o=>Me.hitTest(o,e.clientX,e.clientY));if(r===-1)return;let n=this.titles[r],s=t[r].querySelector(".lm-TabBar-tabLabel");if(s&&s.contains(e.target)){let o=n.label||"",a=s.innerHTML;s.innerHTML="";let l=document.createElement("input");l.classList.add("lm-TabBar-tabInput"),l.value=o,s.appendChild(l);let c=()=>{l.removeEventListener("blur",c),s.innerHTML=a,this.node.addEventListener("keydown",this)};l.addEventListener("dblclick",u=>u.stopPropagation()),l.addEventListener("blur",c),l.addEventListener("keydown",u=>{u.key==="Enter"?(l.value!==""&&(n.label=n.caption=l.value),c()):u.key==="Escape"&&c()}),this.node.removeEventListener("keydown",this),l.select(),l.focus(),s.children.length>0&&s.children[0].focus()}}_evtKeyDownCapturing(e){e.eventPhase===Event.CAPTURING_PHASE&&(e.preventDefault(),e.stopPropagation(),e.key==="Escape"&&this._releaseMouse())}_evtKeyDown(e){var t,r,n;if(!(e.key==="Tab"||e.eventPhase===Event.CAPTURING_PHASE)){if(e.key==="Enter"||e.key==="Spacebar"||e.key===" "){let s=document.activeElement;if(this.addButtonEnabled&&this.addButtonNode.contains(s))e.preventDefault(),e.stopPropagation(),this._addRequested.emit();else{let o=z.findFirstIndex(this.contentNode.children,a=>a.contains(s));o>=0&&(e.preventDefault(),e.stopPropagation(),this.currentIndex=o)}}else if(MY.includes(e.key)){let s=[...this.contentNode.children];if(this.addButtonEnabled&&s.push(this.addButtonNode),s.length<=1)return;e.preventDefault(),e.stopPropagation();let o=s.indexOf(document.activeElement);o===-1&&(o=this._currentIndex);let a;e.key==="ArrowRight"&&this._orientation==="horizontal"||e.key==="ArrowDown"&&this._orientation==="vertical"?a=(t=s[o+1])!==null&&t!==void 0?t:s[0]:e.key==="ArrowLeft"&&this._orientation==="horizontal"||e.key==="ArrowUp"&&this._orientation==="vertical"?a=(r=s[o-1])!==null&&r!==void 0?r:s[s.length-1]:e.key==="Home"?a=s[0]:e.key==="End"&&(a=s[s.length-1]),a&&((n=s[o])===null||n===void 0||n.setAttribute("tabindex","-1"),a?.setAttribute("tabindex","0"),a.focus())}}}_evtPointerDown(e){if(e.button!==0&&e.button!==1||this._dragData||e.target.classList.contains("lm-TabBar-tabInput"))return;let t=this.addButtonEnabled&&this.addButtonNode.contains(e.target),r=this.contentNode.children,n=z.findFirstIndex(r,o=>Me.hitTest(o,e.clientX,e.clientY));if(n===-1&&!t||(e.preventDefault(),e.stopPropagation(),this._dragData={tab:r[n],index:n,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("pointerup",this,!0),e.button===1||t))return;let s=r[n].querySelector(this.renderer.closeIconSelector);s&&s.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===n?this.currentIndex=-1:this.currentIndex=n,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}_evtPointerMove(e){let t=this._dragData;if(!t)return;e.preventDefault(),e.stopPropagation();let r=this.contentNode.children;if(!(!t.dragActive&&!Zs.dragExceeded(t,e))){if(!t.dragActive){let n=t.tab.getBoundingClientRect();this._orientation==="horizontal"?(t.tabPos=t.tab.offsetLeft,t.tabSize=n.width,t.tabPressPos=t.pressX-n.left):(t.tabPos=t.tab.offsetTop,t.tabSize=n.height,t.tabPressPos=t.pressY-n.top),t.tabPressOffset={x:t.pressX-n.left,y:t.pressY-n.top},t.tabLayout=Zs.snapTabLayout(r,this._orientation),t.contentRect=this.contentNode.getBoundingClientRect(),t.override=ar.overrideCursor("default"),t.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),t.dragActive=!0}if(!t.detachRequested&&Zs.detachExceeded(t,e)){t.detachRequested=!0;let n=t.index,s=e.clientX,o=e.clientY,a=r[n],l=this._titles[n];if(this._tabDetachRequested.emit({index:n,title:l,tab:a,clientX:s,clientY:o,offset:t.tabPressOffset}),t.dragAborted)return}Zs.layoutTabs(r,t,e,this._orientation)}}_evtPointerUp(e){if(e.button!==0&&e.button!==1)return;let t=this._dragData;if(!t)return;if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!t.dragActive){if(this._dragData=null,this.addButtonEnabled&&this.addButtonNode.contains(e.target)){this._addRequested.emit(void 0);return}let s=this.contentNode.children,o=z.findFirstIndex(s,c=>Me.hitTest(c,e.clientX,e.clientY));if(o!==t.index)return;let a=this._titles[o];if(!a.closable)return;if(e.button===1){this._tabCloseRequested.emit({index:o,title:a});return}let l=s[o].querySelector(this.renderer.closeIconSelector);if(l&&l.contains(e.target)){this._tabCloseRequested.emit({index:o,title:a});return}return}if(e.button!==0)return;Zs.finalizeTabPosition(t,this._orientation),t.tab.classList.remove("lm-mod-dragging");let r=Zs.parseTransitionDuration(t.tab);setTimeout(()=>{if(t.dragAborted)return;this._dragData=null,Zs.resetTabPositions(this.contentNode.children,this._orientation),t.override.dispose(),this.removeClass("lm-mod-dragging");let n=t.index,s=t.targetIndex;s===-1||n===s||(z.move(this._titles,n,s),this._adjustCurrentForMove(n,s),this._tabMoved.emit({fromIndex:n,toIndex:s,title:this._titles[s]}),ke.sendMessage(this,me.Msg.UpdateRequest))},r)}_releaseMouse(){let e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(Zs.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging")))}_adjustCurrentForInsert(e,t){let r=this.currentTitle,n=this._currentIndex,s=this.insertBehavior;if(s==="select-tab"||s==="select-tab-if-needed"&&n===-1){this._currentIndex=e,this._previousTitle=r,this._currentChanged.emit({previousIndex:n,previousTitle:r,currentIndex:e,currentTitle:t});return}n>=e&&this._currentIndex++}_adjustCurrentForMove(e,t){this._currentIndex===e?this._currentIndex=t:this._currentIndex<e&&this._currentIndex>=t?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=t&&this._currentIndex--}_adjustCurrentForRemove(e,t){let r=this._currentIndex,n=this.removeBehavior;if(r!==e){r>e&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null});return}if(n==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(n==="select-tab-before"){this._currentIndex=Math.max(0,e-1),this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(n==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null})}_onTitleChanged(e){this.update()}};(function(i){class e{constructor(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++e._nInstance}renderTab(r){let n=r.title.caption,s=this.createTabKey(r),o=s,a=this.createTabStyle(r),l=this.createTabClass(r),c=this.createTabDataset(r),u=this.createTabARIA(r);return r.title.closable?xe.li({id:o,key:s,className:l,title:n,style:a,dataset:c,...u},this.renderIcon(r),this.renderLabel(r),this.renderCloseIcon(r)):xe.li({id:o,key:s,className:l,title:n,style:a,dataset:c,...u},this.renderIcon(r),this.renderLabel(r))}renderIcon(r){let{title:n}=r,s=this.createIconClass(r);return xe.div({className:s},n.icon,n.iconLabel)}renderLabel(r){return xe.div({className:"lm-TabBar-tabLabel"},r.title.label)}renderCloseIcon(r){return xe.div({className:"lm-TabBar-tabCloseIcon"})}createTabKey(r){let n=this._tabKeys.get(r.title);return n===void 0&&(n=`tab-key-${this._uuid}-${this._tabID++}`,this._tabKeys.set(r.title,n)),n}createTabStyle(r){return{zIndex:`${r.zIndex}`}}createTabClass(r){let n="lm-TabBar-tab";return r.title.className&&(n+=` ${r.title.className}`),r.title.closable&&(n+=" lm-mod-closable"),r.current&&(n+=" lm-mod-current"),n}createTabDataset(r){return r.title.dataset}createTabARIA(r){var n;return{role:"tab","aria-selected":r.current.toString(),tabindex:`${(n=r.tabIndex)!==null&&n!==void 0?n:"-1"}`}}createIconClass(r){let n="lm-TabBar-tabIcon",s=r.title.iconClass;return s?`${n} ${s}`:n}}e._nInstance=0,i.Renderer=e,i.defaultRenderer=new e,i.addButtonSelector=".lm-TabBar-addButton"})(Cc||(Cc={}));(function(i){i.DRAG_THRESHOLD=5,i.DETACH_THRESHOLD=20;function e(){let u=document.createElement("div"),d=document.createElement("ul");d.setAttribute("role","tablist"),d.className="lm-TabBar-content",u.appendChild(d);let f=document.createElement("div");return f.className="lm-TabBar-addButton lm-mod-hidden",f.setAttribute("tabindex","-1"),f.setAttribute("role","button"),u.appendChild(f),u}i.createNode=e;function t(u){return u instanceof bm?u:new bm(u)}i.asTitle=t;function r(u){let d=window.getComputedStyle(u);return 1e3*(parseFloat(d.transitionDuration)||0)}i.parseTransitionDuration=r;function n(u,d){let f=new Array(u.length);for(let h=0,m=u.length;h<m;++h){let p=u[h],v=window.getComputedStyle(p);d==="horizontal"?f[h]={pos:p.offsetLeft,size:p.offsetWidth,margin:parseFloat(v.marginLeft)||0}:f[h]={pos:p.offsetTop,size:p.offsetHeight,margin:parseFloat(v.marginTop)||0}}return f}i.snapTabLayout=n;function s(u,d){let f=Math.abs(d.clientX-u.pressX),h=Math.abs(d.clientY-u.pressY);return f>=i.DRAG_THRESHOLD||h>=i.DRAG_THRESHOLD}i.dragExceeded=s;function o(u,d){let f=u.contentRect;return d.clientX<f.left-i.DETACH_THRESHOLD||d.clientX>=f.right+i.DETACH_THRESHOLD||d.clientY<f.top-i.DETACH_THRESHOLD||d.clientY>=f.bottom+i.DETACH_THRESHOLD}i.detachExceeded=o;function a(u,d,f,h){let m,p,v,x;h==="horizontal"?(m=d.pressX,p=f.clientX-d.contentRect.left,v=f.clientX,x=d.contentRect.width):(m=d.pressY,p=f.clientY-d.contentRect.top,v=f.clientY,x=d.contentRect.height);let C=d.index,y=p-d.tabPressPos,S=y+d.tabSize;for(let M=0,_=u.length;M<_;++M){let E,R=d.tabLayout[M],A=R.pos+(R.size>>1);if(M<d.index&&y<A)E=`${d.tabSize+d.tabLayout[M+1].margin}px`,C=Math.min(C,M);else if(M>d.index&&S>A)E=`${-d.tabSize-R.margin}px`,C=Math.max(C,M);else if(M===d.index){let H=v-m,$=x-(d.tabPos+d.tabSize);E=`${Math.max(-d.tabPos,Math.min(H,$))}px`}else E="";h==="horizontal"?u[M].style.left=E:u[M].style.top=E}d.targetIndex=C}i.layoutTabs=a;function l(u,d){let f;d==="horizontal"?f=u.contentRect.width:f=u.contentRect.height;let h;if(u.targetIndex===u.index)h=0;else if(u.targetIndex>u.index){let v=u.tabLayout[u.targetIndex];h=v.pos+v.size-u.tabSize-u.tabPos}else h=u.tabLayout[u.targetIndex].pos-u.tabPos;let m=f-(u.tabPos+u.tabSize),p=Math.max(-u.tabPos,Math.min(h,m));d==="horizontal"?u.tab.style.left=`${p}px`:u.tab.style.top=`${p}px`}i.finalizeTabPosition=l;function c(u,d){for(let f of u)d==="horizontal"?f.style.left="":f.style.top=""}i.resetTabPositions=c})(Zs||(Zs={}));r_=class extends ca{constructor(e){super(),this._spacing=4,this._dirty=!1,this._root=null,this._box=null,this._items=new Map,this.renderer=e.renderer,e.spacing!==void 0&&(this._spacing=xm.clampDimension(e.spacing)),this._document=e.document||document,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:me.HiddenMode.Display}dispose(){let e=this[Symbol.iterator]();this._items.forEach(t=>{t.dispose()}),this._box=null,this._root=null,this._items.clear();for(let t of e)t.dispose();super.dispose()}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){if(this._hiddenMode!==e){this._hiddenMode=e;for(let t of this.tabBars())if(t.titles.length>1)for(let r of t.titles)r.owner.hiddenMode=this._hiddenMode}}get spacing(){return this._spacing}set spacing(e){e=xm.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get isEmpty(){return this._root===null}[Symbol.iterator](){return this._root?this._root.iterAllWidgets():wi()}widgets(){return this._root?this._root.iterUserWidgets():wi()}selectedWidgets(){return this._root?this._root.iterSelectedWidgets():wi()}tabBars(){return this._root?this._root.iterTabBars():wi()}handles(){return this._root?this._root.iterHandles():wi()}moveHandle(e,t,r){let n=e.classList.contains("lm-mod-hidden");if(!this._root||n)return;let s=this._root.findSplitNode(e);if(!s)return;let o;s.node.orientation==="horizontal"?o=t-e.offsetLeft:o=r-e.offsetTop,o!==0&&(s.node.holdSizes(),ns.adjust(s.node.sizers,s.index,o),this.parent&&this.parent.update())}saveLayout(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}}restoreLayout(e){let t=new Set,r;e.main?r=Ki.normalizeAreaConfig(e.main,t):r=null;let n=this.widgets(),s=this.tabBars(),o=this.handles();this._root=null;for(let a of n)t.has(a)||(a.parent=null);for(let a of s)a.dispose();for(let a of o)a.parentNode&&a.parentNode.removeChild(a);for(let a of t)a.parent=this.parent;r?this._root=Ki.realizeAreaConfig(r,{createTabBar:a=>this._createTabBar(),createHandle:()=>this._createHandle()},this._document):this._root=null,this.parent&&(t.forEach(a=>{this.attachWidget(a)}),this.parent.fit())}addWidget(e,t={}){let r=t.ref||null,n=t.mode||"tab-after",s=null;if(this._root&&r&&(s=this._root.findTabNode(r)),r&&!s)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,n){case"tab-after":this._insertTab(e,r,s,!0);break;case"tab-before":this._insertTab(e,r,s,!1);break;case"split-top":this._insertSplit(e,r,s,"vertical",!1);break;case"split-left":this._insertSplit(e,r,s,"horizontal",!1);break;case"split-right":this._insertSplit(e,r,s,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,r,s,"vertical",!0);break;case"merge-top":this._insertSplit(e,r,s,"vertical",!1,!0);break;case"merge-left":this._insertSplit(e,r,s,"horizontal",!1,!0);break;case"merge-right":this._insertSplit(e,r,s,"horizontal",!0,!0);break;case"merge-bottom":this._insertSplit(e,r,s,"vertical",!0,!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())}removeWidget(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())}hitTestTabAreas(e,t){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=Me.boxSizing(this.parent.node));let r=this.parent.node.getBoundingClientRect(),n=e-r.left-this._box.borderLeft,s=t-r.top-this._box.borderTop,o=this._root.hitTestTabNodes(n,s);if(!o)return null;let{tabBar:a,top:l,left:c,width:u,height:d}=o,f=this._box.borderLeft+this._box.borderRight,h=this._box.borderTop+this._box.borderBottom,m=r.width-f-(c+u),p=r.height-h-(l+d);return{tabBar:a,x:n,y:s,top:l,left:c,right:m,bottom:p,width:u,height:d}}init(){super.init();for(let e of this)this.attachWidget(e);for(let e of this.handles())this.parent.node.appendChild(e);this.parent.fit()}attachWidget(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new $d(e)),this.parent.isAttached&&ke.sendMessage(e,me.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&ke.sendMessage(e,me.Msg.AfterAttach))}detachWidget(e){if(this.parent.node!==e.node.parentNode)return;this.parent.isAttached&&ke.sendMessage(e,me.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&ke.sendMessage(e,me.Msg.AfterDetach);let t=this._items.get(e);t&&(this._items.delete(e),t.dispose())}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_removeWidget(e){if(!this._root)return;let t=this._root.findTabNode(e);if(!t)return;if(Ki.removeAria(e),t.tabBar.titles.length>1){if(t.tabBar.removeTab(e.title),this._hiddenMode===me.HiddenMode.Scale&&t.tabBar.titles.length==1){let f=t.tabBar.titles[0].owner;f.hiddenMode=me.HiddenMode.Display}return}if(t.tabBar.dispose(),this._root===t){this._root=null;return}this._root.holdAllSizes();let r=t.parent;t.parent=null;let n=z.removeFirstOf(r.children,t),s=z.removeAt(r.handles,n);if(z.removeAt(r.sizers,n),s.parentNode&&s.parentNode.removeChild(s),r.children.length>1){r.syncHandles();return}let o=r.parent;r.parent=null;let a=r.children[0],l=r.handles[0];if(r.children.length=0,r.handles.length=0,r.sizers.length=0,l.parentNode&&l.parentNode.removeChild(l),this._root===r){a.parent=null,this._root=a;return}let c=o,u=c.children.indexOf(r);if(a instanceof Ki.TabLayoutNode){a.parent=c,c.children[u]=a;return}let d=z.removeAt(c.handles,u);z.removeAt(c.children,u),z.removeAt(c.sizers,u),d.parentNode&&d.parentNode.removeChild(d);for(let f=0,h=a.children.length;f<h;++f){let m=a.children[f],p=a.handles[f],v=a.sizers[f];z.insert(c.children,u+f,m),z.insert(c.handles,u+f,p),z.insert(c.sizers,u+f,v),m.parent=c}a.children.length=0,a.handles.length=0,a.sizers.length=0,a.parent=null,c.syncHandles()}_createTabNode(e){let t=new Ki.TabLayoutNode(this._createTabBar());return t.tabBar.addTab(e.title),Ki.addAria(e,t.tabBar),t}_insertTab(e,t,r,n){if(e===t)return;if(!this._root){let o=new Ki.TabLayoutNode(this._createTabBar());o.tabBar.addTab(e.title),this._root=o,Ki.addAria(e,o.tabBar);return}r||(r=this._root.findFirstTabNode()),r.tabBar.titles.indexOf(e.title)===-1&&(this._removeWidget(e),e.hide());let s;if(t?s=r.tabBar.titles.indexOf(t.title):s=r.tabBar.currentIndex,this._hiddenMode===me.HiddenMode.Scale)if(r.tabBar.titles.length===0)e.hiddenMode=me.HiddenMode.Display;else if(r.tabBar.titles.length==1){let o=r.tabBar.titles[0].owner;o.hiddenMode=me.HiddenMode.Scale}else e.hiddenMode=me.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;r.tabBar.insertTab(s+(n?1:0),e.title),Ki.addAria(e,r.tabBar)}_insertSplit(e,t,r,n,s,o=!1){if(e===t&&r&&r.tabBar.titles.length===1)return;if(this._removeWidget(e),!this._root){this._root=this._createTabNode(e);return}if(!r||!r.parent){let f=this._splitRoot(n),h=s?f.children.length:0;f.normalizeSizes();let m=Ki.createSizer(r?1:Ki.GOLDEN_RATIO),p=this._createTabNode(e);z.insert(f.children,h,p),z.insert(f.sizers,h,m),z.insert(f.handles,h,this._createHandle()),p.parent=f,f.normalizeSizes(),f.syncHandles();return}let a=r.parent;if(a.orientation===n){let f=a.children.indexOf(r);if(o){let v=f+(s?1:-1),x=a.children[v];if(x instanceof Ki.TabLayoutNode){this._insertTab(e,null,x,!0),++x.tabBar.currentIndex;return}}a.normalizeSizes();let h=a.sizers[f].sizeHint/=2,m=f+(s?1:0),p=this._createTabNode(e);z.insert(a.children,m,p),z.insert(a.sizers,m,Ki.createSizer(h)),z.insert(a.handles,m,this._createHandle()),p.parent=a,a.syncHandles();return}let l=z.removeFirstOf(a.children,r),c=new Ki.SplitLayoutNode(n);c.normalized=!0,c.children.push(r),c.sizers.push(Ki.createSizer(.5)),c.handles.push(this._createHandle()),r.parent=c;let u=s?1:0,d=this._createTabNode(e);z.insert(c.children,u,d),z.insert(c.sizers,u,Ki.createSizer(.5)),z.insert(c.handles,u,this._createHandle()),d.parent=c,c.syncHandles(),z.insert(a.children,l,c),c.parent=a}_splitRoot(e){let t=this._root;if(t instanceof Ki.SplitLayoutNode&&t.orientation===e)return t;let r=this._root=new Ki.SplitLayoutNode(e);return t&&(r.children.push(t),r.sizers.push(Ki.createSizer(0)),r.handles.push(this._createHandle()),t.parent=r),r}_fit(){let e=0,t=0;if(this._root){let s=this._root.fit(this._spacing,this._items);e=s.minWidth,t=s.minHeight}let r=this._box=Me.boxSizing(this.parent.node);e+=r.horizontalSum,t+=r.verticalSum;let n=this.parent.node.style;n.minWidth=`${e}px`,n.minHeight=`${t}px`,this._dirty=!0,this.parent.parent&&ke.sendMessage(this.parent.parent,me.Msg.FitRequest),this._dirty&&ke.sendMessage(this.parent,me.Msg.UpdateRequest)}_update(e,t){if(this._dirty=!1,!this._root)return;e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=Me.boxSizing(this.parent.node));let r=this._box.paddingTop,n=this._box.paddingLeft,s=e-this._box.horizontalSum,o=t-this._box.verticalSum;this._root.update(r,n,s,o,this._spacing,this._items)}_createTabBar(){let e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&this.attachWidget(e),e}_createHandle(){let e=this.renderer.createHandle(),t=e.style;return t.position="absolute",t.contain="strict",t.top="0",t.left="0",t.width="0",t.height="0",this.parent&&this.parent.node.appendChild(e),e}};(function(i){i.GOLDEN_RATIO=.618;function e(f){let h=new aa;return h.sizeHint=f,h.size=f,h}i.createSizer=e;function t(f,h){let m;return f.type==="tab-area"?m=l(f,h):m=c(f,h),m}i.normalizeAreaConfig=t;function r(f,h,m){let p;return f.type==="tab-area"?p=u(f,h,m):p=d(f,h,m),p}i.realizeAreaConfig=r;class n{constructor(h){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;let m=new aa,p=new aa;m.stretch=0,p.stretch=1,this.tabBar=h,this.sizers=[m,p]}get top(){return this._top}get left(){return this._left}get width(){return this._width}get height(){return this._height}*iterAllWidgets(){yield this.tabBar,yield*this.iterUserWidgets()}*iterUserWidgets(){for(let h of this.tabBar.titles)yield h.owner}*iterSelectedWidgets(){let h=this.tabBar.currentTitle;h&&(yield h.owner)}*iterTabBars(){yield this.tabBar}*iterHandles(){}findTabNode(h){return this.tabBar.titles.indexOf(h.title)!==-1?this:null}findSplitNode(h){return null}findFirstTabNode(){return this}hitTestTabNodes(h,m){return h<this._left||h>=this._left+this._width||m<this._top||m>=this._top+this._height?null:this}createConfig(){let h=this.tabBar.titles.map(p=>p.owner),m=this.tabBar.currentIndex;return{type:"tab-area",widgets:h,currentIndex:m}}holdAllSizes(){}fit(h,m){let p=0,v=0,x=1/0,C=1/0,y=m.get(this.tabBar),S=this.tabBar.currentTitle,M=S?m.get(S.owner):void 0,[_,E]=this.sizers;return y&&y.fit(),M&&M.fit(),y&&!y.isHidden?(p=Math.max(p,y.minWidth),v+=y.minHeight,_.minSize=y.minHeight,_.maxSize=y.maxHeight):(_.minSize=0,_.maxSize=0),M&&!M.isHidden?(p=Math.max(p,M.minWidth),v+=M.minHeight,E.minSize=M.minHeight,E.maxSize=1/0):(E.minSize=0,E.maxSize=1/0),{minWidth:p,minHeight:v,maxWidth:x,maxHeight:C}}update(h,m,p,v,x,C){this._top=m,this._left=h,this._width=p,this._height=v;let y=C.get(this.tabBar),S=this.tabBar.currentTitle,M=S?C.get(S.owner):void 0;if(ns.calc(this.sizers,v),y&&!y.isHidden){let _=this.sizers[0].size;y.update(h,m,p,_),m+=_}if(M&&!M.isHidden){let _=this.sizers[1].size;M.update(h,m,p,_)}}}i.TabLayoutNode=n;class s{constructor(h){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=h}*iterAllWidgets(){for(let h of this.children)yield*h.iterAllWidgets()}*iterUserWidgets(){for(let h of this.children)yield*h.iterUserWidgets()}*iterSelectedWidgets(){for(let h of this.children)yield*h.iterSelectedWidgets()}*iterTabBars(){for(let h of this.children)yield*h.iterTabBars()}*iterHandles(){yield*this.handles;for(let h of this.children)yield*h.iterHandles()}findTabNode(h){for(let m=0,p=this.children.length;m<p;++m){let v=this.children[m].findTabNode(h);if(v)return v}return null}findSplitNode(h){let m=this.handles.indexOf(h);if(m!==-1)return{index:m,node:this};for(let p=0,v=this.children.length;p<v;++p){let x=this.children[p].findSplitNode(h);if(x)return x}return null}findFirstTabNode(){return this.children.length===0?null:this.children[0].findFirstTabNode()}hitTestTabNodes(h,m){for(let p=0,v=this.children.length;p<v;++p){let x=this.children[p].hitTestTabNodes(h,m);if(x)return x}return null}createConfig(){let h=this.orientation,m=this.createNormalizedSizes(),p=this.children.map(v=>v.createConfig());return{type:"split-area",orientation:h,children:p,sizes:m}}syncHandles(){this.handles.forEach((h,m)=>{h.setAttribute("data-orientation",this.orientation),m===this.handles.length-1?h.classList.add("lm-mod-hidden"):h.classList.remove("lm-mod-hidden")})}holdSizes(){for(let h of this.sizers)h.sizeHint=h.size}holdAllSizes(){for(let h of this.children)h.holdAllSizes();this.holdSizes()}normalizeSizes(){let h=this.sizers.length;if(h===0)return;this.holdSizes();let m=this.sizers.reduce((p,v)=>p+v.sizeHint,0);if(m===0)for(let p of this.sizers)p.size=p.sizeHint=1/h;else for(let p of this.sizers)p.size=p.sizeHint/=m;this.normalized=!0}createNormalizedSizes(){let h=this.sizers.length;if(h===0)return[];let m=this.sizers.map(v=>v.size),p=m.reduce((v,x)=>v+x,0);if(p===0)for(let v=m.length-1;v>-1;v--)m[v]=1/h;else for(let v=m.length-1;v>-1;v--)m[v]/=p;return m}fit(h,m){let p=this.orientation==="horizontal",v=Math.max(0,this.children.length-1)*h,x=p?v:0,C=p?0:v,y=1/0,S=1/0;for(let M=0,_=this.children.length;M<_;++M){let E=this.children[M].fit(h,m);p?(C=Math.max(C,E.minHeight),x+=E.minWidth,this.sizers[M].minSize=E.minWidth):(x=Math.max(x,E.minWidth),C+=E.minHeight,this.sizers[M].minSize=E.minHeight)}return{minWidth:x,minHeight:C,maxWidth:y,maxHeight:S}}update(h,m,p,v,x,C){let y=this.orientation==="horizontal",S=Math.max(0,this.children.length-1)*x,M=Math.max(0,(y?p:v)-S);if(this.normalized){for(let _ of this.sizers)_.sizeHint*=M;this.normalized=!1}ns.calc(this.sizers,M);for(let _=0,E=this.children.length;_<E;++_){let R=this.children[_],A=this.sizers[_].size,H=this.handles[_].style;y?(R.update(h,m,A,v,x,C),h+=A,H.top=`${m}px`,H.left=`${h}px`,H.width=`${x}px`,H.height=`${v}px`,h+=x):(R.update(h,m,p,A,x,C),m+=A,H.top=`${m}px`,H.left=`${h}px`,H.width=`${p}px`,H.height=`${x}px`,m+=x)}}}i.SplitLayoutNode=s;function o(f,h){f.node.setAttribute("role","tabpanel");let m=h.renderer;if(m instanceof Cc.Renderer){let p=m.createTabKey({title:f.title,current:!1,zIndex:0});f.node.setAttribute("aria-labelledby",p)}}i.addAria=o;function a(f){f.node.removeAttribute("role"),f.node.removeAttribute("aria-labelledby")}i.removeAria=a;function l(f,h){if(f.widgets.length===0)return null;let m=[];for(let v of f.widgets)h.has(v)||(h.add(v),m.push(v));if(m.length===0)return null;let p=f.currentIndex;return p!==-1&&(p<0||p>=m.length)&&(p=0),{type:"tab-area",widgets:m,currentIndex:p}}function c(f,h){let m=f.orientation,p=[],v=[];for(let x=0,C=f.children.length;x<C;++x){let y=t(f.children[x],h);y&&(y.type==="tab-area"||y.orientation!==m?(p.push(y),v.push(Math.abs(f.sizes[x]||0))):(p.push(...y.children),v.push(...y.sizes)))}return p.length===0?null:p.length===1?p[0]:{type:"split-area",orientation:m,children:p,sizes:v}}function u(f,h,m){let p=h.createTabBar(m);for(let v of f.widgets)v.hide(),p.addTab(v.title),i.addAria(v,p);return p.currentIndex=f.currentIndex,new n(p)}function d(f,h,m){let p=new s(f.orientation);return f.children.forEach((v,x)=>{let C=r(v,h,m),y=e(f.sizes[x]),S=h.createHandle();p.children.push(C),p.handles.push(S),p.sizers.push(y),C.parent=p}),p.syncHandles(),p.normalizeSizes(),p}})(Ki||(Ki={}));Fd=class extends me{constructor(e={}){super(),this._drag=null,this._tabsMovable=!0,this._tabsConstrained=!1,this._addButtonEnabled=!1,this._pressData=null,this._layoutModified=new Re(this),this._addRequested=new Re(this),this.addClass("lm-DockPanel"),this._document=e.document||document,this._mode=e.mode||"multiple-document",this._renderer=e.renderer||Fd.defaultRenderer,this._edges=e.edges||Bi.DEFAULT_EDGES,e.tabsMovable!==void 0&&(this._tabsMovable=e.tabsMovable),e.tabsConstrained!==void 0&&(this._tabsConstrained=e.tabsConstrained),e.addButtonEnabled!==void 0&&(this._addButtonEnabled=e.addButtonEnabled),this.dataset.mode=this._mode;let t={createTabBar:()=>this._createTabBar(),createHandle:()=>this._createHandle()};this.layout=new r_({document:this._document,renderer:t,spacing:e.spacing,hiddenMode:e.hiddenMode}),this.overlay=e.overlay||new Fd.Overlay,this.node.appendChild(this.overlay.node)}dispose(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),super.dispose()}get hiddenMode(){return this.layout.hiddenMode}set hiddenMode(e){this.layout.hiddenMode=e}get layoutModified(){return this._layoutModified}get addRequested(){return this._addRequested}get renderer(){return this.layout.renderer}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get mode(){return this._mode}set mode(e){if(this._mode===e)return;this._mode=e,this.dataset.mode=e;let t=this.layout;switch(e){case"multiple-document":for(let r of t.tabBars())r.show();break;case"single-document":t.restoreLayout(Bi.createSingleDocumentConfig(this));break;default:throw"unreachable"}ke.postMessage(this,Bi.LayoutModified)}get tabsMovable(){return this._tabsMovable}set tabsMovable(e){this._tabsMovable=e;for(let t of this.tabBars())t.tabsMovable=e}get tabsConstrained(){return this._tabsConstrained}set tabsConstrained(e){this._tabsConstrained=e}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled=e;for(let t of this.tabBars())t.addButtonEnabled=e}get isEmpty(){return this.layout.isEmpty}*widgets(){yield*this.layout.widgets()}*selectedWidgets(){yield*this.layout.selectedWidgets()}*tabBars(){yield*this.layout.tabBars()}*handles(){yield*this.layout.handles()}selectWidget(e){let t=Rs(this.tabBars(),r=>r.titles.indexOf(e.title)!==-1);if(!t)throw new Error("Widget is not contained in the dock panel.");t.currentTitle=e.title}activateWidget(e){this.selectWidget(e),e.activate()}saveLayout(){return this.layout.saveLayout()}restoreLayout(e){this._mode="multiple-document",this.layout.restoreLayout(e),(Ei.IS_EDGE||Ei.IS_IE)&&ke.flush(),ke.postMessage(this,Bi.LayoutModified)}addWidget(e,t={}){this._mode==="single-document"?this.layout.addWidget(e):this.layout.addWidget(e,t),ke.postMessage(this,Bi.LayoutModified)}processMessage(e){e.type==="layout-modified"?this._layoutModified.emit(void 0):super.processMessage(e)}handleEvent(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){Bi.isGeneratedTabBarProperty.get(e.child)||e.child.addClass("lm-DockPanel-widget")}onChildRemoved(e){Bi.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),ke.postMessage(this,Bi.LayoutModified))}_evtDragEnter(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())}_evtDragLeave(e){e.preventDefault(),!(this._tabsConstrained&&e.source!==this)&&(e.stopPropagation(),this.overlay.hide(1))}_evtDragOver(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)}_evtDrop(e){if(e.preventDefault(),this.overlay.hide(0),e.proposedAction==="none"){e.dropAction="none";return}let{clientX:t,clientY:r}=e,{zone:n,target:s}=Bi.findDropTarget(this,t,r,this._edges);if(this._tabsConstrained&&e.source!==this||n==="invalid"){e.dropAction="none";return}let a=e.mimeData.getData("application/vnd.lumino.widget-factory");if(typeof a!="function"){e.dropAction="none";return}let l=a();if(!(l instanceof me)){e.dropAction="none";return}if(l.contains(this)){e.dropAction="none";return}let c=s?Bi.getDropRef(s.tabBar):null;switch(n){case"root-all":this.addWidget(l);break;case"root-top":this.addWidget(l,{mode:"split-top"});break;case"root-left":this.addWidget(l,{mode:"split-left"});break;case"root-right":this.addWidget(l,{mode:"split-right"});break;case"root-bottom":this.addWidget(l,{mode:"split-bottom"});break;case"widget-all":this.addWidget(l,{mode:"tab-after",ref:c});break;case"widget-top":this.addWidget(l,{mode:"split-top",ref:c});break;case"widget-left":this.addWidget(l,{mode:"split-left",ref:c});break;case"widget-right":this.addWidget(l,{mode:"split-right",ref:c});break;case"widget-bottom":this.addWidget(l,{mode:"split-bottom",ref:c});break;case"widget-tab":this.addWidget(l,{mode:"tab-after",ref:c});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(l)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&(this._releaseMouse(),ke.postMessage(this,Bi.LayoutModified))}_evtPointerDown(e){if(e.button!==0)return;let t=this.layout,r=e.target,n=Rs(t.handles(),u=>u.contains(r));if(!n)return;e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);let s=n.getBoundingClientRect(),o=e.clientX-s.left,a=e.clientY-s.top,l=window.getComputedStyle(n),c=ar.overrideCursor(l.cursor,this._document);this._pressData={handle:n,deltaX:o,deltaY:a,override:c}}_evtPointerMove(e){if(!this._pressData)return;e.preventDefault(),e.stopPropagation();let t=this.node.getBoundingClientRect(),r=e.clientX-t.left-this._pressData.deltaX,n=e.clientY-t.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,r,n)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),ke.postMessage(this,Bi.LayoutModified))}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))}_showOverlay(e,t){let{zone:r,target:n}=Bi.findDropTarget(this,e,t,this._edges);if(r==="invalid")return this.overlay.hide(100),r;let s,o,a,l,c=Me.boxSizing(this.node),u=this.node.getBoundingClientRect();switch(r){case"root-all":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"root-top":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=u.height*Bi.GOLDEN_RATIO;break;case"root-left":s=c.paddingTop,o=c.paddingLeft,a=u.width*Bi.GOLDEN_RATIO,l=c.paddingBottom;break;case"root-right":s=c.paddingTop,o=u.width*Bi.GOLDEN_RATIO,a=c.paddingRight,l=c.paddingBottom;break;case"root-bottom":s=u.height*Bi.GOLDEN_RATIO,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"widget-all":s=n.top,o=n.left,a=n.right,l=n.bottom;break;case"widget-top":s=n.top,o=n.left,a=n.right,l=n.bottom+n.height/2;break;case"widget-left":s=n.top,o=n.left,a=n.right+n.width/2,l=n.bottom;break;case"widget-right":s=n.top,o=n.left+n.width/2,a=n.right,l=n.bottom;break;case"widget-bottom":s=n.top+n.height/2,o=n.left,a=n.right,l=n.bottom;break;case"widget-tab":{let d=n.tabBar.node.getBoundingClientRect().height;s=n.top,o=n.left,a=n.right,l=n.bottom+n.height-d;break}default:throw"unreachable"}return this.overlay.show({top:s,left:o,right:a,bottom:l}),r}_createTabBar(){let e=this._renderer.createTabBar(this._document);return Bi.isGeneratedTabBarProperty.set(e,!0),this._mode==="single-document"&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e}_createHandle(){return this._renderer.createHandle()}_onTabMoved(){ke.postMessage(this,Bi.LayoutModified)}_onCurrentChanged(e,t){let{previousTitle:r,currentTitle:n}=t;r&&r.owner.hide(),n&&n.owner.show(),(Ei.IS_EDGE||Ei.IS_IE)&&ke.flush(),ke.postMessage(this,Bi.LayoutModified)}_onTabAddRequested(e){this._addRequested.emit(e)}_onTabActivateRequested(e,t){t.title.owner.activate()}_onTabCloseRequested(e,t){t.title.owner.close()}_onTabDetachRequested(e,t){if(this._drag)return;e.releaseMouse();let{title:r,tab:n,clientX:s,clientY:o,offset:a}=t,l=new ll.MimeData,c=()=>r.owner;l.setData("application/vnd.lumino.widget-factory",c);let u=n.cloneNode(!0);a&&(u.style.top=`-${a.y}px`,u.style.left=`-${a.x}px`),this._drag=new ar({document:this._document,mimeData:l,dragImage:u,proposedAction:"move",supportedActions:"move",source:this}),n.classList.add("lm-mod-hidden");let d=()=>{this._drag=null,n.classList.remove("lm-mod-hidden")};this._drag.start(s,o).then(d)}};(function(i){class e{constructor(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.style.position="absolute",this.node.style.contain="strict"}show(n){let s=this.node.style;s.top=`${n.top}px`,s.left=`${n.left}px`,s.right=`${n.right}px`,s.bottom=`${n.bottom}px`,clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"))}hide(n){if(!this._hidden){if(n<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(()=>{this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden")},n))}}}i.Overlay=e;class t{createTabBar(n){let s=new Cc({document:n});return s.addClass("lm-DockPanel-tabBar"),s}createHandle(){let n=document.createElement("div");return n.className="lm-DockPanel-handle",n}}i.Renderer=t,i.defaultRenderer=new t})(Fd||(Fd={}));(function(i){i.GOLDEN_RATIO=.618,i.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},i.LayoutModified=new bc("layout-modified"),i.isGeneratedTabBarProperty=new ut({name:"isGeneratedTabBar",create:()=>!1});function e(n){if(n.isEmpty)return{main:null};let s=Array.from(n.widgets()),o=n.selectedWidgets().next().value,a=o?s.indexOf(o):-1;return{main:{type:"tab-area",widgets:s,currentIndex:a}}}i.createSingleDocumentConfig=e;function t(n,s,o,a){if(!Me.hitTest(n.node,s,o))return{zone:"invalid",target:null};let l=n.layout;if(l.isEmpty)return{zone:"root-all",target:null};if(n.mode==="multiple-document"){let y=n.node.getBoundingClientRect(),S=s-y.left+1,M=o-y.top+1,_=y.right-s,E=y.bottom-o;switch(Math.min(M,_,E,S)){case M:if(M<a.top)return{zone:"root-top",target:null};break;case _:if(_<a.right)return{zone:"root-right",target:null};break;case E:if(E<a.bottom)return{zone:"root-bottom",target:null};break;case S:if(S<a.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}let c=l.hitTestTabAreas(s,o);if(!c)return{zone:"invalid",target:null};if(n.mode==="single-document")return{zone:"widget-all",target:c};let u=c.x-c.left+1,d=c.y-c.top+1,f=c.left+c.width-c.x,h=c.top+c.height-c.y,m=c.tabBar.node.getBoundingClientRect().height;if(d<m)return{zone:"widget-tab",target:c};let p=Math.round(c.width/3),v=Math.round(c.height/3);if(u>p&&f>p&&d>v&&h>v)return{zone:"widget-all",target:c};u/=p,d/=v,f/=p,h/=v;let x=Math.min(u,d,f,h),C;switch(x){case u:C="widget-left";break;case d:C="widget-top";break;case f:C="widget-right";break;case h:C="widget-bottom";break;default:throw"unreachable"}return{zone:C,target:c}}i.findDropTarget=t;function r(n){return n.titles.length===0?null:n.currentTitle?n.currentTitle.owner:n.titles[n.titles.length-1].owner}i.getDropRef=r})(Bi||(Bi={}));al=class extends ca{constructor(e={}){super(e),this._dirty=!1,this._rowSpacing=4,this._columnSpacing=4,this._items=[],this._rowStarts=[],this._columnStarts=[],this._rowSizers=[new aa],this._columnSizers=[new aa],this._box=null,e.rowCount!==void 0&&Cr.reallocSizers(this._rowSizers,e.rowCount),e.columnCount!==void 0&&Cr.reallocSizers(this._columnSizers,e.columnCount),e.rowSpacing!==void 0&&(this._rowSpacing=Cr.clampValue(e.rowSpacing)),e.columnSpacing!==void 0&&(this._columnSpacing=Cr.clampValue(e.columnSpacing))}dispose(){for(let e of this._items){let t=e.widget;e.dispose(),t.dispose()}this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,super.dispose()}get rowCount(){return this._rowSizers.length}set rowCount(e){e!==this.rowCount&&(Cr.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())}get columnCount(){return this._columnSizers.length}set columnCount(e){e!==this.columnCount&&(Cr.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())}get rowSpacing(){return this._rowSpacing}set rowSpacing(e){e=Cr.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())}get columnSpacing(){return this._columnSpacing}set columnSpacing(e){e=Cr.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())}rowStretch(e){let t=this._rowSizers[e];return t?t.stretch:-1}setRowStretch(e,t){let r=this._rowSizers[e];r&&(t=Cr.clampValue(t),r.stretch!==t&&(r.stretch=t,this.parent&&this.parent.update()))}columnStretch(e){let t=this._columnSizers[e];return t?t.stretch:-1}setColumnStretch(e,t){let r=this._columnSizers[e];r&&(t=Cr.clampValue(t),r.stretch!==t&&(r.stretch=t,this.parent&&this.parent.update()))}*[Symbol.iterator](){for(let e of this._items)yield e.widget}addWidget(e){z.findFirstIndex(this._items,r=>r.widget===e)===-1&&(this._items.push(new $d(e)),this.parent&&this.attachWidget(e))}removeWidget(e){let t=z.findFirstIndex(this._items,n=>n.widget===e);if(t===-1)return;let r=z.removeAt(this._items,t);this.parent&&this.detachWidget(e),r.dispose()}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&ke.sendMessage(e,me.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&ke.sendMessage(e,me.Msg.AfterAttach),this.parent.fit()}detachWidget(e){this.parent.isAttached&&ke.sendMessage(e,me.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&ke.sendMessage(e,me.Msg.AfterDetach),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){for(let l=0,c=this.rowCount;l<c;++l)this._rowSizers[l].minSize=0;for(let l=0,c=this.columnCount;l<c;++l)this._columnSizers[l].minSize=0;let e=this._items.filter(l=>!l.isHidden);for(let l=0,c=e.length;l<c;++l)e[l].fit();let t=this.rowCount-1,r=this.columnCount-1;e.sort(Cr.rowSpanCmp);for(let l=0,c=e.length;l<c;++l){let u=e[l],d=al.getCellConfig(u.widget),f=Math.min(d.row,t),h=Math.min(d.row+d.rowSpan-1,t);Cr.distributeMin(this._rowSizers,f,h,u.minHeight)}e.sort(Cr.columnSpanCmp);for(let l=0,c=e.length;l<c;++l){let u=e[l],d=al.getCellConfig(u.widget),f=Math.min(d.column,r),h=Math.min(d.column+d.columnSpan-1,r);Cr.distributeMin(this._columnSizers,f,h,u.minWidth)}if(this.fitPolicy==="set-no-constraint"){ke.sendMessage(this.parent,me.Msg.UpdateRequest);return}let n=t*this._rowSpacing,s=r*this._columnSpacing;for(let l=0,c=this.rowCount;l<c;++l)n+=this._rowSizers[l].minSize;for(let l=0,c=this.columnCount;l<c;++l)s+=this._columnSizers[l].minSize;let o=this._box=Me.boxSizing(this.parent.node);s+=o.horizontalSum,n+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${s}px`,a.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&ke.sendMessage(this.parent.parent,me.Msg.FitRequest),this._dirty&&ke.sendMessage(this.parent,me.Msg.UpdateRequest)}_update(e,t){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=Me.boxSizing(this.parent.node));let r=this._box.paddingTop,n=this._box.paddingLeft,s=e-this._box.horizontalSum,o=t-this._box.verticalSum,a=this.rowCount-1,l=this.columnCount-1,c=a*this._rowSpacing,u=l*this._columnSpacing;ns.calc(this._rowSizers,Math.max(0,o-c)),ns.calc(this._columnSizers,Math.max(0,s-u));for(let d=0,f=r,h=this.rowCount;d<h;++d)this._rowStarts[d]=f,f+=this._rowSizers[d].size+this._rowSpacing;for(let d=0,f=n,h=this.columnCount;d<h;++d)this._columnStarts[d]=f,f+=this._columnSizers[d].size+this._columnSpacing;for(let d=0,f=this._items.length;d<f;++d){let h=this._items[d];if(h.isHidden)continue;let m=al.getCellConfig(h.widget),p=Math.min(m.row,a),v=Math.min(m.column,l),x=Math.min(m.row+m.rowSpan-1,a),C=Math.min(m.column+m.columnSpan-1,l),y=this._columnStarts[v],S=this._rowStarts[p],M=this._columnStarts[C]+this._columnSizers[C].size-y,_=this._rowStarts[x]+this._rowSizers[x].size-S;h.update(y,S,M,_)}}};(function(i){function e(r){return Cr.cellConfigProperty.get(r)}i.getCellConfig=e;function t(r,n){Cr.cellConfigProperty.set(r,Cr.normalizeConfig(n))}i.setCellConfig=t})(al||(al={}));(function(i){i.cellConfigProperty=new ut({name:"cellConfig",create:()=>({row:0,column:0,rowSpan:1,columnSpan:1}),changed:a});function e(l){let c=Math.max(0,Math.floor(l.row||0)),u=Math.max(0,Math.floor(l.column||0)),d=Math.max(1,Math.floor(l.rowSpan||0)),f=Math.max(1,Math.floor(l.columnSpan||0));return{row:c,column:u,rowSpan:d,columnSpan:f}}i.normalizeConfig=e;function t(l){return Math.max(0,Math.floor(l))}i.clampValue=t;function r(l,c){let u=i.cellConfigProperty.get(l.widget),d=i.cellConfigProperty.get(c.widget);return u.rowSpan-d.rowSpan}i.rowSpanCmp=r;function n(l,c){let u=i.cellConfigProperty.get(l.widget),d=i.cellConfigProperty.get(c.widget);return u.columnSpan-d.columnSpan}i.columnSpanCmp=n;function s(l,c){for(c=Math.max(1,Math.floor(c));l.length<c;)l.push(new aa);l.length>c&&(l.length=c)}i.reallocSizers=s;function o(l,c,u,d){if(u<c)return;if(c===u){let m=l[c];m.minSize=Math.max(m.minSize,d);return}let f=0;for(let m=c;m<=u;++m)f+=l[m].minSize;if(f>=d)return;let h=(d-f)/(u-c+1);for(let m=c;m<=u;++m)l[m].minSize+=h}i.distributeMin=o;function a(l){l.parent&&l.parent.layout instanceof al&&l.parent.fit()}})(Cr||(Cr={}));jh=class extends me{constructor(e={}){super({node:Z5.createNode()}),this._activeIndex=-1,this._tabFocusIndex=0,this._menus=[],this._childMenu=null,this._overflowMenu=null,this._menuItemSizes=[],this._overflowIndex=-1,this.addClass("lm-MenuBar"),this.setFlag(me.Flag.DisallowLayout),this.renderer=e.renderer||jh.defaultRenderer,this._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},this._overflowMenuOptions=e.overflowMenuOptions||{isVisible:!0}}dispose(){this._closeChildMenu(),this._menus.length=0,super.dispose()}get childMenu(){return this._childMenu}get overflowIndex(){return this._overflowIndex}get overflowMenu(){return this._overflowMenu}get contentNode(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]}get activeMenu(){return this._menus[this._activeIndex]||null}set activeMenu(e){this.activeIndex=e?this._menus.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._menus.length)&&(e=-1),e>-1&&this._menus[e].items.length===0&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())}get menus(){return this._menus}openActiveMenu(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))}addMenu(e,t=!0){this.insertMenu(this._menus.length,e,t)}insertMenu(e,t,r=!0){this._closeChildMenu();let n=this._menus.indexOf(t),s=Math.max(0,Math.min(e,this._menus.length));if(n===-1){z.insert(this._menus,s,t),t.addClass("lm-MenuBar-menu"),t.aboutToClose.connect(this._onMenuAboutToClose,this),t.menuRequested.connect(this._onMenuMenuRequested,this),t.title.changed.connect(this._onTitleChanged,this),r&&this.update();return}s===this._menus.length&&s--,n!==s&&(z.move(this._menus,n,s),r&&this.update())}removeMenu(e,t=!0){this.removeMenuAt(this._menus.indexOf(e),t)}removeMenuAt(e,t=!0){this._closeChildMenu();let r=z.removeAt(this._menus,e);r&&(r.aboutToClose.disconnect(this._onMenuAboutToClose,this),r.menuRequested.disconnect(this._onMenuMenuRequested,this),r.title.changed.disconnect(this._onTitleChanged,this),r.removeClass("lm-MenuBar-menu"),t&&this.update())}clearMenus(){if(this._menus.length!==0){this._closeChildMenu();for(let e of this._menus)e.aboutToClose.disconnect(this._onMenuAboutToClose,this),e.menuRequested.disconnect(this._onMenuMenuRequested,this),e.title.changed.disconnect(this._onTitleChanged,this),e.removeClass("lm-MenuBar-menu");this._menus.length=0,this.update()}}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":case"mouseleave":this._evtMouseMove(e);break;case"focusout":this._evtFocusOut(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("focusout",this),this.node.addEventListener("contextmenu",this)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("focusout",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()}onActivateRequest(e){this.isAttached&&this._focusItemAt(0)}onResize(e){this.update(),super.onResize(e)}onUpdateRequest(e){var t;let r=this._menus,n=this.renderer,s=this._activeIndex,o=this._tabFocusIndex>=0&&this._tabFocusIndex<r.length?this._tabFocusIndex:0,a=this._overflowIndex>-1?this._overflowIndex:r.length,l=0,c=!1;a=this._overflowMenu!==null?a-1:a;let u=new Array(a);for(let d=0;d<a;++d)u[d]=n.renderItem({title:r[d].title,active:d===s,tabbable:d===o,disabled:r[d].items.length===0,onfocus:()=>{this._tabFocusIndex=d,this.activeIndex=d}}),l+=this._menuItemSizes[d],r[d].title.label===this._overflowMenuOptions.title&&(c=!0,a--);if(this._overflowMenuOptions.isVisible){if(this._overflowIndex>-1&&!c){if(this._overflowMenu===null){let d=(t=this._overflowMenuOptions.title)!==null&&t!==void 0?t:"...";this._overflowMenu=new la({commands:new rn}),this._overflowMenu.title.label=d,this._overflowMenu.title.mnemonic=0,this.addMenu(this._overflowMenu,!1)}for(let d=r.length-2;d>=a;d--){let f=this.menus[d];f.title.mnemonic=0,this._overflowMenu.insertItem(0,{type:"submenu",submenu:f}),this.removeMenu(f,!1)}u[a]=n.renderItem({title:this._overflowMenu.title,active:a===s&&r[a].items.length!==0,tabbable:a===o,disabled:r[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}else if(this._overflowMenu!==null){let d=this._overflowMenu.items,f=this.node.offsetWidth,h=this._overflowMenu.items.length;for(let m=0;m<h;++m){let p=r.length-1-m;if(f-l>this._menuItemSizes[p]){let v=d[0].submenu;this._overflowMenu.removeItemAt(0),this.insertMenu(a,v,!1),u[a]=n.renderItem({title:v.title,active:!1,tabbable:a===o,disabled:r[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}}this._overflowMenu.items.length===0&&(this.removeMenu(this._overflowMenu,!1),u.pop(),this._overflowMenu=null,this._overflowIndex=-1)}}Bt.render(u,this.contentNode),this._updateOverflowIndex()}_updateOverflowIndex(){if(!this._overflowMenuOptions.isVisible)return;let e=this.contentNode.childNodes,t=this.node.offsetWidth,r=0,n=-1,s=e.length;if(this._menuItemSizes.length==0)for(let o=0;o<s;o++){let a=e[o];r+=a.offsetWidth,this._menuItemSizes.push(a.offsetWidth),r>t&&n===-1&&(n=o)}else for(let o=0;o<this._menuItemSizes.length;o++)if(r+=this._menuItemSizes[o],r>t){n=o;break}this._overflowIndex=n}_evtKeyDown(e){let t=e.keyCode;if(t===9){this.activeIndex=-1;return}if(e.preventDefault(),e.stopPropagation(),t===13||t===32||t===38||t===40){if(this.activeIndex=this._tabFocusIndex,this.activeIndex!==this._tabFocusIndex)return;this.openActiveMenu();return}if(t===27){this._closeChildMenu(),this._focusItemAt(this.activeIndex);return}if(t===37||t===39){let o=t===37?-1:1,a=this._tabFocusIndex+o,l=this._menus.length;for(let c=0;c<l;c++){let u=(l+a+o*c)%l;if(this._menus[u].items.length){this._focusItemAt(u);return}}return}let r=Ts().keyForKeydownEvent(e);if(!r)return;let n=this._activeIndex+1,s=Z5.findMnemonic(this._menus,r,n);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.openActiveMenu()):s.index!==-1?(this.activeIndex=s.index,this._focusItemAt(this.activeIndex)):s.auto!==-1&&(this.activeIndex=s.auto,this._focusItemAt(this.activeIndex))}_evtMouseDown(e){if(!Me.hitTest(this.node,e.clientX,e.clientY))return;e.stopPropagation(),e.stopImmediatePropagation();let t=z.findFirstIndex(this.contentNode.children,r=>Me.hitTest(r,e.clientX,e.clientY));if(t===-1){this._closeChildMenu();return}if(e.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=t;else{e.preventDefault();let r=this._positionForMenu(t);la.saveWindowData(),this.activeIndex=t,this._openChildMenu(r)}}_evtMouseMove(e){let t=z.findFirstIndex(this.contentNode.children,n=>Me.hitTest(n,e.clientX,e.clientY));if(t===this._activeIndex||t===-1&&this._childMenu)return;let r=t>=0&&this._childMenu?this._positionForMenu(t):null;la.saveWindowData(),this.activeIndex=t,r&&this._openChildMenu(r)}_positionForMenu(e){let t=this.contentNode.children[e],{left:r,bottom:n}=t.getBoundingClientRect();return{top:n,left:r}}_evtFocusOut(e){!this._childMenu&&!this.node.contains(e.relatedTarget)&&(this.activeIndex=-1)}_focusItemAt(e){let t=this.contentNode.childNodes[e];t&&t.focus()}_openChildMenu(e={}){let t=this.activeMenu;if(!t){this._closeChildMenu();return}let r=this._childMenu;if(r===t)return;this._childMenu=t,r?r.close():document.addEventListener("mousedown",this,!0),this._tabFocusIndex=this.activeIndex,ke.sendMessage(this,me.Msg.UpdateRequest);let{left:n,top:s}=e;(typeof n>"u"||typeof s>"u")&&({left:n,top:s}=this._positionForMenu(this._activeIndex)),r||this.addClass("lm-mod-active"),t.items.length>0&&t.open(n,s,this._forceItemsPosition)}_closeChildMenu(){if(!this._childMenu)return;this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0);let e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}_onMenuAboutToClose(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)}_onMenuMenuRequested(e,t){if(e!==this._childMenu)return;let r=this._activeIndex,n=this._menus.length;switch(t){case"next":this.activeIndex=r===n-1?0:r+1;break;case"previous":this.activeIndex=r===0?n-1:r-1;break}this.openActiveMenu()}_onTitleChanged(){this.update()}};(function(i){class e{renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r),o=this.createItemARIA(r);return xe.li({className:n,dataset:s,...r.disabled?{}:{tabindex:r.tabbable?"0":"-1"},onfocus:r.onfocus,...o},this.renderIcon(r),this.renderLabel(r))}renderIcon(r){let n=this.createIconClass(r);return xe.div({className:n},r.title.icon,r.title.iconLabel)}renderLabel(r){let n=this.formatLabel(r);return xe.div({className:"lm-MenuBar-itemLabel"},n)}createItemClass(r){let n="lm-MenuBar-item";return r.title.className&&(n+=` ${r.title.className}`),r.active&&!r.disabled&&(n+=" lm-mod-active"),n}createItemDataset(r){return r.title.dataset}createItemARIA(r){return{role:"menuitem","aria-haspopup":"true","aria-disabled":r.disabled?"true":"false"}}createIconClass(r){let n="lm-MenuBar-itemIcon",s=r.title.iconClass;return s?`${n} ${s}`:n}formatLabel(r){let{label:n,mnemonic:s}=r.title;if(s<0||s>=n.length)return n;let o=n.slice(0,s),a=n.slice(s+1),l=n[s],c=xe.span({className:"lm-MenuBar-itemMnemonic"},l);return[o,c,a]}}i.Renderer=e,i.defaultRenderer=new e})(jh||(jh={}));(function(i){function e(){let r=document.createElement("div"),n=document.createElement("ul");return n.className="lm-MenuBar-content",r.appendChild(n),n.setAttribute("role","menubar"),r}i.createNode=e;function t(r,n,s){let o=-1,a=-1,l=!1,c=n.toUpperCase();for(let u=0,d=r.length;u<d;++u){let f=(u+s)%d,h=r[f].title;if(h.label.length===0)continue;let m=h.mnemonic;if(m>=0&&m<h.label.length){h.label[m].toUpperCase()===c&&(o===-1?o=f:l=!0);continue}a===-1&&h.label[0].toUpperCase()===c&&(a=f)}return{index:o,multiple:l,auto:a}}i.findMnemonic=t})(Z5||(Z5={}));(function(i){function e(){let r=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div");return n.className="lm-ScrollBar-button",s.className="lm-ScrollBar-button",n.dataset.action="decrement",s.dataset.action="increment",o.className="lm-ScrollBar-track",a.className="lm-ScrollBar-thumb",o.appendChild(a),r.appendChild(n),r.appendChild(o),r.appendChild(s),r}i.createNode=e;function t(r,n){return r.thumbNode.contains(n)?"thumb":r.trackNode.contains(n)?"track":r.decrementNode.contains(n)?"decrement":r.incrementNode.contains(n)?"increment":null}i.findPart=t})(WT||(WT={}));ZT=class extends ca{constructor(){super(...arguments),this._widget=null}dispose(){if(this._widget){let e=this._widget;this._widget=null,e.dispose()}super.dispose()}get widget(){return this._widget}set widget(e){e&&(e.parent=this.parent),this._widget!==e&&(this._widget&&this._widget.dispose(),this._widget=e,this.parent&&e&&this.attachWidget(e))}*[Symbol.iterator](){this._widget&&(yield this._widget)}removeWidget(e){this._widget===e&&(this._widget=null,this.parent&&this.detachWidget(e))}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&ke.sendMessage(e,me.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&ke.sendMessage(e,me.Msg.AfterAttach)}detachWidget(e){this.parent.isAttached&&ke.sendMessage(e,me.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&ke.sendMessage(e,me.Msg.AfterDetach)}},n_=class extends Bh{constructor(e={}){super(e),this._dirty=!1,this._items=[],this._box=null,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:me.HiddenMode.Display}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach(t=>{t.hiddenMode=this._hiddenMode}))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,super.dispose()}attachWidget(e,t){this._hiddenMode===me.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=me.HiddenMode.Scale),t.hiddenMode=me.HiddenMode.Scale):t.hiddenMode=me.HiddenMode.Display,z.insert(this._items,e,new $d(t)),this.parent.isAttached&&ke.sendMessage(t,me.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&ke.sendMessage(t,me.Msg.AfterAttach),this.parent.fit()}moveWidget(e,t,r){z.move(this._items,e,t),this.parent.update()}detachWidget(e,t){let r=z.removeAt(this._items,e);this.parent.isAttached&&ke.sendMessage(t,me.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&ke.sendMessage(t,me.Msg.AfterDetach),r.widget.node.style.zIndex="",this._hiddenMode===me.HiddenMode.Scale&&(t.hiddenMode=me.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=me.HiddenMode.Display)),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0,t=0;for(let s=0,o=this._items.length;s<o;++s){let a=this._items[s];a.isHidden||(a.fit(),e=Math.max(e,a.minWidth),t=Math.max(t,a.minHeight))}let r=this._box=Me.boxSizing(this.parent.node);e+=r.horizontalSum,t+=r.verticalSum;let n=this.parent.node.style;n.minWidth=`${e}px`,n.minHeight=`${t}px`,this._dirty=!0,this.parent.parent&&ke.sendMessage(this.parent.parent,me.Msg.FitRequest),this._dirty&&ke.sendMessage(this.parent,me.Msg.UpdateRequest)}_update(e,t){this._dirty=!1;let r=0;for(let l=0,c=this._items.length;l<c;++l)r+=+!this._items[l].isHidden;if(r===0)return;e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=Me.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=t-this._box.verticalSum;for(let l=0,c=this._items.length;l<c;++l){let u=this._items[l];u.isHidden||(u.widget.node.style.zIndex=`${l}`,u.update(s,n,o,a))}}};(function(i){function e(t){return t.layout||new n_}i.createLayout=e})(qT||(qT={}));(function(i){function e(s){return r[s]}i.orientationFromPlacement=e;function t(s){return n[s]}i.directionFromPlacement=t;let r={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},n={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(UT||(UT={}))});var GT=P(()=>{});var a_,q5,$h,XT=P(()=>{Ag();a_=N(tn());Is();q5=class{constructor(e){this.trusted=!1,this._changed=new Re(this),this._raw={};let t=$h.getData(e.value);this._data=new Ap({values:t}),this._rawData=t;let r=e.value;for(let n in r)switch(n){case"data":break;default:this._raw[n]=$h.extract(r,n)}}get changed(){return this._changed}dispose(){this._data.dispose(),Re.clearData(this)}get data(){return this._rawData}get metadata(){return{}}setData(e){e.data&&(this._updateObservable(this._data,e.data),this._rawData=e.data),this._changed.emit(void 0)}toJSON(){let e={};for(let t in this._raw)e[t]=$h.extract(this._raw,t);return e}_updateObservable(e,t){let r=e.keys(),n=Object.keys(t);for(let s of r)n.indexOf(s)===-1&&e.delete(s);for(let s of n){let o=e.get(s),a=t[s];o!==a&&e.set(s,a)}}};(function(i){function e(t){return $h.getData(t)}i.getData=e})(q5||(q5={}));(function(i){function e(s){return n(s)}i.getData=e;function t(s){return{data:e(s.value)}}i.getBundleOptions=t;function r(s,o){let a=s[o];return a===void 0||a_.JSONExt.isPrimitive(a)?a:a_.JSONExt.deepCopy(a)}i.extract=r;function n(s){let o=Object.create(null);for(let a in s)o[a]=r(s,a);return o}})($h||($h={}))});var Vh,cl,KT=P(()=>{Vh=class{constructor(){this._first=null,this._last=null,this._size=0}get isEmpty(){return this._size===0}get size(){return this._size}get length(){return this._size}get first(){return this._first?this._first.value:void 0}get last(){return this._last?this._last.value:void 0}get firstNode(){return this._first}get lastNode(){return this._last}*[Symbol.iterator](){let e=this._first;for(;e;)yield e.value,e=e.next}*retro(){let e=this._last;for(;e;)yield e.value,e=e.prev}*nodes(){let e=this._first;for(;e;)yield e,e=e.next}*retroNodes(){let e=this._last;for(;e;)yield e,e=e.prev}assign(e){this.clear();for(let t of e)this.addLast(t)}push(e){this.addLast(e)}pop(){return this.removeLast()}shift(e){this.addFirst(e)}unshift(){return this.removeFirst()}addFirst(e){let t=new cl.LinkedListNode(this,e);return this._first?(t.next=this._first,this._first.prev=t,this._first=t):(this._first=t,this._last=t),this._size++,t}addLast(e){let t=new cl.LinkedListNode(this,e);return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._first=t,this._last=t),this._size++,t}insertBefore(e,t){if(!t||t===this._first)return this.addFirst(e);if(!(t instanceof cl.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");let r=new cl.LinkedListNode(this,e),n=t,s=n.prev;return r.next=n,r.prev=s,n.prev=r,s.next=r,this._size++,r}insertAfter(e,t){if(!t||t===this._last)return this.addLast(e);if(!(t instanceof cl.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");let r=new cl.LinkedListNode(this,e),n=t,s=n.next;return r.next=s,r.prev=n,n.next=r,s.prev=r,this._size++,r}removeFirst(){let e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeLast(){let e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeNode(e){if(!(e instanceof cl.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");let t=e;t===this._first&&t===this._last?(this._first=null,this._last=null):t===this._first?(this._first=t.next,this._first.prev=null):t===this._last?(this._last=t.prev,this._last.next=null):(t.next.prev=t.prev,t.prev.next=t.next),t.list=null,t.next=null,t.prev=null,this._size--}clear(){let e=this._first;for(;e;){let t=e.next;e.list=null,e.prev=null,e.next=null,e=t}this._first=null,this._last=null,this._size=0}};(function(i){function e(t){let r=new i;return r.assign(t),r}i.from=e})(Vh||(Vh={}));(function(i){class e{constructor(r,n){this.list=null,this.next=null,this.prev=null,this.list=r,this.value=n}}i.LinkedListNode=e})(cl||(cl={}))});var Mn,xc,Ae,YT=P(()=>{Bn();KT();Mn=class{constructor(e){this.type=e}get isConflatable(){return!1}conflate(e){return!1}},xc=class extends Mn{get isConflatable(){return!0}conflate(e){return!0}};(function(i){let e=null,t=(R=>A=>{let H=!1;return R.then(()=>!H&&A()),()=>{H=!0}})(Promise.resolve());function r(R,A){let H=f.get(R);if(!H||H.length===0){x(R,A);return}Kl(Jl(H),X=>X?v(X,R,A):!0)&&x(R,A)}i.sendMessage=r;function n(R,A){if(!A.isConflatable){C(R,A);return}Yl(d,$=>$.handler!==R||!$.msg||$.msg.type!==A.type||!$.msg.isConflatable?!1:$.msg.conflate(A))||C(R,A)}i.postMessage=n;function s(R,A){let H=f.get(R);H&&H.indexOf(A)!==-1||(H?H.push(A):f.set(R,[A]))}i.installMessageHook=s;function o(R,A){let H=f.get(R);if(!H)return;let $=H.indexOf(A);$!==-1&&(H[$]=null,S(H))}i.removeMessageHook=o;function a(R){let A=f.get(R);A&&A.length>0&&(z.fill(A,null),S(A));for(let H of d)H.handler===R&&(H.handler=null,H.msg=null)}i.clearData=a;function l(){p||e===null||(e(),e=null,p=!0,y(),p=!1)}i.flush=l;function c(){return m}i.getExceptionHandler=c;function u(R){let A=m;return m=R,A}i.setExceptionHandler=u;let d=new Vh,f=new WeakMap,h=new Set,m=R=>{console.error(R)},p=!1;function v(R,A,H){let $=!0;try{typeof R=="function"?$=R(A,H):$=R.messageHook(A,H)}catch(X){m(X)}return $}function x(R,A){try{R.processMessage(A)}catch(H){m(H)}}function C(R,A){d.addLast({handler:R,msg:A}),e===null&&(e=t(y))}function y(){if(e=null,d.isEmpty)return;let R={handler:null,msg:null};for(d.addLast(R);;){let A=d.removeFirst();if(A===R)return;A.handler&&A.msg&&r(A.handler,A.msg)}}function S(R){h.size===0&&t(M),h.add(R)}function M(){h.forEach(_),h.clear()}function _(R){z.removeAllWhere(R,E)}function E(R){return R===null}})(Ae||(Ae={}))});var lr,ln,JT=P(()=>{Ql();lr=class{constructor(e){this._onScrollFrame=()=>{if(!this._scrollTarget)return;let{element:t,edge:r,distance:n}=this._scrollTarget,s=ln.SCROLL_EDGE_SIZE-n,o=Math.pow(s/ln.SCROLL_EDGE_SIZE,2),a=Math.max(1,Math.round(o*ln.SCROLL_EDGE_SIZE));switch(r){case"top":t.scrollTop-=a;break;case"left":t.scrollLeft-=a;break;case"right":t.scrollLeft+=a;break;case"bottom":t.scrollTop+=a;break}requestAnimationFrame(this._onScrollFrame)},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.document=e.document||document,this.mimeData=e.mimeData,this.dragImage=e.dragImage||null,this.proposedAction=e.proposedAction||"copy",this.supportedActions=e.supportedActions||"all",this.source=e.source||null}dispose(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){let e=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:-1,clientY:-1});ln.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")}}get isDisposed(){return this._disposed}start(e,t){if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(e,t),this._promise=new Promise(n=>{this._resolve=n});let r=new PointerEvent("pointermove",{bubbles:!0,cancelable:!0,clientX:e,clientY:t});return document.dispatchEvent(r),this._promise}handleEvent(e){switch(e.type){case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault(),e.stopPropagation();break}}moveDragImage(e,t){if(!this.dragImage)return;let r=this.dragImage.style;r.transform=`translate(${e}px, ${t}px)`}_evtPointerMove(e){e.preventDefault(),e.stopPropagation(),this._updateCurrentTarget(e),this._updateDragScroll(e),this.moveDragImage(e.clientX,e.clientY)}_evtPointerUp(e){if(e.preventDefault(),e.stopPropagation(),e.button!==0)return;if(this._updateCurrentTarget(e),!this._currentTarget){this._finalize("none");return}if(this._dropAction==="none"){ln.dispatchDragLeave(this,this._currentTarget,null,e),this._finalize("none");return}let t=ln.dispatchDrop(this,this._currentTarget,e);this._finalize(t)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&this.dispose()}_addListeners(){document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)}_removeListeners(){document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)}_updateDragScroll(e){let t=ln.findScrollTarget(e);!this._scrollTarget&&!t||(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=t)}_updateCurrentTarget(e){let t=this._currentTarget,r=this._currentTarget,n=this._currentElement,s=ln.findElementBehindBackdrop(e,this.document);this._currentElement=s,s!==n&&s!==r&&ln.dispatchDragExit(this,r,s,e),s!==n&&s!==r&&(r=ln.dispatchDragEnter(this,s,r,e)),r!==t&&(this._currentTarget=r,ln.dispatchDragLeave(this,t,r,e));let o=ln.dispatchDragOver(this,r,e);this._setDropAction(o)}_attachDragImage(e,t){if(!this.dragImage)return;this.dragImage.classList.add("lm-mod-drag-image");let r=this.dragImage.style;r.pointerEvents="none",r.position="fixed",r.transform=`translate(${e}px, ${t}px)`,(this.document instanceof Document?this.document.body:this.document.firstElementChild).appendChild(this.dragImage)}_detachDragImage(){if(!this.dragImage)return;let e=this.dragImage.parentNode;e&&e.removeChild(this.dragImage)}_setDropAction(e){if(e=ln.validateAction(e,this.supportedActions),!(this._override&&this._dropAction===e))switch(e){case"none":this._dropAction=e,this._override=lr.overrideCursor("no-drop",this.document);break;case"copy":this._dropAction=e,this._override=lr.overrideCursor("copy",this.document);break;case"link":this._dropAction=e,this._override=lr.overrideCursor("alias",this.document);break;case"move":this._dropAction=e,this._override=lr.overrideCursor("move",this.document);break}}_finalize(e){let t=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,t&&t(e)}};(function(i){class e extends DragEvent{constructor(n,s){super(s.type,{bubbles:!0,cancelable:!0,altKey:n.altKey,button:n.button,clientX:n.clientX,clientY:n.clientY,ctrlKey:n.ctrlKey,detail:0,metaKey:n.metaKey,relatedTarget:s.related,screenX:n.screenX,screenY:n.screenY,shiftKey:n.shiftKey,view:window});let{drag:o}=s;this.dropAction="none",this.mimeData=o.mimeData,this.proposedAction=o.proposedAction,this.supportedActions=o.supportedActions,this.source=o.source}}i.Event=e;function t(r,n=document){return ln.overrideCursor(r,n)}i.overrideCursor=t})(lr||(lr={}));(function(i){i.SCROLL_EDGE_SIZE=20;function e(S,M){return d[S]&f[M]?S:"none"}i.validateAction=e;function t(S,M=document){if(S){if(r&&S==r.event)return r.element;i.cursorBackdrop.style.zIndex="-1000";let _=M.elementFromPoint(S.clientX,S.clientY);return i.cursorBackdrop.style.zIndex="",r={event:S,element:_},_}else{let _=i.cursorBackdrop.style.transform;if(n&&_===n.transform)return n.element;let E=i.cursorBackdrop.getBoundingClientRect();i.cursorBackdrop.style.zIndex="-1000";let R=M.elementFromPoint(E.left+E.width/2,E.top+E.height/2);return i.cursorBackdrop.style.zIndex="",n={transform:_,element:R},R}}i.findElementBehindBackdrop=t;let r=null,n=null;function s(S){let M=S.clientX,_=S.clientY,E=t(S);for(;E;E=E.parentElement){if(!E.hasAttribute("data-lm-dragscroll"))continue;let R=0,A=0;E===document.body&&(R=window.pageXOffset,A=window.pageYOffset);let H=E.getBoundingClientRect(),$=H.top+A,X=H.left+R,ue=X+H.width,he=$+H.height;if(M<X||M>=ue||_<$||_>=he)continue;let Y=M-X+1,ee=_-$+1,ie=ue-M,pe=he-_,we=Math.min(Y,ee,ie,pe);if(we>i.SCROLL_EDGE_SIZE)continue;let Ve;switch(we){case pe:Ve="bottom";break;case ee:Ve="top";break;case ie:Ve="right";break;case Y:Ve="left";break;default:throw"unreachable"}let lt=E.scrollWidth-E.clientWidth,gt=E.scrollHeight-E.clientHeight,De;switch(Ve){case"top":De=gt>0&&E.scrollTop>0;break;case"left":De=lt>0&&E.scrollLeft>0;break;case"right":De=lt>0&&E.scrollLeft<lt;break;case"bottom":De=gt>0&&E.scrollTop<gt;break;default:throw"unreachable"}if(De)return{element:E,edge:Ve,distance:we}}return null}i.findScrollTarget=s;function o(S,M,_,E){if(!M)return null;let R=new lr.Event(E,{drag:S,related:_,type:"lm-dragenter"});if(!M.dispatchEvent(R))return M;let H=S.document instanceof Document?S.document.body:S.document.firstElementChild;return M===H?_:(R=new lr.Event(E,{drag:S,related:_,type:"lm-dragenter"}),H.dispatchEvent(R),H)}i.dispatchDragEnter=o;function a(S,M,_,E){if(!M)return;let R=new lr.Event(E,{drag:S,related:_,type:"lm-dragexit"});M.dispatchEvent(R)}i.dispatchDragExit=a;function l(S,M,_,E){if(!M)return;let R=new lr.Event(E,{drag:S,related:_,type:"lm-dragleave"});M.dispatchEvent(R)}i.dispatchDragLeave=l;function c(S,M,_){if(!M)return"none";let E=new lr.Event(_,{drag:S,related:null,type:"lm-dragover"});return M.dispatchEvent(E)?"none":E.dropAction}i.dispatchDragOver=c;function u(S,M,_){if(!M)return"none";let E=new lr.Event(_,{drag:S,related:null,type:"lm-drop"});return M.dispatchEvent(E)?"none":E.dropAction}i.dispatchDrop=u;let d={none:0,copy:1,link:2,move:4},f={none:d.none,copy:d.copy,link:d.link,move:d.move,"copy-link":d.copy|d.link,"copy-move":d.copy|d.move,"link-move":d.link|d.move,all:d.copy|d.link|d.move};function h(S,M=document){let _=++y,E=M instanceof Document?M.body:M.firstElementChild;return i.cursorBackdrop.isConnected||(i.cursorBackdrop.style.transform="scale(0)",E.appendChild(i.cursorBackdrop),v(),document.addEventListener("pointermove",m,{capture:!0,passive:!0}),i.cursorBackdrop.addEventListener("scroll",p,{capture:!0,passive:!0})),i.cursorBackdrop.style.cursor=S,new ks(()=>{_===y&&i.cursorBackdrop.isConnected&&(document.removeEventListener("pointermove",m,!0),i.cursorBackdrop.removeEventListener("scroll",p,!0),E.removeChild(i.cursorBackdrop))})}i.overrideCursor=h;function m(S){i.cursorBackdrop&&(i.cursorBackdrop.style.transform=`translate(${S.clientX}px, ${S.clientY}px)`)}function p(S){if(!i.cursorBackdrop)return;let M=t();if(!M)return;let _=M.closest("[data-lm-dragscroll]");_&&(_.scrollTop+=i.cursorBackdrop.scrollTop-x,_.scrollLeft+=i.cursorBackdrop.scrollLeft-x,v())}function v(){i.cursorBackdrop.scrollTop=x,i.cursorBackdrop.scrollLeft=x}let x=500;function C(){let S=document.createElement("div");return S.classList.add("lm-cursor-backdrop"),S}let y=0;i.cursorBackdrop=C()})(ln||(ln={}))});var fl,da,os,ym,ve,U5,ha,Zd,Fh,Wh,Mm,Lm,Eo,ul,l_,G5,X5,c_,qd,d_,Sm,u_,as,Wd,K5,h_,Zh,dl,ua,Ln,QT,SY,wc,qs,f_,Yi,Ud,Pi,hl,xr,qh,Y5,eA,tA,m_,iA,rA,nA=P(()=>{Bn();fl=N(tn());L0();YT();M0();Is();JT();kp();Tp();Ql();Ip();da=class{constructor(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}};(function(i){function e(s,o){let a=s.length;if(a===0)return o;let l=0,c=0,u=0,d=0,f=0;for(let p=0;p<a;++p){let v=s[p],x=v.minSize,C=v.maxSize,y=v.sizeHint;v.done=!1,v.size=Math.max(x,Math.min(y,C)),u+=v.size,l+=x,c+=C,v.stretch>0&&(d+=v.stretch,f++)}if(o===u)return 0;if(o<=l){for(let p=0;p<a;++p){let v=s[p];v.size=v.minSize}return o-l}if(o>=c){for(let p=0;p<a;++p){let v=s[p];v.size=v.maxSize}return o-c}let h=.01,m=a;if(o<u){let p=u-o;for(;f>0&&p>h;){let v=p,x=d;for(let C=0;C<a;++C){let y=s[C];if(y.done||y.stretch===0)continue;let S=y.stretch*v/x;y.size-S<=y.minSize?(p-=y.size-y.minSize,d-=y.stretch,y.size=y.minSize,y.done=!0,m--,f--):(p-=S,y.size-=S)}}for(;m>0&&p>h;){let v=p/m;for(let x=0;x<a;++x){let C=s[x];C.done||(C.size-v<=C.minSize?(p-=C.size-C.minSize,C.size=C.minSize,C.done=!0,m--):(p-=v,C.size-=v))}}}else{let p=o-u;for(;f>0&&p>h;){let v=p,x=d;for(let C=0;C<a;++C){let y=s[C];if(y.done||y.stretch===0)continue;let S=y.stretch*v/x;y.size+S>=y.maxSize?(p-=y.maxSize-y.size,d-=y.stretch,y.size=y.maxSize,y.done=!0,m--,f--):(p-=S,y.size+=S)}}for(;m>0&&p>h;){let v=p/m;for(let x=0;x<a;++x){let C=s[x];C.done||(C.size+v>=C.maxSize?(p-=C.maxSize-C.size,C.size=C.maxSize,C.done=!0,m--):(p-=v,C.size+=v))}}}return 0}i.calc=e;function t(s,o,a){s.length===0||a===0||(a>0?r(s,o,a):n(s,o,-a))}i.adjust=t;function r(s,o,a){let l=0;for(let f=0;f<=o;++f){let h=s[f];l+=h.maxSize-h.size}let c=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];c+=m.size-m.minSize}a=Math.min(a,l,c);let u=a;for(let f=o;f>=0&&u>0;--f){let h=s[f],m=h.maxSize-h.size;m>=u?(h.sizeHint=h.size+u,u=0):(h.sizeHint=h.size+m,u-=m)}let d=a;for(let f=o+1,h=s.length;f<h&&d>0;++f){let m=s[f],p=m.size-m.minSize;p>=d?(m.sizeHint=m.size-d,d=0):(m.sizeHint=m.size-p,d-=p)}}function n(s,o,a){let l=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];l+=m.maxSize-m.size}let c=0;for(let f=0;f<=o;++f){let h=s[f];c+=h.size-h.minSize}a=Math.min(a,l,c);let u=a;for(let f=o+1,h=s.length;f<h&&u>0;++f){let m=s[f],p=m.maxSize-m.size;p>=u?(m.sizeHint=m.size+u,u=0):(m.sizeHint=m.size+p,u-=p)}let d=a;for(let f=o;f>=0&&d>0;--f){let h=s[f],m=h.size-h.minSize;m>=d?(h.sizeHint=h.size-d,d=0):(h.sizeHint=h.size-m,d-=m)}}})(os||(os={}));ym=class{constructor(e){this._label="",this._caption="",this._mnemonic=-1,this._icon=void 0,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new Re(this),this._isDisposed=!1,this.owner=e.owner,e.label!==void 0&&(this._label=e.label),e.mnemonic!==void 0&&(this._mnemonic=e.mnemonic),e.icon!==void 0&&(this._icon=e.icon),e.iconClass!==void 0&&(this._iconClass=e.iconClass),e.iconLabel!==void 0&&(this._iconLabel=e.iconLabel),e.caption!==void 0&&(this._caption=e.caption),e.className!==void 0&&(this._className=e.className),e.closable!==void 0&&(this._closable=e.closable),this._dataset=e.dataset||{}}get changed(){return this._changed}get label(){return this._label}set label(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))}get mnemonic(){return this._mnemonic}set mnemonic(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))}get icon(){return this._icon}set icon(e){this._icon!==e&&(this._icon=e,this._changed.emit(void 0))}get iconClass(){return this._iconClass}set iconClass(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))}get iconLabel(){return this._iconLabel}set iconLabel(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))}get caption(){return this._caption}set caption(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))}get className(){return this._className}set className(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))}get closable(){return this._closable}set closable(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))}get dataset(){return this._dataset}set dataset(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Re.clearData(this))}},ve=class{constructor(e={}){this._flags=0,this._layout=null,this._parent=null,this._disposed=new Re(this),this._hiddenMode=ve.HiddenMode.Display,this.node=U5.createNode(e),this.addClass("lm-Widget")}dispose(){this.isDisposed||(this.setFlag(ve.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&ve.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),Re.clearData(this),Ae.clearData(this),ut.clearData(this))}get disposed(){return this._disposed}get isDisposed(){return this.testFlag(ve.Flag.IsDisposed)}get isAttached(){return this.testFlag(ve.Flag.IsAttached)}get isHidden(){return this.testFlag(ve.Flag.IsHidden)}get isVisible(){let e=this;do{if(e.isHidden||!e.isAttached)return!1;e=e.parent}while(e!=null);return!0}get title(){return U5.titleProperty.get(this)}get id(){return this.node.id}set id(e){this.node.id=e}get dataset(){return this.node.dataset}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this.isHidden&&this._toggleHidden(!1),e==ve.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=e,this.isHidden&&this._toggleHidden(!0))}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){let t=new ve.ChildMessage("child-removed",this);Ae.sendMessage(this._parent,t)}if(this._parent=e,this._parent&&!this._parent.isDisposed){let t=new ve.ChildMessage("child-added",this);Ae.sendMessage(this._parent,t)}this.isDisposed||Ae.sendMessage(this,ve.Msg.ParentChanged)}}get layout(){return this._layout}set layout(e){if(this._layout!==e){if(this.testFlag(ve.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}}*children(){this._layout&&(yield*this._layout)}contains(e){for(let t=e;t;t=t._parent)if(t===this)return!0;return!1}hasClass(e){return this.node.classList.contains(e)}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e,t){return t===!0?(this.node.classList.add(e),!0):t===!1?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)}update(){Ae.postMessage(this,ve.Msg.UpdateRequest)}fit(){Ae.postMessage(this,ve.Msg.FitRequest)}activate(){Ae.postMessage(this,ve.Msg.ActivateRequest)}close(){Ae.sendMessage(this,ve.Msg.CloseRequest)}show(){if(this.testFlag(ve.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&Ae.sendMessage(this,ve.Msg.BeforeShow),this.clearFlag(ve.Flag.IsHidden),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&Ae.sendMessage(this,ve.Msg.AfterShow),this.parent)){let e=new ve.ChildMessage("child-shown",this);Ae.sendMessage(this.parent,e)}}hide(){if(!this.testFlag(ve.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&Ae.sendMessage(this,ve.Msg.BeforeHide),this.setFlag(ve.Flag.IsHidden),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&Ae.sendMessage(this,ve.Msg.AfterHide),this.parent)){let e=new ve.ChildMessage("child-hidden",this);Ae.sendMessage(this.parent,e)}}setHidden(e){e?this.hide():this.show()}testFlag(e){return(this._flags&e)!==0}setFlag(e){this._flags|=e}clearFlag(e){this._flags&=~e}processMessage(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(ve.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(ve.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(ve.Flag.IsVisible),this.setFlag(ve.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(ve.Flag.IsVisible),this.clearFlag(ve.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e);break}}notifyLayout(e){this._layout&&this._layout.processParentMessage(e)}onCloseRequest(e){this.parent?this.parent=null:this.isAttached&&ve.detach(this)}onResize(e){}onUpdateRequest(e){}onFitRequest(e){}onActivateRequest(e){}onBeforeShow(e){}onAfterShow(e){}onBeforeHide(e){}onAfterHide(e){}onBeforeAttach(e){}onAfterAttach(e){}onBeforeDetach(e){}onAfterDetach(e){}onChildAdded(e){}onChildRemoved(e){}_toggleHidden(e){if(e)switch(this._hiddenMode){case ve.HiddenMode.Display:this.addClass("lm-mod-hidden");break;case ve.HiddenMode.Scale:this.node.style.transform="scale(0)",this.node.setAttribute("aria-hidden","true");break;case ve.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case ve.HiddenMode.Display:this.removeClass("lm-mod-hidden");break;case ve.HiddenMode.Scale:this.node.style.transform="",this.node.removeAttribute("aria-hidden");break;case ve.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}}};(function(i){(function(s){s[s.Display=0]="Display",s[s.Scale=1]="Scale",s[s.ContentVisibility=2]="ContentVisibility"})(i.HiddenMode||(i.HiddenMode={})),function(s){s[s.IsDisposed=1]="IsDisposed",s[s.IsAttached=2]="IsAttached",s[s.IsHidden=4]="IsHidden",s[s.IsVisible=8]="IsVisible",s[s.DisallowLayout=16]="DisallowLayout"}(i.Flag||(i.Flag={})),function(s){s.BeforeShow=new Mn("before-show"),s.AfterShow=new Mn("after-show"),s.BeforeHide=new Mn("before-hide"),s.AfterHide=new Mn("after-hide"),s.BeforeAttach=new Mn("before-attach"),s.AfterAttach=new Mn("after-attach"),s.BeforeDetach=new Mn("before-detach"),s.AfterDetach=new Mn("after-detach"),s.ParentChanged=new Mn("parent-changed"),s.UpdateRequest=new xc("update-request"),s.FitRequest=new xc("fit-request"),s.ActivateRequest=new xc("activate-request"),s.CloseRequest=new xc("close-request")}(i.Msg||(i.Msg={}));class e extends Mn{constructor(o,a){super(o),this.child=a}}i.ChildMessage=e;class t extends Mn{constructor(o,a){super("resize"),this.width=o,this.height=a}}i.ResizeMessage=t,function(s){s.UnknownSize=new s(-1,-1)}(t=i.ResizeMessage||(i.ResizeMessage={}));function r(s,o,a=null){if(s.parent)throw new Error("Cannot attach a child widget.");if(s.isAttached||s.node.isConnected)throw new Error("Widget is already attached.");if(!o.isConnected)throw new Error("Host is not attached.");Ae.sendMessage(s,i.Msg.BeforeAttach),o.insertBefore(s.node,a),Ae.sendMessage(s,i.Msg.AfterAttach)}i.attach=r;function n(s){if(s.parent)throw new Error("Cannot detach a child widget.");if(!s.isAttached||!s.node.isConnected)throw new Error("Widget is not attached.");Ae.sendMessage(s,i.Msg.BeforeDetach),s.node.parentNode.removeChild(s.node),Ae.sendMessage(s,i.Msg.AfterDetach)}i.detach=n})(ve||(ve={}));(function(i){i.titleProperty=new ut({name:"title",create:t=>new ym({owner:t})});function e(t){return t.node||document.createElement(t.tag||"div")}i.createNode=e})(U5||(U5={}));ha=class{constructor(e={}){this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}dispose(){this._parent=null,this._disposed=!0,Re.clearData(this),ut.clearData(this)}get isDisposed(){return this._disposed}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}}get fitPolicy(){return this._fitPolicy}set fitPolicy(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){let t=this._parent.node.style;t.minWidth="",t.minHeight="",t.maxWidth="",t.maxHeight="",this._parent.fit()}}processParentMessage(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}}init(){for(let e of this)e.parent=this.parent}onResize(e){for(let t of this)Ae.sendMessage(t,ve.ResizeMessage.UnknownSize)}onUpdateRequest(e){for(let t of this)Ae.sendMessage(t,ve.ResizeMessage.UnknownSize)}onBeforeAttach(e){for(let t of this)Ae.sendMessage(t,e)}onAfterAttach(e){for(let t of this)Ae.sendMessage(t,e)}onBeforeDetach(e){for(let t of this)Ae.sendMessage(t,e)}onAfterDetach(e){for(let t of this)Ae.sendMessage(t,e)}onBeforeShow(e){for(let t of this)t.isHidden||Ae.sendMessage(t,e)}onAfterShow(e){for(let t of this)t.isHidden||Ae.sendMessage(t,e)}onBeforeHide(e){for(let t of this)t.isHidden||Ae.sendMessage(t,e)}onAfterHide(e){for(let t of this)t.isHidden||Ae.sendMessage(t,e)}onChildRemoved(e){this.removeWidget(e.child)}onFitRequest(e){}onChildShown(e){}onChildHidden(e){}};(function(i){function e(s){return Fh.horizontalAlignmentProperty.get(s)}i.getHorizontalAlignment=e;function t(s,o){Fh.horizontalAlignmentProperty.set(s,o)}i.setHorizontalAlignment=t;function r(s){return Fh.verticalAlignmentProperty.get(s)}i.getVerticalAlignment=r;function n(s,o){Fh.verticalAlignmentProperty.set(s,o)}i.setVerticalAlignment=n})(ha||(ha={}));Zd=class{constructor(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute",this.widget.node.style.contain="strict"}dispose(){if(this._disposed)return;this._disposed=!0;let e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height="",e.contain=""}get minWidth(){return this._minWidth}get minHeight(){return this._minHeight}get maxWidth(){return this._maxWidth}get maxHeight(){return this._maxHeight}get isDisposed(){return this._disposed}get isHidden(){return this.widget.isHidden}get isVisible(){return this.widget.isVisible}get isAttached(){return this.widget.isAttached}fit(){let e=Me.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight}update(e,t,r,n){let s=Math.max(this._minWidth,Math.min(r,this._maxWidth)),o=Math.max(this._minHeight,Math.min(n,this._maxHeight));if(s<r)switch(ha.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(r-s)/2;break;case"right":e+=r-s;break;default:throw"unreachable"}if(o<n)switch(ha.getVerticalAlignment(this.widget)){case"top":break;case"center":t+=(n-o)/2;break;case"bottom":t+=n-o;break;default:throw"unreachable"}let a=!1,l=this.widget.node.style;if(this._top!==t&&(this._top=t,l.top=`${t}px`),this._left!==e&&(this._left=e,l.left=`${e}px`),this._width!==s&&(a=!0,this._width=s,l.width=`${s}px`),this._height!==o&&(a=!0,this._height=o,l.height=`${o}px`),a){let c=new ve.ResizeMessage(s,o);Ae.sendMessage(this.widget,c)}}};(function(i){i.horizontalAlignmentProperty=new ut({name:"horizontalAlignment",create:()=>"center",changed:e}),i.verticalAlignmentProperty=new ut({name:"verticalAlignment",create:()=>"top",changed:e});function e(t){t.parent&&t.parent.layout&&t.parent.update()}})(Fh||(Fh={}));Wh=class extends ha{constructor(){super(...arguments),this._widgets=[]}dispose(){for(;this._widgets.length>0;)this._widgets.pop().dispose();super.dispose()}get widgets(){return this._widgets}*[Symbol.iterator](){yield*this._widgets}addWidget(e){this.insertWidget(this._widgets.length,e)}insertWidget(e,t){t.parent=this.parent;let r=this._widgets.indexOf(t),n=Math.max(0,Math.min(e,this._widgets.length));if(r===-1){z.insert(this._widgets,n,t),this.parent&&this.attachWidget(n,t);return}n===this._widgets.length&&n--,r!==n&&(z.move(this._widgets,r,n),this.parent&&this.moveWidget(r,n,t))}removeWidget(e){this.removeWidgetAt(this._widgets.indexOf(e))}removeWidgetAt(e){let t=z.removeAt(this._widgets,e);t&&this.parent&&this.detachWidget(e,t)}init(){super.init();let e=0;for(let t of this)this.attachWidget(e++,t)}attachWidget(e,t){let r=this.parent.node.children[e];this.parent.isAttached&&Ae.sendMessage(t,ve.Msg.BeforeAttach),this.parent.node.insertBefore(t.node,r),this.parent.isAttached&&Ae.sendMessage(t,ve.Msg.AfterAttach)}moveWidget(e,t,r){this.parent.isAttached&&Ae.sendMessage(r,ve.Msg.BeforeDetach),this.parent.node.removeChild(r.node),this.parent.isAttached&&Ae.sendMessage(r,ve.Msg.AfterDetach);let n=this.parent.node.children[t];this.parent.isAttached&&Ae.sendMessage(r,ve.Msg.BeforeAttach),this.parent.node.insertBefore(r.node,n),this.parent.isAttached&&Ae.sendMessage(r,ve.Msg.AfterAttach)}detachWidget(e,t){this.parent.isAttached&&Ae.sendMessage(t,ve.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&Ae.sendMessage(t,ve.Msg.AfterDetach)}};(function(i){function e(t){return Math.max(0,Math.floor(t))}i.clampDimension=e})(Mm||(Mm={}));Lm=Mm,Eo=class extends Wh{constructor(e){super(),this.widgetOffset=0,this._fixed=0,this._spacing=4,this._dirty=!1,this._hasNormedSizes=!1,this._sizers=[],this._items=[],this._handles=[],this._box=null,this._alignment="start",this._orientation="horizontal",this.renderer=e.renderer,e.orientation!==void 0&&(this._orientation=e.orientation),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Mm.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,super.dispose()}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Mm.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get handles(){return this._handles}absoluteSizes(){return this._sizers.map(e=>e.size)}relativeSizes(){return ul.normalize(this._sizers.map(e=>e.size))}setRelativeSizes(e,t=!0){let r=this._sizers.length,n=e.slice(0,r);for(;n.length<r;)n.push(0);let s=ul.normalize(n);for(let o=0;o<r;++o){let a=this._sizers[o];a.sizeHint=s[o],a.size=s[o]}this._hasNormedSizes=!0,t&&this.parent&&this.parent.update()}moveHandle(e,t){let r=this._handles[e];if(!r||r.classList.contains("lm-mod-hidden"))return;let n;if(this._orientation==="horizontal"?n=t-r.offsetLeft:n=t-r.offsetTop,n!==0){for(let s of this._sizers)s.size>0&&(s.sizeHint=s.size);os.adjust(this._sizers,e,n),this.parent&&this.parent.update()}}init(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,t){let r=new Zd(t),n=ul.createHandle(this.renderer),s=ul.averageSize(this._sizers),o=ul.createSizer(s);z.insert(this._items,e,r),z.insert(this._sizers,e,o),z.insert(this._handles,e,n),this.parent.isAttached&&Ae.sendMessage(t,ve.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.node.appendChild(n),this.parent.isAttached&&Ae.sendMessage(t,ve.Msg.AfterAttach),this.parent.fit()}moveWidget(e,t,r){z.move(this._items,e,t),z.move(this._sizers,e,t),z.move(this._handles,e,t),this.parent.fit()}detachWidget(e,t){let r=z.removeAt(this._items,e),n=z.removeAt(this._handles,e);z.removeAt(this._sizers,e),this.parent.isAttached&&Ae.sendMessage(t,ve.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.node.removeChild(n),this.parent.isAttached&&Ae.sendMessage(t,ve.Msg.AfterDetach),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}updateItemPosition(e,t,r,n,s,o,a){let l=this._items[e];if(l.isHidden)return;let c=this._handles[e].style;t?(r+=this.widgetOffset,l.update(r,n,a,s),r+=a,c.top=`${n}px`,c.left=`${r}px`,c.width=`${this._spacing}px`,c.height=`${s}px`):(n+=this.widgetOffset,l.update(r,n,o,a),n+=a,c.top=`${n}px`,c.left=`${r}px`,c.width=`${o}px`,c.height=`${this._spacing}px`)}_fit(){let e=0,t=-1;for(let l=0,c=this._items.length;l<c;++l)this._items[l].isHidden?this._handles[l].classList.add("lm-mod-hidden"):(this._handles[l].classList.remove("lm-mod-hidden"),t=l,e++);t!==-1&&this._handles[t].classList.add("lm-mod-hidden"),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;let r=this._orientation==="horizontal",n=r?this._fixed:0,s=r?0:this._fixed;for(let l=0,c=this._items.length;l<c;++l){let u=this._items[l],d=this._sizers[l];if(d.size>0&&(d.sizeHint=d.size),u.isHidden){d.minSize=0,d.maxSize=0;continue}u.fit(),d.stretch=Eo.getStretch(u.widget),r?(d.minSize=u.minWidth,d.maxSize=u.maxWidth,n+=u.minWidth,s=Math.max(s,u.minHeight)):(d.minSize=u.minHeight,d.maxSize=u.maxHeight,s+=u.minHeight,n=Math.max(n,u.minWidth))}let o=this._box=Me.boxSizing(this.parent.node);n+=o.horizontalSum,s+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${n}px`,a.minHeight=`${s}px`,this._dirty=!0,this.parent.parent&&Ae.sendMessage(this.parent.parent,ve.Msg.FitRequest),this._dirty&&Ae.sendMessage(this.parent,ve.Msg.UpdateRequest)}_update(e,t){this._dirty=!1;let r=0;for(let d=0,f=this._items.length;d<f;++d)r+=+!this._items[d].isHidden;if(r===0&&this.widgetOffset===0)return;e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=Me.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=t-this._box.verticalSum,l=0,c=0,u=this._orientation==="horizontal";if(r>0){let d;if(u?d=Math.max(0,o-this._fixed):d=Math.max(0,a-this._fixed),this._hasNormedSizes){for(let h of this._sizers)h.sizeHint*=d;this._hasNormedSizes=!1}let f=os.calc(this._sizers,d);if(f>0)switch(this._alignment){case"start":break;case"center":l=0,c=f/2;break;case"end":l=0,c=f;break;case"justify":l=f/r,c=0;break;default:throw"unreachable"}}for(let d=0,f=this._items.length;d<f;++d){let m=this._items[d].isHidden?0:this._sizers[d].size+l;this.updateItemPosition(d,u,u?s+c:s,u?n:n+c,a,o,m);let p=this.widgetOffset+(this._handles[d].classList.contains("lm-mod-hidden")?0:this._spacing);u?s+=m+p:n+=m+p}}};(function(i){function e(r){return ul.stretchProperty.get(r)}i.getStretch=e;function t(r,n){ul.stretchProperty.set(r,n)}i.setStretch=t})(Eo||(Eo={}));(function(i){i.stretchProperty=new ut({name:"stretch",create:()=>0,coerce:(o,a)=>Math.max(0,Math.floor(a)),changed:s});function e(o){let a=new da;return a.sizeHint=Math.floor(o),a}i.createSizer=e;function t(o){let a=o.createHandle();return a.style.position="absolute",a.style.contain="style",a}i.createHandle=t;function r(o){return o.reduce((a,l)=>a+l.size,0)/o.length||0}i.averageSize=r;function n(o){let a=o.length;if(a===0)return[];let l=o.reduce((c,u)=>c+Math.abs(u),0);return l===0?o.map(c=>1/a):o.map(c=>c/l)}i.normalize=n;function s(o){o.parent&&o.parent.layout instanceof Eo&&o.parent.fit()}})(ul||(ul={}));l_=class extends Eo{constructor(e){super({...e,orientation:e.orientation||"vertical"}),this._titles=[],this.titleSpace=e.titleSpace||22}get titleSpace(){return this.widgetOffset}set titleSpace(e){e=Lm.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())}get titles(){return this._titles}dispose(){this.isDisposed||(this._titles.length=0,super.dispose())}updateTitle(e,t){let r=this._titles[e],n=r.classList.contains("lm-mod-expanded"),s=G5.createTitle(this.renderer,t.title,n);this._titles[e]=s,this.parent.node.replaceChild(s,r)}insertWidget(e,t){t.id||(t.id=`id-${fl.UUID.uuid4()}`),super.insertWidget(e,t)}attachWidget(e,t){let r=G5.createTitle(this.renderer,t.title);z.insert(this._titles,e,r),this.parent.node.appendChild(r),t.node.setAttribute("role","region"),t.node.setAttribute("aria-labelledby",r.id),super.attachWidget(e,t)}moveWidget(e,t,r){z.move(this._titles,e,t),super.moveWidget(e,t,r)}detachWidget(e,t){let r=z.removeAt(this._titles,e);this.parent.node.removeChild(r),super.detachWidget(e,t)}updateItemPosition(e,t,r,n,s,o,a){let l=this._titles[e].style;l.top=`${n}px`,l.left=`${r}px`,l.height=`${this.widgetOffset}px`,t?l.width=`${s}px`:l.width=`${o}px`,super.updateItemPosition(e,t,r,n,s,o,a)}};(function(i){function e(t,r,n=!0){let s=t.createSectionTitle(r);return s.style.position="absolute",s.style.contain="strict",s.setAttribute("aria-label",`${r.label} Section`),s.setAttribute("aria-expanded",n?"true":"false"),s.setAttribute("aria-controls",r.owner.id),n&&s.classList.add("lm-mod-expanded"),s}i.createTitle=e})(G5||(G5={}));X5=class extends ve{constructor(e={}){super(),this.addClass("lm-Panel"),this.layout=c_.createLayout(e)}get widgets(){return this.layout.widgets}addWidget(e){this.layout.addWidget(e)}insertWidget(e,t){this.layout.insertWidget(e,t)}};(function(i){function e(t){return t.layout||new Wh}i.createLayout=e})(c_||(c_={}));qd=class extends X5{constructor(e={}){super({layout:d_.createLayout(e)}),this._handleMoved=new Re(this),this._pressData=null,this.addClass("lm-SplitPanel")}dispose(){this._releaseMouse(),super.dispose()}get orientation(){return this.layout.orientation}set orientation(e){this.layout.orientation=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get renderer(){return this.layout.renderer}get handleMoved(){return this._handleMoved}get handles(){return this.layout.handles}relativeSizes(){return this.layout.relativeSizes()}setRelativeSizes(e,t=!0){this.layout.setRelativeSizes(e,t)}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){e.child.addClass("lm-SplitPanel-child"),this._releaseMouse()}onChildRemoved(e){e.child.removeClass("lm-SplitPanel-child"),this._releaseMouse()}_evtKeyDown(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),e.keyCode===27&&this._releaseMouse()}_evtPointerDown(e){if(e.button!==0)return;let t=this.layout,r=z.findFirstIndex(t.handles,c=>c.contains(e.target));if(r===-1)return;e.preventDefault(),e.stopPropagation(),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);let n,s=t.handles[r],o=s.getBoundingClientRect();t.orientation==="horizontal"?n=e.clientX-o.left:n=e.clientY-o.top;let a=window.getComputedStyle(s),l=lr.overrideCursor(a.cursor);this._pressData={index:r,delta:n,override:l}}_evtPointerMove(e){e.preventDefault(),e.stopPropagation();let t,r=this.layout,n=this.node.getBoundingClientRect();r.orientation==="horizontal"?t=e.clientX-n.left-this._pressData.delta:t=e.clientY-n.top-this._pressData.delta,r.moveHandle(this._pressData.index,t)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))}};(function(i){class e{createHandle(){let s=document.createElement("div");return s.className="lm-SplitPanel-handle",s}}i.Renderer=e,i.defaultRenderer=new e;function t(n){return Eo.getStretch(n)}i.getStretch=t;function r(n,s){Eo.setStretch(n,s)}i.setStretch=r})(qd||(qd={}));(function(i){function e(t){return t.layout||new Eo({renderer:t.renderer||qd.defaultRenderer,orientation:t.orientation,alignment:t.alignment,spacing:t.spacing})}i.createLayout=e})(d_||(d_={}));Sm=class extends qd{constructor(e={}){super({...e,layout:u_.createLayout(e)}),this._widgetSizesCache=new WeakMap,this._expansionToggled=new Re(this),this.addClass("lm-AccordionPanel")}get renderer(){return this.layout.renderer}get titleSpace(){return this.layout.titleSpace}set titleSpace(e){this.layout.titleSpace=e}get titles(){return this.layout.titles}get expansionToggled(){return this._expansionToggled}addWidget(e){super.addWidget(e),e.title.changed.connect(this._onTitleChanged,this)}collapse(e){let t=this.layout.widgets[e];t&&!t.isHidden&&this._toggleExpansion(e)}expand(e){let t=this.layout.widgets[e];t&&t.isHidden&&this._toggleExpansion(e)}insertWidget(e,t){super.insertWidget(e,t),t.title.changed.connect(this._onTitleChanged,this)}handleEvent(e){switch(super.handleEvent(e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),super.onBeforeAttach(e)}onAfterDetach(e){super.onAfterDetach(e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)}_onTitleChanged(e){let t=z.findFirstIndex(this.widgets,r=>r.contains(e.owner));t>=0&&(this.layout.updateTitle(t,e.owner),this.update())}_computeWidgetSize(e){let t=this.layout,r=t.widgets[e];if(!r)return;let n=r.isHidden,s=t.absoluteSizes(),o=(n?-1:1)*this.spacing,a=s.reduce((c,u)=>c+u),l=[...s];if(n){let c=this._widgetSizesCache.get(r);if(!c)return;l[e]+=c;let u=l.map(d=>d-c>0).lastIndexOf(!0);u===-1?l.forEach((d,f)=>{f!==e&&(l[f]-=s[f]/a*(c-o))}):l[u]-=c-o}else{let c=s[e];this._widgetSizesCache.set(r,c),l[e]=0;let u=l.map(d=>d>0).lastIndexOf(!0);if(u===-1)return;l[u]=s[u]+c+o}return l.map(c=>c/(a+o))}_evtClick(e){let t=e.target;if(t){let r=z.findFirstIndex(this.titles,n=>n.contains(t));r>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(r))}}_eventKeyDown(e){if(e.defaultPrevented)return;let t=e.target,r=!1;if(t){let n=z.findFirstIndex(this.titles,s=>s.contains(t));if(n>=0){let s=e.keyCode.toString();if(e.key.match(/Space|Enter/)||s.match(/13|32/))t.click(),r=!0;else if(this.orientation==="horizontal"?e.key.match(/ArrowLeft|ArrowRight/)||s.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||s.match(/38|40/)){let o=e.key.match(/ArrowLeft|ArrowUp/)||s.match(/37|38/)?-1:1,a=this.titles.length,l=(n+a+o)%a;this.titles[l].focus(),r=!0}else e.key==="End"||s==="35"?(this.titles[this.titles.length-1].focus(),r=!0):(e.key==="Home"||s==="36")&&(this.titles[0].focus(),r=!0)}r&&e.preventDefault()}}_toggleExpansion(e){let t=this.titles[e],r=this.layout.widgets[e],n=this._computeWidgetSize(e);n&&this.setRelativeSizes(n,!1),r.isHidden?(t.classList.add("lm-mod-expanded"),t.setAttribute("aria-expanded","true"),r.show()):(t.classList.remove("lm-mod-expanded"),t.setAttribute("aria-expanded","false"),r.hide()),this._expansionToggled.emit(e)}};(function(i){class e extends qd.Renderer{constructor(){super(),this.titleClassName="lm-AccordionPanel-title",this._titleID=0,this._titleKeys=new WeakMap,this._uuid=++e._nInstance}createCollapseIcon(r){return document.createElement("span")}createSectionTitle(r){let n=document.createElement("h3");n.setAttribute("tabindex","0"),n.id=this.createTitleKey(r),n.className=this.titleClassName;for(let a in r.dataset)n.dataset[a]=r.dataset[a];let s=n.appendChild(this.createCollapseIcon(r));s.className="lm-AccordionPanel-titleCollapser";let o=n.appendChild(document.createElement("span"));return o.className="lm-AccordionPanel-titleLabel",o.textContent=r.label,o.title=r.caption||r.label,n}createTitleKey(r){let n=this._titleKeys.get(r);return n===void 0&&(n=`title-key-${this._uuid}-${this._titleID++}`,this._titleKeys.set(r,n)),n}}e._nInstance=0,i.Renderer=e,i.defaultRenderer=new e})(Sm||(Sm={}));(function(i){function e(t){return t.layout||new l_({renderer:t.renderer||Sm.defaultRenderer,orientation:t.orientation,alignment:t.alignment,spacing:t.spacing,titleSpace:t.titleSpace})}i.createLayout=e})(u_||(u_={}));as=class extends Wh{constructor(e={}){super(),this._fixed=0,this._spacing=4,this._dirty=!1,this._sizers=[],this._items=[],this._box=null,this._alignment="start",this._direction="top-to-bottom",e.direction!==void 0&&(this._direction=e.direction),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Lm.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,super.dispose()}get direction(){return this._direction}set direction(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Lm.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}init(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,t){z.insert(this._items,e,new Zd(t)),z.insert(this._sizers,e,new da),this.parent.isAttached&&Ae.sendMessage(t,ve.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&Ae.sendMessage(t,ve.Msg.AfterAttach),this.parent.fit()}moveWidget(e,t,r){z.move(this._items,e,t),z.move(this._sizers,e,t),this.parent.update()}detachWidget(e,t){let r=z.removeAt(this._items,e);z.removeAt(this._sizers,e),this.parent.isAttached&&Ae.sendMessage(t,ve.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&Ae.sendMessage(t,ve.Msg.AfterDetach),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0;for(let a=0,l=this._items.length;a<l;++a)e+=+!this._items[a].isHidden;this._fixed=this._spacing*Math.max(0,e-1);let t=Wd.isHorizontal(this._direction),r=t?this._fixed:0,n=t?0:this._fixed;for(let a=0,l=this._items.length;a<l;++a){let c=this._items[a],u=this._sizers[a];if(c.isHidden){u.minSize=0,u.maxSize=0;continue}c.fit(),u.sizeHint=as.getSizeBasis(c.widget),u.stretch=as.getStretch(c.widget),t?(u.minSize=c.minWidth,u.maxSize=c.maxWidth,r+=c.minWidth,n=Math.max(n,c.minHeight)):(u.minSize=c.minHeight,u.maxSize=c.maxHeight,n+=c.minHeight,r=Math.max(r,c.minWidth))}let s=this._box=Me.boxSizing(this.parent.node);r+=s.horizontalSum,n+=s.verticalSum;let o=this.parent.node.style;o.minWidth=`${r}px`,o.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&Ae.sendMessage(this.parent.parent,ve.Msg.FitRequest),this._dirty&&Ae.sendMessage(this.parent,ve.Msg.UpdateRequest)}_update(e,t){this._dirty=!1;let r=0;for(let d=0,f=this._items.length;d<f;++d)r+=+!this._items[d].isHidden;if(r===0)return;e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=Me.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=t-this._box.verticalSum,l;switch(this._direction){case"left-to-right":l=os.calc(this._sizers,Math.max(0,o-this._fixed));break;case"top-to-bottom":l=os.calc(this._sizers,Math.max(0,a-this._fixed));break;case"right-to-left":l=os.calc(this._sizers,Math.max(0,o-this._fixed)),s+=o;break;case"bottom-to-top":l=os.calc(this._sizers,Math.max(0,a-this._fixed)),n+=a;break;default:throw"unreachable"}let c=0,u=0;if(l>0)switch(this._alignment){case"start":break;case"center":c=0,u=l/2;break;case"end":c=0,u=l;break;case"justify":c=l/r,u=0;break;default:throw"unreachable"}for(let d=0,f=this._items.length;d<f;++d){let h=this._items[d];if(h.isHidden)continue;let m=this._sizers[d].size;switch(this._direction){case"left-to-right":h.update(s+u,n,m+c,a),s+=m+c+this._spacing;break;case"top-to-bottom":h.update(s,n+u,o,m+c),n+=m+c+this._spacing;break;case"right-to-left":h.update(s-u-m-c,n,m+c,a),s-=m+c+this._spacing;break;case"bottom-to-top":h.update(s,n-u-m-c,o,m+c),n-=m+c+this._spacing;break;default:throw"unreachable"}}}};(function(i){function e(s){return Wd.stretchProperty.get(s)}i.getStretch=e;function t(s,o){Wd.stretchProperty.set(s,o)}i.setStretch=t;function r(s){return Wd.sizeBasisProperty.get(s)}i.getSizeBasis=r;function n(s,o){Wd.sizeBasisProperty.set(s,o)}i.setSizeBasis=n})(as||(as={}));(function(i){i.stretchProperty=new ut({name:"stretch",create:()=>0,coerce:(n,s)=>Math.max(0,Math.floor(s)),changed:r}),i.sizeBasisProperty=new ut({name:"sizeBasis",create:()=>0,coerce:(n,s)=>Math.max(0,Math.floor(s)),changed:r});function e(n){return n==="left-to-right"||n==="right-to-left"}i.isHorizontal=e;function t(n){return Math.max(0,Math.floor(n))}i.clampSpacing=t;function r(n){n.parent&&n.parent.layout instanceof as&&n.parent.fit()}})(Wd||(Wd={}));K5=class extends X5{constructor(e={}){super({layout:h_.createLayout(e)}),this.addClass("lm-BoxPanel")}get direction(){return this.layout.direction}set direction(e){this.layout.direction=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}onChildAdded(e){e.child.addClass("lm-BoxPanel-child")}onChildRemoved(e){e.child.removeClass("lm-BoxPanel-child")}};(function(i){function e(s){return as.getStretch(s)}i.getStretch=e;function t(s,o){as.setStretch(s,o)}i.setStretch=t;function r(s){return as.getSizeBasis(s)}i.getSizeBasis=r;function n(s,o){as.setSizeBasis(s,o)}i.setSizeBasis=n})(K5||(K5={}));(function(i){function e(t){return t.layout||new as(t)}i.createLayout=e})(h_||(h_={}));Zh=class extends ve{constructor(e){super({node:dl.createNode()}),this._activeIndex=-1,this._items=[],this._results=null,this.addClass("lm-CommandPalette"),this.setFlag(ve.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||Zh.defaultRenderer,this.commands.commandChanged.connect(this._onGenericChange,this),this.commands.keyBindingChanged.connect(this._onGenericChange,this)}dispose(){this._items.length=0,this._results=null,super.dispose()}get searchNode(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]}get inputNode(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]}get contentNode(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]}get items(){return this._items}addItem(e){let t=dl.createItem(this.commands,e);return this._items.push(t),this.refresh(),t}addItems(e){let t=e.map(r=>dl.createItem(this.commands,r));return t.forEach(r=>this._items.push(r)),this.refresh(),t}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){z.removeAt(this._items,e)&&this.refresh()}clearItems(){this._items.length!==0&&(this._items.length=0,this.refresh())}refresh(){if(this._results=null,this.inputNode.value!==""){let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)}onAfterDetach(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)}onAfterShow(e){this.update(),super.onAfterShow(e)}onActivateRequest(e){if(this.isAttached){let t=this.inputNode;t.focus(),t.select()}}onUpdateRequest(e){if(!this.isVisible){Bt.render(null,this.contentNode);return}let t=this.inputNode.value,r=this.contentNode,n=this._results;if(n||(n=this._results=dl.search(this._items,t),this._activeIndex=t?z.findFirstIndex(n,dl.canActivate):-1),!t&&n.length===0){Bt.render(null,r);return}if(t&&n.length===0){let l=this.renderer.renderEmptyMessage({query:t});Bt.render(l,r);return}let s=this.renderer,o=this._activeIndex,a=new Array(n.length);for(let l=0,c=n.length;l<c;++l){let u=n[l];if(u.type==="header"){let d=u.indices,f=u.category;a[l]=s.renderHeader({category:f,indices:d})}else{let d=u.item,f=u.indices,h=l===o;a[l]=s.renderItem({item:d,indices:f,active:h})}}if(Bt.render(a,r),o<0||o>=n.length)r.scrollTop=0;else{let l=r.children[o];Me.scrollIntoViewIfNeeded(r,l)}}_evtClick(e){if(e.button!==0)return;if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}let t=z.findFirstIndex(this.contentNode.children,r=>r.contains(e.target));t!==-1&&(e.preventDefault(),e.stopPropagation(),this._execute(t))}_evtKeyDown(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}}_activateNextItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,t=this._results.length,r=e<t-1?e+1:0,n=r===0?t-1:r-1;this._activeIndex=z.findFirstIndex(this._results,dl.canActivate,r,n),this.update()}_activatePreviousItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,t=this._results.length,r=e<=0?t-1:e-1,n=r===t-1?0:r+1;this._activeIndex=z.findLastIndex(this._results,dl.canActivate,r,n),this.update()}_execute(e){if(!this._results)return;let t=this._results[e];if(t){if(t.type==="header"){let r=this.inputNode;r.value=`${t.category.toLowerCase()} `,r.focus(),this.refresh();return}t.item.isEnabled&&(this.commands.execute(t.item.command,t.item.args),this.inputNode.value="",this.refresh())}}_toggleFocused(){let e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e)}_onGenericChange(){this.refresh()}};(function(i){class e{renderHeader(r){let n=this.formatHeader(r);return xe.li({className:"lm-CommandPalette-header"},n)}renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r);return r.item.isToggleable?xe.li({className:n,dataset:s,role:"menuitemcheckbox","aria-checked":`${r.item.isToggled}`},this.renderItemIcon(r),this.renderItemContent(r),this.renderItemShortcut(r)):xe.li({className:n,dataset:s,role:"menuitem"},this.renderItemIcon(r),this.renderItemContent(r),this.renderItemShortcut(r))}renderEmptyMessage(r){let n=this.formatEmptyMessage(r);return xe.li({className:"lm-CommandPalette-emptyMessage"},n)}renderItemIcon(r){let n=this.createIconClass(r);return xe.div({className:n},r.item.icon,r.item.iconLabel)}renderItemContent(r){return xe.div({className:"lm-CommandPalette-itemContent"},this.renderItemLabel(r),this.renderItemCaption(r))}renderItemLabel(r){let n=this.formatItemLabel(r);return xe.div({className:"lm-CommandPalette-itemLabel"},n)}renderItemCaption(r){let n=this.formatItemCaption(r);return xe.div({className:"lm-CommandPalette-itemCaption"},n)}renderItemShortcut(r){let n=this.formatItemShortcut(r);return xe.div({className:"lm-CommandPalette-itemShortcut"},n)}createItemClass(r){let n="lm-CommandPalette-item";r.item.isEnabled||(n+=" lm-mod-disabled"),r.item.isToggled&&(n+=" lm-mod-toggled"),r.active&&(n+=" lm-mod-active");let s=r.item.className;return s&&(n+=` ${s}`),n}createItemDataset(r){return{...r.item.dataset,command:r.item.command}}createIconClass(r){let n="lm-CommandPalette-itemIcon",s=r.item.iconClass;return s?`${n} ${s}`:n}formatHeader(r){return!r.indices||r.indices.length===0?r.category:en.highlight(r.category,r.indices,xe.mark)}formatEmptyMessage(r){return`No commands found that match '${r.query}'`}formatItemShortcut(r){let n=r.item.keyBinding;return n?rn.formatKeystroke(n.keys):null}formatItemLabel(r){return!r.indices||r.indices.length===0?r.item.label:en.highlight(r.item.label,r.indices,xe.mark)}formatItemCaption(r){return r.item.caption}}i.Renderer=e,i.defaultRenderer=new e})(Zh||(Zh={}));(function(i){function e(){let f=document.createElement("div"),h=document.createElement("div"),m=document.createElement("div"),p=document.createElement("input"),v=document.createElement("ul"),x=document.createElement("button");return h.className="lm-CommandPalette-search",m.className="lm-CommandPalette-wrapper",p.className="lm-CommandPalette-input",x.className="lm-close-icon",v.className="lm-CommandPalette-content",v.setAttribute("role","menu"),p.spellcheck=!1,m.appendChild(p),m.appendChild(x),h.appendChild(m),f.appendChild(h),f.appendChild(v),f}i.createNode=e;function t(f,h){return new d(f,h)}i.createItem=t;function r(f,h){let m=a(f,h);return m.sort(c),u(m)}i.search=r;function n(f){return f.type==="item"&&f.item.isEnabled}i.canActivate=n;function s(f){return f.trim().replace(/\s+/g," ")}function o(f){return f.replace(/\s+/g,"").toLowerCase()}function a(f,h){h=o(h);let m=[];for(let p=0,v=f.length;p<v;++p){let x=f[p];if(!x.isVisible)continue;if(!h){m.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:x});continue}let C=l(x,h);C&&(x.isEnabled||(C.score+=1e3),m.push(C))}return m}function l(f,h){let m=f.category.toLowerCase(),p=f.label.toLowerCase(),v=`${m} ${p}`,x=1/0,C=null,y=/\b\w/g;for(;;){let R=y.exec(v);if(!R)break;let A=en.matchSumOfDeltas(v,h,R.index);if(!A)break;A.score<=x&&(x=A.score,C=A.indices)}if(!C||x===1/0)return null;let S=m.length+1,M=z.lowerBound(C,S,(R,A)=>R-A),_=C.slice(0,M),E=C.slice(M);for(let R=0,A=E.length;R<A;++R)E[R]-=S;return _.length===0?{matchType:0,categoryIndices:null,labelIndices:E,score:x,item:f}:E.length===0?{matchType:1,categoryIndices:_,labelIndices:null,score:x,item:f}:{matchType:2,categoryIndices:_,labelIndices:E,score:x,item:f}}function c(f,h){let m=f.matchType-h.matchType;if(m!==0)return m;let p=f.score-h.score;if(p!==0)return p;let v=0,x=0;switch(f.matchType){case 0:v=f.labelIndices[0],x=h.labelIndices[0];break;case 1:case 2:v=f.categoryIndices[0],x=h.categoryIndices[0];break}if(v!==x)return v-x;let C=f.item.category.localeCompare(h.item.category);if(C!==0)return C;let y=f.item.rank,S=h.item.rank;return y!==S?y<S?-1:1:f.item.label.localeCompare(h.item.label)}function u(f){let h=[];for(let m=0,p=f.length;m<p;++m){let{item:v,categoryIndices:x,labelIndices:C}=f[m],y=v.category;(m===0||y!==f[m-1].item.category)&&h.push({type:"header",category:y,indices:x}),h.push({type:"item",item:v,indices:C})}return h}class d{constructor(h,m){this._commands=h,this.category=s(m.category),this.command=m.command,this.args=m.args||fl.JSONExt.emptyObject,this.rank=m.rank!==void 0?m.rank:1/0}get label(){return this._commands.label(this.command,this.args)}get icon(){return this._commands.icon(this.command,this.args)}get iconClass(){return this._commands.iconClass(this.command,this.args)}get iconLabel(){return this._commands.iconLabel(this.command,this.args)}get caption(){return this._commands.caption(this.command,this.args)}get className(){return this._commands.className(this.command,this.args)}get dataset(){return this._commands.dataset(this.command,this.args)}get isEnabled(){return this._commands.isEnabled(this.command,this.args)}get isToggled(){return this._commands.isToggled(this.command,this.args)}get isToggleable(){return this._commands.isToggleable(this.command,this.args)}get isVisible(){return this._commands.isVisible(this.command,this.args)}get keyBinding(){let{command:h,args:m}=this;return z.findLastValue(this._commands.keyBindings,p=>p.command===h&&fl.JSONExt.deepEqual(p.args,m))||null}}})(dl||(dl={}));ua=class extends ve{constructor(e){super({node:Ln.createNode()}),this._childIndex=-1,this._activeIndex=-1,this._openTimerID=0,this._closeTimerID=0,this._items=[],this._childMenu=null,this._parentMenu=null,this._aboutToClose=new Re(this),this._menuRequested=new Re(this),this.addClass("lm-Menu"),this.setFlag(ve.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||ua.defaultRenderer}dispose(){this.close(),this._items.length=0,super.dispose()}get aboutToClose(){return this._aboutToClose}get menuRequested(){return this._menuRequested}get parentMenu(){return this._parentMenu}get childMenu(){return this._childMenu}get rootMenu(){let e=this;for(;e._parentMenu;)e=e._parentMenu;return e}get leafMenu(){let e=this;for(;e._childMenu;)e=e._childMenu;return e}get contentNode(){return this.node.getElementsByClassName("lm-Menu-content")[0]}get activeItem(){return this._items[this._activeIndex]||null}set activeItem(e){this.activeIndex=e?this._items.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._items.length)&&(e=-1),e!==-1&&!Ln.canActivate(this._items[e])&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())}get items(){return this._items}activateNextItem(){let e=this._items.length,t=this._activeIndex,r=t<e-1?t+1:0,n=r===0?e-1:r-1;this.activeIndex=z.findFirstIndex(this._items,Ln.canActivate,r,n)}activatePreviousItem(){let e=this._items.length,t=this._activeIndex,r=t<=0?e-1:t-1,n=r===e-1?0:r+1;this.activeIndex=z.findLastIndex(this._items,Ln.canActivate,r,n)}triggerActiveItem(){if(!this.isAttached)return;let e=this.activeItem;if(!e)return;if(this._cancelOpenTimer(),this._cancelCloseTimer(),e.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();let{command:t,args:r}=e;this.commands.isEnabled(t,r)?this.commands.execute(t,r):console.log(`Command '${t}' is disabled.`)}addItem(e){return this.insertItem(this._items.length,e)}insertItem(e,t){this.isAttached&&this.close(),this.activeIndex=-1;let r=Math.max(0,Math.min(e,this._items.length)),n=Ln.createItem(this,t);return z.insert(this._items,r,n),this.update(),n}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){this.isAttached&&this.close(),this.activeIndex=-1,z.removeAt(this._items,e)&&this.update()}clearItems(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())}open(e,t,r={}){var n,s,o;if(this.isAttached)return;let a=r.forceX||!1,l=r.forceY||!1,c=(n=r.host)!==null&&n!==void 0?n:null,u=(s=r.ref)!==null&&s!==void 0?s:null,d=(o=r.horizontalAlignment)!==null&&o!==void 0?o:document.documentElement.dir==="rtl"?"right":"left";Ln.openRootMenu(this,e,t,a,l,d,c,u),this.activate()}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)}onActivateRequest(e){this.isAttached&&this.node.focus()}onUpdateRequest(e){let t=this._items,r=this.renderer,n=this._activeIndex,s=Ln.computeCollapsed(t),o=new Array(t.length);for(let a=0,l=t.length;a<l;++a){let c=t[a],u=a===n,d=s[a];o[a]=r.renderItem({item:c,active:u,collapsed:d,onfocus:()=>{this.activeIndex=a}})}Bt.render(o,this.contentNode)}onCloseRequest(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;let t=this._childMenu;t&&(this._childIndex=-1,this._childMenu=null,t._parentMenu=null,t.close());let r=this._parentMenu;r&&(this._parentMenu=null,r._childIndex=-1,r._childMenu=null,r.activate()),this.isAttached&&this._aboutToClose.emit(void 0),super.onCloseRequest(e)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation();let t=e.keyCode;if(t===13){this.triggerActiveItem();return}if(t===27){this.close();return}if(t===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(t===38){this.activatePreviousItem();return}if(t===39){let o=this.activeItem;o&&o.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(t===40){this.activateNextItem();return}let r=Ts().keyForKeydownEvent(e);if(!r)return;let n=this._activeIndex+1,s=Ln.findMnemonic(this._items,r,n);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.triggerActiveItem()):s.index!==-1?this.activeIndex=s.index:s.auto!==-1&&(this.activeIndex=s.auto)}_evtMouseUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())}_evtMouseMove(e){let t=z.findFirstIndex(this.contentNode.children,n=>Me.hitTest(n,e.clientX,e.clientY));if(t===this._activeIndex)return;if(this.activeIndex=t,t=this.activeIndex,t===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();let r=this.activeItem;!r||r.type!=="submenu"||!r.submenu||this._startOpenTimer()}_evtMouseEnter(e){for(let t=this._parentMenu;t;t=t._parentMenu)t._cancelOpenTimer(),t._cancelCloseTimer(),t.activeIndex=t._childIndex}_evtMouseLeave(e){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}let{clientX:t,clientY:r}=e;if(Me.hitTest(this._childMenu.node,t,r)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()}_evtMouseDown(e){this._parentMenu||(Ln.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())}_openChildMenu(e=!1){let t=this.activeItem;if(!t||t.type!=="submenu"||!t.submenu){this._closeChildMenu();return}let r=t.submenu;if(r===this._childMenu)return;ua.saveWindowData(),this._closeChildMenu(),this._childMenu=r,this._childIndex=this._activeIndex,r._parentMenu=this,Ae.sendMessage(this,ve.Msg.UpdateRequest);let n=this.contentNode.children[this._activeIndex];Ln.openSubmenu(r,n),e&&(r.activeIndex=-1,r.activateNextItem()),r.activate()}_closeChildMenu(){this._childMenu&&this._childMenu.close()}_startOpenTimer(){this._openTimerID===0&&(this._openTimerID=window.setTimeout(()=>{this._openTimerID=0,this._openChildMenu()},Ln.TIMER_DELAY))}_startCloseTimer(){this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(()=>{this._closeTimerID=0,this._closeChildMenu()},Ln.TIMER_DELAY))}_cancelOpenTimer(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)}_cancelCloseTimer(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)}static saveWindowData(){Ln.saveWindowData()}};(function(i){class e{renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r),o=this.createItemARIA(r);return xe.li({className:n,dataset:s,tabindex:"0",onfocus:r.onfocus,...o},this.renderIcon(r),this.renderLabel(r),this.renderShortcut(r),this.renderSubmenu(r))}renderIcon(r){let n=this.createIconClass(r);return xe.div({className:n},r.item.icon,r.item.iconLabel)}renderLabel(r){let n=this.formatLabel(r);return xe.div({className:"lm-Menu-itemLabel"},n)}renderShortcut(r){let n=this.formatShortcut(r);return xe.div({className:"lm-Menu-itemShortcut"},n)}renderSubmenu(r){return xe.div({className:"lm-Menu-itemSubmenuIcon"})}createItemClass(r){let n="lm-Menu-item";r.item.isEnabled||(n+=" lm-mod-disabled"),r.item.isToggled&&(n+=" lm-mod-toggled"),r.item.isVisible||(n+=" lm-mod-hidden"),r.active&&(n+=" lm-mod-active"),r.collapsed&&(n+=" lm-mod-collapsed");let s=r.item.className;return s&&(n+=` ${s}`),n}createItemDataset(r){let n,{type:s,command:o,dataset:a}=r.item;return s==="command"?n={...a,type:s,command:o}:n={...a,type:s},n}createIconClass(r){let n="lm-Menu-itemIcon",s=r.item.iconClass;return s?`${n} ${s}`:n}createItemARIA(r){let n={};switch(r.item.type){case"separator":n.role="presentation";break;case"submenu":n["aria-haspopup"]="true",r.item.isEnabled||(n["aria-disabled"]="true");break;default:r.item.isEnabled||(n["aria-disabled"]="true"),r.item.isToggled?(n.role="menuitemcheckbox",n["aria-checked"]="true"):n.role="menuitem"}return n}formatLabel(r){let{label:n,mnemonic:s}=r.item;if(s<0||s>=n.length)return n;let o=n.slice(0,s),a=n.slice(s+1),l=n[s],c=xe.span({className:"lm-Menu-itemMnemonic"},l);return[o,c,a]}formatShortcut(r){let n=r.item.keyBinding;return n?rn.formatKeystroke(n.keys):null}}i.Renderer=e,i.defaultRenderer=new e})(ua||(ua={}));(function(i){i.TIMER_DELAY=300,i.SUBMENU_OVERLAP=3;let e=null,t=0;function r(){return t>0?(t--,e):u()}function n(){e=u(),t++}i.saveWindowData=n;function s(){let p=document.createElement("div"),v=document.createElement("ul");return v.className="lm-Menu-content",p.appendChild(v),v.setAttribute("role","menu"),p.tabIndex=0,p}i.createNode=s;function o(p){return p.type!=="separator"&&p.isEnabled&&p.isVisible}i.canActivate=o;function a(p,v){return new m(p.commands,v)}i.createItem=a;function l(p,v,x){for(let C=p;C;C=C.childMenu)if(Me.hitTest(C.node,v,x))return!0;return!1}i.hitTestMenus=l;function c(p){let v=new Array(p.length);z.fill(v,!1);let x=0,C=p.length;for(;x<C;++x){let M=p[x];if(M.isVisible){if(M.type!=="separator")break;v[x]=!0}}let y=C-1;for(;y>=0;--y){let M=p[y];if(M.isVisible){if(M.type!=="separator")break;v[y]=!0}}let S=!1;for(;++x<y;){let M=p[x];M.isVisible&&(M.type!=="separator"?S=!1:S?v[x]=!0:S=!0)}return v}i.computeCollapsed=c;function u(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function d(p,v,x,C,y,S,M,_){let E=r(),R=E.pageXOffset,A=E.pageYOffset,H=E.clientWidth,$=E.clientHeight;Ae.sendMessage(p,ve.Msg.UpdateRequest);let X=$-(y?x:0),ue=p.node,he=ue.style;he.opacity="0",he.maxHeight=`${X}px`,ve.attach(p,M||document.body,_);let{width:Y,height:ee}=ue.getBoundingClientRect();S==="right"&&(v-=Y),!C&&v+Y>R+H&&(v=R+H-Y),!y&&x+ee>A+$&&(x>A+$?x=A+$-ee:x=x-ee),he.transform=`translate(${Math.max(0,v)}px, ${Math.max(0,x)}px`,he.opacity="1"}i.openRootMenu=d;function f(p,v){let x=r(),C=x.pageXOffset,y=x.pageYOffset,S=x.clientWidth,M=x.clientHeight;Ae.sendMessage(p,ve.Msg.UpdateRequest);let _=M,E=p.node,R=E.style;R.opacity="0",R.maxHeight=`${_}px`,ve.attach(p,document.body);let{width:A,height:H}=E.getBoundingClientRect(),$=Me.boxSizing(p.node),X=v.getBoundingClientRect(),ue=X.right-i.SUBMENU_OVERLAP;ue+A>C+S&&(ue=X.left+i.SUBMENU_OVERLAP-A);let he=X.top-$.borderTop-$.paddingTop;he+H>y+M&&(he=X.bottom+$.borderBottom+$.paddingBottom-H),R.transform=`translate(${Math.max(0,ue)}px, ${Math.max(0,he)}px`,R.opacity="1"}i.openSubmenu=f;function h(p,v,x){let C=-1,y=-1,S=!1,M=v.toUpperCase();for(let _=0,E=p.length;_<E;++_){let R=(_+x)%E,A=p[R];if(!o(A))continue;let H=A.label;if(H.length===0)continue;let $=A.mnemonic;if($>=0&&$<H.length){H[$].toUpperCase()===M&&(C===-1?C=R:S=!0);continue}y===-1&&H[0].toUpperCase()===M&&(y=R)}return{index:C,multiple:S,auto:y}}i.findMnemonic=h;class m{constructor(v,x){this._commands=v,this.type=x.type||"command",this.command=x.command||"",this.args=x.args||fl.JSONExt.emptyObject,this.submenu=x.submenu||null}get label(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""}get mnemonic(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1}get icon(){if(this.type==="command")return this._commands.icon(this.command,this.args);if(this.type==="submenu"&&this.submenu)return this.submenu.title.icon}get iconClass(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""}get iconLabel(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""}get caption(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""}get className(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""}get dataset(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}}get isEnabled(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get isToggled(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1}get isVisible(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get keyBinding(){if(this.type==="command"){let{command:v,args:x}=this;return z.findLastValue(this._commands.keyBindings,C=>C.command===v&&fl.JSONExt.deepEqual(C.args,x))||null}return null}}})(Ln||(Ln={}));(function(i){function e(o,a){let l=r(o.selector),c=o.rank!==void 0?o.rank:1/0;return{...o,selector:l,rank:c,id:a}}i.createItem=e;function t(o,a,l,c){let u=a.target;if(!u)return null;let d=a.currentTarget;if(!d||!d.contains(u)&&(u=document.elementFromPoint(a.clientX,a.clientY),!u||!d.contains(u)))return null;let f=[],h=o.slice();for(;u!==null;){let m=[];for(let p=0,v=h.length;p<v;++p){let x=h[p];x&&tr.matches(u,x.selector)&&(m.push(x),h[p]=null)}if(m.length!==0&&(l&&m.sort(c?s:n),f.push(...m)),u===d)break;u=u.parentElement}return l||f.sort(c?s:n),f}i.matchItems=t;function r(o){if(o.indexOf(",")!==-1)throw new Error(`Selector cannot contain commas: ${o}`);if(!tr.isValid(o))throw new Error(`Invalid selector: ${o}`);return o}function n(o,a){let l=o.rank,c=a.rank;return l!==c?l<c?-1:1:o.id-a.id}function s(o,a){let l=tr.calculateSpecificity(o.selector),c=tr.calculateSpecificity(a.selector);return l!==c?c-l:n(o,a)}})(QT||(QT={}));SY=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"],wc=class extends ve{constructor(e={}){super({node:qs.createNode()}),this._currentIndex=-1,this._titles=[],this._titlesEditable=!1,this._previousTitle=null,this._dragData=null,this._addButtonEnabled=!1,this._tabMoved=new Re(this),this._currentChanged=new Re(this),this._addRequested=new Re(this),this._tabCloseRequested=new Re(this),this._tabDetachRequested=new Re(this),this._tabActivateRequested=new Re(this),this.addClass("lm-TabBar"),this.contentNode.setAttribute("role","tablist"),this.setFlag(ve.Flag.DisallowLayout),this._document=e.document||document,this.tabsMovable=e.tabsMovable||!1,this.titlesEditable=e.titlesEditable||!1,this.allowDeselect=e.allowDeselect||!1,this.addButtonEnabled=e.addButtonEnabled||!1,this.insertBehavior=e.insertBehavior||"select-tab-if-needed",this.name=e.name||"",this.orientation=e.orientation||"horizontal",this.removeBehavior=e.removeBehavior||"select-tab-after",this.renderer=e.renderer||wc.defaultRenderer}dispose(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,super.dispose()}get currentChanged(){return this._currentChanged}get tabMoved(){return this._tabMoved}get tabActivateRequested(){return this._tabActivateRequested}get addRequested(){return this._addRequested}get tabCloseRequested(){return this._tabCloseRequested}get tabDetachRequested(){return this._tabDetachRequested}get document(){return this._document}get titlesEditable(){return this._titlesEditable}set titlesEditable(e){this._titlesEditable=e}get currentTitle(){return this._titles[this._currentIndex]||null}set currentTitle(e){this.currentIndex=e?this._titles.indexOf(e):-1}get currentIndex(){return this._currentIndex}set currentIndex(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex===e)return;let t=this._currentIndex,r=this._titles[t]||null,n=e,s=this._titles[n]||null;this._currentIndex=n,this._previousTitle=r,this.update(),this._currentChanged.emit({previousIndex:t,previousTitle:r,currentIndex:n,currentTitle:s})}get name(){return this._name}set name(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))}get titles(){return this._titles}get contentNode(){return this.node.getElementsByClassName("lm-TabBar-content")[0]}get addButtonNode(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]}addTab(e){return this.insertTab(this._titles.length,e)}insertTab(e,t){this._releaseMouse();let r=qs.asTitle(t),n=this._titles.indexOf(r),s=Math.max(0,Math.min(e,this._titles.length));return n===-1?(z.insert(this._titles,s,r),r.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(s,r),r):(s===this._titles.length&&s--,n===s||(z.move(this._titles,n,s),this.update(),this._adjustCurrentForMove(n,s)),r)}removeTab(e){this.removeTabAt(this._titles.indexOf(e))}removeTabAt(e){this._releaseMouse();let t=z.removeAt(this._titles,e);t&&(t.changed.disconnect(this._onTitleChanged,this),t===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,t))}clearTabs(){if(this._titles.length===0)return;this._releaseMouse();for(let r of this._titles)r.changed.disconnect(this._onTitleChanged,this);let e=this.currentIndex,t=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),e!==-1&&this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null})}releaseMouse(){this._releaseMouse()}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":e.eventPhase===Event.CAPTURING_PHASE?this._evtKeyDownCapturing(e):this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this),this.node.addEventListener("keydown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this.node.removeEventListener("keydown",this),this._releaseMouse()}onUpdateRequest(e){var t;let r=this._titles,n=this.renderer,s=this.currentTitle,o=new Array(r.length),a=(t=this._getCurrentTabindex())!==null&&t!==void 0?t:this._currentIndex>-1?this._currentIndex:0;for(let l=0,c=r.length;l<c;++l){let u=r[l],d=u===s,f=d?c:c-l-1,h=a===l?0:-1;o[l]=n.renderTab({title:u,current:d,zIndex:f,tabIndex:h})}Bt.render(o,this.contentNode)}_getCurrentTabindex(){let e=null,t=this.contentNode.querySelector('li[tabindex="0"]');return t?e=[...this.contentNode.children].indexOf(t):this._addButtonEnabled&&this.addButtonNode.getAttribute("tabindex")==="0"&&(e=-1),e}_evtDblClick(e){if(!this.titlesEditable)return;let t=this.contentNode.children,r=z.findFirstIndex(t,o=>Me.hitTest(o,e.clientX,e.clientY));if(r===-1)return;let n=this.titles[r],s=t[r].querySelector(".lm-TabBar-tabLabel");if(s&&s.contains(e.target)){let o=n.label||"",a=s.innerHTML;s.innerHTML="";let l=document.createElement("input");l.classList.add("lm-TabBar-tabInput"),l.value=o,s.appendChild(l);let c=()=>{l.removeEventListener("blur",c),s.innerHTML=a,this.node.addEventListener("keydown",this)};l.addEventListener("dblclick",u=>u.stopPropagation()),l.addEventListener("blur",c),l.addEventListener("keydown",u=>{u.key==="Enter"?(l.value!==""&&(n.label=n.caption=l.value),c()):u.key==="Escape"&&c()}),this.node.removeEventListener("keydown",this),l.select(),l.focus(),s.children.length>0&&s.children[0].focus()}}_evtKeyDownCapturing(e){e.eventPhase===Event.CAPTURING_PHASE&&(e.preventDefault(),e.stopPropagation(),e.key==="Escape"&&this._releaseMouse())}_evtKeyDown(e){var t,r,n;if(!(e.key==="Tab"||e.eventPhase===Event.CAPTURING_PHASE)){if(e.key==="Enter"||e.key==="Spacebar"||e.key===" "){let s=document.activeElement;if(this.addButtonEnabled&&this.addButtonNode.contains(s))e.preventDefault(),e.stopPropagation(),this._addRequested.emit();else{let o=z.findFirstIndex(this.contentNode.children,a=>a.contains(s));o>=0&&(e.preventDefault(),e.stopPropagation(),this.currentIndex=o)}}else if(SY.includes(e.key)){let s=[...this.contentNode.children];if(this.addButtonEnabled&&s.push(this.addButtonNode),s.length<=1)return;e.preventDefault(),e.stopPropagation();let o=s.indexOf(document.activeElement);o===-1&&(o=this._currentIndex);let a;e.key==="ArrowRight"&&this._orientation==="horizontal"||e.key==="ArrowDown"&&this._orientation==="vertical"?a=(t=s[o+1])!==null&&t!==void 0?t:s[0]:e.key==="ArrowLeft"&&this._orientation==="horizontal"||e.key==="ArrowUp"&&this._orientation==="vertical"?a=(r=s[o-1])!==null&&r!==void 0?r:s[s.length-1]:e.key==="Home"?a=s[0]:e.key==="End"&&(a=s[s.length-1]),a&&((n=s[o])===null||n===void 0||n.setAttribute("tabindex","-1"),a?.setAttribute("tabindex","0"),a.focus())}}}_evtPointerDown(e){if(e.button!==0&&e.button!==1||this._dragData||e.target.classList.contains("lm-TabBar-tabInput"))return;let t=this.addButtonEnabled&&this.addButtonNode.contains(e.target),r=this.contentNode.children,n=z.findFirstIndex(r,o=>Me.hitTest(o,e.clientX,e.clientY));if(n===-1&&!t||(e.preventDefault(),e.stopPropagation(),this._dragData={tab:r[n],index:n,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("pointerup",this,!0),e.button===1||t))return;let s=r[n].querySelector(this.renderer.closeIconSelector);s&&s.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===n?this.currentIndex=-1:this.currentIndex=n,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}_evtPointerMove(e){let t=this._dragData;if(!t)return;e.preventDefault(),e.stopPropagation();let r=this.contentNode.children;if(!(!t.dragActive&&!qs.dragExceeded(t,e))){if(!t.dragActive){let n=t.tab.getBoundingClientRect();this._orientation==="horizontal"?(t.tabPos=t.tab.offsetLeft,t.tabSize=n.width,t.tabPressPos=t.pressX-n.left):(t.tabPos=t.tab.offsetTop,t.tabSize=n.height,t.tabPressPos=t.pressY-n.top),t.tabPressOffset={x:t.pressX-n.left,y:t.pressY-n.top},t.tabLayout=qs.snapTabLayout(r,this._orientation),t.contentRect=this.contentNode.getBoundingClientRect(),t.override=lr.overrideCursor("default"),t.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),t.dragActive=!0}if(!t.detachRequested&&qs.detachExceeded(t,e)){t.detachRequested=!0;let n=t.index,s=e.clientX,o=e.clientY,a=r[n],l=this._titles[n];if(this._tabDetachRequested.emit({index:n,title:l,tab:a,clientX:s,clientY:o,offset:t.tabPressOffset}),t.dragAborted)return}qs.layoutTabs(r,t,e,this._orientation)}}_evtPointerUp(e){if(e.button!==0&&e.button!==1)return;let t=this._dragData;if(!t)return;if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!t.dragActive){if(this._dragData=null,this.addButtonEnabled&&this.addButtonNode.contains(e.target)){this._addRequested.emit(void 0);return}let s=this.contentNode.children,o=z.findFirstIndex(s,c=>Me.hitTest(c,e.clientX,e.clientY));if(o!==t.index)return;let a=this._titles[o];if(!a.closable)return;if(e.button===1){this._tabCloseRequested.emit({index:o,title:a});return}let l=s[o].querySelector(this.renderer.closeIconSelector);if(l&&l.contains(e.target)){this._tabCloseRequested.emit({index:o,title:a});return}return}if(e.button!==0)return;qs.finalizeTabPosition(t,this._orientation),t.tab.classList.remove("lm-mod-dragging");let r=qs.parseTransitionDuration(t.tab);setTimeout(()=>{if(t.dragAborted)return;this._dragData=null,qs.resetTabPositions(this.contentNode.children,this._orientation),t.override.dispose(),this.removeClass("lm-mod-dragging");let n=t.index,s=t.targetIndex;s===-1||n===s||(z.move(this._titles,n,s),this._adjustCurrentForMove(n,s),this._tabMoved.emit({fromIndex:n,toIndex:s,title:this._titles[s]}),Ae.sendMessage(this,ve.Msg.UpdateRequest))},r)}_releaseMouse(){let e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(qs.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging")))}_adjustCurrentForInsert(e,t){let r=this.currentTitle,n=this._currentIndex,s=this.insertBehavior;if(s==="select-tab"||s==="select-tab-if-needed"&&n===-1){this._currentIndex=e,this._previousTitle=r,this._currentChanged.emit({previousIndex:n,previousTitle:r,currentIndex:e,currentTitle:t});return}n>=e&&this._currentIndex++}_adjustCurrentForMove(e,t){this._currentIndex===e?this._currentIndex=t:this._currentIndex<e&&this._currentIndex>=t?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=t&&this._currentIndex--}_adjustCurrentForRemove(e,t){let r=this._currentIndex,n=this.removeBehavior;if(r!==e){r>e&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null});return}if(n==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(n==="select-tab-before"){this._currentIndex=Math.max(0,e-1),this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(n==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null})}_onTitleChanged(e){this.update()}};(function(i){class e{constructor(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++e._nInstance}renderTab(r){let n=r.title.caption,s=this.createTabKey(r),o=s,a=this.createTabStyle(r),l=this.createTabClass(r),c=this.createTabDataset(r),u=this.createTabARIA(r);return r.title.closable?xe.li({id:o,key:s,className:l,title:n,style:a,dataset:c,...u},this.renderIcon(r),this.renderLabel(r),this.renderCloseIcon(r)):xe.li({id:o,key:s,className:l,title:n,style:a,dataset:c,...u},this.renderIcon(r),this.renderLabel(r))}renderIcon(r){let{title:n}=r,s=this.createIconClass(r);return xe.div({className:s},n.icon,n.iconLabel)}renderLabel(r){return xe.div({className:"lm-TabBar-tabLabel"},r.title.label)}renderCloseIcon(r){return xe.div({className:"lm-TabBar-tabCloseIcon"})}createTabKey(r){let n=this._tabKeys.get(r.title);return n===void 0&&(n=`tab-key-${this._uuid}-${this._tabID++}`,this._tabKeys.set(r.title,n)),n}createTabStyle(r){return{zIndex:`${r.zIndex}`}}createTabClass(r){let n="lm-TabBar-tab";return r.title.className&&(n+=` ${r.title.className}`),r.title.closable&&(n+=" lm-mod-closable"),r.current&&(n+=" lm-mod-current"),n}createTabDataset(r){return r.title.dataset}createTabARIA(r){var n;return{role:"tab","aria-selected":r.current.toString(),tabindex:`${(n=r.tabIndex)!==null&&n!==void 0?n:"-1"}`}}createIconClass(r){let n="lm-TabBar-tabIcon",s=r.title.iconClass;return s?`${n} ${s}`:n}}e._nInstance=0,i.Renderer=e,i.defaultRenderer=new e,i.addButtonSelector=".lm-TabBar-addButton"})(wc||(wc={}));(function(i){i.DRAG_THRESHOLD=5,i.DETACH_THRESHOLD=20;function e(){let u=document.createElement("div"),d=document.createElement("ul");d.setAttribute("role","tablist"),d.className="lm-TabBar-content",u.appendChild(d);let f=document.createElement("div");return f.className="lm-TabBar-addButton lm-mod-hidden",f.setAttribute("tabindex","-1"),f.setAttribute("role","button"),u.appendChild(f),u}i.createNode=e;function t(u){return u instanceof ym?u:new ym(u)}i.asTitle=t;function r(u){let d=window.getComputedStyle(u);return 1e3*(parseFloat(d.transitionDuration)||0)}i.parseTransitionDuration=r;function n(u,d){let f=new Array(u.length);for(let h=0,m=u.length;h<m;++h){let p=u[h],v=window.getComputedStyle(p);d==="horizontal"?f[h]={pos:p.offsetLeft,size:p.offsetWidth,margin:parseFloat(v.marginLeft)||0}:f[h]={pos:p.offsetTop,size:p.offsetHeight,margin:parseFloat(v.marginTop)||0}}return f}i.snapTabLayout=n;function s(u,d){let f=Math.abs(d.clientX-u.pressX),h=Math.abs(d.clientY-u.pressY);return f>=i.DRAG_THRESHOLD||h>=i.DRAG_THRESHOLD}i.dragExceeded=s;function o(u,d){let f=u.contentRect;return d.clientX<f.left-i.DETACH_THRESHOLD||d.clientX>=f.right+i.DETACH_THRESHOLD||d.clientY<f.top-i.DETACH_THRESHOLD||d.clientY>=f.bottom+i.DETACH_THRESHOLD}i.detachExceeded=o;function a(u,d,f,h){let m,p,v,x;h==="horizontal"?(m=d.pressX,p=f.clientX-d.contentRect.left,v=f.clientX,x=d.contentRect.width):(m=d.pressY,p=f.clientY-d.contentRect.top,v=f.clientY,x=d.contentRect.height);let C=d.index,y=p-d.tabPressPos,S=y+d.tabSize;for(let M=0,_=u.length;M<_;++M){let E,R=d.tabLayout[M],A=R.pos+(R.size>>1);if(M<d.index&&y<A)E=`${d.tabSize+d.tabLayout[M+1].margin}px`,C=Math.min(C,M);else if(M>d.index&&S>A)E=`${-d.tabSize-R.margin}px`,C=Math.max(C,M);else if(M===d.index){let H=v-m,$=x-(d.tabPos+d.tabSize);E=`${Math.max(-d.tabPos,Math.min(H,$))}px`}else E="";h==="horizontal"?u[M].style.left=E:u[M].style.top=E}d.targetIndex=C}i.layoutTabs=a;function l(u,d){let f;d==="horizontal"?f=u.contentRect.width:f=u.contentRect.height;let h;if(u.targetIndex===u.index)h=0;else if(u.targetIndex>u.index){let v=u.tabLayout[u.targetIndex];h=v.pos+v.size-u.tabSize-u.tabPos}else h=u.tabLayout[u.targetIndex].pos-u.tabPos;let m=f-(u.tabPos+u.tabSize),p=Math.max(-u.tabPos,Math.min(h,m));d==="horizontal"?u.tab.style.left=`${p}px`:u.tab.style.top=`${p}px`}i.finalizeTabPosition=l;function c(u,d){for(let f of u)d==="horizontal"?f.style.left="":f.style.top=""}i.resetTabPositions=c})(qs||(qs={}));f_=class extends ha{constructor(e){super(),this._spacing=4,this._dirty=!1,this._root=null,this._box=null,this._items=new Map,this.renderer=e.renderer,e.spacing!==void 0&&(this._spacing=Lm.clampDimension(e.spacing)),this._document=e.document||document,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:ve.HiddenMode.Display}dispose(){let e=this[Symbol.iterator]();this._items.forEach(t=>{t.dispose()}),this._box=null,this._root=null,this._items.clear();for(let t of e)t.dispose();super.dispose()}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){if(this._hiddenMode!==e){this._hiddenMode=e;for(let t of this.tabBars())if(t.titles.length>1)for(let r of t.titles)r.owner.hiddenMode=this._hiddenMode}}get spacing(){return this._spacing}set spacing(e){e=Lm.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get isEmpty(){return this._root===null}[Symbol.iterator](){return this._root?this._root.iterAllWidgets():wi()}widgets(){return this._root?this._root.iterUserWidgets():wi()}selectedWidgets(){return this._root?this._root.iterSelectedWidgets():wi()}tabBars(){return this._root?this._root.iterTabBars():wi()}handles(){return this._root?this._root.iterHandles():wi()}moveHandle(e,t,r){let n=e.classList.contains("lm-mod-hidden");if(!this._root||n)return;let s=this._root.findSplitNode(e);if(!s)return;let o;s.node.orientation==="horizontal"?o=t-e.offsetLeft:o=r-e.offsetTop,o!==0&&(s.node.holdSizes(),os.adjust(s.node.sizers,s.index,o),this.parent&&this.parent.update())}saveLayout(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}}restoreLayout(e){let t=new Set,r;e.main?r=Yi.normalizeAreaConfig(e.main,t):r=null;let n=this.widgets(),s=this.tabBars(),o=this.handles();this._root=null;for(let a of n)t.has(a)||(a.parent=null);for(let a of s)a.dispose();for(let a of o)a.parentNode&&a.parentNode.removeChild(a);for(let a of t)a.parent=this.parent;r?this._root=Yi.realizeAreaConfig(r,{createTabBar:a=>this._createTabBar(),createHandle:()=>this._createHandle()},this._document):this._root=null,this.parent&&(t.forEach(a=>{this.attachWidget(a)}),this.parent.fit())}addWidget(e,t={}){let r=t.ref||null,n=t.mode||"tab-after",s=null;if(this._root&&r&&(s=this._root.findTabNode(r)),r&&!s)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,n){case"tab-after":this._insertTab(e,r,s,!0);break;case"tab-before":this._insertTab(e,r,s,!1);break;case"split-top":this._insertSplit(e,r,s,"vertical",!1);break;case"split-left":this._insertSplit(e,r,s,"horizontal",!1);break;case"split-right":this._insertSplit(e,r,s,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,r,s,"vertical",!0);break;case"merge-top":this._insertSplit(e,r,s,"vertical",!1,!0);break;case"merge-left":this._insertSplit(e,r,s,"horizontal",!1,!0);break;case"merge-right":this._insertSplit(e,r,s,"horizontal",!0,!0);break;case"merge-bottom":this._insertSplit(e,r,s,"vertical",!0,!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())}removeWidget(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())}hitTestTabAreas(e,t){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=Me.boxSizing(this.parent.node));let r=this.parent.node.getBoundingClientRect(),n=e-r.left-this._box.borderLeft,s=t-r.top-this._box.borderTop,o=this._root.hitTestTabNodes(n,s);if(!o)return null;let{tabBar:a,top:l,left:c,width:u,height:d}=o,f=this._box.borderLeft+this._box.borderRight,h=this._box.borderTop+this._box.borderBottom,m=r.width-f-(c+u),p=r.height-h-(l+d);return{tabBar:a,x:n,y:s,top:l,left:c,right:m,bottom:p,width:u,height:d}}init(){super.init();for(let e of this)this.attachWidget(e);for(let e of this.handles())this.parent.node.appendChild(e);this.parent.fit()}attachWidget(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new Zd(e)),this.parent.isAttached&&Ae.sendMessage(e,ve.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Ae.sendMessage(e,ve.Msg.AfterAttach))}detachWidget(e){if(this.parent.node!==e.node.parentNode)return;this.parent.isAttached&&Ae.sendMessage(e,ve.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Ae.sendMessage(e,ve.Msg.AfterDetach);let t=this._items.get(e);t&&(this._items.delete(e),t.dispose())}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_removeWidget(e){if(!this._root)return;let t=this._root.findTabNode(e);if(!t)return;if(Yi.removeAria(e),t.tabBar.titles.length>1){if(t.tabBar.removeTab(e.title),this._hiddenMode===ve.HiddenMode.Scale&&t.tabBar.titles.length==1){let f=t.tabBar.titles[0].owner;f.hiddenMode=ve.HiddenMode.Display}return}if(t.tabBar.dispose(),this._root===t){this._root=null;return}this._root.holdAllSizes();let r=t.parent;t.parent=null;let n=z.removeFirstOf(r.children,t),s=z.removeAt(r.handles,n);if(z.removeAt(r.sizers,n),s.parentNode&&s.parentNode.removeChild(s),r.children.length>1){r.syncHandles();return}let o=r.parent;r.parent=null;let a=r.children[0],l=r.handles[0];if(r.children.length=0,r.handles.length=0,r.sizers.length=0,l.parentNode&&l.parentNode.removeChild(l),this._root===r){a.parent=null,this._root=a;return}let c=o,u=c.children.indexOf(r);if(a instanceof Yi.TabLayoutNode){a.parent=c,c.children[u]=a;return}let d=z.removeAt(c.handles,u);z.removeAt(c.children,u),z.removeAt(c.sizers,u),d.parentNode&&d.parentNode.removeChild(d);for(let f=0,h=a.children.length;f<h;++f){let m=a.children[f],p=a.handles[f],v=a.sizers[f];z.insert(c.children,u+f,m),z.insert(c.handles,u+f,p),z.insert(c.sizers,u+f,v),m.parent=c}a.children.length=0,a.handles.length=0,a.sizers.length=0,a.parent=null,c.syncHandles()}_createTabNode(e){let t=new Yi.TabLayoutNode(this._createTabBar());return t.tabBar.addTab(e.title),Yi.addAria(e,t.tabBar),t}_insertTab(e,t,r,n){if(e===t)return;if(!this._root){let o=new Yi.TabLayoutNode(this._createTabBar());o.tabBar.addTab(e.title),this._root=o,Yi.addAria(e,o.tabBar);return}r||(r=this._root.findFirstTabNode()),r.tabBar.titles.indexOf(e.title)===-1&&(this._removeWidget(e),e.hide());let s;if(t?s=r.tabBar.titles.indexOf(t.title):s=r.tabBar.currentIndex,this._hiddenMode===ve.HiddenMode.Scale)if(r.tabBar.titles.length===0)e.hiddenMode=ve.HiddenMode.Display;else if(r.tabBar.titles.length==1){let o=r.tabBar.titles[0].owner;o.hiddenMode=ve.HiddenMode.Scale}else e.hiddenMode=ve.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;r.tabBar.insertTab(s+(n?1:0),e.title),Yi.addAria(e,r.tabBar)}_insertSplit(e,t,r,n,s,o=!1){if(e===t&&r&&r.tabBar.titles.length===1)return;if(this._removeWidget(e),!this._root){this._root=this._createTabNode(e);return}if(!r||!r.parent){let f=this._splitRoot(n),h=s?f.children.length:0;f.normalizeSizes();let m=Yi.createSizer(r?1:Yi.GOLDEN_RATIO),p=this._createTabNode(e);z.insert(f.children,h,p),z.insert(f.sizers,h,m),z.insert(f.handles,h,this._createHandle()),p.parent=f,f.normalizeSizes(),f.syncHandles();return}let a=r.parent;if(a.orientation===n){let f=a.children.indexOf(r);if(o){let v=f+(s?1:-1),x=a.children[v];if(x instanceof Yi.TabLayoutNode){this._insertTab(e,null,x,!0),++x.tabBar.currentIndex;return}}a.normalizeSizes();let h=a.sizers[f].sizeHint/=2,m=f+(s?1:0),p=this._createTabNode(e);z.insert(a.children,m,p),z.insert(a.sizers,m,Yi.createSizer(h)),z.insert(a.handles,m,this._createHandle()),p.parent=a,a.syncHandles();return}let l=z.removeFirstOf(a.children,r),c=new Yi.SplitLayoutNode(n);c.normalized=!0,c.children.push(r),c.sizers.push(Yi.createSizer(.5)),c.handles.push(this._createHandle()),r.parent=c;let u=s?1:0,d=this._createTabNode(e);z.insert(c.children,u,d),z.insert(c.sizers,u,Yi.createSizer(.5)),z.insert(c.handles,u,this._createHandle()),d.parent=c,c.syncHandles(),z.insert(a.children,l,c),c.parent=a}_splitRoot(e){let t=this._root;if(t instanceof Yi.SplitLayoutNode&&t.orientation===e)return t;let r=this._root=new Yi.SplitLayoutNode(e);return t&&(r.children.push(t),r.sizers.push(Yi.createSizer(0)),r.handles.push(this._createHandle()),t.parent=r),r}_fit(){let e=0,t=0;if(this._root){let s=this._root.fit(this._spacing,this._items);e=s.minWidth,t=s.minHeight}let r=this._box=Me.boxSizing(this.parent.node);e+=r.horizontalSum,t+=r.verticalSum;let n=this.parent.node.style;n.minWidth=`${e}px`,n.minHeight=`${t}px`,this._dirty=!0,this.parent.parent&&Ae.sendMessage(this.parent.parent,ve.Msg.FitRequest),this._dirty&&Ae.sendMessage(this.parent,ve.Msg.UpdateRequest)}_update(e,t){if(this._dirty=!1,!this._root)return;e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=Me.boxSizing(this.parent.node));let r=this._box.paddingTop,n=this._box.paddingLeft,s=e-this._box.horizontalSum,o=t-this._box.verticalSum;this._root.update(r,n,s,o,this._spacing,this._items)}_createTabBar(){let e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&this.attachWidget(e),e}_createHandle(){let e=this.renderer.createHandle(),t=e.style;return t.position="absolute",t.contain="strict",t.top="0",t.left="0",t.width="0",t.height="0",this.parent&&this.parent.node.appendChild(e),e}};(function(i){i.GOLDEN_RATIO=.618;function e(f){let h=new da;return h.sizeHint=f,h.size=f,h}i.createSizer=e;function t(f,h){let m;return f.type==="tab-area"?m=l(f,h):m=c(f,h),m}i.normalizeAreaConfig=t;function r(f,h,m){let p;return f.type==="tab-area"?p=u(f,h,m):p=d(f,h,m),p}i.realizeAreaConfig=r;class n{constructor(h){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;let m=new da,p=new da;m.stretch=0,p.stretch=1,this.tabBar=h,this.sizers=[m,p]}get top(){return this._top}get left(){return this._left}get width(){return this._width}get height(){return this._height}*iterAllWidgets(){yield this.tabBar,yield*this.iterUserWidgets()}*iterUserWidgets(){for(let h of this.tabBar.titles)yield h.owner}*iterSelectedWidgets(){let h=this.tabBar.currentTitle;h&&(yield h.owner)}*iterTabBars(){yield this.tabBar}*iterHandles(){}findTabNode(h){return this.tabBar.titles.indexOf(h.title)!==-1?this:null}findSplitNode(h){return null}findFirstTabNode(){return this}hitTestTabNodes(h,m){return h<this._left||h>=this._left+this._width||m<this._top||m>=this._top+this._height?null:this}createConfig(){let h=this.tabBar.titles.map(p=>p.owner),m=this.tabBar.currentIndex;return{type:"tab-area",widgets:h,currentIndex:m}}holdAllSizes(){}fit(h,m){let p=0,v=0,x=1/0,C=1/0,y=m.get(this.tabBar),S=this.tabBar.currentTitle,M=S?m.get(S.owner):void 0,[_,E]=this.sizers;return y&&y.fit(),M&&M.fit(),y&&!y.isHidden?(p=Math.max(p,y.minWidth),v+=y.minHeight,_.minSize=y.minHeight,_.maxSize=y.maxHeight):(_.minSize=0,_.maxSize=0),M&&!M.isHidden?(p=Math.max(p,M.minWidth),v+=M.minHeight,E.minSize=M.minHeight,E.maxSize=1/0):(E.minSize=0,E.maxSize=1/0),{minWidth:p,minHeight:v,maxWidth:x,maxHeight:C}}update(h,m,p,v,x,C){this._top=m,this._left=h,this._width=p,this._height=v;let y=C.get(this.tabBar),S=this.tabBar.currentTitle,M=S?C.get(S.owner):void 0;if(os.calc(this.sizers,v),y&&!y.isHidden){let _=this.sizers[0].size;y.update(h,m,p,_),m+=_}if(M&&!M.isHidden){let _=this.sizers[1].size;M.update(h,m,p,_)}}}i.TabLayoutNode=n;class s{constructor(h){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=h}*iterAllWidgets(){for(let h of this.children)yield*h.iterAllWidgets()}*iterUserWidgets(){for(let h of this.children)yield*h.iterUserWidgets()}*iterSelectedWidgets(){for(let h of this.children)yield*h.iterSelectedWidgets()}*iterTabBars(){for(let h of this.children)yield*h.iterTabBars()}*iterHandles(){yield*this.handles;for(let h of this.children)yield*h.iterHandles()}findTabNode(h){for(let m=0,p=this.children.length;m<p;++m){let v=this.children[m].findTabNode(h);if(v)return v}return null}findSplitNode(h){let m=this.handles.indexOf(h);if(m!==-1)return{index:m,node:this};for(let p=0,v=this.children.length;p<v;++p){let x=this.children[p].findSplitNode(h);if(x)return x}return null}findFirstTabNode(){return this.children.length===0?null:this.children[0].findFirstTabNode()}hitTestTabNodes(h,m){for(let p=0,v=this.children.length;p<v;++p){let x=this.children[p].hitTestTabNodes(h,m);if(x)return x}return null}createConfig(){let h=this.orientation,m=this.createNormalizedSizes(),p=this.children.map(v=>v.createConfig());return{type:"split-area",orientation:h,children:p,sizes:m}}syncHandles(){this.handles.forEach((h,m)=>{h.setAttribute("data-orientation",this.orientation),m===this.handles.length-1?h.classList.add("lm-mod-hidden"):h.classList.remove("lm-mod-hidden")})}holdSizes(){for(let h of this.sizers)h.sizeHint=h.size}holdAllSizes(){for(let h of this.children)h.holdAllSizes();this.holdSizes()}normalizeSizes(){let h=this.sizers.length;if(h===0)return;this.holdSizes();let m=this.sizers.reduce((p,v)=>p+v.sizeHint,0);if(m===0)for(let p of this.sizers)p.size=p.sizeHint=1/h;else for(let p of this.sizers)p.size=p.sizeHint/=m;this.normalized=!0}createNormalizedSizes(){let h=this.sizers.length;if(h===0)return[];let m=this.sizers.map(v=>v.size),p=m.reduce((v,x)=>v+x,0);if(p===0)for(let v=m.length-1;v>-1;v--)m[v]=1/h;else for(let v=m.length-1;v>-1;v--)m[v]/=p;return m}fit(h,m){let p=this.orientation==="horizontal",v=Math.max(0,this.children.length-1)*h,x=p?v:0,C=p?0:v,y=1/0,S=1/0;for(let M=0,_=this.children.length;M<_;++M){let E=this.children[M].fit(h,m);p?(C=Math.max(C,E.minHeight),x+=E.minWidth,this.sizers[M].minSize=E.minWidth):(x=Math.max(x,E.minWidth),C+=E.minHeight,this.sizers[M].minSize=E.minHeight)}return{minWidth:x,minHeight:C,maxWidth:y,maxHeight:S}}update(h,m,p,v,x,C){let y=this.orientation==="horizontal",S=Math.max(0,this.children.length-1)*x,M=Math.max(0,(y?p:v)-S);if(this.normalized){for(let _ of this.sizers)_.sizeHint*=M;this.normalized=!1}os.calc(this.sizers,M);for(let _=0,E=this.children.length;_<E;++_){let R=this.children[_],A=this.sizers[_].size,H=this.handles[_].style;y?(R.update(h,m,A,v,x,C),h+=A,H.top=`${m}px`,H.left=`${h}px`,H.width=`${x}px`,H.height=`${v}px`,h+=x):(R.update(h,m,p,A,x,C),m+=A,H.top=`${m}px`,H.left=`${h}px`,H.width=`${p}px`,H.height=`${x}px`,m+=x)}}}i.SplitLayoutNode=s;function o(f,h){f.node.setAttribute("role","tabpanel");let m=h.renderer;if(m instanceof wc.Renderer){let p=m.createTabKey({title:f.title,current:!1,zIndex:0});f.node.setAttribute("aria-labelledby",p)}}i.addAria=o;function a(f){f.node.removeAttribute("role"),f.node.removeAttribute("aria-labelledby")}i.removeAria=a;function l(f,h){if(f.widgets.length===0)return null;let m=[];for(let v of f.widgets)h.has(v)||(h.add(v),m.push(v));if(m.length===0)return null;let p=f.currentIndex;return p!==-1&&(p<0||p>=m.length)&&(p=0),{type:"tab-area",widgets:m,currentIndex:p}}function c(f,h){let m=f.orientation,p=[],v=[];for(let x=0,C=f.children.length;x<C;++x){let y=t(f.children[x],h);y&&(y.type==="tab-area"||y.orientation!==m?(p.push(y),v.push(Math.abs(f.sizes[x]||0))):(p.push(...y.children),v.push(...y.sizes)))}return p.length===0?null:p.length===1?p[0]:{type:"split-area",orientation:m,children:p,sizes:v}}function u(f,h,m){let p=h.createTabBar(m);for(let v of f.widgets)v.hide(),p.addTab(v.title),i.addAria(v,p);return p.currentIndex=f.currentIndex,new n(p)}function d(f,h,m){let p=new s(f.orientation);return f.children.forEach((v,x)=>{let C=r(v,h,m),y=e(f.sizes[x]),S=h.createHandle();p.children.push(C),p.handles.push(S),p.sizers.push(y),C.parent=p}),p.syncHandles(),p.normalizeSizes(),p}})(Yi||(Yi={}));Ud=class extends ve{constructor(e={}){super(),this._drag=null,this._tabsMovable=!0,this._tabsConstrained=!1,this._addButtonEnabled=!1,this._pressData=null,this._layoutModified=new Re(this),this._addRequested=new Re(this),this.addClass("lm-DockPanel"),this._document=e.document||document,this._mode=e.mode||"multiple-document",this._renderer=e.renderer||Ud.defaultRenderer,this._edges=e.edges||Pi.DEFAULT_EDGES,e.tabsMovable!==void 0&&(this._tabsMovable=e.tabsMovable),e.tabsConstrained!==void 0&&(this._tabsConstrained=e.tabsConstrained),e.addButtonEnabled!==void 0&&(this._addButtonEnabled=e.addButtonEnabled),this.dataset.mode=this._mode;let t={createTabBar:()=>this._createTabBar(),createHandle:()=>this._createHandle()};this.layout=new f_({document:this._document,renderer:t,spacing:e.spacing,hiddenMode:e.hiddenMode}),this.overlay=e.overlay||new Ud.Overlay,this.node.appendChild(this.overlay.node)}dispose(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),super.dispose()}get hiddenMode(){return this.layout.hiddenMode}set hiddenMode(e){this.layout.hiddenMode=e}get layoutModified(){return this._layoutModified}get addRequested(){return this._addRequested}get renderer(){return this.layout.renderer}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get mode(){return this._mode}set mode(e){if(this._mode===e)return;this._mode=e,this.dataset.mode=e;let t=this.layout;switch(e){case"multiple-document":for(let r of t.tabBars())r.show();break;case"single-document":t.restoreLayout(Pi.createSingleDocumentConfig(this));break;default:throw"unreachable"}Ae.postMessage(this,Pi.LayoutModified)}get tabsMovable(){return this._tabsMovable}set tabsMovable(e){this._tabsMovable=e;for(let t of this.tabBars())t.tabsMovable=e}get tabsConstrained(){return this._tabsConstrained}set tabsConstrained(e){this._tabsConstrained=e}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled=e;for(let t of this.tabBars())t.addButtonEnabled=e}get isEmpty(){return this.layout.isEmpty}*widgets(){yield*this.layout.widgets()}*selectedWidgets(){yield*this.layout.selectedWidgets()}*tabBars(){yield*this.layout.tabBars()}*handles(){yield*this.layout.handles()}selectWidget(e){let t=Rs(this.tabBars(),r=>r.titles.indexOf(e.title)!==-1);if(!t)throw new Error("Widget is not contained in the dock panel.");t.currentTitle=e.title}activateWidget(e){this.selectWidget(e),e.activate()}saveLayout(){return this.layout.saveLayout()}restoreLayout(e){this._mode="multiple-document",this.layout.restoreLayout(e),(Ei.IS_EDGE||Ei.IS_IE)&&Ae.flush(),Ae.postMessage(this,Pi.LayoutModified)}addWidget(e,t={}){this._mode==="single-document"?this.layout.addWidget(e):this.layout.addWidget(e,t),Ae.postMessage(this,Pi.LayoutModified)}processMessage(e){e.type==="layout-modified"?this._layoutModified.emit(void 0):super.processMessage(e)}handleEvent(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){Pi.isGeneratedTabBarProperty.get(e.child)||e.child.addClass("lm-DockPanel-widget")}onChildRemoved(e){Pi.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),Ae.postMessage(this,Pi.LayoutModified))}_evtDragEnter(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())}_evtDragLeave(e){e.preventDefault(),!(this._tabsConstrained&&e.source!==this)&&(e.stopPropagation(),this.overlay.hide(1))}_evtDragOver(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)}_evtDrop(e){if(e.preventDefault(),this.overlay.hide(0),e.proposedAction==="none"){e.dropAction="none";return}let{clientX:t,clientY:r}=e,{zone:n,target:s}=Pi.findDropTarget(this,t,r,this._edges);if(this._tabsConstrained&&e.source!==this||n==="invalid"){e.dropAction="none";return}let a=e.mimeData.getData("application/vnd.lumino.widget-factory");if(typeof a!="function"){e.dropAction="none";return}let l=a();if(!(l instanceof ve)){e.dropAction="none";return}if(l.contains(this)){e.dropAction="none";return}let c=s?Pi.getDropRef(s.tabBar):null;switch(n){case"root-all":this.addWidget(l);break;case"root-top":this.addWidget(l,{mode:"split-top"});break;case"root-left":this.addWidget(l,{mode:"split-left"});break;case"root-right":this.addWidget(l,{mode:"split-right"});break;case"root-bottom":this.addWidget(l,{mode:"split-bottom"});break;case"widget-all":this.addWidget(l,{mode:"tab-after",ref:c});break;case"widget-top":this.addWidget(l,{mode:"split-top",ref:c});break;case"widget-left":this.addWidget(l,{mode:"split-left",ref:c});break;case"widget-right":this.addWidget(l,{mode:"split-right",ref:c});break;case"widget-bottom":this.addWidget(l,{mode:"split-bottom",ref:c});break;case"widget-tab":this.addWidget(l,{mode:"tab-after",ref:c});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(l)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&(this._releaseMouse(),Ae.postMessage(this,Pi.LayoutModified))}_evtPointerDown(e){if(e.button!==0)return;let t=this.layout,r=e.target,n=Rs(t.handles(),u=>u.contains(r));if(!n)return;e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);let s=n.getBoundingClientRect(),o=e.clientX-s.left,a=e.clientY-s.top,l=window.getComputedStyle(n),c=lr.overrideCursor(l.cursor,this._document);this._pressData={handle:n,deltaX:o,deltaY:a,override:c}}_evtPointerMove(e){if(!this._pressData)return;e.preventDefault(),e.stopPropagation();let t=this.node.getBoundingClientRect(),r=e.clientX-t.left-this._pressData.deltaX,n=e.clientY-t.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,r,n)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),Ae.postMessage(this,Pi.LayoutModified))}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))}_showOverlay(e,t){let{zone:r,target:n}=Pi.findDropTarget(this,e,t,this._edges);if(r==="invalid")return this.overlay.hide(100),r;let s,o,a,l,c=Me.boxSizing(this.node),u=this.node.getBoundingClientRect();switch(r){case"root-all":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"root-top":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=u.height*Pi.GOLDEN_RATIO;break;case"root-left":s=c.paddingTop,o=c.paddingLeft,a=u.width*Pi.GOLDEN_RATIO,l=c.paddingBottom;break;case"root-right":s=c.paddingTop,o=u.width*Pi.GOLDEN_RATIO,a=c.paddingRight,l=c.paddingBottom;break;case"root-bottom":s=u.height*Pi.GOLDEN_RATIO,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"widget-all":s=n.top,o=n.left,a=n.right,l=n.bottom;break;case"widget-top":s=n.top,o=n.left,a=n.right,l=n.bottom+n.height/2;break;case"widget-left":s=n.top,o=n.left,a=n.right+n.width/2,l=n.bottom;break;case"widget-right":s=n.top,o=n.left+n.width/2,a=n.right,l=n.bottom;break;case"widget-bottom":s=n.top+n.height/2,o=n.left,a=n.right,l=n.bottom;break;case"widget-tab":{let d=n.tabBar.node.getBoundingClientRect().height;s=n.top,o=n.left,a=n.right,l=n.bottom+n.height-d;break}default:throw"unreachable"}return this.overlay.show({top:s,left:o,right:a,bottom:l}),r}_createTabBar(){let e=this._renderer.createTabBar(this._document);return Pi.isGeneratedTabBarProperty.set(e,!0),this._mode==="single-document"&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e}_createHandle(){return this._renderer.createHandle()}_onTabMoved(){Ae.postMessage(this,Pi.LayoutModified)}_onCurrentChanged(e,t){let{previousTitle:r,currentTitle:n}=t;r&&r.owner.hide(),n&&n.owner.show(),(Ei.IS_EDGE||Ei.IS_IE)&&Ae.flush(),Ae.postMessage(this,Pi.LayoutModified)}_onTabAddRequested(e){this._addRequested.emit(e)}_onTabActivateRequested(e,t){t.title.owner.activate()}_onTabCloseRequested(e,t){t.title.owner.close()}_onTabDetachRequested(e,t){if(this._drag)return;e.releaseMouse();let{title:r,tab:n,clientX:s,clientY:o,offset:a}=t,l=new fl.MimeData,c=()=>r.owner;l.setData("application/vnd.lumino.widget-factory",c);let u=n.cloneNode(!0);a&&(u.style.top=`-${a.y}px`,u.style.left=`-${a.x}px`),this._drag=new lr({document:this._document,mimeData:l,dragImage:u,proposedAction:"move",supportedActions:"move",source:this}),n.classList.add("lm-mod-hidden");let d=()=>{this._drag=null,n.classList.remove("lm-mod-hidden")};this._drag.start(s,o).then(d)}};(function(i){class e{constructor(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.style.position="absolute",this.node.style.contain="strict"}show(n){let s=this.node.style;s.top=`${n.top}px`,s.left=`${n.left}px`,s.right=`${n.right}px`,s.bottom=`${n.bottom}px`,clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"))}hide(n){if(!this._hidden){if(n<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(()=>{this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden")},n))}}}i.Overlay=e;class t{createTabBar(n){let s=new wc({document:n});return s.addClass("lm-DockPanel-tabBar"),s}createHandle(){let n=document.createElement("div");return n.className="lm-DockPanel-handle",n}}i.Renderer=t,i.defaultRenderer=new t})(Ud||(Ud={}));(function(i){i.GOLDEN_RATIO=.618,i.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},i.LayoutModified=new xc("layout-modified"),i.isGeneratedTabBarProperty=new ut({name:"isGeneratedTabBar",create:()=>!1});function e(n){if(n.isEmpty)return{main:null};let s=Array.from(n.widgets()),o=n.selectedWidgets().next().value,a=o?s.indexOf(o):-1;return{main:{type:"tab-area",widgets:s,currentIndex:a}}}i.createSingleDocumentConfig=e;function t(n,s,o,a){if(!Me.hitTest(n.node,s,o))return{zone:"invalid",target:null};let l=n.layout;if(l.isEmpty)return{zone:"root-all",target:null};if(n.mode==="multiple-document"){let y=n.node.getBoundingClientRect(),S=s-y.left+1,M=o-y.top+1,_=y.right-s,E=y.bottom-o;switch(Math.min(M,_,E,S)){case M:if(M<a.top)return{zone:"root-top",target:null};break;case _:if(_<a.right)return{zone:"root-right",target:null};break;case E:if(E<a.bottom)return{zone:"root-bottom",target:null};break;case S:if(S<a.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}let c=l.hitTestTabAreas(s,o);if(!c)return{zone:"invalid",target:null};if(n.mode==="single-document")return{zone:"widget-all",target:c};let u=c.x-c.left+1,d=c.y-c.top+1,f=c.left+c.width-c.x,h=c.top+c.height-c.y,m=c.tabBar.node.getBoundingClientRect().height;if(d<m)return{zone:"widget-tab",target:c};let p=Math.round(c.width/3),v=Math.round(c.height/3);if(u>p&&f>p&&d>v&&h>v)return{zone:"widget-all",target:c};u/=p,d/=v,f/=p,h/=v;let x=Math.min(u,d,f,h),C;switch(x){case u:C="widget-left";break;case d:C="widget-top";break;case f:C="widget-right";break;case h:C="widget-bottom";break;default:throw"unreachable"}return{zone:C,target:c}}i.findDropTarget=t;function r(n){return n.titles.length===0?null:n.currentTitle?n.currentTitle.owner:n.titles[n.titles.length-1].owner}i.getDropRef=r})(Pi||(Pi={}));hl=class extends ha{constructor(e={}){super(e),this._dirty=!1,this._rowSpacing=4,this._columnSpacing=4,this._items=[],this._rowStarts=[],this._columnStarts=[],this._rowSizers=[new da],this._columnSizers=[new da],this._box=null,e.rowCount!==void 0&&xr.reallocSizers(this._rowSizers,e.rowCount),e.columnCount!==void 0&&xr.reallocSizers(this._columnSizers,e.columnCount),e.rowSpacing!==void 0&&(this._rowSpacing=xr.clampValue(e.rowSpacing)),e.columnSpacing!==void 0&&(this._columnSpacing=xr.clampValue(e.columnSpacing))}dispose(){for(let e of this._items){let t=e.widget;e.dispose(),t.dispose()}this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,super.dispose()}get rowCount(){return this._rowSizers.length}set rowCount(e){e!==this.rowCount&&(xr.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())}get columnCount(){return this._columnSizers.length}set columnCount(e){e!==this.columnCount&&(xr.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())}get rowSpacing(){return this._rowSpacing}set rowSpacing(e){e=xr.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())}get columnSpacing(){return this._columnSpacing}set columnSpacing(e){e=xr.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())}rowStretch(e){let t=this._rowSizers[e];return t?t.stretch:-1}setRowStretch(e,t){let r=this._rowSizers[e];r&&(t=xr.clampValue(t),r.stretch!==t&&(r.stretch=t,this.parent&&this.parent.update()))}columnStretch(e){let t=this._columnSizers[e];return t?t.stretch:-1}setColumnStretch(e,t){let r=this._columnSizers[e];r&&(t=xr.clampValue(t),r.stretch!==t&&(r.stretch=t,this.parent&&this.parent.update()))}*[Symbol.iterator](){for(let e of this._items)yield e.widget}addWidget(e){z.findFirstIndex(this._items,r=>r.widget===e)===-1&&(this._items.push(new Zd(e)),this.parent&&this.attachWidget(e))}removeWidget(e){let t=z.findFirstIndex(this._items,n=>n.widget===e);if(t===-1)return;let r=z.removeAt(this._items,t);this.parent&&this.detachWidget(e),r.dispose()}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&Ae.sendMessage(e,ve.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Ae.sendMessage(e,ve.Msg.AfterAttach),this.parent.fit()}detachWidget(e){this.parent.isAttached&&Ae.sendMessage(e,ve.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Ae.sendMessage(e,ve.Msg.AfterDetach),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){for(let l=0,c=this.rowCount;l<c;++l)this._rowSizers[l].minSize=0;for(let l=0,c=this.columnCount;l<c;++l)this._columnSizers[l].minSize=0;let e=this._items.filter(l=>!l.isHidden);for(let l=0,c=e.length;l<c;++l)e[l].fit();let t=this.rowCount-1,r=this.columnCount-1;e.sort(xr.rowSpanCmp);for(let l=0,c=e.length;l<c;++l){let u=e[l],d=hl.getCellConfig(u.widget),f=Math.min(d.row,t),h=Math.min(d.row+d.rowSpan-1,t);xr.distributeMin(this._rowSizers,f,h,u.minHeight)}e.sort(xr.columnSpanCmp);for(let l=0,c=e.length;l<c;++l){let u=e[l],d=hl.getCellConfig(u.widget),f=Math.min(d.column,r),h=Math.min(d.column+d.columnSpan-1,r);xr.distributeMin(this._columnSizers,f,h,u.minWidth)}if(this.fitPolicy==="set-no-constraint"){Ae.sendMessage(this.parent,ve.Msg.UpdateRequest);return}let n=t*this._rowSpacing,s=r*this._columnSpacing;for(let l=0,c=this.rowCount;l<c;++l)n+=this._rowSizers[l].minSize;for(let l=0,c=this.columnCount;l<c;++l)s+=this._columnSizers[l].minSize;let o=this._box=Me.boxSizing(this.parent.node);s+=o.horizontalSum,n+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${s}px`,a.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&Ae.sendMessage(this.parent.parent,ve.Msg.FitRequest),this._dirty&&Ae.sendMessage(this.parent,ve.Msg.UpdateRequest)}_update(e,t){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=Me.boxSizing(this.parent.node));let r=this._box.paddingTop,n=this._box.paddingLeft,s=e-this._box.horizontalSum,o=t-this._box.verticalSum,a=this.rowCount-1,l=this.columnCount-1,c=a*this._rowSpacing,u=l*this._columnSpacing;os.calc(this._rowSizers,Math.max(0,o-c)),os.calc(this._columnSizers,Math.max(0,s-u));for(let d=0,f=r,h=this.rowCount;d<h;++d)this._rowStarts[d]=f,f+=this._rowSizers[d].size+this._rowSpacing;for(let d=0,f=n,h=this.columnCount;d<h;++d)this._columnStarts[d]=f,f+=this._columnSizers[d].size+this._columnSpacing;for(let d=0,f=this._items.length;d<f;++d){let h=this._items[d];if(h.isHidden)continue;let m=hl.getCellConfig(h.widget),p=Math.min(m.row,a),v=Math.min(m.column,l),x=Math.min(m.row+m.rowSpan-1,a),C=Math.min(m.column+m.columnSpan-1,l),y=this._columnStarts[v],S=this._rowStarts[p],M=this._columnStarts[C]+this._columnSizers[C].size-y,_=this._rowStarts[x]+this._rowSizers[x].size-S;h.update(y,S,M,_)}}};(function(i){function e(r){return xr.cellConfigProperty.get(r)}i.getCellConfig=e;function t(r,n){xr.cellConfigProperty.set(r,xr.normalizeConfig(n))}i.setCellConfig=t})(hl||(hl={}));(function(i){i.cellConfigProperty=new ut({name:"cellConfig",create:()=>({row:0,column:0,rowSpan:1,columnSpan:1}),changed:a});function e(l){let c=Math.max(0,Math.floor(l.row||0)),u=Math.max(0,Math.floor(l.column||0)),d=Math.max(1,Math.floor(l.rowSpan||0)),f=Math.max(1,Math.floor(l.columnSpan||0));return{row:c,column:u,rowSpan:d,columnSpan:f}}i.normalizeConfig=e;function t(l){return Math.max(0,Math.floor(l))}i.clampValue=t;function r(l,c){let u=i.cellConfigProperty.get(l.widget),d=i.cellConfigProperty.get(c.widget);return u.rowSpan-d.rowSpan}i.rowSpanCmp=r;function n(l,c){let u=i.cellConfigProperty.get(l.widget),d=i.cellConfigProperty.get(c.widget);return u.columnSpan-d.columnSpan}i.columnSpanCmp=n;function s(l,c){for(c=Math.max(1,Math.floor(c));l.length<c;)l.push(new da);l.length>c&&(l.length=c)}i.reallocSizers=s;function o(l,c,u,d){if(u<c)return;if(c===u){let m=l[c];m.minSize=Math.max(m.minSize,d);return}let f=0;for(let m=c;m<=u;++m)f+=l[m].minSize;if(f>=d)return;let h=(d-f)/(u-c+1);for(let m=c;m<=u;++m)l[m].minSize+=h}i.distributeMin=o;function a(l){l.parent&&l.parent.layout instanceof hl&&l.parent.fit()}})(xr||(xr={}));qh=class extends ve{constructor(e={}){super({node:Y5.createNode()}),this._activeIndex=-1,this._tabFocusIndex=0,this._menus=[],this._childMenu=null,this._overflowMenu=null,this._menuItemSizes=[],this._overflowIndex=-1,this.addClass("lm-MenuBar"),this.setFlag(ve.Flag.DisallowLayout),this.renderer=e.renderer||qh.defaultRenderer,this._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},this._overflowMenuOptions=e.overflowMenuOptions||{isVisible:!0}}dispose(){this._closeChildMenu(),this._menus.length=0,super.dispose()}get childMenu(){return this._childMenu}get overflowIndex(){return this._overflowIndex}get overflowMenu(){return this._overflowMenu}get contentNode(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]}get activeMenu(){return this._menus[this._activeIndex]||null}set activeMenu(e){this.activeIndex=e?this._menus.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._menus.length)&&(e=-1),e>-1&&this._menus[e].items.length===0&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())}get menus(){return this._menus}openActiveMenu(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))}addMenu(e,t=!0){this.insertMenu(this._menus.length,e,t)}insertMenu(e,t,r=!0){this._closeChildMenu();let n=this._menus.indexOf(t),s=Math.max(0,Math.min(e,this._menus.length));if(n===-1){z.insert(this._menus,s,t),t.addClass("lm-MenuBar-menu"),t.aboutToClose.connect(this._onMenuAboutToClose,this),t.menuRequested.connect(this._onMenuMenuRequested,this),t.title.changed.connect(this._onTitleChanged,this),r&&this.update();return}s===this._menus.length&&s--,n!==s&&(z.move(this._menus,n,s),r&&this.update())}removeMenu(e,t=!0){this.removeMenuAt(this._menus.indexOf(e),t)}removeMenuAt(e,t=!0){this._closeChildMenu();let r=z.removeAt(this._menus,e);r&&(r.aboutToClose.disconnect(this._onMenuAboutToClose,this),r.menuRequested.disconnect(this._onMenuMenuRequested,this),r.title.changed.disconnect(this._onTitleChanged,this),r.removeClass("lm-MenuBar-menu"),t&&this.update())}clearMenus(){if(this._menus.length!==0){this._closeChildMenu();for(let e of this._menus)e.aboutToClose.disconnect(this._onMenuAboutToClose,this),e.menuRequested.disconnect(this._onMenuMenuRequested,this),e.title.changed.disconnect(this._onTitleChanged,this),e.removeClass("lm-MenuBar-menu");this._menus.length=0,this.update()}}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":case"mouseleave":this._evtMouseMove(e);break;case"focusout":this._evtFocusOut(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("focusout",this),this.node.addEventListener("contextmenu",this)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("focusout",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()}onActivateRequest(e){this.isAttached&&this._focusItemAt(0)}onResize(e){this.update(),super.onResize(e)}onUpdateRequest(e){var t;let r=this._menus,n=this.renderer,s=this._activeIndex,o=this._tabFocusIndex>=0&&this._tabFocusIndex<r.length?this._tabFocusIndex:0,a=this._overflowIndex>-1?this._overflowIndex:r.length,l=0,c=!1;a=this._overflowMenu!==null?a-1:a;let u=new Array(a);for(let d=0;d<a;++d)u[d]=n.renderItem({title:r[d].title,active:d===s,tabbable:d===o,disabled:r[d].items.length===0,onfocus:()=>{this._tabFocusIndex=d,this.activeIndex=d}}),l+=this._menuItemSizes[d],r[d].title.label===this._overflowMenuOptions.title&&(c=!0,a--);if(this._overflowMenuOptions.isVisible){if(this._overflowIndex>-1&&!c){if(this._overflowMenu===null){let d=(t=this._overflowMenuOptions.title)!==null&&t!==void 0?t:"...";this._overflowMenu=new ua({commands:new rn}),this._overflowMenu.title.label=d,this._overflowMenu.title.mnemonic=0,this.addMenu(this._overflowMenu,!1)}for(let d=r.length-2;d>=a;d--){let f=this.menus[d];f.title.mnemonic=0,this._overflowMenu.insertItem(0,{type:"submenu",submenu:f}),this.removeMenu(f,!1)}u[a]=n.renderItem({title:this._overflowMenu.title,active:a===s&&r[a].items.length!==0,tabbable:a===o,disabled:r[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}else if(this._overflowMenu!==null){let d=this._overflowMenu.items,f=this.node.offsetWidth,h=this._overflowMenu.items.length;for(let m=0;m<h;++m){let p=r.length-1-m;if(f-l>this._menuItemSizes[p]){let v=d[0].submenu;this._overflowMenu.removeItemAt(0),this.insertMenu(a,v,!1),u[a]=n.renderItem({title:v.title,active:!1,tabbable:a===o,disabled:r[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}}this._overflowMenu.items.length===0&&(this.removeMenu(this._overflowMenu,!1),u.pop(),this._overflowMenu=null,this._overflowIndex=-1)}}Bt.render(u,this.contentNode),this._updateOverflowIndex()}_updateOverflowIndex(){if(!this._overflowMenuOptions.isVisible)return;let e=this.contentNode.childNodes,t=this.node.offsetWidth,r=0,n=-1,s=e.length;if(this._menuItemSizes.length==0)for(let o=0;o<s;o++){let a=e[o];r+=a.offsetWidth,this._menuItemSizes.push(a.offsetWidth),r>t&&n===-1&&(n=o)}else for(let o=0;o<this._menuItemSizes.length;o++)if(r+=this._menuItemSizes[o],r>t){n=o;break}this._overflowIndex=n}_evtKeyDown(e){let t=e.keyCode;if(t===9){this.activeIndex=-1;return}if(e.preventDefault(),e.stopPropagation(),t===13||t===32||t===38||t===40){if(this.activeIndex=this._tabFocusIndex,this.activeIndex!==this._tabFocusIndex)return;this.openActiveMenu();return}if(t===27){this._closeChildMenu(),this._focusItemAt(this.activeIndex);return}if(t===37||t===39){let o=t===37?-1:1,a=this._tabFocusIndex+o,l=this._menus.length;for(let c=0;c<l;c++){let u=(l+a+o*c)%l;if(this._menus[u].items.length){this._focusItemAt(u);return}}return}let r=Ts().keyForKeydownEvent(e);if(!r)return;let n=this._activeIndex+1,s=Y5.findMnemonic(this._menus,r,n);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.openActiveMenu()):s.index!==-1?(this.activeIndex=s.index,this._focusItemAt(this.activeIndex)):s.auto!==-1&&(this.activeIndex=s.auto,this._focusItemAt(this.activeIndex))}_evtMouseDown(e){if(!Me.hitTest(this.node,e.clientX,e.clientY))return;e.stopPropagation(),e.stopImmediatePropagation();let t=z.findFirstIndex(this.contentNode.children,r=>Me.hitTest(r,e.clientX,e.clientY));if(t===-1){this._closeChildMenu();return}if(e.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=t;else{e.preventDefault();let r=this._positionForMenu(t);ua.saveWindowData(),this.activeIndex=t,this._openChildMenu(r)}}_evtMouseMove(e){let t=z.findFirstIndex(this.contentNode.children,n=>Me.hitTest(n,e.clientX,e.clientY));if(t===this._activeIndex||t===-1&&this._childMenu)return;let r=t>=0&&this._childMenu?this._positionForMenu(t):null;ua.saveWindowData(),this.activeIndex=t,r&&this._openChildMenu(r)}_positionForMenu(e){let t=this.contentNode.children[e],{left:r,bottom:n}=t.getBoundingClientRect();return{top:n,left:r}}_evtFocusOut(e){!this._childMenu&&!this.node.contains(e.relatedTarget)&&(this.activeIndex=-1)}_focusItemAt(e){let t=this.contentNode.childNodes[e];t&&t.focus()}_openChildMenu(e={}){let t=this.activeMenu;if(!t){this._closeChildMenu();return}let r=this._childMenu;if(r===t)return;this._childMenu=t,r?r.close():document.addEventListener("mousedown",this,!0),this._tabFocusIndex=this.activeIndex,Ae.sendMessage(this,ve.Msg.UpdateRequest);let{left:n,top:s}=e;(typeof n>"u"||typeof s>"u")&&({left:n,top:s}=this._positionForMenu(this._activeIndex)),r||this.addClass("lm-mod-active"),t.items.length>0&&t.open(n,s,this._forceItemsPosition)}_closeChildMenu(){if(!this._childMenu)return;this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0);let e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}_onMenuAboutToClose(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)}_onMenuMenuRequested(e,t){if(e!==this._childMenu)return;let r=this._activeIndex,n=this._menus.length;switch(t){case"next":this.activeIndex=r===n-1?0:r+1;break;case"previous":this.activeIndex=r===0?n-1:r-1;break}this.openActiveMenu()}_onTitleChanged(){this.update()}};(function(i){class e{renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r),o=this.createItemARIA(r);return xe.li({className:n,dataset:s,...r.disabled?{}:{tabindex:r.tabbable?"0":"-1"},onfocus:r.onfocus,...o},this.renderIcon(r),this.renderLabel(r))}renderIcon(r){let n=this.createIconClass(r);return xe.div({className:n},r.title.icon,r.title.iconLabel)}renderLabel(r){let n=this.formatLabel(r);return xe.div({className:"lm-MenuBar-itemLabel"},n)}createItemClass(r){let n="lm-MenuBar-item";return r.title.className&&(n+=` ${r.title.className}`),r.active&&!r.disabled&&(n+=" lm-mod-active"),n}createItemDataset(r){return r.title.dataset}createItemARIA(r){return{role:"menuitem","aria-haspopup":"true","aria-disabled":r.disabled?"true":"false"}}createIconClass(r){let n="lm-MenuBar-itemIcon",s=r.title.iconClass;return s?`${n} ${s}`:n}formatLabel(r){let{label:n,mnemonic:s}=r.title;if(s<0||s>=n.length)return n;let o=n.slice(0,s),a=n.slice(s+1),l=n[s],c=xe.span({className:"lm-MenuBar-itemMnemonic"},l);return[o,c,a]}}i.Renderer=e,i.defaultRenderer=new e})(qh||(qh={}));(function(i){function e(){let r=document.createElement("div"),n=document.createElement("ul");return n.className="lm-MenuBar-content",r.appendChild(n),n.setAttribute("role","menubar"),r}i.createNode=e;function t(r,n,s){let o=-1,a=-1,l=!1,c=n.toUpperCase();for(let u=0,d=r.length;u<d;++u){let f=(u+s)%d,h=r[f].title;if(h.label.length===0)continue;let m=h.mnemonic;if(m>=0&&m<h.label.length){h.label[m].toUpperCase()===c&&(o===-1?o=f:l=!0);continue}a===-1&&h.label[0].toUpperCase()===c&&(a=f)}return{index:o,multiple:l,auto:a}}i.findMnemonic=t})(Y5||(Y5={}));(function(i){function e(){let r=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div");return n.className="lm-ScrollBar-button",s.className="lm-ScrollBar-button",n.dataset.action="decrement",s.dataset.action="increment",o.className="lm-ScrollBar-track",a.className="lm-ScrollBar-thumb",o.appendChild(a),r.appendChild(n),r.appendChild(o),r.appendChild(s),r}i.createNode=e;function t(r,n){return r.thumbNode.contains(n)?"thumb":r.trackNode.contains(n)?"track":r.decrementNode.contains(n)?"decrement":r.incrementNode.contains(n)?"increment":null}i.findPart=t})(eA||(eA={}));tA=class extends ha{constructor(){super(...arguments),this._widget=null}dispose(){if(this._widget){let e=this._widget;this._widget=null,e.dispose()}super.dispose()}get widget(){return this._widget}set widget(e){e&&(e.parent=this.parent),this._widget!==e&&(this._widget&&this._widget.dispose(),this._widget=e,this.parent&&e&&this.attachWidget(e))}*[Symbol.iterator](){this._widget&&(yield this._widget)}removeWidget(e){this._widget===e&&(this._widget=null,this.parent&&this.detachWidget(e))}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&Ae.sendMessage(e,ve.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Ae.sendMessage(e,ve.Msg.AfterAttach)}detachWidget(e){this.parent.isAttached&&Ae.sendMessage(e,ve.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Ae.sendMessage(e,ve.Msg.AfterDetach)}},m_=class extends Wh{constructor(e={}){super(e),this._dirty=!1,this._items=[],this._box=null,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:ve.HiddenMode.Display}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach(t=>{t.hiddenMode=this._hiddenMode}))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,super.dispose()}attachWidget(e,t){this._hiddenMode===ve.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=ve.HiddenMode.Scale),t.hiddenMode=ve.HiddenMode.Scale):t.hiddenMode=ve.HiddenMode.Display,z.insert(this._items,e,new Zd(t)),this.parent.isAttached&&Ae.sendMessage(t,ve.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&Ae.sendMessage(t,ve.Msg.AfterAttach),this.parent.fit()}moveWidget(e,t,r){z.move(this._items,e,t),this.parent.update()}detachWidget(e,t){let r=z.removeAt(this._items,e);this.parent.isAttached&&Ae.sendMessage(t,ve.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&Ae.sendMessage(t,ve.Msg.AfterDetach),r.widget.node.style.zIndex="",this._hiddenMode===ve.HiddenMode.Scale&&(t.hiddenMode=ve.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=ve.HiddenMode.Display)),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0,t=0;for(let s=0,o=this._items.length;s<o;++s){let a=this._items[s];a.isHidden||(a.fit(),e=Math.max(e,a.minWidth),t=Math.max(t,a.minHeight))}let r=this._box=Me.boxSizing(this.parent.node);e+=r.horizontalSum,t+=r.verticalSum;let n=this.parent.node.style;n.minWidth=`${e}px`,n.minHeight=`${t}px`,this._dirty=!0,this.parent.parent&&Ae.sendMessage(this.parent.parent,ve.Msg.FitRequest),this._dirty&&Ae.sendMessage(this.parent,ve.Msg.UpdateRequest)}_update(e,t){this._dirty=!1;let r=0;for(let l=0,c=this._items.length;l<c;++l)r+=+!this._items[l].isHidden;if(r===0)return;e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=Me.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=t-this._box.verticalSum;for(let l=0,c=this._items.length;l<c;++l){let u=this._items[l];u.isHidden||(u.widget.node.style.zIndex=`${l}`,u.update(s,n,o,a))}}};(function(i){function e(t){return t.layout||new m_}i.createLayout=e})(iA||(iA={}));(function(i){function e(s){return r[s]}i.orientationFromPlacement=e;function t(s){return n[s]}i.directionFromPlacement=t;let r={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},n={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(rA||(rA={}))});var dA=je((A9e,cA)=>{var EY=1/0,RY="[object Symbol]",lA=/[&<>"'`]/g,IY=RegExp(lA.source),kY={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},TY=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,AY=typeof self=="object"&&self&&self.Object===Object&&self,NY=TY||AY||Function("return this")();function OY(i){return function(e){return i?.[e]}}var DY=OY(kY),HY=Object.prototype,zY=HY.toString,sA=NY.Symbol,oA=sA?sA.prototype:void 0,aA=oA?oA.toString:void 0;function BY(i){if(typeof i=="string")return i;if(jY(i))return aA?aA.call(i):"";var e=i+"";return e=="0"&&1/i==-EY?"-0":e}function PY(i){return!!i&&typeof i=="object"}function jY(i){return typeof i=="symbol"||PY(i)&&zY.call(i)==RY}function $Y(i){return i==null?"":BY(i)}function VY(i){return i=$Y(i),i&&IY.test(i)?i.replace(lA,DY):i}cA.exports=VY});function hA(i){let e=[],t=null,r=null,n=null,s=0,o;i.includes("`")||i.includes("~~~")?(i=i.replace(/~/g,"~T").replace(/^(?<fence>`{3,}|(~T){3,})[^`\n]*\n([\s\S]*?)^\k<fence>`*$/gm,c=>c.replace(/\$/g,"~D")).replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,c=>c.replace(/\$/g,"~D")),o=c=>c.replace(/~([TD])/g,(u,d)=>d==="T"?"~":uA)):o=c=>c;let l=i.replace(/\r\n?/g,`
`).split(FY);for(let c=1,u=l.length;c<u;c+=2){let d=l[c];d.charAt(0)==="@"?(l[c]="@@"+e.length+"@@",e.push(d)):t!==null?d===r?s?n=c:(l=p_(t,c,o,e,l),t=null,r=null,n=null):d.match(/\n.*\n/)?(n!==null&&(c=n,l=p_(t,c,o,e,l)),t=null,r=null,n=null,s=0):d==="{"?s++:d==="}"&&s&&s--:d===uA||d==="$$"?(t=c,r=d,s=0):d==="\\\\("||d==="\\\\["?(t=c,r=d.slice(-1)==="("?"\\\\)":"\\\\]",s=0):d.substr(1,5)==="begin"&&(t=c,r="\\end"+d.substr(6),s=0)}return t!==null&&n!==null&&(l=p_(t,n,o,e,l),t=null,r=null,n=null),{text:o(l.join("")),math:e}}function fA(i,e){let t=(r,n)=>{let s=e[n];return s.substr(0,3)==="\\\\("&&s.substr(s.length-3)==="\\\\)"?s="\\("+s.substring(3,s.length-3)+"\\)":s.substr(0,3)==="\\\\["&&s.substr(s.length-3)==="\\\\]"&&(s="\\["+s.substring(3,s.length-3)+"\\]"),s};return i.replace(/@@(\d+)@@/g,t)}function p_(i,e,t,r,n){let s=n.slice(i,e+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(navigator&&navigator.appName==="Microsoft Internet Explorer"&&(s=s.replace(/(%[^\n]*)\n/g,`$1<br/>
`));e>i;)n[e]="",e--;return n[i]="@@"+r.length+"@@",t&&(s=t(s)),r.push(s),n}var uA,FY,g_=P(()=>{uA="$",FY=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[{}$]|[{}]|(?:\n\s*)+|@@\d+@@|\\\\(?:\(|\)|\[|\]))/i});async function b_(i){let{host:e,source:t,trusted:r,sanitizer:n,resolver:s,linkHandler:o,shouldTypeset:a,latexTypesetter:l,translator:c}=i;c=c||As;let u=c?.load("jupyterlab"),d=t;if(!t){e.textContent="";return}if(r||(d=`${t}`,t=n.sanitize(t)),e.innerHTML=t,e.getElementsByTagName("script").length>0)if(r)Ro.evalInnerHTMLScriptTags(e);else{let f=document.createElement("div"),h=document.createElement("pre");h.textContent=u.__("This HTML output contains inline scripts. Are you sure that you want to run arbitrary Javascript within your JupyterLab session?");let m=document.createElement("button");m.textContent=u.__("Run"),m.onclick=p=>{e.innerHTML=d,Ro.evalInnerHTMLScriptTags(e),e.firstChild&&e.removeChild(e.firstChild)},f.appendChild(h),f.appendChild(m),e.insertBefore(f,e.firstChild)}if(Ro.handleDefaults(e),a&&l){let f=l.typeset(e);f instanceof Promise?f.then(()=>yc(e,s)).catch(console.warn):yc(e,s)}else yc(e,s);s&&await Ro.handleUrls(e,s,o)}async function _A(i){let{host:e,mimeType:t,source:r,width:n,height:s,needsBackground:o,unconfined:a}=i;e.textContent="";let l=document.createElement("img");l.src=`data:${t};base64,${r}`,typeof s=="number"&&(l.height=s),typeof n=="number"&&(l.width=n),o==="light"?l.classList.add("jp-needs-light-background"):o==="dark"&&l.classList.add("jp-needs-dark-background"),a===!0&&l.classList.add("jp-mod-unconfined"),e.appendChild(l)}async function bA(i){let{host:e,source:t,shouldTypeset:r,latexTypesetter:n,resolver:s}=i;if(e.textContent=t,r&&n){let o=n.typeset(e);o instanceof Promise?o.then(()=>yc(e,s)).catch(console.warn):yc(e,s)}}async function Em(i){var e;let{host:t,source:r,markdownParser:n,...s}=i;if(!r){t.textContent="";return}let o="";if(n){let a=hA(r);o=await n.render(a.text),o=fA(o,a.math)}else o=`<pre>${r}</pre>`;await b_({host:t,source:o,...s}),Ro.headerAnchors(t,(e=i.sanitizer.allowNamedProperties)!==null&&e!==void 0?e:!1)}async function CA(i){let{host:e,source:t,trusted:r,unconfined:n}=i;if(!t){e.textContent="";return}if(!r){e.textContent="Cannot display an untrusted SVG. Maybe you need to run the cell?";return}let s="<svg[^>]+xmlns=[^>]+svg";t.search(s)<0&&(t=t.replace("<svg",'<svg xmlns="http://www.w3.org/2000/svg"'));let o=new Image;o.src=`data:image/svg+xml,${encodeURIComponent(t)}`,e.appendChild(o),n===!0&&e.classList.add("jp-mod-unconfined")}function mA(i,e){let t=[];e.checkWeb&&t.push(new v_),e.checkPaths&&t.push(new __);let r=[],n=(s,o)=>{if(o>=t.length){r.push(document.createTextNode(s));return}let a=t[o],l,c=0,u=a.regex;for(u.lastIndex=0;(l=u.exec(s))!=null;){let f=s.substring(c,l.index);f&&n(f,o+1);let{path:h,...m}=l.groups,p=a.processPath?a.processPath(h):h,v=a.processLabel?a.processLabel(l[0]):l[0];r.push(a.createAnchor(p,v,m)),c=l.index+v.length}let d=s.substring(c);d&&n(d,o+1)};return n(i,0),r}function pA(i,e){var t,r;let n=i.cloneNode();n.textContent=(t=i.textContent)===null||t===void 0?void 0:t.slice(0,e);let s=i.cloneNode();return s.textContent=(r=i.textContent)===null||r===void 0?void 0:r.slice(e),{pre:n,post:s}}function*gA(i){var e;let t=0,r;for(let n of i)r=t+(((e=n.textContent)===null||e===void 0?void 0:e.length)||0),yield{node:n,start:t,end:r,isText:n.nodeType===Node.TEXT_NODE},t=r}function*WY(i,e){var t,r;let n=gA(i),s=gA(e),o=n.next(),a=s.next();for(;!o.done&&!a.done;){let l=o.value,c=a.value;if(l.isText&&l.start<=c.start&&l.end>=c.end)yield[null,c.node],a=s.next();else if(c.isText&&c.start<=l.start&&c.end>=l.end)yield[l.node,null],o=n.next();else if(l.end===c.end&&l.start===c.start)yield[l.node,c.node],o=n.next(),a=s.next();else if(l.end>c.end){let{pre:u,post:d}=pA(l.node,c.end-l.start);c.start<l.start&&(c.node.textContent=(t=c.node.textContent)===null||t===void 0?void 0:t.slice(l.start-c.start)),yield[u,c.node],l.node=d,l.start=c.end,a=s.next()}else if(c.end>l.end){let{pre:u,post:d}=pA(c.node,l.end-c.start);l.start<c.start&&(l.node.textContent=(r=l.node.textContent)===null||r===void 0?void 0:r.slice(c.start-l.start)),yield[l.node,u],c.node=d,c.start=l.end,o=n.next()}else throw new Error(`Unexpected intersection: ${JSON.stringify(l)} ${JSON.stringify(c)}`)}}async function C_(i){xA(i,{checkWeb:!0,checkPaths:!1})}function ZY(i){let e=document.createElement("span");return e.textContent=i,e.innerHTML}function xA(i,e){var t,r;let{host:n,sanitizer:s,source:o}=i,l=o.includes(qY)?s.sanitize(Ro.ansiSpan(o),{allowedTags:["span"]}):ZY(o),c=document.createElement("pre");c.innerHTML=l;let u=c.textContent,d=[];e.checkWeb&&d.push("web"),e.checkPaths&&d.push("paths");let f=d.join("-"),h=Ro.autoLinkCache.get(f);h||(h=new WeakMap,Ro.autoLinkCache.set(f,h));let m;if(u){let p;if(!((r=(t=s.getAutolink)===null||t===void 0?void 0:t.call(s))!==null&&r!==void 0)||r){let x=UY(h.get(n),u);if(x){let{cachedNodes:C,addedText:y}=x,S=mA(y,e),M=C[C.length-1],_=S[0];if(M instanceof Text&&_ instanceof Text){let E=M;E.data+=_.data,p=[...C.slice(0,-1),E,...S.slice(1)]}else p=[...C,...S]}else p=mA(u,e);h.set(n,{preTextContent:u,linkedNodes:p.map(C=>C.cloneNode(!0))})}else p=[document.createTextNode(l)];let v=Array.from(c.childNodes);m=GY(v,p)}else m=document.createElement("pre");n.appendChild(m)}function UY(i,e){if(!i||e.length<i.preTextContent.length)return null;let t=e.substring(i.preTextContent.length),r=i.linkedNodes,n=i.linkedNodes[i.linkedNodes.length-1];if(!(i.preTextContent.endsWith(`
`)||t.startsWith(`
`)))if(n instanceof Text)r=r.slice(0,-1),t=n.textContent+t;else return null;return e.startsWith(i.preTextContent)?{cachedNodes:r,addedText:t}:null}async function wA(i){let{host:e,linkHandler:t,resolver:r}=i;xA(i,{checkWeb:!0,checkPaths:!0}),r&&await Ro.handlePaths(e,r,t)}function GY(i,e){let t=document.createElement("pre"),r=!1,n=[];for(let s of WY(i,e)){if(s[0]){if(!s[1]){n.push(s[0]),r=!1;continue}}else{n.push(s[1]),r=s[1].nodeType!==Node.TEXT_NODE;continue}let[o,a]=s,l=n[n.length-1];r&&a.href===l.href?l.appendChild(o):a.nodeType!==Node.TEXT_NODE?(a.textContent="",a.appendChild(o),n.push(a),r=!0):(n.push(o),r=!1)}for(let s of n)t.appendChild(s);return t}function yc(i,e){let t=i.getElementsByTagName("a");for(let r=0;r<t.length;r++){let n=t[r];if(!(n instanceof HTMLAnchorElement))continue;let s=n.href,o=e&&e.isLocal?e.isLocal(s):Uh.URLExt.isLocal(s);n.target||(n.target=o?"_self":"_blank"),o||(n.rel="noopener")}}var Uh,vA,J5,v_,__,qY,Ro,x_=P(()=>{Uh=N(cM());S0();vA=N(dA());g_();(function(i){function e(t){var r;return((r=t.textContent)!==null&&r!==void 0?r:"").replace(/ /g,"-")}i.createHeaderId=e})(Em||(Em={}));(function(i){let t="\\u0000-\\u0020\\u007f-\\u009f";i.webLinkRegex=new RegExp("(?<path>(?:[a-zA-Z][a-zA-Z0-9+.-]{2,40}:\\/\\/|data:|www\\.)[^\\s"+t+'"]{2,}[^\\s'+t+`"'(){}\\[\\],:;.!?])`,"ug");let r=/(?:[a-zA-Z]:(?:(?:\\|\/)[\w\.-]*)+)/,n=/(?:(?:\~|\.)(?:(?:\\|\/)[\w\.-]*)+)/,s=new RegExp(`(${r.source}|${n.source})`),o=/((?:\~|\.)?(?:\/[\w\.-]*)+)/,a=/(?:(?:\:|", line )(?<line>[\d]+))?(?:\:(?<column>[\d]+))?/,l=navigator.userAgent.indexOf("Windows")>=0;i.pathLinkRegex=new RegExp(`(?<path>${l?s.source:o.source})${a.source}`,"g")})(J5||(J5={}));v_=class{constructor(){this.regex=J5.webLinkRegex}createAnchor(e,t){let r=document.createElement("a");return r.href=e.startsWith("www.")?"https://"+e:e,r.rel="noopener",r.target="_blank",r.appendChild(document.createTextNode(t)),r}processPath(e){let t=e.slice(-1),n=[">","<"].indexOf(t)!==-1?e.length-1:e.length;return e=e.slice(0,n),e}processLabel(e){return this.processPath(e)}},__=class{constructor(){this.regex=J5.pathLinkRegex}createAnchor(e,t,r){let n=document.createElement("a");n.dataset.path=e;let s=parseInt(r.line,10),o=isNaN(s)?"":`line=${s-1}`;return n.dataset.locator=o,n.appendChild(document.createTextNode(t)),n}};qY="\x1B";(function(i){i.autoLinkCache=new Map;function e(h){let m=Array.from(h.getElementsByTagName("script"));for(let p of m){if(!p.parentNode)continue;let v=document.createElement("script"),x=p.attributes;for(let C=0,y=x.length;C<y;++C){let{name:S,value:M}=x[C];v.setAttribute(S,M)}v.textContent=p.textContent,p.parentNode.replaceChild(v,p)}}i.evalInnerHTMLScriptTags=e;function t(h){let m=h.getElementsByTagName("img");for(let p=0;p<m.length;p++)m[p].alt||(m[p].alt="Image")}i.handleDefaults=t;async function r(h,m,p){let v=[],x=h.querySelectorAll("*[src]");for(let S=0;S<x.length;S++)v.push(o(x[S],"src",m));let C=h.getElementsByTagName("a");for(let S=0;S<C.length;S++)v.push(a(C[S],m,p));let y=h.getElementsByTagName("link");for(let S=0;S<y.length;S++)v.push(o(y[S],"href",m));return Promise.all(v)}i.handleUrls=r;async function n(h,m,p){let v=Array.from(h.querySelectorAll("a[data-path]"));return Promise.all(v.map(x=>l(x,m,p)))}i.handlePaths=n;function s(h,m){let p=["h1","h2","h3","h4","h5","h6"];for(let v of p){let x=h.getElementsByTagName(v);for(let C=0;C<x.length;C++){let y=x[C],S=Em.createHeaderId(y);m?y.id=S:y.setAttribute("data-jupyter-id",S);let M=document.createElement("a");M.target="_self",M.textContent="\xB6",M.href="#"+S,M.classList.add("jp-InternalAnchorLink"),y.appendChild(M)}}}i.headerAnchors=s;async function o(h,m,p){let v=h.getAttribute(m)||"",x=p.isLocal?p.isLocal(v):Uh.URLExt.isLocal(v);if(!(!v||!x))try{let C=await p.resolveUrl(v,{attribute:m,tag:h.localName}),y=await p.getDownloadUrl(C);Uh.URLExt.parse(y).protocol!=="data:"&&(y+=(/\?/.test(y)?"&":"?")+new Date().getTime()),h.setAttribute(m,y)}catch(C){throw h.setAttribute(m,""),C}}async function a(h,m,p){let v=h.getAttribute("href")||"",x=m.isLocal?m.isLocal(v):Uh.URLExt.isLocal(v);if(!v||!x)return;let C=h.hash;if(C){if(C===v){h.target="_self";return}v=v.replace(C,"")}return m.resolveUrl(v,{attribute:"href",tag:"a"}).then(y=>{let S=decodeURIComponent(y);return p&&p.handleLink(h,S,C),m.getDownloadUrl(y)}).then(y=>{h.href=y+C}).catch(y=>{h.href=""})}async function l(h,m,p){let v=h.dataset.path||"",x=h.dataset.locator?"#"+h.dataset.locator:"";delete h.dataset.path,delete h.dataset.locator;let C=!0,y=m.isLocal?m.isLocal(v,C):Uh.URLExt.isLocal(v,C);if(!v||!y||!m.resolvePath||!p||!p.handlePath){h.replaceWith(...h.childNodes);return}try{let S=await m.resolvePath(v);if(!S){console.log("Path resolution bailing: does not exist");return}p.handlePath(h,S.path,S.scope,x),h.href=S.path+x}catch(S){console.warn("Path anchor error:",S),h.href="#linking-failed-see-console"}}let c=["ansi-black","ansi-red","ansi-green","ansi-yellow","ansi-blue","ansi-magenta","ansi-cyan","ansi-white","ansi-black-intense","ansi-red-intense","ansi-green-intense","ansi-yellow-intense","ansi-blue-intense","ansi-magenta-intense","ansi-cyan-intense","ansi-white-intense"];function u(h,m,p,v,x,C,y){if(h){let S=[],M=[];v&&typeof m=="number"&&0<=m&&m<8&&(m+=8),C&&([m,p]=[p,m]),typeof m=="number"?S.push(c[m]+"-fg"):m.length?M.push(`color: rgb(${m})`):C&&S.push("ansi-default-inverse-fg"),typeof p=="number"?S.push(c[p]+"-bg"):p.length?M.push(`background-color: rgb(${p})`):C&&S.push("ansi-default-inverse-bg"),v&&S.push("ansi-bold"),x&&S.push("ansi-underline"),S.length||M.length?(y.push("<span"),S.length&&y.push(` class="${S.join(" ")}"`),M.length&&y.push(` style="${M.join("; ")}"`),y.push(">"),y.push(h),y.push("</span>")):y.push(h)}}function d(h){let m,p,v,x=h.shift();if(x===2&&h.length>=3){if(m=h.shift(),p=h.shift(),v=h.shift(),[m,p,v].some(C=>C<0||255<C))throw new RangeError("Invalid range for RGB colors")}else if(x===5&&h.length>=1){let C=h.shift();if(C<0)throw new RangeError("Color index must be >= 0");if(C<16)return C;if(C<232)m=Math.floor((C-16)/36),m=m>0?55+m*40:0,p=Math.floor((C-16)%36/6),p=p>0?55+p*40:0,v=(C-16)%6,v=v>0?55+v*40:0;else if(C<256)m=p=v=(C-232)*10+8;else throw new RangeError("Color index must be < 256")}else throw new RangeError("Invalid extended color specification");return[m,p,v]}function f(h){let m=/\x1b\[(.*?)([@-~])/g,p=[],v=[],x=!1,C=!1,y=!1,S,M=[],_=[],E=0;for(h=(0,vA.default)(h),h+="\x1B[m";S=m.exec(h);){if(S[2]==="m"){let A=S[1].split(";");for(let H=0;H<A.length;H++){let $=A[H];if($==="")_.push(0);else if($.search(/^\d+$/)!==-1)_.push(parseInt($,10));else{_.length=0;break}}}let R=h.substring(E,S.index);for(u(R,p,v,x,C,y,M),E=m.lastIndex;_.length;){let A=_.shift();switch(A){case 0:p=v=[],x=!1,C=!1,y=!1;break;case 1:case 5:x=!0;break;case 4:C=!0;break;case 7:y=!0;break;case 21:case 22:x=!1;break;case 24:C=!1;break;case 27:y=!1;break;case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:p=A-30;break;case 38:try{p=d(_)}catch{_.length=0}break;case 39:p=[];break;case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:v=A-40;break;case 48:try{v=d(_)}catch{_.length=0}break;case 49:v=[];break;case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:p=A-90+8;break;case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:v=A-100+8;break;default:}}}return M.join("")}i.ansiSpan=f})(Ro||(Ro={}))});var ml,Q5,e3,t3,i3,r3,n3,s3,o3,Rm,Gh,w_=P(()=>{S0();nA();x_();ml=class extends ve{constructor(e){var t,r;super(),this.mimeType=e.mimeType,this.sanitizer=e.sanitizer,this.resolver=e.resolver,this.linkHandler=e.linkHandler,this.translator=(t=e.translator)!==null&&t!==void 0?t:As,this.latexTypesetter=e.latexTypesetter,this.markdownParser=(r=e.markdownParser)!==null&&r!==void 0?r:null,this.node.dataset.mimeType=this.mimeType}async renderModel(e,t){if(!t)for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.toggleClass("jp-mod-trusted",e.trusted),await this.render(e);let{fragment:r}=e.metadata;r&&this.setFragment(r)}setFragment(e){}},Q5=class extends ml{constructor(e){super(e),this.addClass("jp-RenderedHTMLCommon")}setFragment(e){let t;try{t=this.node.querySelector(e.startsWith("#")?`#${CSS.escape(e.slice(1))}`:e)}catch(r){console.warn("Unable to set URI fragment identifier.",r)}t&&t.scrollIntoView()}},e3=class extends Q5{constructor(e){super(e),this._rendered=Promise.resolve(),this.addClass("jp-RenderedHTML")}render(e){return this._rendered=b_({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter,translator:this.translator})}onAfterAttach(e){this._rendered.then(()=>{this.latexTypesetter&&Gh.typeset(this.node,this.latexTypesetter,this.resolver)}).catch(console.warn)}},t3=class extends ml{constructor(e){super(e),this._rendered=Promise.resolve(),this.addClass("jp-RenderedLatex")}render(e){return this._rendered=bA({host:this.node,source:String(e.data[this.mimeType]),shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter,resolver:this.resolver})}onAfterAttach(e){this._rendered.then(()=>{this.latexTypesetter&&Gh.typeset(this.node,this.latexTypesetter,this.resolver)}).catch(console.warn)}},i3=class extends ml{constructor(e){super(e),this.addClass("jp-RenderedImage")}render(e){let t=e.metadata[this.mimeType];return _A({host:this.node,mimeType:this.mimeType,source:String(e.data[this.mimeType]),width:t&&t.width,height:t&&t.height,needsBackground:e.metadata.needs_background,unconfined:t&&t.unconfined})}},r3=class extends Q5{constructor(e){super(e),this._rendered=Promise.resolve(),this.addClass("jp-RenderedMarkdown")}render(e){return this._rendered=Em({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter,markdownParser:this.markdownParser,translator:this.translator})}async renderModel(e){await super.renderModel(e,!0)}onAfterAttach(e){this._rendered.then(()=>{this.latexTypesetter&&Gh.typeset(this.node,this.latexTypesetter,this.resolver)}).catch(console.warn)}},n3=class extends ml{constructor(e){super(e),this._rendered=Promise.resolve(),this.addClass("jp-RenderedSVG")}render(e){let t=e.metadata[this.mimeType];return this._rendered=CA({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,unconfined:t&&t.unconfined,translator:this.translator})}onAfterAttach(e){this._rendered.then(()=>{this.latexTypesetter&&Gh.typeset(this.node,this.latexTypesetter,this.resolver)}).catch(console.warn)}},s3=class extends ml{constructor(e){super(e),this.addClass("jp-RenderedText")}render(e){return C_({host:this.node,sanitizer:this.sanitizer,source:String(e.data[this.mimeType]),translator:this.translator})}},o3=class extends ml{constructor(e){super(e),this.addClass("jp-RenderedText")}render(e){return wA({host:this.node,sanitizer:this.sanitizer,source:String(e.data[this.mimeType]),linkHandler:this.linkHandler,resolver:this.resolver,translator:this.translator})}},Rm=class extends ml{constructor(e){super(e),this.addClass("jp-RenderedJavaScript")}render(e){let t=this.translator.load("jupyterlab");return C_({host:this.node,sanitizer:this.sanitizer,source:t.__("JavaScript output is disabled in JupyterLab"),translator:this.translator})}};(function(i){function e(t,r,n){let s=r.typeset(t);s instanceof Promise?s.then(()=>yc(t,n)).catch(console.warn):yc(t,n)}i.typeset=e})(Gh||(Gh={}))});var yA,MA,LA,SA,EA,RA,IA,kA=P(()=>{w_();yA={safe:!0,mimeTypes:["text/html"],defaultRank:50,createRenderer:i=>new e3(i)},MA={safe:!0,mimeTypes:["image/bmp","image/png","image/jpeg","image/gif","image/webp"],defaultRank:90,createRenderer:i=>new i3(i)},LA={safe:!0,mimeTypes:["text/latex"],defaultRank:70,createRenderer:i=>new t3(i)},SA={safe:!0,mimeTypes:["text/markdown"],defaultRank:60,createRenderer:i=>new r3(i)},EA={safe:!1,mimeTypes:["image/svg+xml"],defaultRank:80,createRenderer:i=>new n3(i)},RA={safe:!0,mimeTypes:["application/vnd.jupyter.stderr"],defaultRank:110,createRenderer:i=>new o3(i)},IA={safe:!0,mimeTypes:["text/plain","application/vnd.jupyter.stdout"],defaultRank:120,createRenderer:i=>new s3(i)}});var a3,y_,M_=P(()=>{a3=class{constructor(e={}){this.trusted=!!e.trusted,this._data=e.data||{},this._metadata=e.metadata||{},this._callback=e.callback||y_.noOp}get data(){return this._data}get metadata(){return this._metadata}setData(e){this._data=e.data||this._data,this._metadata=e.metadata||this._metadata,this._callback(e)}};(function(i){function e(){}i.noOp=e})(y_||(y_={}))});function l3(i){return i.output_type==="execute_result"}function L_(i){return i.output_type==="display_data"}function TA(i){return i.output_type==="update_display_data"}function Mc(i){return i.output_type==="stream"}function AA(i){return i.output_type==="error"}var YY,S_=P(()=>{YY=N(tn())});var OA,Xh,Lc,DA=P(()=>{S_();Ag();OA=N(tn());Is();Xh=class{constructor(e){this._changed=new Re(this),this._raw={},this._text=void 0;let{data:t,metadata:r,trusted:n}=Lc.getBundleOptions(e);this._rawData=t,e.value!==void 0&&Mc(e.value)&&(this._text=new dM(typeof e.value.text=="string"?e.value.text:e.value.text.join(""))),this._metadata=new Ap({values:r}),this._rawMetadata=r,this.trusted=n;let s=e.value;for(let o in s)switch(o){case"data":case"metadata":break;default:this._raw[o]=Lc.extract(s,o)}this.type=s.output_type,l3(s)?this.executionCount=s.execution_count:this.executionCount=null}get changed(){return this._changed}dispose(){var e;(e=this._text)===null||e===void 0||e.dispose(),this._metadata.dispose(),Re.clearData(this)}get data(){return Lc.getData(this.toJSON())}get streamText(){return this._text}get metadata(){return this._rawMetadata}setData(e){e.data&&(this._rawData=e.data),e.metadata&&(this._updateObservable(this._metadata,e.metadata),this._rawMetadata=e.metadata),this._changed.emit()}toJSON(){let e={};for(let t in this._raw)e[t]=Lc.extract(this._raw,t);switch(this._text!==void 0&&(e.text=this._text.text),this.type){case"display_data":case"execute_result":case"update_display_data":e.data=this._rawData,e.metadata=this.metadata;break;default:break}return delete e.transient,e}_updateObservable(e,t){let r=e.keys(),n=Object.keys(t);for(let s of r)n.indexOf(s)===-1&&e.delete(s);for(let s of n){let o=e.get(s),a=t[s];o!==a&&e.set(s,a)}}};(function(i){function e(r){return Lc.getData(r)}i.getData=e;function t(r){return Lc.getMetadata(r)}i.getMetadata=t})(Xh||(Xh={}));(function(i){function e(o){let a={};if(l3(o)||L_(o)||TA(o))a=o.data;else if(Mc(o))o.name==="stderr"?a["application/vnd.jupyter.stderr"]=o.text:a["application/vnd.jupyter.stdout"]=o.text;else if(AA(o)){a["application/vnd.jupyter.error"]=o;let l=o.traceback.join(`
`);a["application/vnd.jupyter.stderr"]=l||`${o.ename}: ${o.evalue}`}return s(a)}i.getData=e;function t(o){let a=Object.create(null);if(l3(o)||L_(o))for(let l in o.metadata)a[l]=n(o.metadata,l);return a}i.getMetadata=t;function r(o){let a=e(o.value),l=t(o.value),c=!!o.trusted;return{data:a,metadata:l,trusted:c}}i.getBundleOptions=r;function n(o,a){let l=o[a];return l===void 0||OA.JSONExt.isPrimitive(l)?l:JSON.parse(JSON.stringify(l))}i.extract=n;function s(o){let a=Object.create(null);for(let l in o)a[l]=n(o,l);return a}})(Lc||(Lc={}))});var Gd,Sc,E_,HA=P(()=>{Og();Gd=N(cM());S0();M_();Sc=class{constructor(e={}){var t,r,n,s,o,a;if(this._id=0,this._ranks={},this._types=null,this._factories={},this.translator=(t=e.translator)!==null&&t!==void 0?t:As,this.resolver=(r=e.resolver)!==null&&r!==void 0?r:null,this.linkHandler=(n=e.linkHandler)!==null&&n!==void 0?n:null,this.latexTypesetter=(s=e.latexTypesetter)!==null&&s!==void 0?s:null,this.markdownParser=(o=e.markdownParser)!==null&&o!==void 0?o:null,this.sanitizer=(a=e.sanitizer)!==null&&a!==void 0?a:new fM,e.initialFactories)for(let l of e.initialFactories)this.addFactory(l)}get mimeTypes(){return this._types||(this._types=E_.sortedTypes(this._ranks))}preferredMimeType(e,t="ensure"){if(t==="ensure"||t==="prefer"){for(let r of this.mimeTypes)if(r in e&&this._factories[r].safe)return r}if(t!=="ensure"){for(let r of this.mimeTypes)if(r in e)return r}}createRenderer(e){if(!(e in this._factories))throw new Error(`No factory for mime type: '${e}'`);return this._factories[e].createRenderer({mimeType:e,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,latexTypesetter:this.latexTypesetter,markdownParser:this.markdownParser,translator:this.translator})}createModel(e={}){return new a3(e)}clone(e={}){var t,r,n,s,o,a,l,c,u,d;let f=new Sc({resolver:(r=(t=e.resolver)!==null&&t!==void 0?t:this.resolver)!==null&&r!==void 0?r:void 0,sanitizer:(s=(n=e.sanitizer)!==null&&n!==void 0?n:this.sanitizer)!==null&&s!==void 0?s:void 0,linkHandler:(a=(o=e.linkHandler)!==null&&o!==void 0?o:this.linkHandler)!==null&&a!==void 0?a:void 0,latexTypesetter:(c=(l=e.latexTypesetter)!==null&&l!==void 0?l:this.latexTypesetter)!==null&&c!==void 0?c:void 0,markdownParser:(d=(u=e.markdownParser)!==null&&u!==void 0?u:this.markdownParser)!==null&&d!==void 0?d:void 0,translator:this.translator});return f._factories={...this._factories},f._ranks={...this._ranks},f._id=this._id,f}getFactory(e){return this._factories[e]}addFactory(e,t){t===void 0&&(t=e.defaultRank,t===void 0&&(t=100));for(let r of e.mimeTypes)this._factories[r]=e,this._ranks[r]={rank:t,id:this._id++};this._types=null}removeMimeType(e){delete this._factories[e],delete this._ranks[e],this._types=null}getRank(e){let t=this._ranks[e];return t&&t.rank}setRank(e,t){if(!this._ranks[e])return;let r=this._id++;this._ranks[e]={rank:t,id:r},this._types=null}};(function(i){class e{constructor(r){this._path=r.path,this._contents=r.contents}get path(){return this._path}set path(r){this._path=r}async resolveUrl(r){if(this.isLocal(r)){let n=encodeURI(Gd.PathExt.dirname(this.path));r=Gd.PathExt.resolve(n,r)}return r}async getDownloadUrl(r){return this.isLocal(r)?this._contents.getDownloadUrl(decodeURIComponent(r)):r}isLocal(r,n=!1){return this.isMalformed(r)?!1:Gd.URLExt.isLocal(r,n)||!!this._contents.driveName(decodeURI(r))}async resolvePath(r){let n=Gd.PageConfig.getOption("rootUri").replace("file://","");if(r.startsWith("~/")&&n.startsWith("/home/")&&(r=n.split("/").slice(0,3).join("/")+r.substring(1)),r.startsWith(n)||r.startsWith("./"))try{let s=r.replace(n,"");return{path:(await this._contents.get(s,{content:!1})).path,scope:"server"}}catch{return console.warn(`Could not resolve location of ${r} on server`),null}return{path:r,scope:"kernel"}}isMalformed(r){try{return decodeURI(r),!1}catch(n){if(n instanceof URIError)return!0;throw n}}}i.UrlResolver=e})(Sc||(Sc={}));(function(i){function e(t){return Object.keys(t).sort((r,n)=>{let s=t[r],o=t[n];return s.rank!==o.rank?s.rank-o.rank:s.id-o.id})}i.sortedTypes=e})(E_||(E_={}))});var Im,U9e,G9e,X9e,K9e,zA=P(()=>{Im=N(tn()),U9e=new Im.Token("@jupyterlab/rendermime:IRenderMimeRegistry",'A service for the rendermime registry for the application. Use this to create renderers for various mime-types in your extension. Many times it will be easier to create a "mime renderer extension" rather than using this service directly.'),G9e=new Im.Token("@jupyterlab/rendermime:ILatexTypesetter","A service for the LaTeX typesetter for the application. Use this if you want to typeset math in your extension."),X9e=new Im.Token("@jupyterlab/rendermime:IMarkdownParser","A service for rendering markdown syntax as HTML content."),K9e=new Im.Token("@jupyterlab/rendermime:IUrlResolverFactory","A factory for resolver of asset URLs.")});var c3=P(()=>{GT();XT();kA();g_();M_();DA();HA();x_();zA();w_()});var R_,fa,Kh,BA=P(()=>{S_();Ag();c3();Bn();R_=N(tn());Is();fa=class{constructor(e={}){if(this.clearNext=!1,this._lastStreamName="",this._trusted=!1,this._isDisposed=!1,this._stateChanged=new Re(this),this._changed=new Re(this),this._streamIndex=0,this._trusted=!!e.trusted,this.contentFactory=e.contentFactory||fa.defaultContentFactory,this.list=new uM,e.values)for(let t of e.values){let r=this._add(t)-1;this.list.get(r).changed.connect(this._onGenericChange,this)}this.list.changed.connect(this._onListChanged,this)}get stateChanged(){return this._stateChanged}get changed(){return this._changed}get length(){return this.list?this.list.length:0}get trusted(){return this._trusted}set trusted(e){if(e===this._trusted)return;let t=this._trusted=e;for(let r=0;r<this.list.length;r++){let n=this.list.get(r),s=n.toJSON(),o=this._createItem({value:s,trusted:t});this.list.set(r,o),n.dispose()}}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this.list.dispose(),Re.clearData(this))}get(e){return this.list.get(e)}set(e,t){t=R_.JSONExt.deepCopy(t),Kh.normalize(t);let r=this._createItem({value:t,trusted:this._trusted});this.list.set(e,r)}removeStreamOutput(e){let r=this.list.get(this.length-1).streamText,n=r.text.length,s={silent:!0};r.remove(n-e,n,s)}appendStreamOutput(e){let r=this.list.get(this.length-1).streamText,n=r.text.length,s={silent:!0};r.insert(n,e,s)}add(e){return this.clearNext&&(this.clear(),this.clearNext=!1),this._add(e)}remove(e){var t;(t=this.list.remove(e))===null||t===void 0||t.dispose()}clear(e=!1){if(this._lastStreamName="",e){this.clearNext=!0;return}for(let t of this.list)t.dispose();this.list.clear()}fromJSON(e){this.clear();for(let t of e)this._add(t)}toJSON(){return Array.from(lM(this.list,e=>e.toJSON()))}_add(e){let t=this._trusted;if(e=R_.JSONExt.deepCopy(e),Kh.normalize(e),Mc(e)&&e.name===this._lastStreamName&&this.length>0&&this.shouldCombine({value:e,lastModel:this.list.get(this.length-1)})){let o=this.list.get(this.length-1).streamText,a=typeof e.text=="string"?e.text:e.text.join("");return this._streamIndex=Kh.addText(this._streamIndex,o,a),this.length}if(Mc(e)){typeof e.text!="string"&&(e.text=e.text.join(""));let{text:s,index:o}=Kh.processText(0,e.text);this._streamIndex=o,e.text=s}let r=this._createItem({value:e,trusted:t}),n=this.list.push(r);return Mc(e)?this._lastStreamName=e.name:this._lastStreamName="",n}shouldCombine(e){return!0}_createItem(e){return this.contentFactory.createOutputModel(e)}_onListChanged(e,t){switch(t.type){case"add":t.newValues.forEach(r=>{r.changed.connect(this._onGenericChange,this)});break;case"remove":t.oldValues.forEach(r=>{r.changed.disconnect(this._onGenericChange,this)});break;case"set":t.newValues.forEach(r=>{r.changed.connect(this._onGenericChange,this)}),t.oldValues.forEach(r=>{r.changed.disconnect(this._onGenericChange,this)});break;case"move":break;case"clear":t.oldValues.forEach(r=>{r.changed.disconnect(this._onGenericChange,this)});break}this._changed.emit(t)}_onGenericChange(e){let t,r=null;for(t=0;t<this.list.length&&(r=this.list.get(t),r!==e);t++);r!=null&&(this._stateChanged.emit(t),this._changed.emit({type:"set",newIndex:t,oldIndex:t,oldValues:[r],newValues:[r]}))}};(function(i){class e{createOutputModel(r){return new Xh(r)}}i.ContentFactory=e,i.defaultContentFactory=new e})(fa||(fa={}));(function(i){function e(o){Mc(o)&&Array.isArray(o.text)&&(o.text=o.text.join(`
`))}i.normalize=e;function t(o,a,l){let c=o.slice(l).search(a);return c>=0?c+l:c}function r(o,a,l){if(l===void 0&&(l=""),!(a.includes("\b")||a.includes("\r")||a.includes(`
`)))return l=l.slice(0,o)+a+l.slice(o+a.length),{text:l,index:o+a.length};let c=o,u=-1,d=0,f=/[\n\b\r]/;for(;;){u=t(a,f,d);let h=a.slice(d,u===-1?a.length:u);if(l=l.slice(0,c)+h+l.slice(c+h.length),d=u+1,c+=h.length,u===-1)break;let m=a[u];if(m==="\b")c>0&&l[c-1]!==`
`&&(l=l.slice(0,c-1)+l.slice(c+1),c--);else if(m==="\r"){let p=!1;for(;!p;)c===0||l[c-1]===`
`?p=!0:c--}else if(m===`
`)l=l+`
`,c=l.length;else throw Error("This should not happen")}return{text:l,index:c}}i.processText=r;function n(o){return JSON.parse(JSON.stringify(o))}function s(o,a,l){let{text:c,index:u}=r(o,l,a.text),d=!1,f=0;for(;!d;)f===c.length?(f===a.text.length||a.remove(f,a.text.length),d=!0):f===a.text.length?f!==c.length&&(a.insert(a.text.length,n(c.slice(f))),d=!0):c[f]!==a.text[f]?(a.remove(f,a.text.length),a.insert(f,n(c.slice(f))),d=!0):f++;return u}i.addText=s})(Kh||(Kh={}))});var Yh,pl,PA=P(()=>{Yh=class{constructor(){this._first=null,this._last=null,this._size=0}get isEmpty(){return this._size===0}get size(){return this._size}get length(){return this._size}get first(){return this._first?this._first.value:void 0}get last(){return this._last?this._last.value:void 0}get firstNode(){return this._first}get lastNode(){return this._last}*[Symbol.iterator](){let e=this._first;for(;e;)yield e.value,e=e.next}*retro(){let e=this._last;for(;e;)yield e.value,e=e.prev}*nodes(){let e=this._first;for(;e;)yield e,e=e.next}*retroNodes(){let e=this._last;for(;e;)yield e,e=e.prev}assign(e){this.clear();for(let t of e)this.addLast(t)}push(e){this.addLast(e)}pop(){return this.removeLast()}shift(e){this.addFirst(e)}unshift(){return this.removeFirst()}addFirst(e){let t=new pl.LinkedListNode(this,e);return this._first?(t.next=this._first,this._first.prev=t,this._first=t):(this._first=t,this._last=t),this._size++,t}addLast(e){let t=new pl.LinkedListNode(this,e);return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._first=t,this._last=t),this._size++,t}insertBefore(e,t){if(!t||t===this._first)return this.addFirst(e);if(!(t instanceof pl.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");let r=new pl.LinkedListNode(this,e),n=t,s=n.prev;return r.next=n,r.prev=s,n.prev=r,s.next=r,this._size++,r}insertAfter(e,t){if(!t||t===this._last)return this.addLast(e);if(!(t instanceof pl.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");let r=new pl.LinkedListNode(this,e),n=t,s=n.next;return r.next=s,r.prev=n,n.next=r,s.prev=r,this._size++,r}removeFirst(){let e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeLast(){let e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeNode(e){if(!(e instanceof pl.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");let t=e;t===this._first&&t===this._last?(this._first=null,this._last=null):t===this._first?(this._first=t.next,this._first.prev=null):t===this._last?(this._last=t.prev,this._last.next=null):(t.next.prev=t.prev,t.prev.next=t.next),t.list=null,t.next=null,t.prev=null,this._size--}clear(){let e=this._first;for(;e;){let t=e.next;e.list=null,e.prev=null,e.next=null,e=t}this._first=null,this._last=null,this._size=0}};(function(i){function e(t){let r=new i;return r.assign(t),r}i.from=e})(Yh||(Yh={}));(function(i){class e{constructor(r,n){this.list=null,this.next=null,this.prev=null,this.list=r,this.value=n}}i.LinkedListNode=e})(pl||(pl={}))});var Sn,Ec,Ne,jA=P(()=>{Bn();PA();Sn=class{constructor(e){this.type=e}get isConflatable(){return!1}conflate(e){return!1}},Ec=class extends Sn{get isConflatable(){return!0}conflate(e){return!0}};(function(i){let e=null,t=(R=>A=>{let H=!1;return R.then(()=>!H&&A()),()=>{H=!0}})(Promise.resolve());function r(R,A){let H=f.get(R);if(!H||H.length===0){x(R,A);return}Kl(Jl(H),X=>X?v(X,R,A):!0)&&x(R,A)}i.sendMessage=r;function n(R,A){if(!A.isConflatable){C(R,A);return}Yl(d,$=>$.handler!==R||!$.msg||$.msg.type!==A.type||!$.msg.isConflatable?!1:$.msg.conflate(A))||C(R,A)}i.postMessage=n;function s(R,A){let H=f.get(R);H&&H.indexOf(A)!==-1||(H?H.push(A):f.set(R,[A]))}i.installMessageHook=s;function o(R,A){let H=f.get(R);if(!H)return;let $=H.indexOf(A);$!==-1&&(H[$]=null,S(H))}i.removeMessageHook=o;function a(R){let A=f.get(R);A&&A.length>0&&(z.fill(A,null),S(A));for(let H of d)H.handler===R&&(H.handler=null,H.msg=null)}i.clearData=a;function l(){p||e===null||(e(),e=null,p=!0,y(),p=!1)}i.flush=l;function c(){return m}i.getExceptionHandler=c;function u(R){let A=m;return m=R,A}i.setExceptionHandler=u;let d=new Yh,f=new WeakMap,h=new Set,m=R=>{console.error(R)},p=!1;function v(R,A,H){let $=!0;try{typeof R=="function"?$=R(A,H):$=R.messageHook(A,H)}catch(X){m(X)}return $}function x(R,A){try{R.processMessage(A)}catch(H){m(H)}}function C(R,A){d.addLast({handler:R,msg:A}),e===null&&(e=t(y))}function y(){if(e=null,d.isEmpty)return;let R={handler:null,msg:null};for(d.addLast(R);;){let A=d.removeFirst();if(A===R)return;A.handler&&A.msg&&r(A.handler,A.msg)}}function S(R){h.size===0&&t(M),h.add(R)}function M(){h.forEach(_),h.clear()}function _(R){z.removeAllWhere(R,E)}function E(R){return R===null}})(Ne||(Ne={}))});var cr,cn,$A=P(()=>{Ql();cr=class{constructor(e){this._onScrollFrame=()=>{if(!this._scrollTarget)return;let{element:t,edge:r,distance:n}=this._scrollTarget,s=cn.SCROLL_EDGE_SIZE-n,o=Math.pow(s/cn.SCROLL_EDGE_SIZE,2),a=Math.max(1,Math.round(o*cn.SCROLL_EDGE_SIZE));switch(r){case"top":t.scrollTop-=a;break;case"left":t.scrollLeft-=a;break;case"right":t.scrollLeft+=a;break;case"bottom":t.scrollTop+=a;break}requestAnimationFrame(this._onScrollFrame)},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.document=e.document||document,this.mimeData=e.mimeData,this.dragImage=e.dragImage||null,this.proposedAction=e.proposedAction||"copy",this.supportedActions=e.supportedActions||"all",this.source=e.source||null}dispose(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){let e=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:-1,clientY:-1});cn.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")}}get isDisposed(){return this._disposed}start(e,t){if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(e,t),this._promise=new Promise(n=>{this._resolve=n});let r=new PointerEvent("pointermove",{bubbles:!0,cancelable:!0,clientX:e,clientY:t});return document.dispatchEvent(r),this._promise}handleEvent(e){switch(e.type){case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault(),e.stopPropagation();break}}moveDragImage(e,t){if(!this.dragImage)return;let r=this.dragImage.style;r.transform=`translate(${e}px, ${t}px)`}_evtPointerMove(e){e.preventDefault(),e.stopPropagation(),this._updateCurrentTarget(e),this._updateDragScroll(e),this.moveDragImage(e.clientX,e.clientY)}_evtPointerUp(e){if(e.preventDefault(),e.stopPropagation(),e.button!==0)return;if(this._updateCurrentTarget(e),!this._currentTarget){this._finalize("none");return}if(this._dropAction==="none"){cn.dispatchDragLeave(this,this._currentTarget,null,e),this._finalize("none");return}let t=cn.dispatchDrop(this,this._currentTarget,e);this._finalize(t)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&this.dispose()}_addListeners(){document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)}_removeListeners(){document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)}_updateDragScroll(e){let t=cn.findScrollTarget(e);!this._scrollTarget&&!t||(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=t)}_updateCurrentTarget(e){let t=this._currentTarget,r=this._currentTarget,n=this._currentElement,s=cn.findElementBehindBackdrop(e,this.document);this._currentElement=s,s!==n&&s!==r&&cn.dispatchDragExit(this,r,s,e),s!==n&&s!==r&&(r=cn.dispatchDragEnter(this,s,r,e)),r!==t&&(this._currentTarget=r,cn.dispatchDragLeave(this,t,r,e));let o=cn.dispatchDragOver(this,r,e);this._setDropAction(o)}_attachDragImage(e,t){if(!this.dragImage)return;this.dragImage.classList.add("lm-mod-drag-image");let r=this.dragImage.style;r.pointerEvents="none",r.position="fixed",r.transform=`translate(${e}px, ${t}px)`,(this.document instanceof Document?this.document.body:this.document.firstElementChild).appendChild(this.dragImage)}_detachDragImage(){if(!this.dragImage)return;let e=this.dragImage.parentNode;e&&e.removeChild(this.dragImage)}_setDropAction(e){if(e=cn.validateAction(e,this.supportedActions),!(this._override&&this._dropAction===e))switch(e){case"none":this._dropAction=e,this._override=cr.overrideCursor("no-drop",this.document);break;case"copy":this._dropAction=e,this._override=cr.overrideCursor("copy",this.document);break;case"link":this._dropAction=e,this._override=cr.overrideCursor("alias",this.document);break;case"move":this._dropAction=e,this._override=cr.overrideCursor("move",this.document);break}}_finalize(e){let t=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,t&&t(e)}};(function(i){class e extends DragEvent{constructor(n,s){super(s.type,{bubbles:!0,cancelable:!0,altKey:n.altKey,button:n.button,clientX:n.clientX,clientY:n.clientY,ctrlKey:n.ctrlKey,detail:0,metaKey:n.metaKey,relatedTarget:s.related,screenX:n.screenX,screenY:n.screenY,shiftKey:n.shiftKey,view:window});let{drag:o}=s;this.dropAction="none",this.mimeData=o.mimeData,this.proposedAction=o.proposedAction,this.supportedActions=o.supportedActions,this.source=o.source}}i.Event=e;function t(r,n=document){return cn.overrideCursor(r,n)}i.overrideCursor=t})(cr||(cr={}));(function(i){i.SCROLL_EDGE_SIZE=20;function e(S,M){return d[S]&f[M]?S:"none"}i.validateAction=e;function t(S,M=document){if(S){if(r&&S==r.event)return r.element;i.cursorBackdrop.style.zIndex="-1000";let _=M.elementFromPoint(S.clientX,S.clientY);return i.cursorBackdrop.style.zIndex="",r={event:S,element:_},_}else{let _=i.cursorBackdrop.style.transform;if(n&&_===n.transform)return n.element;let E=i.cursorBackdrop.getBoundingClientRect();i.cursorBackdrop.style.zIndex="-1000";let R=M.elementFromPoint(E.left+E.width/2,E.top+E.height/2);return i.cursorBackdrop.style.zIndex="",n={transform:_,element:R},R}}i.findElementBehindBackdrop=t;let r=null,n=null;function s(S){let M=S.clientX,_=S.clientY,E=t(S);for(;E;E=E.parentElement){if(!E.hasAttribute("data-lm-dragscroll"))continue;let R=0,A=0;E===document.body&&(R=window.pageXOffset,A=window.pageYOffset);let H=E.getBoundingClientRect(),$=H.top+A,X=H.left+R,ue=X+H.width,he=$+H.height;if(M<X||M>=ue||_<$||_>=he)continue;let Y=M-X+1,ee=_-$+1,ie=ue-M,pe=he-_,we=Math.min(Y,ee,ie,pe);if(we>i.SCROLL_EDGE_SIZE)continue;let Ve;switch(we){case pe:Ve="bottom";break;case ee:Ve="top";break;case ie:Ve="right";break;case Y:Ve="left";break;default:throw"unreachable"}let lt=E.scrollWidth-E.clientWidth,gt=E.scrollHeight-E.clientHeight,De;switch(Ve){case"top":De=gt>0&&E.scrollTop>0;break;case"left":De=lt>0&&E.scrollLeft>0;break;case"right":De=lt>0&&E.scrollLeft<lt;break;case"bottom":De=gt>0&&E.scrollTop<gt;break;default:throw"unreachable"}if(De)return{element:E,edge:Ve,distance:we}}return null}i.findScrollTarget=s;function o(S,M,_,E){if(!M)return null;let R=new cr.Event(E,{drag:S,related:_,type:"lm-dragenter"});if(!M.dispatchEvent(R))return M;let H=S.document instanceof Document?S.document.body:S.document.firstElementChild;return M===H?_:(R=new cr.Event(E,{drag:S,related:_,type:"lm-dragenter"}),H.dispatchEvent(R),H)}i.dispatchDragEnter=o;function a(S,M,_,E){if(!M)return;let R=new cr.Event(E,{drag:S,related:_,type:"lm-dragexit"});M.dispatchEvent(R)}i.dispatchDragExit=a;function l(S,M,_,E){if(!M)return;let R=new cr.Event(E,{drag:S,related:_,type:"lm-dragleave"});M.dispatchEvent(R)}i.dispatchDragLeave=l;function c(S,M,_){if(!M)return"none";let E=new cr.Event(_,{drag:S,related:null,type:"lm-dragover"});return M.dispatchEvent(E)?"none":E.dropAction}i.dispatchDragOver=c;function u(S,M,_){if(!M)return"none";let E=new cr.Event(_,{drag:S,related:null,type:"lm-drop"});return M.dispatchEvent(E)?"none":E.dropAction}i.dispatchDrop=u;let d={none:0,copy:1,link:2,move:4},f={none:d.none,copy:d.copy,link:d.link,move:d.move,"copy-link":d.copy|d.link,"copy-move":d.copy|d.move,"link-move":d.link|d.move,all:d.copy|d.link|d.move};function h(S,M=document){let _=++y,E=M instanceof Document?M.body:M.firstElementChild;return i.cursorBackdrop.isConnected||(i.cursorBackdrop.style.transform="scale(0)",E.appendChild(i.cursorBackdrop),v(),document.addEventListener("pointermove",m,{capture:!0,passive:!0}),i.cursorBackdrop.addEventListener("scroll",p,{capture:!0,passive:!0})),i.cursorBackdrop.style.cursor=S,new ks(()=>{_===y&&i.cursorBackdrop.isConnected&&(document.removeEventListener("pointermove",m,!0),i.cursorBackdrop.removeEventListener("scroll",p,!0),E.removeChild(i.cursorBackdrop))})}i.overrideCursor=h;function m(S){i.cursorBackdrop&&(i.cursorBackdrop.style.transform=`translate(${S.clientX}px, ${S.clientY}px)`)}function p(S){if(!i.cursorBackdrop)return;let M=t();if(!M)return;let _=M.closest("[data-lm-dragscroll]");_&&(_.scrollTop+=i.cursorBackdrop.scrollTop-x,_.scrollLeft+=i.cursorBackdrop.scrollLeft-x,v())}function v(){i.cursorBackdrop.scrollTop=x,i.cursorBackdrop.scrollLeft=x}let x=500;function C(){let S=document.createElement("div");return S.classList.add("lm-cursor-backdrop"),S}let y=0;i.cursorBackdrop=C()})(cn||(cn={}))});var bl,ma,ls,km,fe,d3,ga,Kd,Jh,Rc,Tm,Am,Io,vl,I_,u3,Yd,k_,Jd,T_,Nm,A_,cs,Xd,h3,N_,Qh,gl,pa,En,VA,JY,Ic,Us,O_,Ji,Qd,ji,_l,wr,ef,f3,FA,WA,D_,ZA,qA,UA=P(()=>{Bn();bl=N(tn());L0();jA();M0();Is();$A();kp();Tp();Ql();Ip();ma=class{constructor(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}};(function(i){function e(s,o){let a=s.length;if(a===0)return o;let l=0,c=0,u=0,d=0,f=0;for(let p=0;p<a;++p){let v=s[p],x=v.minSize,C=v.maxSize,y=v.sizeHint;v.done=!1,v.size=Math.max(x,Math.min(y,C)),u+=v.size,l+=x,c+=C,v.stretch>0&&(d+=v.stretch,f++)}if(o===u)return 0;if(o<=l){for(let p=0;p<a;++p){let v=s[p];v.size=v.minSize}return o-l}if(o>=c){for(let p=0;p<a;++p){let v=s[p];v.size=v.maxSize}return o-c}let h=.01,m=a;if(o<u){let p=u-o;for(;f>0&&p>h;){let v=p,x=d;for(let C=0;C<a;++C){let y=s[C];if(y.done||y.stretch===0)continue;let S=y.stretch*v/x;y.size-S<=y.minSize?(p-=y.size-y.minSize,d-=y.stretch,y.size=y.minSize,y.done=!0,m--,f--):(p-=S,y.size-=S)}}for(;m>0&&p>h;){let v=p/m;for(let x=0;x<a;++x){let C=s[x];C.done||(C.size-v<=C.minSize?(p-=C.size-C.minSize,C.size=C.minSize,C.done=!0,m--):(p-=v,C.size-=v))}}}else{let p=o-u;for(;f>0&&p>h;){let v=p,x=d;for(let C=0;C<a;++C){let y=s[C];if(y.done||y.stretch===0)continue;let S=y.stretch*v/x;y.size+S>=y.maxSize?(p-=y.maxSize-y.size,d-=y.stretch,y.size=y.maxSize,y.done=!0,m--,f--):(p-=S,y.size+=S)}}for(;m>0&&p>h;){let v=p/m;for(let x=0;x<a;++x){let C=s[x];C.done||(C.size+v>=C.maxSize?(p-=C.maxSize-C.size,C.size=C.maxSize,C.done=!0,m--):(p-=v,C.size+=v))}}}return 0}i.calc=e;function t(s,o,a){s.length===0||a===0||(a>0?r(s,o,a):n(s,o,-a))}i.adjust=t;function r(s,o,a){let l=0;for(let f=0;f<=o;++f){let h=s[f];l+=h.maxSize-h.size}let c=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];c+=m.size-m.minSize}a=Math.min(a,l,c);let u=a;for(let f=o;f>=0&&u>0;--f){let h=s[f],m=h.maxSize-h.size;m>=u?(h.sizeHint=h.size+u,u=0):(h.sizeHint=h.size+m,u-=m)}let d=a;for(let f=o+1,h=s.length;f<h&&d>0;++f){let m=s[f],p=m.size-m.minSize;p>=d?(m.sizeHint=m.size-d,d=0):(m.sizeHint=m.size-p,d-=p)}}function n(s,o,a){let l=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];l+=m.maxSize-m.size}let c=0;for(let f=0;f<=o;++f){let h=s[f];c+=h.size-h.minSize}a=Math.min(a,l,c);let u=a;for(let f=o+1,h=s.length;f<h&&u>0;++f){let m=s[f],p=m.maxSize-m.size;p>=u?(m.sizeHint=m.size+u,u=0):(m.sizeHint=m.size+p,u-=p)}let d=a;for(let f=o;f>=0&&d>0;--f){let h=s[f],m=h.size-h.minSize;m>=d?(h.sizeHint=h.size-d,d=0):(h.sizeHint=h.size-m,d-=m)}}})(ls||(ls={}));km=class{constructor(e){this._label="",this._caption="",this._mnemonic=-1,this._icon=void 0,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new Re(this),this._isDisposed=!1,this.owner=e.owner,e.label!==void 0&&(this._label=e.label),e.mnemonic!==void 0&&(this._mnemonic=e.mnemonic),e.icon!==void 0&&(this._icon=e.icon),e.iconClass!==void 0&&(this._iconClass=e.iconClass),e.iconLabel!==void 0&&(this._iconLabel=e.iconLabel),e.caption!==void 0&&(this._caption=e.caption),e.className!==void 0&&(this._className=e.className),e.closable!==void 0&&(this._closable=e.closable),this._dataset=e.dataset||{}}get changed(){return this._changed}get label(){return this._label}set label(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))}get mnemonic(){return this._mnemonic}set mnemonic(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))}get icon(){return this._icon}set icon(e){this._icon!==e&&(this._icon=e,this._changed.emit(void 0))}get iconClass(){return this._iconClass}set iconClass(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))}get iconLabel(){return this._iconLabel}set iconLabel(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))}get caption(){return this._caption}set caption(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))}get className(){return this._className}set className(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))}get closable(){return this._closable}set closable(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))}get dataset(){return this._dataset}set dataset(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Re.clearData(this))}},fe=class{constructor(e={}){this._flags=0,this._layout=null,this._parent=null,this._disposed=new Re(this),this._hiddenMode=fe.HiddenMode.Display,this.node=d3.createNode(e),this.addClass("lm-Widget")}dispose(){this.isDisposed||(this.setFlag(fe.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&fe.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),Re.clearData(this),Ne.clearData(this),ut.clearData(this))}get disposed(){return this._disposed}get isDisposed(){return this.testFlag(fe.Flag.IsDisposed)}get isAttached(){return this.testFlag(fe.Flag.IsAttached)}get isHidden(){return this.testFlag(fe.Flag.IsHidden)}get isVisible(){let e=this;do{if(e.isHidden||!e.isAttached)return!1;e=e.parent}while(e!=null);return!0}get title(){return d3.titleProperty.get(this)}get id(){return this.node.id}set id(e){this.node.id=e}get dataset(){return this.node.dataset}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this.isHidden&&this._toggleHidden(!1),e==fe.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=e,this.isHidden&&this._toggleHidden(!0))}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){let t=new fe.ChildMessage("child-removed",this);Ne.sendMessage(this._parent,t)}if(this._parent=e,this._parent&&!this._parent.isDisposed){let t=new fe.ChildMessage("child-added",this);Ne.sendMessage(this._parent,t)}this.isDisposed||Ne.sendMessage(this,fe.Msg.ParentChanged)}}get layout(){return this._layout}set layout(e){if(this._layout!==e){if(this.testFlag(fe.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}}*children(){this._layout&&(yield*this._layout)}contains(e){for(let t=e;t;t=t._parent)if(t===this)return!0;return!1}hasClass(e){return this.node.classList.contains(e)}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e,t){return t===!0?(this.node.classList.add(e),!0):t===!1?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)}update(){Ne.postMessage(this,fe.Msg.UpdateRequest)}fit(){Ne.postMessage(this,fe.Msg.FitRequest)}activate(){Ne.postMessage(this,fe.Msg.ActivateRequest)}close(){Ne.sendMessage(this,fe.Msg.CloseRequest)}show(){if(this.testFlag(fe.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&Ne.sendMessage(this,fe.Msg.BeforeShow),this.clearFlag(fe.Flag.IsHidden),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&Ne.sendMessage(this,fe.Msg.AfterShow),this.parent)){let e=new fe.ChildMessage("child-shown",this);Ne.sendMessage(this.parent,e)}}hide(){if(!this.testFlag(fe.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&Ne.sendMessage(this,fe.Msg.BeforeHide),this.setFlag(fe.Flag.IsHidden),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&Ne.sendMessage(this,fe.Msg.AfterHide),this.parent)){let e=new fe.ChildMessage("child-hidden",this);Ne.sendMessage(this.parent,e)}}setHidden(e){e?this.hide():this.show()}testFlag(e){return(this._flags&e)!==0}setFlag(e){this._flags|=e}clearFlag(e){this._flags&=~e}processMessage(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(fe.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(fe.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(fe.Flag.IsVisible),this.setFlag(fe.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(fe.Flag.IsVisible),this.clearFlag(fe.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e);break}}notifyLayout(e){this._layout&&this._layout.processParentMessage(e)}onCloseRequest(e){this.parent?this.parent=null:this.isAttached&&fe.detach(this)}onResize(e){}onUpdateRequest(e){}onFitRequest(e){}onActivateRequest(e){}onBeforeShow(e){}onAfterShow(e){}onBeforeHide(e){}onAfterHide(e){}onBeforeAttach(e){}onAfterAttach(e){}onBeforeDetach(e){}onAfterDetach(e){}onChildAdded(e){}onChildRemoved(e){}_toggleHidden(e){if(e)switch(this._hiddenMode){case fe.HiddenMode.Display:this.addClass("lm-mod-hidden");break;case fe.HiddenMode.Scale:this.node.style.transform="scale(0)",this.node.setAttribute("aria-hidden","true");break;case fe.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case fe.HiddenMode.Display:this.removeClass("lm-mod-hidden");break;case fe.HiddenMode.Scale:this.node.style.transform="",this.node.removeAttribute("aria-hidden");break;case fe.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}}};(function(i){(function(s){s[s.Display=0]="Display",s[s.Scale=1]="Scale",s[s.ContentVisibility=2]="ContentVisibility"})(i.HiddenMode||(i.HiddenMode={})),function(s){s[s.IsDisposed=1]="IsDisposed",s[s.IsAttached=2]="IsAttached",s[s.IsHidden=4]="IsHidden",s[s.IsVisible=8]="IsVisible",s[s.DisallowLayout=16]="DisallowLayout"}(i.Flag||(i.Flag={})),function(s){s.BeforeShow=new Sn("before-show"),s.AfterShow=new Sn("after-show"),s.BeforeHide=new Sn("before-hide"),s.AfterHide=new Sn("after-hide"),s.BeforeAttach=new Sn("before-attach"),s.AfterAttach=new Sn("after-attach"),s.BeforeDetach=new Sn("before-detach"),s.AfterDetach=new Sn("after-detach"),s.ParentChanged=new Sn("parent-changed"),s.UpdateRequest=new Ec("update-request"),s.FitRequest=new Ec("fit-request"),s.ActivateRequest=new Ec("activate-request"),s.CloseRequest=new Ec("close-request")}(i.Msg||(i.Msg={}));class e extends Sn{constructor(o,a){super(o),this.child=a}}i.ChildMessage=e;class t extends Sn{constructor(o,a){super("resize"),this.width=o,this.height=a}}i.ResizeMessage=t,function(s){s.UnknownSize=new s(-1,-1)}(t=i.ResizeMessage||(i.ResizeMessage={}));function r(s,o,a=null){if(s.parent)throw new Error("Cannot attach a child widget.");if(s.isAttached||s.node.isConnected)throw new Error("Widget is already attached.");if(!o.isConnected)throw new Error("Host is not attached.");Ne.sendMessage(s,i.Msg.BeforeAttach),o.insertBefore(s.node,a),Ne.sendMessage(s,i.Msg.AfterAttach)}i.attach=r;function n(s){if(s.parent)throw new Error("Cannot detach a child widget.");if(!s.isAttached||!s.node.isConnected)throw new Error("Widget is not attached.");Ne.sendMessage(s,i.Msg.BeforeDetach),s.node.parentNode.removeChild(s.node),Ne.sendMessage(s,i.Msg.AfterDetach)}i.detach=n})(fe||(fe={}));(function(i){i.titleProperty=new ut({name:"title",create:t=>new km({owner:t})});function e(t){return t.node||document.createElement(t.tag||"div")}i.createNode=e})(d3||(d3={}));ga=class{constructor(e={}){this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}dispose(){this._parent=null,this._disposed=!0,Re.clearData(this),ut.clearData(this)}get isDisposed(){return this._disposed}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}}get fitPolicy(){return this._fitPolicy}set fitPolicy(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){let t=this._parent.node.style;t.minWidth="",t.minHeight="",t.maxWidth="",t.maxHeight="",this._parent.fit()}}processParentMessage(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}}init(){for(let e of this)e.parent=this.parent}onResize(e){for(let t of this)Ne.sendMessage(t,fe.ResizeMessage.UnknownSize)}onUpdateRequest(e){for(let t of this)Ne.sendMessage(t,fe.ResizeMessage.UnknownSize)}onBeforeAttach(e){for(let t of this)Ne.sendMessage(t,e)}onAfterAttach(e){for(let t of this)Ne.sendMessage(t,e)}onBeforeDetach(e){for(let t of this)Ne.sendMessage(t,e)}onAfterDetach(e){for(let t of this)Ne.sendMessage(t,e)}onBeforeShow(e){for(let t of this)t.isHidden||Ne.sendMessage(t,e)}onAfterShow(e){for(let t of this)t.isHidden||Ne.sendMessage(t,e)}onBeforeHide(e){for(let t of this)t.isHidden||Ne.sendMessage(t,e)}onAfterHide(e){for(let t of this)t.isHidden||Ne.sendMessage(t,e)}onChildRemoved(e){this.removeWidget(e.child)}onFitRequest(e){}onChildShown(e){}onChildHidden(e){}};(function(i){function e(s){return Jh.horizontalAlignmentProperty.get(s)}i.getHorizontalAlignment=e;function t(s,o){Jh.horizontalAlignmentProperty.set(s,o)}i.setHorizontalAlignment=t;function r(s){return Jh.verticalAlignmentProperty.get(s)}i.getVerticalAlignment=r;function n(s,o){Jh.verticalAlignmentProperty.set(s,o)}i.setVerticalAlignment=n})(ga||(ga={}));Kd=class{constructor(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute",this.widget.node.style.contain="strict"}dispose(){if(this._disposed)return;this._disposed=!0;let e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height="",e.contain=""}get minWidth(){return this._minWidth}get minHeight(){return this._minHeight}get maxWidth(){return this._maxWidth}get maxHeight(){return this._maxHeight}get isDisposed(){return this._disposed}get isHidden(){return this.widget.isHidden}get isVisible(){return this.widget.isVisible}get isAttached(){return this.widget.isAttached}fit(){let e=Me.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight}update(e,t,r,n){let s=Math.max(this._minWidth,Math.min(r,this._maxWidth)),o=Math.max(this._minHeight,Math.min(n,this._maxHeight));if(s<r)switch(ga.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(r-s)/2;break;case"right":e+=r-s;break;default:throw"unreachable"}if(o<n)switch(ga.getVerticalAlignment(this.widget)){case"top":break;case"center":t+=(n-o)/2;break;case"bottom":t+=n-o;break;default:throw"unreachable"}let a=!1,l=this.widget.node.style;if(this._top!==t&&(this._top=t,l.top=`${t}px`),this._left!==e&&(this._left=e,l.left=`${e}px`),this._width!==s&&(a=!0,this._width=s,l.width=`${s}px`),this._height!==o&&(a=!0,this._height=o,l.height=`${o}px`),a){let c=new fe.ResizeMessage(s,o);Ne.sendMessage(this.widget,c)}}};(function(i){i.horizontalAlignmentProperty=new ut({name:"horizontalAlignment",create:()=>"center",changed:e}),i.verticalAlignmentProperty=new ut({name:"verticalAlignment",create:()=>"top",changed:e});function e(t){t.parent&&t.parent.layout&&t.parent.update()}})(Jh||(Jh={}));Rc=class extends ga{constructor(){super(...arguments),this._widgets=[]}dispose(){for(;this._widgets.length>0;)this._widgets.pop().dispose();super.dispose()}get widgets(){return this._widgets}*[Symbol.iterator](){yield*this._widgets}addWidget(e){this.insertWidget(this._widgets.length,e)}insertWidget(e,t){t.parent=this.parent;let r=this._widgets.indexOf(t),n=Math.max(0,Math.min(e,this._widgets.length));if(r===-1){z.insert(this._widgets,n,t),this.parent&&this.attachWidget(n,t);return}n===this._widgets.length&&n--,r!==n&&(z.move(this._widgets,r,n),this.parent&&this.moveWidget(r,n,t))}removeWidget(e){this.removeWidgetAt(this._widgets.indexOf(e))}removeWidgetAt(e){let t=z.removeAt(this._widgets,e);t&&this.parent&&this.detachWidget(e,t)}init(){super.init();let e=0;for(let t of this)this.attachWidget(e++,t)}attachWidget(e,t){let r=this.parent.node.children[e];this.parent.isAttached&&Ne.sendMessage(t,fe.Msg.BeforeAttach),this.parent.node.insertBefore(t.node,r),this.parent.isAttached&&Ne.sendMessage(t,fe.Msg.AfterAttach)}moveWidget(e,t,r){this.parent.isAttached&&Ne.sendMessage(r,fe.Msg.BeforeDetach),this.parent.node.removeChild(r.node),this.parent.isAttached&&Ne.sendMessage(r,fe.Msg.AfterDetach);let n=this.parent.node.children[t];this.parent.isAttached&&Ne.sendMessage(r,fe.Msg.BeforeAttach),this.parent.node.insertBefore(r.node,n),this.parent.isAttached&&Ne.sendMessage(r,fe.Msg.AfterAttach)}detachWidget(e,t){this.parent.isAttached&&Ne.sendMessage(t,fe.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&Ne.sendMessage(t,fe.Msg.AfterDetach)}};(function(i){function e(t){return Math.max(0,Math.floor(t))}i.clampDimension=e})(Tm||(Tm={}));Am=Tm,Io=class extends Rc{constructor(e){super(),this.widgetOffset=0,this._fixed=0,this._spacing=4,this._dirty=!1,this._hasNormedSizes=!1,this._sizers=[],this._items=[],this._handles=[],this._box=null,this._alignment="start",this._orientation="horizontal",this.renderer=e.renderer,e.orientation!==void 0&&(this._orientation=e.orientation),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Tm.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,super.dispose()}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Tm.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get handles(){return this._handles}absoluteSizes(){return this._sizers.map(e=>e.size)}relativeSizes(){return vl.normalize(this._sizers.map(e=>e.size))}setRelativeSizes(e,t=!0){let r=this._sizers.length,n=e.slice(0,r);for(;n.length<r;)n.push(0);let s=vl.normalize(n);for(let o=0;o<r;++o){let a=this._sizers[o];a.sizeHint=s[o],a.size=s[o]}this._hasNormedSizes=!0,t&&this.parent&&this.parent.update()}moveHandle(e,t){let r=this._handles[e];if(!r||r.classList.contains("lm-mod-hidden"))return;let n;if(this._orientation==="horizontal"?n=t-r.offsetLeft:n=t-r.offsetTop,n!==0){for(let s of this._sizers)s.size>0&&(s.sizeHint=s.size);ls.adjust(this._sizers,e,n),this.parent&&this.parent.update()}}init(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,t){let r=new Kd(t),n=vl.createHandle(this.renderer),s=vl.averageSize(this._sizers),o=vl.createSizer(s);z.insert(this._items,e,r),z.insert(this._sizers,e,o),z.insert(this._handles,e,n),this.parent.isAttached&&Ne.sendMessage(t,fe.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.node.appendChild(n),this.parent.isAttached&&Ne.sendMessage(t,fe.Msg.AfterAttach),this.parent.fit()}moveWidget(e,t,r){z.move(this._items,e,t),z.move(this._sizers,e,t),z.move(this._handles,e,t),this.parent.fit()}detachWidget(e,t){let r=z.removeAt(this._items,e),n=z.removeAt(this._handles,e);z.removeAt(this._sizers,e),this.parent.isAttached&&Ne.sendMessage(t,fe.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.node.removeChild(n),this.parent.isAttached&&Ne.sendMessage(t,fe.Msg.AfterDetach),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}updateItemPosition(e,t,r,n,s,o,a){let l=this._items[e];if(l.isHidden)return;let c=this._handles[e].style;t?(r+=this.widgetOffset,l.update(r,n,a,s),r+=a,c.top=`${n}px`,c.left=`${r}px`,c.width=`${this._spacing}px`,c.height=`${s}px`):(n+=this.widgetOffset,l.update(r,n,o,a),n+=a,c.top=`${n}px`,c.left=`${r}px`,c.width=`${o}px`,c.height=`${this._spacing}px`)}_fit(){let e=0,t=-1;for(let l=0,c=this._items.length;l<c;++l)this._items[l].isHidden?this._handles[l].classList.add("lm-mod-hidden"):(this._handles[l].classList.remove("lm-mod-hidden"),t=l,e++);t!==-1&&this._handles[t].classList.add("lm-mod-hidden"),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;let r=this._orientation==="horizontal",n=r?this._fixed:0,s=r?0:this._fixed;for(let l=0,c=this._items.length;l<c;++l){let u=this._items[l],d=this._sizers[l];if(d.size>0&&(d.sizeHint=d.size),u.isHidden){d.minSize=0,d.maxSize=0;continue}u.fit(),d.stretch=Io.getStretch(u.widget),r?(d.minSize=u.minWidth,d.maxSize=u.maxWidth,n+=u.minWidth,s=Math.max(s,u.minHeight)):(d.minSize=u.minHeight,d.maxSize=u.maxHeight,s+=u.minHeight,n=Math.max(n,u.minWidth))}let o=this._box=Me.boxSizing(this.parent.node);n+=o.horizontalSum,s+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${n}px`,a.minHeight=`${s}px`,this._dirty=!0,this.parent.parent&&Ne.sendMessage(this.parent.parent,fe.Msg.FitRequest),this._dirty&&Ne.sendMessage(this.parent,fe.Msg.UpdateRequest)}_update(e,t){this._dirty=!1;let r=0;for(let d=0,f=this._items.length;d<f;++d)r+=+!this._items[d].isHidden;if(r===0&&this.widgetOffset===0)return;e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=Me.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=t-this._box.verticalSum,l=0,c=0,u=this._orientation==="horizontal";if(r>0){let d;if(u?d=Math.max(0,o-this._fixed):d=Math.max(0,a-this._fixed),this._hasNormedSizes){for(let h of this._sizers)h.sizeHint*=d;this._hasNormedSizes=!1}let f=ls.calc(this._sizers,d);if(f>0)switch(this._alignment){case"start":break;case"center":l=0,c=f/2;break;case"end":l=0,c=f;break;case"justify":l=f/r,c=0;break;default:throw"unreachable"}}for(let d=0,f=this._items.length;d<f;++d){let m=this._items[d].isHidden?0:this._sizers[d].size+l;this.updateItemPosition(d,u,u?s+c:s,u?n:n+c,a,o,m);let p=this.widgetOffset+(this._handles[d].classList.contains("lm-mod-hidden")?0:this._spacing);u?s+=m+p:n+=m+p}}};(function(i){function e(r){return vl.stretchProperty.get(r)}i.getStretch=e;function t(r,n){vl.stretchProperty.set(r,n)}i.setStretch=t})(Io||(Io={}));(function(i){i.stretchProperty=new ut({name:"stretch",create:()=>0,coerce:(o,a)=>Math.max(0,Math.floor(a)),changed:s});function e(o){let a=new ma;return a.sizeHint=Math.floor(o),a}i.createSizer=e;function t(o){let a=o.createHandle();return a.style.position="absolute",a.style.contain="style",a}i.createHandle=t;function r(o){return o.reduce((a,l)=>a+l.size,0)/o.length||0}i.averageSize=r;function n(o){let a=o.length;if(a===0)return[];let l=o.reduce((c,u)=>c+Math.abs(u),0);return l===0?o.map(c=>1/a):o.map(c=>c/l)}i.normalize=n;function s(o){o.parent&&o.parent.layout instanceof Io&&o.parent.fit()}})(vl||(vl={}));I_=class extends Io{constructor(e){super({...e,orientation:e.orientation||"vertical"}),this._titles=[],this.titleSpace=e.titleSpace||22}get titleSpace(){return this.widgetOffset}set titleSpace(e){e=Am.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())}get titles(){return this._titles}dispose(){this.isDisposed||(this._titles.length=0,super.dispose())}updateTitle(e,t){let r=this._titles[e],n=r.classList.contains("lm-mod-expanded"),s=u3.createTitle(this.renderer,t.title,n);this._titles[e]=s,this.parent.node.replaceChild(s,r)}insertWidget(e,t){t.id||(t.id=`id-${bl.UUID.uuid4()}`),super.insertWidget(e,t)}attachWidget(e,t){let r=u3.createTitle(this.renderer,t.title);z.insert(this._titles,e,r),this.parent.node.appendChild(r),t.node.setAttribute("role","region"),t.node.setAttribute("aria-labelledby",r.id),super.attachWidget(e,t)}moveWidget(e,t,r){z.move(this._titles,e,t),super.moveWidget(e,t,r)}detachWidget(e,t){let r=z.removeAt(this._titles,e);this.parent.node.removeChild(r),super.detachWidget(e,t)}updateItemPosition(e,t,r,n,s,o,a){let l=this._titles[e].style;l.top=`${n}px`,l.left=`${r}px`,l.height=`${this.widgetOffset}px`,t?l.width=`${s}px`:l.width=`${o}px`,super.updateItemPosition(e,t,r,n,s,o,a)}};(function(i){function e(t,r,n=!0){let s=t.createSectionTitle(r);return s.style.position="absolute",s.style.contain="strict",s.setAttribute("aria-label",`${r.label} Section`),s.setAttribute("aria-expanded",n?"true":"false"),s.setAttribute("aria-controls",r.owner.id),n&&s.classList.add("lm-mod-expanded"),s}i.createTitle=e})(u3||(u3={}));Yd=class extends fe{constructor(e={}){super(),this.addClass("lm-Panel"),this.layout=k_.createLayout(e)}get widgets(){return this.layout.widgets}addWidget(e){this.layout.addWidget(e)}insertWidget(e,t){this.layout.insertWidget(e,t)}};(function(i){function e(t){return t.layout||new Rc}i.createLayout=e})(k_||(k_={}));Jd=class extends Yd{constructor(e={}){super({layout:T_.createLayout(e)}),this._handleMoved=new Re(this),this._pressData=null,this.addClass("lm-SplitPanel")}dispose(){this._releaseMouse(),super.dispose()}get orientation(){return this.layout.orientation}set orientation(e){this.layout.orientation=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get renderer(){return this.layout.renderer}get handleMoved(){return this._handleMoved}get handles(){return this.layout.handles}relativeSizes(){return this.layout.relativeSizes()}setRelativeSizes(e,t=!0){this.layout.setRelativeSizes(e,t)}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){e.child.addClass("lm-SplitPanel-child"),this._releaseMouse()}onChildRemoved(e){e.child.removeClass("lm-SplitPanel-child"),this._releaseMouse()}_evtKeyDown(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),e.keyCode===27&&this._releaseMouse()}_evtPointerDown(e){if(e.button!==0)return;let t=this.layout,r=z.findFirstIndex(t.handles,c=>c.contains(e.target));if(r===-1)return;e.preventDefault(),e.stopPropagation(),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);let n,s=t.handles[r],o=s.getBoundingClientRect();t.orientation==="horizontal"?n=e.clientX-o.left:n=e.clientY-o.top;let a=window.getComputedStyle(s),l=cr.overrideCursor(a.cursor);this._pressData={index:r,delta:n,override:l}}_evtPointerMove(e){e.preventDefault(),e.stopPropagation();let t,r=this.layout,n=this.node.getBoundingClientRect();r.orientation==="horizontal"?t=e.clientX-n.left-this._pressData.delta:t=e.clientY-n.top-this._pressData.delta,r.moveHandle(this._pressData.index,t)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))}};(function(i){class e{createHandle(){let s=document.createElement("div");return s.className="lm-SplitPanel-handle",s}}i.Renderer=e,i.defaultRenderer=new e;function t(n){return Io.getStretch(n)}i.getStretch=t;function r(n,s){Io.setStretch(n,s)}i.setStretch=r})(Jd||(Jd={}));(function(i){function e(t){return t.layout||new Io({renderer:t.renderer||Jd.defaultRenderer,orientation:t.orientation,alignment:t.alignment,spacing:t.spacing})}i.createLayout=e})(T_||(T_={}));Nm=class extends Jd{constructor(e={}){super({...e,layout:A_.createLayout(e)}),this._widgetSizesCache=new WeakMap,this._expansionToggled=new Re(this),this.addClass("lm-AccordionPanel")}get renderer(){return this.layout.renderer}get titleSpace(){return this.layout.titleSpace}set titleSpace(e){this.layout.titleSpace=e}get titles(){return this.layout.titles}get expansionToggled(){return this._expansionToggled}addWidget(e){super.addWidget(e),e.title.changed.connect(this._onTitleChanged,this)}collapse(e){let t=this.layout.widgets[e];t&&!t.isHidden&&this._toggleExpansion(e)}expand(e){let t=this.layout.widgets[e];t&&t.isHidden&&this._toggleExpansion(e)}insertWidget(e,t){super.insertWidget(e,t),t.title.changed.connect(this._onTitleChanged,this)}handleEvent(e){switch(super.handleEvent(e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),super.onBeforeAttach(e)}onAfterDetach(e){super.onAfterDetach(e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)}_onTitleChanged(e){let t=z.findFirstIndex(this.widgets,r=>r.contains(e.owner));t>=0&&(this.layout.updateTitle(t,e.owner),this.update())}_computeWidgetSize(e){let t=this.layout,r=t.widgets[e];if(!r)return;let n=r.isHidden,s=t.absoluteSizes(),o=(n?-1:1)*this.spacing,a=s.reduce((c,u)=>c+u),l=[...s];if(n){let c=this._widgetSizesCache.get(r);if(!c)return;l[e]+=c;let u=l.map(d=>d-c>0).lastIndexOf(!0);u===-1?l.forEach((d,f)=>{f!==e&&(l[f]-=s[f]/a*(c-o))}):l[u]-=c-o}else{let c=s[e];this._widgetSizesCache.set(r,c),l[e]=0;let u=l.map(d=>d>0).lastIndexOf(!0);if(u===-1)return;l[u]=s[u]+c+o}return l.map(c=>c/(a+o))}_evtClick(e){let t=e.target;if(t){let r=z.findFirstIndex(this.titles,n=>n.contains(t));r>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(r))}}_eventKeyDown(e){if(e.defaultPrevented)return;let t=e.target,r=!1;if(t){let n=z.findFirstIndex(this.titles,s=>s.contains(t));if(n>=0){let s=e.keyCode.toString();if(e.key.match(/Space|Enter/)||s.match(/13|32/))t.click(),r=!0;else if(this.orientation==="horizontal"?e.key.match(/ArrowLeft|ArrowRight/)||s.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||s.match(/38|40/)){let o=e.key.match(/ArrowLeft|ArrowUp/)||s.match(/37|38/)?-1:1,a=this.titles.length,l=(n+a+o)%a;this.titles[l].focus(),r=!0}else e.key==="End"||s==="35"?(this.titles[this.titles.length-1].focus(),r=!0):(e.key==="Home"||s==="36")&&(this.titles[0].focus(),r=!0)}r&&e.preventDefault()}}_toggleExpansion(e){let t=this.titles[e],r=this.layout.widgets[e],n=this._computeWidgetSize(e);n&&this.setRelativeSizes(n,!1),r.isHidden?(t.classList.add("lm-mod-expanded"),t.setAttribute("aria-expanded","true"),r.show()):(t.classList.remove("lm-mod-expanded"),t.setAttribute("aria-expanded","false"),r.hide()),this._expansionToggled.emit(e)}};(function(i){class e extends Jd.Renderer{constructor(){super(),this.titleClassName="lm-AccordionPanel-title",this._titleID=0,this._titleKeys=new WeakMap,this._uuid=++e._nInstance}createCollapseIcon(r){return document.createElement("span")}createSectionTitle(r){let n=document.createElement("h3");n.setAttribute("tabindex","0"),n.id=this.createTitleKey(r),n.className=this.titleClassName;for(let a in r.dataset)n.dataset[a]=r.dataset[a];let s=n.appendChild(this.createCollapseIcon(r));s.className="lm-AccordionPanel-titleCollapser";let o=n.appendChild(document.createElement("span"));return o.className="lm-AccordionPanel-titleLabel",o.textContent=r.label,o.title=r.caption||r.label,n}createTitleKey(r){let n=this._titleKeys.get(r);return n===void 0&&(n=`title-key-${this._uuid}-${this._titleID++}`,this._titleKeys.set(r,n)),n}}e._nInstance=0,i.Renderer=e,i.defaultRenderer=new e})(Nm||(Nm={}));(function(i){function e(t){return t.layout||new I_({renderer:t.renderer||Nm.defaultRenderer,orientation:t.orientation,alignment:t.alignment,spacing:t.spacing,titleSpace:t.titleSpace})}i.createLayout=e})(A_||(A_={}));cs=class extends Rc{constructor(e={}){super(),this._fixed=0,this._spacing=4,this._dirty=!1,this._sizers=[],this._items=[],this._box=null,this._alignment="start",this._direction="top-to-bottom",e.direction!==void 0&&(this._direction=e.direction),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Am.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,super.dispose()}get direction(){return this._direction}set direction(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Am.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}init(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,t){z.insert(this._items,e,new Kd(t)),z.insert(this._sizers,e,new ma),this.parent.isAttached&&Ne.sendMessage(t,fe.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&Ne.sendMessage(t,fe.Msg.AfterAttach),this.parent.fit()}moveWidget(e,t,r){z.move(this._items,e,t),z.move(this._sizers,e,t),this.parent.update()}detachWidget(e,t){let r=z.removeAt(this._items,e);z.removeAt(this._sizers,e),this.parent.isAttached&&Ne.sendMessage(t,fe.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&Ne.sendMessage(t,fe.Msg.AfterDetach),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0;for(let a=0,l=this._items.length;a<l;++a)e+=+!this._items[a].isHidden;this._fixed=this._spacing*Math.max(0,e-1);let t=Xd.isHorizontal(this._direction),r=t?this._fixed:0,n=t?0:this._fixed;for(let a=0,l=this._items.length;a<l;++a){let c=this._items[a],u=this._sizers[a];if(c.isHidden){u.minSize=0,u.maxSize=0;continue}c.fit(),u.sizeHint=cs.getSizeBasis(c.widget),u.stretch=cs.getStretch(c.widget),t?(u.minSize=c.minWidth,u.maxSize=c.maxWidth,r+=c.minWidth,n=Math.max(n,c.minHeight)):(u.minSize=c.minHeight,u.maxSize=c.maxHeight,n+=c.minHeight,r=Math.max(r,c.minWidth))}let s=this._box=Me.boxSizing(this.parent.node);r+=s.horizontalSum,n+=s.verticalSum;let o=this.parent.node.style;o.minWidth=`${r}px`,o.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&Ne.sendMessage(this.parent.parent,fe.Msg.FitRequest),this._dirty&&Ne.sendMessage(this.parent,fe.Msg.UpdateRequest)}_update(e,t){this._dirty=!1;let r=0;for(let d=0,f=this._items.length;d<f;++d)r+=+!this._items[d].isHidden;if(r===0)return;e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=Me.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=t-this._box.verticalSum,l;switch(this._direction){case"left-to-right":l=ls.calc(this._sizers,Math.max(0,o-this._fixed));break;case"top-to-bottom":l=ls.calc(this._sizers,Math.max(0,a-this._fixed));break;case"right-to-left":l=ls.calc(this._sizers,Math.max(0,o-this._fixed)),s+=o;break;case"bottom-to-top":l=ls.calc(this._sizers,Math.max(0,a-this._fixed)),n+=a;break;default:throw"unreachable"}let c=0,u=0;if(l>0)switch(this._alignment){case"start":break;case"center":c=0,u=l/2;break;case"end":c=0,u=l;break;case"justify":c=l/r,u=0;break;default:throw"unreachable"}for(let d=0,f=this._items.length;d<f;++d){let h=this._items[d];if(h.isHidden)continue;let m=this._sizers[d].size;switch(this._direction){case"left-to-right":h.update(s+u,n,m+c,a),s+=m+c+this._spacing;break;case"top-to-bottom":h.update(s,n+u,o,m+c),n+=m+c+this._spacing;break;case"right-to-left":h.update(s-u-m-c,n,m+c,a),s-=m+c+this._spacing;break;case"bottom-to-top":h.update(s,n-u-m-c,o,m+c),n-=m+c+this._spacing;break;default:throw"unreachable"}}}};(function(i){function e(s){return Xd.stretchProperty.get(s)}i.getStretch=e;function t(s,o){Xd.stretchProperty.set(s,o)}i.setStretch=t;function r(s){return Xd.sizeBasisProperty.get(s)}i.getSizeBasis=r;function n(s,o){Xd.sizeBasisProperty.set(s,o)}i.setSizeBasis=n})(cs||(cs={}));(function(i){i.stretchProperty=new ut({name:"stretch",create:()=>0,coerce:(n,s)=>Math.max(0,Math.floor(s)),changed:r}),i.sizeBasisProperty=new ut({name:"sizeBasis",create:()=>0,coerce:(n,s)=>Math.max(0,Math.floor(s)),changed:r});function e(n){return n==="left-to-right"||n==="right-to-left"}i.isHorizontal=e;function t(n){return Math.max(0,Math.floor(n))}i.clampSpacing=t;function r(n){n.parent&&n.parent.layout instanceof cs&&n.parent.fit()}})(Xd||(Xd={}));h3=class extends Yd{constructor(e={}){super({layout:N_.createLayout(e)}),this.addClass("lm-BoxPanel")}get direction(){return this.layout.direction}set direction(e){this.layout.direction=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}onChildAdded(e){e.child.addClass("lm-BoxPanel-child")}onChildRemoved(e){e.child.removeClass("lm-BoxPanel-child")}};(function(i){function e(s){return cs.getStretch(s)}i.getStretch=e;function t(s,o){cs.setStretch(s,o)}i.setStretch=t;function r(s){return cs.getSizeBasis(s)}i.getSizeBasis=r;function n(s,o){cs.setSizeBasis(s,o)}i.setSizeBasis=n})(h3||(h3={}));(function(i){function e(t){return t.layout||new cs(t)}i.createLayout=e})(N_||(N_={}));Qh=class extends fe{constructor(e){super({node:gl.createNode()}),this._activeIndex=-1,this._items=[],this._results=null,this.addClass("lm-CommandPalette"),this.setFlag(fe.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||Qh.defaultRenderer,this.commands.commandChanged.connect(this._onGenericChange,this),this.commands.keyBindingChanged.connect(this._onGenericChange,this)}dispose(){this._items.length=0,this._results=null,super.dispose()}get searchNode(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]}get inputNode(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]}get contentNode(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]}get items(){return this._items}addItem(e){let t=gl.createItem(this.commands,e);return this._items.push(t),this.refresh(),t}addItems(e){let t=e.map(r=>gl.createItem(this.commands,r));return t.forEach(r=>this._items.push(r)),this.refresh(),t}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){z.removeAt(this._items,e)&&this.refresh()}clearItems(){this._items.length!==0&&(this._items.length=0,this.refresh())}refresh(){if(this._results=null,this.inputNode.value!==""){let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)}onAfterDetach(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)}onAfterShow(e){this.update(),super.onAfterShow(e)}onActivateRequest(e){if(this.isAttached){let t=this.inputNode;t.focus(),t.select()}}onUpdateRequest(e){if(!this.isVisible){Bt.render(null,this.contentNode);return}let t=this.inputNode.value,r=this.contentNode,n=this._results;if(n||(n=this._results=gl.search(this._items,t),this._activeIndex=t?z.findFirstIndex(n,gl.canActivate):-1),!t&&n.length===0){Bt.render(null,r);return}if(t&&n.length===0){let l=this.renderer.renderEmptyMessage({query:t});Bt.render(l,r);return}let s=this.renderer,o=this._activeIndex,a=new Array(n.length);for(let l=0,c=n.length;l<c;++l){let u=n[l];if(u.type==="header"){let d=u.indices,f=u.category;a[l]=s.renderHeader({category:f,indices:d})}else{let d=u.item,f=u.indices,h=l===o;a[l]=s.renderItem({item:d,indices:f,active:h})}}if(Bt.render(a,r),o<0||o>=n.length)r.scrollTop=0;else{let l=r.children[o];Me.scrollIntoViewIfNeeded(r,l)}}_evtClick(e){if(e.button!==0)return;if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}let t=z.findFirstIndex(this.contentNode.children,r=>r.contains(e.target));t!==-1&&(e.preventDefault(),e.stopPropagation(),this._execute(t))}_evtKeyDown(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}}_activateNextItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,t=this._results.length,r=e<t-1?e+1:0,n=r===0?t-1:r-1;this._activeIndex=z.findFirstIndex(this._results,gl.canActivate,r,n),this.update()}_activatePreviousItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,t=this._results.length,r=e<=0?t-1:e-1,n=r===t-1?0:r+1;this._activeIndex=z.findLastIndex(this._results,gl.canActivate,r,n),this.update()}_execute(e){if(!this._results)return;let t=this._results[e];if(t){if(t.type==="header"){let r=this.inputNode;r.value=`${t.category.toLowerCase()} `,r.focus(),this.refresh();return}t.item.isEnabled&&(this.commands.execute(t.item.command,t.item.args),this.inputNode.value="",this.refresh())}}_toggleFocused(){let e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e)}_onGenericChange(){this.refresh()}};(function(i){class e{renderHeader(r){let n=this.formatHeader(r);return xe.li({className:"lm-CommandPalette-header"},n)}renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r);return r.item.isToggleable?xe.li({className:n,dataset:s,role:"menuitemcheckbox","aria-checked":`${r.item.isToggled}`},this.renderItemIcon(r),this.renderItemContent(r),this.renderItemShortcut(r)):xe.li({className:n,dataset:s,role:"menuitem"},this.renderItemIcon(r),this.renderItemContent(r),this.renderItemShortcut(r))}renderEmptyMessage(r){let n=this.formatEmptyMessage(r);return xe.li({className:"lm-CommandPalette-emptyMessage"},n)}renderItemIcon(r){let n=this.createIconClass(r);return xe.div({className:n},r.item.icon,r.item.iconLabel)}renderItemContent(r){return xe.div({className:"lm-CommandPalette-itemContent"},this.renderItemLabel(r),this.renderItemCaption(r))}renderItemLabel(r){let n=this.formatItemLabel(r);return xe.div({className:"lm-CommandPalette-itemLabel"},n)}renderItemCaption(r){let n=this.formatItemCaption(r);return xe.div({className:"lm-CommandPalette-itemCaption"},n)}renderItemShortcut(r){let n=this.formatItemShortcut(r);return xe.div({className:"lm-CommandPalette-itemShortcut"},n)}createItemClass(r){let n="lm-CommandPalette-item";r.item.isEnabled||(n+=" lm-mod-disabled"),r.item.isToggled&&(n+=" lm-mod-toggled"),r.active&&(n+=" lm-mod-active");let s=r.item.className;return s&&(n+=` ${s}`),n}createItemDataset(r){return{...r.item.dataset,command:r.item.command}}createIconClass(r){let n="lm-CommandPalette-itemIcon",s=r.item.iconClass;return s?`${n} ${s}`:n}formatHeader(r){return!r.indices||r.indices.length===0?r.category:en.highlight(r.category,r.indices,xe.mark)}formatEmptyMessage(r){return`No commands found that match '${r.query}'`}formatItemShortcut(r){let n=r.item.keyBinding;return n?rn.formatKeystroke(n.keys):null}formatItemLabel(r){return!r.indices||r.indices.length===0?r.item.label:en.highlight(r.item.label,r.indices,xe.mark)}formatItemCaption(r){return r.item.caption}}i.Renderer=e,i.defaultRenderer=new e})(Qh||(Qh={}));(function(i){function e(){let f=document.createElement("div"),h=document.createElement("div"),m=document.createElement("div"),p=document.createElement("input"),v=document.createElement("ul"),x=document.createElement("button");return h.className="lm-CommandPalette-search",m.className="lm-CommandPalette-wrapper",p.className="lm-CommandPalette-input",x.className="lm-close-icon",v.className="lm-CommandPalette-content",v.setAttribute("role","menu"),p.spellcheck=!1,m.appendChild(p),m.appendChild(x),h.appendChild(m),f.appendChild(h),f.appendChild(v),f}i.createNode=e;function t(f,h){return new d(f,h)}i.createItem=t;function r(f,h){let m=a(f,h);return m.sort(c),u(m)}i.search=r;function n(f){return f.type==="item"&&f.item.isEnabled}i.canActivate=n;function s(f){return f.trim().replace(/\s+/g," ")}function o(f){return f.replace(/\s+/g,"").toLowerCase()}function a(f,h){h=o(h);let m=[];for(let p=0,v=f.length;p<v;++p){let x=f[p];if(!x.isVisible)continue;if(!h){m.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:x});continue}let C=l(x,h);C&&(x.isEnabled||(C.score+=1e3),m.push(C))}return m}function l(f,h){let m=f.category.toLowerCase(),p=f.label.toLowerCase(),v=`${m} ${p}`,x=1/0,C=null,y=/\b\w/g;for(;;){let R=y.exec(v);if(!R)break;let A=en.matchSumOfDeltas(v,h,R.index);if(!A)break;A.score<=x&&(x=A.score,C=A.indices)}if(!C||x===1/0)return null;let S=m.length+1,M=z.lowerBound(C,S,(R,A)=>R-A),_=C.slice(0,M),E=C.slice(M);for(let R=0,A=E.length;R<A;++R)E[R]-=S;return _.length===0?{matchType:0,categoryIndices:null,labelIndices:E,score:x,item:f}:E.length===0?{matchType:1,categoryIndices:_,labelIndices:null,score:x,item:f}:{matchType:2,categoryIndices:_,labelIndices:E,score:x,item:f}}function c(f,h){let m=f.matchType-h.matchType;if(m!==0)return m;let p=f.score-h.score;if(p!==0)return p;let v=0,x=0;switch(f.matchType){case 0:v=f.labelIndices[0],x=h.labelIndices[0];break;case 1:case 2:v=f.categoryIndices[0],x=h.categoryIndices[0];break}if(v!==x)return v-x;let C=f.item.category.localeCompare(h.item.category);if(C!==0)return C;let y=f.item.rank,S=h.item.rank;return y!==S?y<S?-1:1:f.item.label.localeCompare(h.item.label)}function u(f){let h=[];for(let m=0,p=f.length;m<p;++m){let{item:v,categoryIndices:x,labelIndices:C}=f[m],y=v.category;(m===0||y!==f[m-1].item.category)&&h.push({type:"header",category:y,indices:x}),h.push({type:"item",item:v,indices:C})}return h}class d{constructor(h,m){this._commands=h,this.category=s(m.category),this.command=m.command,this.args=m.args||bl.JSONExt.emptyObject,this.rank=m.rank!==void 0?m.rank:1/0}get label(){return this._commands.label(this.command,this.args)}get icon(){return this._commands.icon(this.command,this.args)}get iconClass(){return this._commands.iconClass(this.command,this.args)}get iconLabel(){return this._commands.iconLabel(this.command,this.args)}get caption(){return this._commands.caption(this.command,this.args)}get className(){return this._commands.className(this.command,this.args)}get dataset(){return this._commands.dataset(this.command,this.args)}get isEnabled(){return this._commands.isEnabled(this.command,this.args)}get isToggled(){return this._commands.isToggled(this.command,this.args)}get isToggleable(){return this._commands.isToggleable(this.command,this.args)}get isVisible(){return this._commands.isVisible(this.command,this.args)}get keyBinding(){let{command:h,args:m}=this;return z.findLastValue(this._commands.keyBindings,p=>p.command===h&&bl.JSONExt.deepEqual(p.args,m))||null}}})(gl||(gl={}));pa=class extends fe{constructor(e){super({node:En.createNode()}),this._childIndex=-1,this._activeIndex=-1,this._openTimerID=0,this._closeTimerID=0,this._items=[],this._childMenu=null,this._parentMenu=null,this._aboutToClose=new Re(this),this._menuRequested=new Re(this),this.addClass("lm-Menu"),this.setFlag(fe.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||pa.defaultRenderer}dispose(){this.close(),this._items.length=0,super.dispose()}get aboutToClose(){return this._aboutToClose}get menuRequested(){return this._menuRequested}get parentMenu(){return this._parentMenu}get childMenu(){return this._childMenu}get rootMenu(){let e=this;for(;e._parentMenu;)e=e._parentMenu;return e}get leafMenu(){let e=this;for(;e._childMenu;)e=e._childMenu;return e}get contentNode(){return this.node.getElementsByClassName("lm-Menu-content")[0]}get activeItem(){return this._items[this._activeIndex]||null}set activeItem(e){this.activeIndex=e?this._items.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._items.length)&&(e=-1),e!==-1&&!En.canActivate(this._items[e])&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())}get items(){return this._items}activateNextItem(){let e=this._items.length,t=this._activeIndex,r=t<e-1?t+1:0,n=r===0?e-1:r-1;this.activeIndex=z.findFirstIndex(this._items,En.canActivate,r,n)}activatePreviousItem(){let e=this._items.length,t=this._activeIndex,r=t<=0?e-1:t-1,n=r===e-1?0:r+1;this.activeIndex=z.findLastIndex(this._items,En.canActivate,r,n)}triggerActiveItem(){if(!this.isAttached)return;let e=this.activeItem;if(!e)return;if(this._cancelOpenTimer(),this._cancelCloseTimer(),e.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();let{command:t,args:r}=e;this.commands.isEnabled(t,r)?this.commands.execute(t,r):console.log(`Command '${t}' is disabled.`)}addItem(e){return this.insertItem(this._items.length,e)}insertItem(e,t){this.isAttached&&this.close(),this.activeIndex=-1;let r=Math.max(0,Math.min(e,this._items.length)),n=En.createItem(this,t);return z.insert(this._items,r,n),this.update(),n}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){this.isAttached&&this.close(),this.activeIndex=-1,z.removeAt(this._items,e)&&this.update()}clearItems(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())}open(e,t,r={}){var n,s,o;if(this.isAttached)return;let a=r.forceX||!1,l=r.forceY||!1,c=(n=r.host)!==null&&n!==void 0?n:null,u=(s=r.ref)!==null&&s!==void 0?s:null,d=(o=r.horizontalAlignment)!==null&&o!==void 0?o:document.documentElement.dir==="rtl"?"right":"left";En.openRootMenu(this,e,t,a,l,d,c,u),this.activate()}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)}onActivateRequest(e){this.isAttached&&this.node.focus()}onUpdateRequest(e){let t=this._items,r=this.renderer,n=this._activeIndex,s=En.computeCollapsed(t),o=new Array(t.length);for(let a=0,l=t.length;a<l;++a){let c=t[a],u=a===n,d=s[a];o[a]=r.renderItem({item:c,active:u,collapsed:d,onfocus:()=>{this.activeIndex=a}})}Bt.render(o,this.contentNode)}onCloseRequest(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;let t=this._childMenu;t&&(this._childIndex=-1,this._childMenu=null,t._parentMenu=null,t.close());let r=this._parentMenu;r&&(this._parentMenu=null,r._childIndex=-1,r._childMenu=null,r.activate()),this.isAttached&&this._aboutToClose.emit(void 0),super.onCloseRequest(e)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation();let t=e.keyCode;if(t===13){this.triggerActiveItem();return}if(t===27){this.close();return}if(t===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(t===38){this.activatePreviousItem();return}if(t===39){let o=this.activeItem;o&&o.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(t===40){this.activateNextItem();return}let r=Ts().keyForKeydownEvent(e);if(!r)return;let n=this._activeIndex+1,s=En.findMnemonic(this._items,r,n);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.triggerActiveItem()):s.index!==-1?this.activeIndex=s.index:s.auto!==-1&&(this.activeIndex=s.auto)}_evtMouseUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())}_evtMouseMove(e){let t=z.findFirstIndex(this.contentNode.children,n=>Me.hitTest(n,e.clientX,e.clientY));if(t===this._activeIndex)return;if(this.activeIndex=t,t=this.activeIndex,t===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();let r=this.activeItem;!r||r.type!=="submenu"||!r.submenu||this._startOpenTimer()}_evtMouseEnter(e){for(let t=this._parentMenu;t;t=t._parentMenu)t._cancelOpenTimer(),t._cancelCloseTimer(),t.activeIndex=t._childIndex}_evtMouseLeave(e){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}let{clientX:t,clientY:r}=e;if(Me.hitTest(this._childMenu.node,t,r)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()}_evtMouseDown(e){this._parentMenu||(En.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())}_openChildMenu(e=!1){let t=this.activeItem;if(!t||t.type!=="submenu"||!t.submenu){this._closeChildMenu();return}let r=t.submenu;if(r===this._childMenu)return;pa.saveWindowData(),this._closeChildMenu(),this._childMenu=r,this._childIndex=this._activeIndex,r._parentMenu=this,Ne.sendMessage(this,fe.Msg.UpdateRequest);let n=this.contentNode.children[this._activeIndex];En.openSubmenu(r,n),e&&(r.activeIndex=-1,r.activateNextItem()),r.activate()}_closeChildMenu(){this._childMenu&&this._childMenu.close()}_startOpenTimer(){this._openTimerID===0&&(this._openTimerID=window.setTimeout(()=>{this._openTimerID=0,this._openChildMenu()},En.TIMER_DELAY))}_startCloseTimer(){this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(()=>{this._closeTimerID=0,this._closeChildMenu()},En.TIMER_DELAY))}_cancelOpenTimer(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)}_cancelCloseTimer(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)}static saveWindowData(){En.saveWindowData()}};(function(i){class e{renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r),o=this.createItemARIA(r);return xe.li({className:n,dataset:s,tabindex:"0",onfocus:r.onfocus,...o},this.renderIcon(r),this.renderLabel(r),this.renderShortcut(r),this.renderSubmenu(r))}renderIcon(r){let n=this.createIconClass(r);return xe.div({className:n},r.item.icon,r.item.iconLabel)}renderLabel(r){let n=this.formatLabel(r);return xe.div({className:"lm-Menu-itemLabel"},n)}renderShortcut(r){let n=this.formatShortcut(r);return xe.div({className:"lm-Menu-itemShortcut"},n)}renderSubmenu(r){return xe.div({className:"lm-Menu-itemSubmenuIcon"})}createItemClass(r){let n="lm-Menu-item";r.item.isEnabled||(n+=" lm-mod-disabled"),r.item.isToggled&&(n+=" lm-mod-toggled"),r.item.isVisible||(n+=" lm-mod-hidden"),r.active&&(n+=" lm-mod-active"),r.collapsed&&(n+=" lm-mod-collapsed");let s=r.item.className;return s&&(n+=` ${s}`),n}createItemDataset(r){let n,{type:s,command:o,dataset:a}=r.item;return s==="command"?n={...a,type:s,command:o}:n={...a,type:s},n}createIconClass(r){let n="lm-Menu-itemIcon",s=r.item.iconClass;return s?`${n} ${s}`:n}createItemARIA(r){let n={};switch(r.item.type){case"separator":n.role="presentation";break;case"submenu":n["aria-haspopup"]="true",r.item.isEnabled||(n["aria-disabled"]="true");break;default:r.item.isEnabled||(n["aria-disabled"]="true"),r.item.isToggled?(n.role="menuitemcheckbox",n["aria-checked"]="true"):n.role="menuitem"}return n}formatLabel(r){let{label:n,mnemonic:s}=r.item;if(s<0||s>=n.length)return n;let o=n.slice(0,s),a=n.slice(s+1),l=n[s],c=xe.span({className:"lm-Menu-itemMnemonic"},l);return[o,c,a]}formatShortcut(r){let n=r.item.keyBinding;return n?rn.formatKeystroke(n.keys):null}}i.Renderer=e,i.defaultRenderer=new e})(pa||(pa={}));(function(i){i.TIMER_DELAY=300,i.SUBMENU_OVERLAP=3;let e=null,t=0;function r(){return t>0?(t--,e):u()}function n(){e=u(),t++}i.saveWindowData=n;function s(){let p=document.createElement("div"),v=document.createElement("ul");return v.className="lm-Menu-content",p.appendChild(v),v.setAttribute("role","menu"),p.tabIndex=0,p}i.createNode=s;function o(p){return p.type!=="separator"&&p.isEnabled&&p.isVisible}i.canActivate=o;function a(p,v){return new m(p.commands,v)}i.createItem=a;function l(p,v,x){for(let C=p;C;C=C.childMenu)if(Me.hitTest(C.node,v,x))return!0;return!1}i.hitTestMenus=l;function c(p){let v=new Array(p.length);z.fill(v,!1);let x=0,C=p.length;for(;x<C;++x){let M=p[x];if(M.isVisible){if(M.type!=="separator")break;v[x]=!0}}let y=C-1;for(;y>=0;--y){let M=p[y];if(M.isVisible){if(M.type!=="separator")break;v[y]=!0}}let S=!1;for(;++x<y;){let M=p[x];M.isVisible&&(M.type!=="separator"?S=!1:S?v[x]=!0:S=!0)}return v}i.computeCollapsed=c;function u(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function d(p,v,x,C,y,S,M,_){let E=r(),R=E.pageXOffset,A=E.pageYOffset,H=E.clientWidth,$=E.clientHeight;Ne.sendMessage(p,fe.Msg.UpdateRequest);let X=$-(y?x:0),ue=p.node,he=ue.style;he.opacity="0",he.maxHeight=`${X}px`,fe.attach(p,M||document.body,_);let{width:Y,height:ee}=ue.getBoundingClientRect();S==="right"&&(v-=Y),!C&&v+Y>R+H&&(v=R+H-Y),!y&&x+ee>A+$&&(x>A+$?x=A+$-ee:x=x-ee),he.transform=`translate(${Math.max(0,v)}px, ${Math.max(0,x)}px`,he.opacity="1"}i.openRootMenu=d;function f(p,v){let x=r(),C=x.pageXOffset,y=x.pageYOffset,S=x.clientWidth,M=x.clientHeight;Ne.sendMessage(p,fe.Msg.UpdateRequest);let _=M,E=p.node,R=E.style;R.opacity="0",R.maxHeight=`${_}px`,fe.attach(p,document.body);let{width:A,height:H}=E.getBoundingClientRect(),$=Me.boxSizing(p.node),X=v.getBoundingClientRect(),ue=X.right-i.SUBMENU_OVERLAP;ue+A>C+S&&(ue=X.left+i.SUBMENU_OVERLAP-A);let he=X.top-$.borderTop-$.paddingTop;he+H>y+M&&(he=X.bottom+$.borderBottom+$.paddingBottom-H),R.transform=`translate(${Math.max(0,ue)}px, ${Math.max(0,he)}px`,R.opacity="1"}i.openSubmenu=f;function h(p,v,x){let C=-1,y=-1,S=!1,M=v.toUpperCase();for(let _=0,E=p.length;_<E;++_){let R=(_+x)%E,A=p[R];if(!o(A))continue;let H=A.label;if(H.length===0)continue;let $=A.mnemonic;if($>=0&&$<H.length){H[$].toUpperCase()===M&&(C===-1?C=R:S=!0);continue}y===-1&&H[0].toUpperCase()===M&&(y=R)}return{index:C,multiple:S,auto:y}}i.findMnemonic=h;class m{constructor(v,x){this._commands=v,this.type=x.type||"command",this.command=x.command||"",this.args=x.args||bl.JSONExt.emptyObject,this.submenu=x.submenu||null}get label(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""}get mnemonic(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1}get icon(){if(this.type==="command")return this._commands.icon(this.command,this.args);if(this.type==="submenu"&&this.submenu)return this.submenu.title.icon}get iconClass(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""}get iconLabel(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""}get caption(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""}get className(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""}get dataset(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}}get isEnabled(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get isToggled(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1}get isVisible(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get keyBinding(){if(this.type==="command"){let{command:v,args:x}=this;return z.findLastValue(this._commands.keyBindings,C=>C.command===v&&bl.JSONExt.deepEqual(C.args,x))||null}return null}}})(En||(En={}));(function(i){function e(o,a){let l=r(o.selector),c=o.rank!==void 0?o.rank:1/0;return{...o,selector:l,rank:c,id:a}}i.createItem=e;function t(o,a,l,c){let u=a.target;if(!u)return null;let d=a.currentTarget;if(!d||!d.contains(u)&&(u=document.elementFromPoint(a.clientX,a.clientY),!u||!d.contains(u)))return null;let f=[],h=o.slice();for(;u!==null;){let m=[];for(let p=0,v=h.length;p<v;++p){let x=h[p];x&&tr.matches(u,x.selector)&&(m.push(x),h[p]=null)}if(m.length!==0&&(l&&m.sort(c?s:n),f.push(...m)),u===d)break;u=u.parentElement}return l||f.sort(c?s:n),f}i.matchItems=t;function r(o){if(o.indexOf(",")!==-1)throw new Error(`Selector cannot contain commas: ${o}`);if(!tr.isValid(o))throw new Error(`Invalid selector: ${o}`);return o}function n(o,a){let l=o.rank,c=a.rank;return l!==c?l<c?-1:1:o.id-a.id}function s(o,a){let l=tr.calculateSpecificity(o.selector),c=tr.calculateSpecificity(a.selector);return l!==c?c-l:n(o,a)}})(VA||(VA={}));JY=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"],Ic=class extends fe{constructor(e={}){super({node:Us.createNode()}),this._currentIndex=-1,this._titles=[],this._titlesEditable=!1,this._previousTitle=null,this._dragData=null,this._addButtonEnabled=!1,this._tabMoved=new Re(this),this._currentChanged=new Re(this),this._addRequested=new Re(this),this._tabCloseRequested=new Re(this),this._tabDetachRequested=new Re(this),this._tabActivateRequested=new Re(this),this.addClass("lm-TabBar"),this.contentNode.setAttribute("role","tablist"),this.setFlag(fe.Flag.DisallowLayout),this._document=e.document||document,this.tabsMovable=e.tabsMovable||!1,this.titlesEditable=e.titlesEditable||!1,this.allowDeselect=e.allowDeselect||!1,this.addButtonEnabled=e.addButtonEnabled||!1,this.insertBehavior=e.insertBehavior||"select-tab-if-needed",this.name=e.name||"",this.orientation=e.orientation||"horizontal",this.removeBehavior=e.removeBehavior||"select-tab-after",this.renderer=e.renderer||Ic.defaultRenderer}dispose(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,super.dispose()}get currentChanged(){return this._currentChanged}get tabMoved(){return this._tabMoved}get tabActivateRequested(){return this._tabActivateRequested}get addRequested(){return this._addRequested}get tabCloseRequested(){return this._tabCloseRequested}get tabDetachRequested(){return this._tabDetachRequested}get document(){return this._document}get titlesEditable(){return this._titlesEditable}set titlesEditable(e){this._titlesEditable=e}get currentTitle(){return this._titles[this._currentIndex]||null}set currentTitle(e){this.currentIndex=e?this._titles.indexOf(e):-1}get currentIndex(){return this._currentIndex}set currentIndex(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex===e)return;let t=this._currentIndex,r=this._titles[t]||null,n=e,s=this._titles[n]||null;this._currentIndex=n,this._previousTitle=r,this.update(),this._currentChanged.emit({previousIndex:t,previousTitle:r,currentIndex:n,currentTitle:s})}get name(){return this._name}set name(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))}get titles(){return this._titles}get contentNode(){return this.node.getElementsByClassName("lm-TabBar-content")[0]}get addButtonNode(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]}addTab(e){return this.insertTab(this._titles.length,e)}insertTab(e,t){this._releaseMouse();let r=Us.asTitle(t),n=this._titles.indexOf(r),s=Math.max(0,Math.min(e,this._titles.length));return n===-1?(z.insert(this._titles,s,r),r.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(s,r),r):(s===this._titles.length&&s--,n===s||(z.move(this._titles,n,s),this.update(),this._adjustCurrentForMove(n,s)),r)}removeTab(e){this.removeTabAt(this._titles.indexOf(e))}removeTabAt(e){this._releaseMouse();let t=z.removeAt(this._titles,e);t&&(t.changed.disconnect(this._onTitleChanged,this),t===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,t))}clearTabs(){if(this._titles.length===0)return;this._releaseMouse();for(let r of this._titles)r.changed.disconnect(this._onTitleChanged,this);let e=this.currentIndex,t=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),e!==-1&&this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null})}releaseMouse(){this._releaseMouse()}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":e.eventPhase===Event.CAPTURING_PHASE?this._evtKeyDownCapturing(e):this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this),this.node.addEventListener("keydown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this.node.removeEventListener("keydown",this),this._releaseMouse()}onUpdateRequest(e){var t;let r=this._titles,n=this.renderer,s=this.currentTitle,o=new Array(r.length),a=(t=this._getCurrentTabindex())!==null&&t!==void 0?t:this._currentIndex>-1?this._currentIndex:0;for(let l=0,c=r.length;l<c;++l){let u=r[l],d=u===s,f=d?c:c-l-1,h=a===l?0:-1;o[l]=n.renderTab({title:u,current:d,zIndex:f,tabIndex:h})}Bt.render(o,this.contentNode)}_getCurrentTabindex(){let e=null,t=this.contentNode.querySelector('li[tabindex="0"]');return t?e=[...this.contentNode.children].indexOf(t):this._addButtonEnabled&&this.addButtonNode.getAttribute("tabindex")==="0"&&(e=-1),e}_evtDblClick(e){if(!this.titlesEditable)return;let t=this.contentNode.children,r=z.findFirstIndex(t,o=>Me.hitTest(o,e.clientX,e.clientY));if(r===-1)return;let n=this.titles[r],s=t[r].querySelector(".lm-TabBar-tabLabel");if(s&&s.contains(e.target)){let o=n.label||"",a=s.innerHTML;s.innerHTML="";let l=document.createElement("input");l.classList.add("lm-TabBar-tabInput"),l.value=o,s.appendChild(l);let c=()=>{l.removeEventListener("blur",c),s.innerHTML=a,this.node.addEventListener("keydown",this)};l.addEventListener("dblclick",u=>u.stopPropagation()),l.addEventListener("blur",c),l.addEventListener("keydown",u=>{u.key==="Enter"?(l.value!==""&&(n.label=n.caption=l.value),c()):u.key==="Escape"&&c()}),this.node.removeEventListener("keydown",this),l.select(),l.focus(),s.children.length>0&&s.children[0].focus()}}_evtKeyDownCapturing(e){e.eventPhase===Event.CAPTURING_PHASE&&(e.preventDefault(),e.stopPropagation(),e.key==="Escape"&&this._releaseMouse())}_evtKeyDown(e){var t,r,n;if(!(e.key==="Tab"||e.eventPhase===Event.CAPTURING_PHASE)){if(e.key==="Enter"||e.key==="Spacebar"||e.key===" "){let s=document.activeElement;if(this.addButtonEnabled&&this.addButtonNode.contains(s))e.preventDefault(),e.stopPropagation(),this._addRequested.emit();else{let o=z.findFirstIndex(this.contentNode.children,a=>a.contains(s));o>=0&&(e.preventDefault(),e.stopPropagation(),this.currentIndex=o)}}else if(JY.includes(e.key)){let s=[...this.contentNode.children];if(this.addButtonEnabled&&s.push(this.addButtonNode),s.length<=1)return;e.preventDefault(),e.stopPropagation();let o=s.indexOf(document.activeElement);o===-1&&(o=this._currentIndex);let a;e.key==="ArrowRight"&&this._orientation==="horizontal"||e.key==="ArrowDown"&&this._orientation==="vertical"?a=(t=s[o+1])!==null&&t!==void 0?t:s[0]:e.key==="ArrowLeft"&&this._orientation==="horizontal"||e.key==="ArrowUp"&&this._orientation==="vertical"?a=(r=s[o-1])!==null&&r!==void 0?r:s[s.length-1]:e.key==="Home"?a=s[0]:e.key==="End"&&(a=s[s.length-1]),a&&((n=s[o])===null||n===void 0||n.setAttribute("tabindex","-1"),a?.setAttribute("tabindex","0"),a.focus())}}}_evtPointerDown(e){if(e.button!==0&&e.button!==1||this._dragData||e.target.classList.contains("lm-TabBar-tabInput"))return;let t=this.addButtonEnabled&&this.addButtonNode.contains(e.target),r=this.contentNode.children,n=z.findFirstIndex(r,o=>Me.hitTest(o,e.clientX,e.clientY));if(n===-1&&!t||(e.preventDefault(),e.stopPropagation(),this._dragData={tab:r[n],index:n,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("pointerup",this,!0),e.button===1||t))return;let s=r[n].querySelector(this.renderer.closeIconSelector);s&&s.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===n?this.currentIndex=-1:this.currentIndex=n,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}_evtPointerMove(e){let t=this._dragData;if(!t)return;e.preventDefault(),e.stopPropagation();let r=this.contentNode.children;if(!(!t.dragActive&&!Us.dragExceeded(t,e))){if(!t.dragActive){let n=t.tab.getBoundingClientRect();this._orientation==="horizontal"?(t.tabPos=t.tab.offsetLeft,t.tabSize=n.width,t.tabPressPos=t.pressX-n.left):(t.tabPos=t.tab.offsetTop,t.tabSize=n.height,t.tabPressPos=t.pressY-n.top),t.tabPressOffset={x:t.pressX-n.left,y:t.pressY-n.top},t.tabLayout=Us.snapTabLayout(r,this._orientation),t.contentRect=this.contentNode.getBoundingClientRect(),t.override=cr.overrideCursor("default"),t.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),t.dragActive=!0}if(!t.detachRequested&&Us.detachExceeded(t,e)){t.detachRequested=!0;let n=t.index,s=e.clientX,o=e.clientY,a=r[n],l=this._titles[n];if(this._tabDetachRequested.emit({index:n,title:l,tab:a,clientX:s,clientY:o,offset:t.tabPressOffset}),t.dragAborted)return}Us.layoutTabs(r,t,e,this._orientation)}}_evtPointerUp(e){if(e.button!==0&&e.button!==1)return;let t=this._dragData;if(!t)return;if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!t.dragActive){if(this._dragData=null,this.addButtonEnabled&&this.addButtonNode.contains(e.target)){this._addRequested.emit(void 0);return}let s=this.contentNode.children,o=z.findFirstIndex(s,c=>Me.hitTest(c,e.clientX,e.clientY));if(o!==t.index)return;let a=this._titles[o];if(!a.closable)return;if(e.button===1){this._tabCloseRequested.emit({index:o,title:a});return}let l=s[o].querySelector(this.renderer.closeIconSelector);if(l&&l.contains(e.target)){this._tabCloseRequested.emit({index:o,title:a});return}return}if(e.button!==0)return;Us.finalizeTabPosition(t,this._orientation),t.tab.classList.remove("lm-mod-dragging");let r=Us.parseTransitionDuration(t.tab);setTimeout(()=>{if(t.dragAborted)return;this._dragData=null,Us.resetTabPositions(this.contentNode.children,this._orientation),t.override.dispose(),this.removeClass("lm-mod-dragging");let n=t.index,s=t.targetIndex;s===-1||n===s||(z.move(this._titles,n,s),this._adjustCurrentForMove(n,s),this._tabMoved.emit({fromIndex:n,toIndex:s,title:this._titles[s]}),Ne.sendMessage(this,fe.Msg.UpdateRequest))},r)}_releaseMouse(){let e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(Us.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging")))}_adjustCurrentForInsert(e,t){let r=this.currentTitle,n=this._currentIndex,s=this.insertBehavior;if(s==="select-tab"||s==="select-tab-if-needed"&&n===-1){this._currentIndex=e,this._previousTitle=r,this._currentChanged.emit({previousIndex:n,previousTitle:r,currentIndex:e,currentTitle:t});return}n>=e&&this._currentIndex++}_adjustCurrentForMove(e,t){this._currentIndex===e?this._currentIndex=t:this._currentIndex<e&&this._currentIndex>=t?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=t&&this._currentIndex--}_adjustCurrentForRemove(e,t){let r=this._currentIndex,n=this.removeBehavior;if(r!==e){r>e&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null});return}if(n==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(n==="select-tab-before"){this._currentIndex=Math.max(0,e-1),this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(n==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null})}_onTitleChanged(e){this.update()}};(function(i){class e{constructor(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++e._nInstance}renderTab(r){let n=r.title.caption,s=this.createTabKey(r),o=s,a=this.createTabStyle(r),l=this.createTabClass(r),c=this.createTabDataset(r),u=this.createTabARIA(r);return r.title.closable?xe.li({id:o,key:s,className:l,title:n,style:a,dataset:c,...u},this.renderIcon(r),this.renderLabel(r),this.renderCloseIcon(r)):xe.li({id:o,key:s,className:l,title:n,style:a,dataset:c,...u},this.renderIcon(r),this.renderLabel(r))}renderIcon(r){let{title:n}=r,s=this.createIconClass(r);return xe.div({className:s},n.icon,n.iconLabel)}renderLabel(r){return xe.div({className:"lm-TabBar-tabLabel"},r.title.label)}renderCloseIcon(r){return xe.div({className:"lm-TabBar-tabCloseIcon"})}createTabKey(r){let n=this._tabKeys.get(r.title);return n===void 0&&(n=`tab-key-${this._uuid}-${this._tabID++}`,this._tabKeys.set(r.title,n)),n}createTabStyle(r){return{zIndex:`${r.zIndex}`}}createTabClass(r){let n="lm-TabBar-tab";return r.title.className&&(n+=` ${r.title.className}`),r.title.closable&&(n+=" lm-mod-closable"),r.current&&(n+=" lm-mod-current"),n}createTabDataset(r){return r.title.dataset}createTabARIA(r){var n;return{role:"tab","aria-selected":r.current.toString(),tabindex:`${(n=r.tabIndex)!==null&&n!==void 0?n:"-1"}`}}createIconClass(r){let n="lm-TabBar-tabIcon",s=r.title.iconClass;return s?`${n} ${s}`:n}}e._nInstance=0,i.Renderer=e,i.defaultRenderer=new e,i.addButtonSelector=".lm-TabBar-addButton"})(Ic||(Ic={}));(function(i){i.DRAG_THRESHOLD=5,i.DETACH_THRESHOLD=20;function e(){let u=document.createElement("div"),d=document.createElement("ul");d.setAttribute("role","tablist"),d.className="lm-TabBar-content",u.appendChild(d);let f=document.createElement("div");return f.className="lm-TabBar-addButton lm-mod-hidden",f.setAttribute("tabindex","-1"),f.setAttribute("role","button"),u.appendChild(f),u}i.createNode=e;function t(u){return u instanceof km?u:new km(u)}i.asTitle=t;function r(u){let d=window.getComputedStyle(u);return 1e3*(parseFloat(d.transitionDuration)||0)}i.parseTransitionDuration=r;function n(u,d){let f=new Array(u.length);for(let h=0,m=u.length;h<m;++h){let p=u[h],v=window.getComputedStyle(p);d==="horizontal"?f[h]={pos:p.offsetLeft,size:p.offsetWidth,margin:parseFloat(v.marginLeft)||0}:f[h]={pos:p.offsetTop,size:p.offsetHeight,margin:parseFloat(v.marginTop)||0}}return f}i.snapTabLayout=n;function s(u,d){let f=Math.abs(d.clientX-u.pressX),h=Math.abs(d.clientY-u.pressY);return f>=i.DRAG_THRESHOLD||h>=i.DRAG_THRESHOLD}i.dragExceeded=s;function o(u,d){let f=u.contentRect;return d.clientX<f.left-i.DETACH_THRESHOLD||d.clientX>=f.right+i.DETACH_THRESHOLD||d.clientY<f.top-i.DETACH_THRESHOLD||d.clientY>=f.bottom+i.DETACH_THRESHOLD}i.detachExceeded=o;function a(u,d,f,h){let m,p,v,x;h==="horizontal"?(m=d.pressX,p=f.clientX-d.contentRect.left,v=f.clientX,x=d.contentRect.width):(m=d.pressY,p=f.clientY-d.contentRect.top,v=f.clientY,x=d.contentRect.height);let C=d.index,y=p-d.tabPressPos,S=y+d.tabSize;for(let M=0,_=u.length;M<_;++M){let E,R=d.tabLayout[M],A=R.pos+(R.size>>1);if(M<d.index&&y<A)E=`${d.tabSize+d.tabLayout[M+1].margin}px`,C=Math.min(C,M);else if(M>d.index&&S>A)E=`${-d.tabSize-R.margin}px`,C=Math.max(C,M);else if(M===d.index){let H=v-m,$=x-(d.tabPos+d.tabSize);E=`${Math.max(-d.tabPos,Math.min(H,$))}px`}else E="";h==="horizontal"?u[M].style.left=E:u[M].style.top=E}d.targetIndex=C}i.layoutTabs=a;function l(u,d){let f;d==="horizontal"?f=u.contentRect.width:f=u.contentRect.height;let h;if(u.targetIndex===u.index)h=0;else if(u.targetIndex>u.index){let v=u.tabLayout[u.targetIndex];h=v.pos+v.size-u.tabSize-u.tabPos}else h=u.tabLayout[u.targetIndex].pos-u.tabPos;let m=f-(u.tabPos+u.tabSize),p=Math.max(-u.tabPos,Math.min(h,m));d==="horizontal"?u.tab.style.left=`${p}px`:u.tab.style.top=`${p}px`}i.finalizeTabPosition=l;function c(u,d){for(let f of u)d==="horizontal"?f.style.left="":f.style.top=""}i.resetTabPositions=c})(Us||(Us={}));O_=class extends ga{constructor(e){super(),this._spacing=4,this._dirty=!1,this._root=null,this._box=null,this._items=new Map,this.renderer=e.renderer,e.spacing!==void 0&&(this._spacing=Am.clampDimension(e.spacing)),this._document=e.document||document,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:fe.HiddenMode.Display}dispose(){let e=this[Symbol.iterator]();this._items.forEach(t=>{t.dispose()}),this._box=null,this._root=null,this._items.clear();for(let t of e)t.dispose();super.dispose()}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){if(this._hiddenMode!==e){this._hiddenMode=e;for(let t of this.tabBars())if(t.titles.length>1)for(let r of t.titles)r.owner.hiddenMode=this._hiddenMode}}get spacing(){return this._spacing}set spacing(e){e=Am.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get isEmpty(){return this._root===null}[Symbol.iterator](){return this._root?this._root.iterAllWidgets():wi()}widgets(){return this._root?this._root.iterUserWidgets():wi()}selectedWidgets(){return this._root?this._root.iterSelectedWidgets():wi()}tabBars(){return this._root?this._root.iterTabBars():wi()}handles(){return this._root?this._root.iterHandles():wi()}moveHandle(e,t,r){let n=e.classList.contains("lm-mod-hidden");if(!this._root||n)return;let s=this._root.findSplitNode(e);if(!s)return;let o;s.node.orientation==="horizontal"?o=t-e.offsetLeft:o=r-e.offsetTop,o!==0&&(s.node.holdSizes(),ls.adjust(s.node.sizers,s.index,o),this.parent&&this.parent.update())}saveLayout(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}}restoreLayout(e){let t=new Set,r;e.main?r=Ji.normalizeAreaConfig(e.main,t):r=null;let n=this.widgets(),s=this.tabBars(),o=this.handles();this._root=null;for(let a of n)t.has(a)||(a.parent=null);for(let a of s)a.dispose();for(let a of o)a.parentNode&&a.parentNode.removeChild(a);for(let a of t)a.parent=this.parent;r?this._root=Ji.realizeAreaConfig(r,{createTabBar:a=>this._createTabBar(),createHandle:()=>this._createHandle()},this._document):this._root=null,this.parent&&(t.forEach(a=>{this.attachWidget(a)}),this.parent.fit())}addWidget(e,t={}){let r=t.ref||null,n=t.mode||"tab-after",s=null;if(this._root&&r&&(s=this._root.findTabNode(r)),r&&!s)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,n){case"tab-after":this._insertTab(e,r,s,!0);break;case"tab-before":this._insertTab(e,r,s,!1);break;case"split-top":this._insertSplit(e,r,s,"vertical",!1);break;case"split-left":this._insertSplit(e,r,s,"horizontal",!1);break;case"split-right":this._insertSplit(e,r,s,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,r,s,"vertical",!0);break;case"merge-top":this._insertSplit(e,r,s,"vertical",!1,!0);break;case"merge-left":this._insertSplit(e,r,s,"horizontal",!1,!0);break;case"merge-right":this._insertSplit(e,r,s,"horizontal",!0,!0);break;case"merge-bottom":this._insertSplit(e,r,s,"vertical",!0,!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())}removeWidget(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())}hitTestTabAreas(e,t){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=Me.boxSizing(this.parent.node));let r=this.parent.node.getBoundingClientRect(),n=e-r.left-this._box.borderLeft,s=t-r.top-this._box.borderTop,o=this._root.hitTestTabNodes(n,s);if(!o)return null;let{tabBar:a,top:l,left:c,width:u,height:d}=o,f=this._box.borderLeft+this._box.borderRight,h=this._box.borderTop+this._box.borderBottom,m=r.width-f-(c+u),p=r.height-h-(l+d);return{tabBar:a,x:n,y:s,top:l,left:c,right:m,bottom:p,width:u,height:d}}init(){super.init();for(let e of this)this.attachWidget(e);for(let e of this.handles())this.parent.node.appendChild(e);this.parent.fit()}attachWidget(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new Kd(e)),this.parent.isAttached&&Ne.sendMessage(e,fe.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Ne.sendMessage(e,fe.Msg.AfterAttach))}detachWidget(e){if(this.parent.node!==e.node.parentNode)return;this.parent.isAttached&&Ne.sendMessage(e,fe.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Ne.sendMessage(e,fe.Msg.AfterDetach);let t=this._items.get(e);t&&(this._items.delete(e),t.dispose())}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_removeWidget(e){if(!this._root)return;let t=this._root.findTabNode(e);if(!t)return;if(Ji.removeAria(e),t.tabBar.titles.length>1){if(t.tabBar.removeTab(e.title),this._hiddenMode===fe.HiddenMode.Scale&&t.tabBar.titles.length==1){let f=t.tabBar.titles[0].owner;f.hiddenMode=fe.HiddenMode.Display}return}if(t.tabBar.dispose(),this._root===t){this._root=null;return}this._root.holdAllSizes();let r=t.parent;t.parent=null;let n=z.removeFirstOf(r.children,t),s=z.removeAt(r.handles,n);if(z.removeAt(r.sizers,n),s.parentNode&&s.parentNode.removeChild(s),r.children.length>1){r.syncHandles();return}let o=r.parent;r.parent=null;let a=r.children[0],l=r.handles[0];if(r.children.length=0,r.handles.length=0,r.sizers.length=0,l.parentNode&&l.parentNode.removeChild(l),this._root===r){a.parent=null,this._root=a;return}let c=o,u=c.children.indexOf(r);if(a instanceof Ji.TabLayoutNode){a.parent=c,c.children[u]=a;return}let d=z.removeAt(c.handles,u);z.removeAt(c.children,u),z.removeAt(c.sizers,u),d.parentNode&&d.parentNode.removeChild(d);for(let f=0,h=a.children.length;f<h;++f){let m=a.children[f],p=a.handles[f],v=a.sizers[f];z.insert(c.children,u+f,m),z.insert(c.handles,u+f,p),z.insert(c.sizers,u+f,v),m.parent=c}a.children.length=0,a.handles.length=0,a.sizers.length=0,a.parent=null,c.syncHandles()}_createTabNode(e){let t=new Ji.TabLayoutNode(this._createTabBar());return t.tabBar.addTab(e.title),Ji.addAria(e,t.tabBar),t}_insertTab(e,t,r,n){if(e===t)return;if(!this._root){let o=new Ji.TabLayoutNode(this._createTabBar());o.tabBar.addTab(e.title),this._root=o,Ji.addAria(e,o.tabBar);return}r||(r=this._root.findFirstTabNode()),r.tabBar.titles.indexOf(e.title)===-1&&(this._removeWidget(e),e.hide());let s;if(t?s=r.tabBar.titles.indexOf(t.title):s=r.tabBar.currentIndex,this._hiddenMode===fe.HiddenMode.Scale)if(r.tabBar.titles.length===0)e.hiddenMode=fe.HiddenMode.Display;else if(r.tabBar.titles.length==1){let o=r.tabBar.titles[0].owner;o.hiddenMode=fe.HiddenMode.Scale}else e.hiddenMode=fe.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;r.tabBar.insertTab(s+(n?1:0),e.title),Ji.addAria(e,r.tabBar)}_insertSplit(e,t,r,n,s,o=!1){if(e===t&&r&&r.tabBar.titles.length===1)return;if(this._removeWidget(e),!this._root){this._root=this._createTabNode(e);return}if(!r||!r.parent){let f=this._splitRoot(n),h=s?f.children.length:0;f.normalizeSizes();let m=Ji.createSizer(r?1:Ji.GOLDEN_RATIO),p=this._createTabNode(e);z.insert(f.children,h,p),z.insert(f.sizers,h,m),z.insert(f.handles,h,this._createHandle()),p.parent=f,f.normalizeSizes(),f.syncHandles();return}let a=r.parent;if(a.orientation===n){let f=a.children.indexOf(r);if(o){let v=f+(s?1:-1),x=a.children[v];if(x instanceof Ji.TabLayoutNode){this._insertTab(e,null,x,!0),++x.tabBar.currentIndex;return}}a.normalizeSizes();let h=a.sizers[f].sizeHint/=2,m=f+(s?1:0),p=this._createTabNode(e);z.insert(a.children,m,p),z.insert(a.sizers,m,Ji.createSizer(h)),z.insert(a.handles,m,this._createHandle()),p.parent=a,a.syncHandles();return}let l=z.removeFirstOf(a.children,r),c=new Ji.SplitLayoutNode(n);c.normalized=!0,c.children.push(r),c.sizers.push(Ji.createSizer(.5)),c.handles.push(this._createHandle()),r.parent=c;let u=s?1:0,d=this._createTabNode(e);z.insert(c.children,u,d),z.insert(c.sizers,u,Ji.createSizer(.5)),z.insert(c.handles,u,this._createHandle()),d.parent=c,c.syncHandles(),z.insert(a.children,l,c),c.parent=a}_splitRoot(e){let t=this._root;if(t instanceof Ji.SplitLayoutNode&&t.orientation===e)return t;let r=this._root=new Ji.SplitLayoutNode(e);return t&&(r.children.push(t),r.sizers.push(Ji.createSizer(0)),r.handles.push(this._createHandle()),t.parent=r),r}_fit(){let e=0,t=0;if(this._root){let s=this._root.fit(this._spacing,this._items);e=s.minWidth,t=s.minHeight}let r=this._box=Me.boxSizing(this.parent.node);e+=r.horizontalSum,t+=r.verticalSum;let n=this.parent.node.style;n.minWidth=`${e}px`,n.minHeight=`${t}px`,this._dirty=!0,this.parent.parent&&Ne.sendMessage(this.parent.parent,fe.Msg.FitRequest),this._dirty&&Ne.sendMessage(this.parent,fe.Msg.UpdateRequest)}_update(e,t){if(this._dirty=!1,!this._root)return;e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=Me.boxSizing(this.parent.node));let r=this._box.paddingTop,n=this._box.paddingLeft,s=e-this._box.horizontalSum,o=t-this._box.verticalSum;this._root.update(r,n,s,o,this._spacing,this._items)}_createTabBar(){let e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&this.attachWidget(e),e}_createHandle(){let e=this.renderer.createHandle(),t=e.style;return t.position="absolute",t.contain="strict",t.top="0",t.left="0",t.width="0",t.height="0",this.parent&&this.parent.node.appendChild(e),e}};(function(i){i.GOLDEN_RATIO=.618;function e(f){let h=new ma;return h.sizeHint=f,h.size=f,h}i.createSizer=e;function t(f,h){let m;return f.type==="tab-area"?m=l(f,h):m=c(f,h),m}i.normalizeAreaConfig=t;function r(f,h,m){let p;return f.type==="tab-area"?p=u(f,h,m):p=d(f,h,m),p}i.realizeAreaConfig=r;class n{constructor(h){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;let m=new ma,p=new ma;m.stretch=0,p.stretch=1,this.tabBar=h,this.sizers=[m,p]}get top(){return this._top}get left(){return this._left}get width(){return this._width}get height(){return this._height}*iterAllWidgets(){yield this.tabBar,yield*this.iterUserWidgets()}*iterUserWidgets(){for(let h of this.tabBar.titles)yield h.owner}*iterSelectedWidgets(){let h=this.tabBar.currentTitle;h&&(yield h.owner)}*iterTabBars(){yield this.tabBar}*iterHandles(){}findTabNode(h){return this.tabBar.titles.indexOf(h.title)!==-1?this:null}findSplitNode(h){return null}findFirstTabNode(){return this}hitTestTabNodes(h,m){return h<this._left||h>=this._left+this._width||m<this._top||m>=this._top+this._height?null:this}createConfig(){let h=this.tabBar.titles.map(p=>p.owner),m=this.tabBar.currentIndex;return{type:"tab-area",widgets:h,currentIndex:m}}holdAllSizes(){}fit(h,m){let p=0,v=0,x=1/0,C=1/0,y=m.get(this.tabBar),S=this.tabBar.currentTitle,M=S?m.get(S.owner):void 0,[_,E]=this.sizers;return y&&y.fit(),M&&M.fit(),y&&!y.isHidden?(p=Math.max(p,y.minWidth),v+=y.minHeight,_.minSize=y.minHeight,_.maxSize=y.maxHeight):(_.minSize=0,_.maxSize=0),M&&!M.isHidden?(p=Math.max(p,M.minWidth),v+=M.minHeight,E.minSize=M.minHeight,E.maxSize=1/0):(E.minSize=0,E.maxSize=1/0),{minWidth:p,minHeight:v,maxWidth:x,maxHeight:C}}update(h,m,p,v,x,C){this._top=m,this._left=h,this._width=p,this._height=v;let y=C.get(this.tabBar),S=this.tabBar.currentTitle,M=S?C.get(S.owner):void 0;if(ls.calc(this.sizers,v),y&&!y.isHidden){let _=this.sizers[0].size;y.update(h,m,p,_),m+=_}if(M&&!M.isHidden){let _=this.sizers[1].size;M.update(h,m,p,_)}}}i.TabLayoutNode=n;class s{constructor(h){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=h}*iterAllWidgets(){for(let h of this.children)yield*h.iterAllWidgets()}*iterUserWidgets(){for(let h of this.children)yield*h.iterUserWidgets()}*iterSelectedWidgets(){for(let h of this.children)yield*h.iterSelectedWidgets()}*iterTabBars(){for(let h of this.children)yield*h.iterTabBars()}*iterHandles(){yield*this.handles;for(let h of this.children)yield*h.iterHandles()}findTabNode(h){for(let m=0,p=this.children.length;m<p;++m){let v=this.children[m].findTabNode(h);if(v)return v}return null}findSplitNode(h){let m=this.handles.indexOf(h);if(m!==-1)return{index:m,node:this};for(let p=0,v=this.children.length;p<v;++p){let x=this.children[p].findSplitNode(h);if(x)return x}return null}findFirstTabNode(){return this.children.length===0?null:this.children[0].findFirstTabNode()}hitTestTabNodes(h,m){for(let p=0,v=this.children.length;p<v;++p){let x=this.children[p].hitTestTabNodes(h,m);if(x)return x}return null}createConfig(){let h=this.orientation,m=this.createNormalizedSizes(),p=this.children.map(v=>v.createConfig());return{type:"split-area",orientation:h,children:p,sizes:m}}syncHandles(){this.handles.forEach((h,m)=>{h.setAttribute("data-orientation",this.orientation),m===this.handles.length-1?h.classList.add("lm-mod-hidden"):h.classList.remove("lm-mod-hidden")})}holdSizes(){for(let h of this.sizers)h.sizeHint=h.size}holdAllSizes(){for(let h of this.children)h.holdAllSizes();this.holdSizes()}normalizeSizes(){let h=this.sizers.length;if(h===0)return;this.holdSizes();let m=this.sizers.reduce((p,v)=>p+v.sizeHint,0);if(m===0)for(let p of this.sizers)p.size=p.sizeHint=1/h;else for(let p of this.sizers)p.size=p.sizeHint/=m;this.normalized=!0}createNormalizedSizes(){let h=this.sizers.length;if(h===0)return[];let m=this.sizers.map(v=>v.size),p=m.reduce((v,x)=>v+x,0);if(p===0)for(let v=m.length-1;v>-1;v--)m[v]=1/h;else for(let v=m.length-1;v>-1;v--)m[v]/=p;return m}fit(h,m){let p=this.orientation==="horizontal",v=Math.max(0,this.children.length-1)*h,x=p?v:0,C=p?0:v,y=1/0,S=1/0;for(let M=0,_=this.children.length;M<_;++M){let E=this.children[M].fit(h,m);p?(C=Math.max(C,E.minHeight),x+=E.minWidth,this.sizers[M].minSize=E.minWidth):(x=Math.max(x,E.minWidth),C+=E.minHeight,this.sizers[M].minSize=E.minHeight)}return{minWidth:x,minHeight:C,maxWidth:y,maxHeight:S}}update(h,m,p,v,x,C){let y=this.orientation==="horizontal",S=Math.max(0,this.children.length-1)*x,M=Math.max(0,(y?p:v)-S);if(this.normalized){for(let _ of this.sizers)_.sizeHint*=M;this.normalized=!1}ls.calc(this.sizers,M);for(let _=0,E=this.children.length;_<E;++_){let R=this.children[_],A=this.sizers[_].size,H=this.handles[_].style;y?(R.update(h,m,A,v,x,C),h+=A,H.top=`${m}px`,H.left=`${h}px`,H.width=`${x}px`,H.height=`${v}px`,h+=x):(R.update(h,m,p,A,x,C),m+=A,H.top=`${m}px`,H.left=`${h}px`,H.width=`${p}px`,H.height=`${x}px`,m+=x)}}}i.SplitLayoutNode=s;function o(f,h){f.node.setAttribute("role","tabpanel");let m=h.renderer;if(m instanceof Ic.Renderer){let p=m.createTabKey({title:f.title,current:!1,zIndex:0});f.node.setAttribute("aria-labelledby",p)}}i.addAria=o;function a(f){f.node.removeAttribute("role"),f.node.removeAttribute("aria-labelledby")}i.removeAria=a;function l(f,h){if(f.widgets.length===0)return null;let m=[];for(let v of f.widgets)h.has(v)||(h.add(v),m.push(v));if(m.length===0)return null;let p=f.currentIndex;return p!==-1&&(p<0||p>=m.length)&&(p=0),{type:"tab-area",widgets:m,currentIndex:p}}function c(f,h){let m=f.orientation,p=[],v=[];for(let x=0,C=f.children.length;x<C;++x){let y=t(f.children[x],h);y&&(y.type==="tab-area"||y.orientation!==m?(p.push(y),v.push(Math.abs(f.sizes[x]||0))):(p.push(...y.children),v.push(...y.sizes)))}return p.length===0?null:p.length===1?p[0]:{type:"split-area",orientation:m,children:p,sizes:v}}function u(f,h,m){let p=h.createTabBar(m);for(let v of f.widgets)v.hide(),p.addTab(v.title),i.addAria(v,p);return p.currentIndex=f.currentIndex,new n(p)}function d(f,h,m){let p=new s(f.orientation);return f.children.forEach((v,x)=>{let C=r(v,h,m),y=e(f.sizes[x]),S=h.createHandle();p.children.push(C),p.handles.push(S),p.sizers.push(y),C.parent=p}),p.syncHandles(),p.normalizeSizes(),p}})(Ji||(Ji={}));Qd=class extends fe{constructor(e={}){super(),this._drag=null,this._tabsMovable=!0,this._tabsConstrained=!1,this._addButtonEnabled=!1,this._pressData=null,this._layoutModified=new Re(this),this._addRequested=new Re(this),this.addClass("lm-DockPanel"),this._document=e.document||document,this._mode=e.mode||"multiple-document",this._renderer=e.renderer||Qd.defaultRenderer,this._edges=e.edges||ji.DEFAULT_EDGES,e.tabsMovable!==void 0&&(this._tabsMovable=e.tabsMovable),e.tabsConstrained!==void 0&&(this._tabsConstrained=e.tabsConstrained),e.addButtonEnabled!==void 0&&(this._addButtonEnabled=e.addButtonEnabled),this.dataset.mode=this._mode;let t={createTabBar:()=>this._createTabBar(),createHandle:()=>this._createHandle()};this.layout=new O_({document:this._document,renderer:t,spacing:e.spacing,hiddenMode:e.hiddenMode}),this.overlay=e.overlay||new Qd.Overlay,this.node.appendChild(this.overlay.node)}dispose(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),super.dispose()}get hiddenMode(){return this.layout.hiddenMode}set hiddenMode(e){this.layout.hiddenMode=e}get layoutModified(){return this._layoutModified}get addRequested(){return this._addRequested}get renderer(){return this.layout.renderer}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get mode(){return this._mode}set mode(e){if(this._mode===e)return;this._mode=e,this.dataset.mode=e;let t=this.layout;switch(e){case"multiple-document":for(let r of t.tabBars())r.show();break;case"single-document":t.restoreLayout(ji.createSingleDocumentConfig(this));break;default:throw"unreachable"}Ne.postMessage(this,ji.LayoutModified)}get tabsMovable(){return this._tabsMovable}set tabsMovable(e){this._tabsMovable=e;for(let t of this.tabBars())t.tabsMovable=e}get tabsConstrained(){return this._tabsConstrained}set tabsConstrained(e){this._tabsConstrained=e}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled=e;for(let t of this.tabBars())t.addButtonEnabled=e}get isEmpty(){return this.layout.isEmpty}*widgets(){yield*this.layout.widgets()}*selectedWidgets(){yield*this.layout.selectedWidgets()}*tabBars(){yield*this.layout.tabBars()}*handles(){yield*this.layout.handles()}selectWidget(e){let t=Rs(this.tabBars(),r=>r.titles.indexOf(e.title)!==-1);if(!t)throw new Error("Widget is not contained in the dock panel.");t.currentTitle=e.title}activateWidget(e){this.selectWidget(e),e.activate()}saveLayout(){return this.layout.saveLayout()}restoreLayout(e){this._mode="multiple-document",this.layout.restoreLayout(e),(Ei.IS_EDGE||Ei.IS_IE)&&Ne.flush(),Ne.postMessage(this,ji.LayoutModified)}addWidget(e,t={}){this._mode==="single-document"?this.layout.addWidget(e):this.layout.addWidget(e,t),Ne.postMessage(this,ji.LayoutModified)}processMessage(e){e.type==="layout-modified"?this._layoutModified.emit(void 0):super.processMessage(e)}handleEvent(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){ji.isGeneratedTabBarProperty.get(e.child)||e.child.addClass("lm-DockPanel-widget")}onChildRemoved(e){ji.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),Ne.postMessage(this,ji.LayoutModified))}_evtDragEnter(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())}_evtDragLeave(e){e.preventDefault(),!(this._tabsConstrained&&e.source!==this)&&(e.stopPropagation(),this.overlay.hide(1))}_evtDragOver(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)}_evtDrop(e){if(e.preventDefault(),this.overlay.hide(0),e.proposedAction==="none"){e.dropAction="none";return}let{clientX:t,clientY:r}=e,{zone:n,target:s}=ji.findDropTarget(this,t,r,this._edges);if(this._tabsConstrained&&e.source!==this||n==="invalid"){e.dropAction="none";return}let a=e.mimeData.getData("application/vnd.lumino.widget-factory");if(typeof a!="function"){e.dropAction="none";return}let l=a();if(!(l instanceof fe)){e.dropAction="none";return}if(l.contains(this)){e.dropAction="none";return}let c=s?ji.getDropRef(s.tabBar):null;switch(n){case"root-all":this.addWidget(l);break;case"root-top":this.addWidget(l,{mode:"split-top"});break;case"root-left":this.addWidget(l,{mode:"split-left"});break;case"root-right":this.addWidget(l,{mode:"split-right"});break;case"root-bottom":this.addWidget(l,{mode:"split-bottom"});break;case"widget-all":this.addWidget(l,{mode:"tab-after",ref:c});break;case"widget-top":this.addWidget(l,{mode:"split-top",ref:c});break;case"widget-left":this.addWidget(l,{mode:"split-left",ref:c});break;case"widget-right":this.addWidget(l,{mode:"split-right",ref:c});break;case"widget-bottom":this.addWidget(l,{mode:"split-bottom",ref:c});break;case"widget-tab":this.addWidget(l,{mode:"tab-after",ref:c});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(l)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&(this._releaseMouse(),Ne.postMessage(this,ji.LayoutModified))}_evtPointerDown(e){if(e.button!==0)return;let t=this.layout,r=e.target,n=Rs(t.handles(),u=>u.contains(r));if(!n)return;e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);let s=n.getBoundingClientRect(),o=e.clientX-s.left,a=e.clientY-s.top,l=window.getComputedStyle(n),c=cr.overrideCursor(l.cursor,this._document);this._pressData={handle:n,deltaX:o,deltaY:a,override:c}}_evtPointerMove(e){if(!this._pressData)return;e.preventDefault(),e.stopPropagation();let t=this.node.getBoundingClientRect(),r=e.clientX-t.left-this._pressData.deltaX,n=e.clientY-t.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,r,n)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),Ne.postMessage(this,ji.LayoutModified))}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))}_showOverlay(e,t){let{zone:r,target:n}=ji.findDropTarget(this,e,t,this._edges);if(r==="invalid")return this.overlay.hide(100),r;let s,o,a,l,c=Me.boxSizing(this.node),u=this.node.getBoundingClientRect();switch(r){case"root-all":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"root-top":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=u.height*ji.GOLDEN_RATIO;break;case"root-left":s=c.paddingTop,o=c.paddingLeft,a=u.width*ji.GOLDEN_RATIO,l=c.paddingBottom;break;case"root-right":s=c.paddingTop,o=u.width*ji.GOLDEN_RATIO,a=c.paddingRight,l=c.paddingBottom;break;case"root-bottom":s=u.height*ji.GOLDEN_RATIO,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"widget-all":s=n.top,o=n.left,a=n.right,l=n.bottom;break;case"widget-top":s=n.top,o=n.left,a=n.right,l=n.bottom+n.height/2;break;case"widget-left":s=n.top,o=n.left,a=n.right+n.width/2,l=n.bottom;break;case"widget-right":s=n.top,o=n.left+n.width/2,a=n.right,l=n.bottom;break;case"widget-bottom":s=n.top+n.height/2,o=n.left,a=n.right,l=n.bottom;break;case"widget-tab":{let d=n.tabBar.node.getBoundingClientRect().height;s=n.top,o=n.left,a=n.right,l=n.bottom+n.height-d;break}default:throw"unreachable"}return this.overlay.show({top:s,left:o,right:a,bottom:l}),r}_createTabBar(){let e=this._renderer.createTabBar(this._document);return ji.isGeneratedTabBarProperty.set(e,!0),this._mode==="single-document"&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e}_createHandle(){return this._renderer.createHandle()}_onTabMoved(){Ne.postMessage(this,ji.LayoutModified)}_onCurrentChanged(e,t){let{previousTitle:r,currentTitle:n}=t;r&&r.owner.hide(),n&&n.owner.show(),(Ei.IS_EDGE||Ei.IS_IE)&&Ne.flush(),Ne.postMessage(this,ji.LayoutModified)}_onTabAddRequested(e){this._addRequested.emit(e)}_onTabActivateRequested(e,t){t.title.owner.activate()}_onTabCloseRequested(e,t){t.title.owner.close()}_onTabDetachRequested(e,t){if(this._drag)return;e.releaseMouse();let{title:r,tab:n,clientX:s,clientY:o,offset:a}=t,l=new bl.MimeData,c=()=>r.owner;l.setData("application/vnd.lumino.widget-factory",c);let u=n.cloneNode(!0);a&&(u.style.top=`-${a.y}px`,u.style.left=`-${a.x}px`),this._drag=new cr({document:this._document,mimeData:l,dragImage:u,proposedAction:"move",supportedActions:"move",source:this}),n.classList.add("lm-mod-hidden");let d=()=>{this._drag=null,n.classList.remove("lm-mod-hidden")};this._drag.start(s,o).then(d)}};(function(i){class e{constructor(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.style.position="absolute",this.node.style.contain="strict"}show(n){let s=this.node.style;s.top=`${n.top}px`,s.left=`${n.left}px`,s.right=`${n.right}px`,s.bottom=`${n.bottom}px`,clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"))}hide(n){if(!this._hidden){if(n<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(()=>{this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden")},n))}}}i.Overlay=e;class t{createTabBar(n){let s=new Ic({document:n});return s.addClass("lm-DockPanel-tabBar"),s}createHandle(){let n=document.createElement("div");return n.className="lm-DockPanel-handle",n}}i.Renderer=t,i.defaultRenderer=new t})(Qd||(Qd={}));(function(i){i.GOLDEN_RATIO=.618,i.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},i.LayoutModified=new Ec("layout-modified"),i.isGeneratedTabBarProperty=new ut({name:"isGeneratedTabBar",create:()=>!1});function e(n){if(n.isEmpty)return{main:null};let s=Array.from(n.widgets()),o=n.selectedWidgets().next().value,a=o?s.indexOf(o):-1;return{main:{type:"tab-area",widgets:s,currentIndex:a}}}i.createSingleDocumentConfig=e;function t(n,s,o,a){if(!Me.hitTest(n.node,s,o))return{zone:"invalid",target:null};let l=n.layout;if(l.isEmpty)return{zone:"root-all",target:null};if(n.mode==="multiple-document"){let y=n.node.getBoundingClientRect(),S=s-y.left+1,M=o-y.top+1,_=y.right-s,E=y.bottom-o;switch(Math.min(M,_,E,S)){case M:if(M<a.top)return{zone:"root-top",target:null};break;case _:if(_<a.right)return{zone:"root-right",target:null};break;case E:if(E<a.bottom)return{zone:"root-bottom",target:null};break;case S:if(S<a.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}let c=l.hitTestTabAreas(s,o);if(!c)return{zone:"invalid",target:null};if(n.mode==="single-document")return{zone:"widget-all",target:c};let u=c.x-c.left+1,d=c.y-c.top+1,f=c.left+c.width-c.x,h=c.top+c.height-c.y,m=c.tabBar.node.getBoundingClientRect().height;if(d<m)return{zone:"widget-tab",target:c};let p=Math.round(c.width/3),v=Math.round(c.height/3);if(u>p&&f>p&&d>v&&h>v)return{zone:"widget-all",target:c};u/=p,d/=v,f/=p,h/=v;let x=Math.min(u,d,f,h),C;switch(x){case u:C="widget-left";break;case d:C="widget-top";break;case f:C="widget-right";break;case h:C="widget-bottom";break;default:throw"unreachable"}return{zone:C,target:c}}i.findDropTarget=t;function r(n){return n.titles.length===0?null:n.currentTitle?n.currentTitle.owner:n.titles[n.titles.length-1].owner}i.getDropRef=r})(ji||(ji={}));_l=class extends ga{constructor(e={}){super(e),this._dirty=!1,this._rowSpacing=4,this._columnSpacing=4,this._items=[],this._rowStarts=[],this._columnStarts=[],this._rowSizers=[new ma],this._columnSizers=[new ma],this._box=null,e.rowCount!==void 0&&wr.reallocSizers(this._rowSizers,e.rowCount),e.columnCount!==void 0&&wr.reallocSizers(this._columnSizers,e.columnCount),e.rowSpacing!==void 0&&(this._rowSpacing=wr.clampValue(e.rowSpacing)),e.columnSpacing!==void 0&&(this._columnSpacing=wr.clampValue(e.columnSpacing))}dispose(){for(let e of this._items){let t=e.widget;e.dispose(),t.dispose()}this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,super.dispose()}get rowCount(){return this._rowSizers.length}set rowCount(e){e!==this.rowCount&&(wr.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())}get columnCount(){return this._columnSizers.length}set columnCount(e){e!==this.columnCount&&(wr.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())}get rowSpacing(){return this._rowSpacing}set rowSpacing(e){e=wr.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())}get columnSpacing(){return this._columnSpacing}set columnSpacing(e){e=wr.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())}rowStretch(e){let t=this._rowSizers[e];return t?t.stretch:-1}setRowStretch(e,t){let r=this._rowSizers[e];r&&(t=wr.clampValue(t),r.stretch!==t&&(r.stretch=t,this.parent&&this.parent.update()))}columnStretch(e){let t=this._columnSizers[e];return t?t.stretch:-1}setColumnStretch(e,t){let r=this._columnSizers[e];r&&(t=wr.clampValue(t),r.stretch!==t&&(r.stretch=t,this.parent&&this.parent.update()))}*[Symbol.iterator](){for(let e of this._items)yield e.widget}addWidget(e){z.findFirstIndex(this._items,r=>r.widget===e)===-1&&(this._items.push(new Kd(e)),this.parent&&this.attachWidget(e))}removeWidget(e){let t=z.findFirstIndex(this._items,n=>n.widget===e);if(t===-1)return;let r=z.removeAt(this._items,t);this.parent&&this.detachWidget(e),r.dispose()}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&Ne.sendMessage(e,fe.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Ne.sendMessage(e,fe.Msg.AfterAttach),this.parent.fit()}detachWidget(e){this.parent.isAttached&&Ne.sendMessage(e,fe.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Ne.sendMessage(e,fe.Msg.AfterDetach),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){for(let l=0,c=this.rowCount;l<c;++l)this._rowSizers[l].minSize=0;for(let l=0,c=this.columnCount;l<c;++l)this._columnSizers[l].minSize=0;let e=this._items.filter(l=>!l.isHidden);for(let l=0,c=e.length;l<c;++l)e[l].fit();let t=this.rowCount-1,r=this.columnCount-1;e.sort(wr.rowSpanCmp);for(let l=0,c=e.length;l<c;++l){let u=e[l],d=_l.getCellConfig(u.widget),f=Math.min(d.row,t),h=Math.min(d.row+d.rowSpan-1,t);wr.distributeMin(this._rowSizers,f,h,u.minHeight)}e.sort(wr.columnSpanCmp);for(let l=0,c=e.length;l<c;++l){let u=e[l],d=_l.getCellConfig(u.widget),f=Math.min(d.column,r),h=Math.min(d.column+d.columnSpan-1,r);wr.distributeMin(this._columnSizers,f,h,u.minWidth)}if(this.fitPolicy==="set-no-constraint"){Ne.sendMessage(this.parent,fe.Msg.UpdateRequest);return}let n=t*this._rowSpacing,s=r*this._columnSpacing;for(let l=0,c=this.rowCount;l<c;++l)n+=this._rowSizers[l].minSize;for(let l=0,c=this.columnCount;l<c;++l)s+=this._columnSizers[l].minSize;let o=this._box=Me.boxSizing(this.parent.node);s+=o.horizontalSum,n+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${s}px`,a.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&Ne.sendMessage(this.parent.parent,fe.Msg.FitRequest),this._dirty&&Ne.sendMessage(this.parent,fe.Msg.UpdateRequest)}_update(e,t){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=Me.boxSizing(this.parent.node));let r=this._box.paddingTop,n=this._box.paddingLeft,s=e-this._box.horizontalSum,o=t-this._box.verticalSum,a=this.rowCount-1,l=this.columnCount-1,c=a*this._rowSpacing,u=l*this._columnSpacing;ls.calc(this._rowSizers,Math.max(0,o-c)),ls.calc(this._columnSizers,Math.max(0,s-u));for(let d=0,f=r,h=this.rowCount;d<h;++d)this._rowStarts[d]=f,f+=this._rowSizers[d].size+this._rowSpacing;for(let d=0,f=n,h=this.columnCount;d<h;++d)this._columnStarts[d]=f,f+=this._columnSizers[d].size+this._columnSpacing;for(let d=0,f=this._items.length;d<f;++d){let h=this._items[d];if(h.isHidden)continue;let m=_l.getCellConfig(h.widget),p=Math.min(m.row,a),v=Math.min(m.column,l),x=Math.min(m.row+m.rowSpan-1,a),C=Math.min(m.column+m.columnSpan-1,l),y=this._columnStarts[v],S=this._rowStarts[p],M=this._columnStarts[C]+this._columnSizers[C].size-y,_=this._rowStarts[x]+this._rowSizers[x].size-S;h.update(y,S,M,_)}}};(function(i){function e(r){return wr.cellConfigProperty.get(r)}i.getCellConfig=e;function t(r,n){wr.cellConfigProperty.set(r,wr.normalizeConfig(n))}i.setCellConfig=t})(_l||(_l={}));(function(i){i.cellConfigProperty=new ut({name:"cellConfig",create:()=>({row:0,column:0,rowSpan:1,columnSpan:1}),changed:a});function e(l){let c=Math.max(0,Math.floor(l.row||0)),u=Math.max(0,Math.floor(l.column||0)),d=Math.max(1,Math.floor(l.rowSpan||0)),f=Math.max(1,Math.floor(l.columnSpan||0));return{row:c,column:u,rowSpan:d,columnSpan:f}}i.normalizeConfig=e;function t(l){return Math.max(0,Math.floor(l))}i.clampValue=t;function r(l,c){let u=i.cellConfigProperty.get(l.widget),d=i.cellConfigProperty.get(c.widget);return u.rowSpan-d.rowSpan}i.rowSpanCmp=r;function n(l,c){let u=i.cellConfigProperty.get(l.widget),d=i.cellConfigProperty.get(c.widget);return u.columnSpan-d.columnSpan}i.columnSpanCmp=n;function s(l,c){for(c=Math.max(1,Math.floor(c));l.length<c;)l.push(new ma);l.length>c&&(l.length=c)}i.reallocSizers=s;function o(l,c,u,d){if(u<c)return;if(c===u){let m=l[c];m.minSize=Math.max(m.minSize,d);return}let f=0;for(let m=c;m<=u;++m)f+=l[m].minSize;if(f>=d)return;let h=(d-f)/(u-c+1);for(let m=c;m<=u;++m)l[m].minSize+=h}i.distributeMin=o;function a(l){l.parent&&l.parent.layout instanceof _l&&l.parent.fit()}})(wr||(wr={}));ef=class extends fe{constructor(e={}){super({node:f3.createNode()}),this._activeIndex=-1,this._tabFocusIndex=0,this._menus=[],this._childMenu=null,this._overflowMenu=null,this._menuItemSizes=[],this._overflowIndex=-1,this.addClass("lm-MenuBar"),this.setFlag(fe.Flag.DisallowLayout),this.renderer=e.renderer||ef.defaultRenderer,this._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},this._overflowMenuOptions=e.overflowMenuOptions||{isVisible:!0}}dispose(){this._closeChildMenu(),this._menus.length=0,super.dispose()}get childMenu(){return this._childMenu}get overflowIndex(){return this._overflowIndex}get overflowMenu(){return this._overflowMenu}get contentNode(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]}get activeMenu(){return this._menus[this._activeIndex]||null}set activeMenu(e){this.activeIndex=e?this._menus.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._menus.length)&&(e=-1),e>-1&&this._menus[e].items.length===0&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())}get menus(){return this._menus}openActiveMenu(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))}addMenu(e,t=!0){this.insertMenu(this._menus.length,e,t)}insertMenu(e,t,r=!0){this._closeChildMenu();let n=this._menus.indexOf(t),s=Math.max(0,Math.min(e,this._menus.length));if(n===-1){z.insert(this._menus,s,t),t.addClass("lm-MenuBar-menu"),t.aboutToClose.connect(this._onMenuAboutToClose,this),t.menuRequested.connect(this._onMenuMenuRequested,this),t.title.changed.connect(this._onTitleChanged,this),r&&this.update();return}s===this._menus.length&&s--,n!==s&&(z.move(this._menus,n,s),r&&this.update())}removeMenu(e,t=!0){this.removeMenuAt(this._menus.indexOf(e),t)}removeMenuAt(e,t=!0){this._closeChildMenu();let r=z.removeAt(this._menus,e);r&&(r.aboutToClose.disconnect(this._onMenuAboutToClose,this),r.menuRequested.disconnect(this._onMenuMenuRequested,this),r.title.changed.disconnect(this._onTitleChanged,this),r.removeClass("lm-MenuBar-menu"),t&&this.update())}clearMenus(){if(this._menus.length!==0){this._closeChildMenu();for(let e of this._menus)e.aboutToClose.disconnect(this._onMenuAboutToClose,this),e.menuRequested.disconnect(this._onMenuMenuRequested,this),e.title.changed.disconnect(this._onTitleChanged,this),e.removeClass("lm-MenuBar-menu");this._menus.length=0,this.update()}}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":case"mouseleave":this._evtMouseMove(e);break;case"focusout":this._evtFocusOut(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("focusout",this),this.node.addEventListener("contextmenu",this)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("focusout",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()}onActivateRequest(e){this.isAttached&&this._focusItemAt(0)}onResize(e){this.update(),super.onResize(e)}onUpdateRequest(e){var t;let r=this._menus,n=this.renderer,s=this._activeIndex,o=this._tabFocusIndex>=0&&this._tabFocusIndex<r.length?this._tabFocusIndex:0,a=this._overflowIndex>-1?this._overflowIndex:r.length,l=0,c=!1;a=this._overflowMenu!==null?a-1:a;let u=new Array(a);for(let d=0;d<a;++d)u[d]=n.renderItem({title:r[d].title,active:d===s,tabbable:d===o,disabled:r[d].items.length===0,onfocus:()=>{this._tabFocusIndex=d,this.activeIndex=d}}),l+=this._menuItemSizes[d],r[d].title.label===this._overflowMenuOptions.title&&(c=!0,a--);if(this._overflowMenuOptions.isVisible){if(this._overflowIndex>-1&&!c){if(this._overflowMenu===null){let d=(t=this._overflowMenuOptions.title)!==null&&t!==void 0?t:"...";this._overflowMenu=new pa({commands:new rn}),this._overflowMenu.title.label=d,this._overflowMenu.title.mnemonic=0,this.addMenu(this._overflowMenu,!1)}for(let d=r.length-2;d>=a;d--){let f=this.menus[d];f.title.mnemonic=0,this._overflowMenu.insertItem(0,{type:"submenu",submenu:f}),this.removeMenu(f,!1)}u[a]=n.renderItem({title:this._overflowMenu.title,active:a===s&&r[a].items.length!==0,tabbable:a===o,disabled:r[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}else if(this._overflowMenu!==null){let d=this._overflowMenu.items,f=this.node.offsetWidth,h=this._overflowMenu.items.length;for(let m=0;m<h;++m){let p=r.length-1-m;if(f-l>this._menuItemSizes[p]){let v=d[0].submenu;this._overflowMenu.removeItemAt(0),this.insertMenu(a,v,!1),u[a]=n.renderItem({title:v.title,active:!1,tabbable:a===o,disabled:r[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}}this._overflowMenu.items.length===0&&(this.removeMenu(this._overflowMenu,!1),u.pop(),this._overflowMenu=null,this._overflowIndex=-1)}}Bt.render(u,this.contentNode),this._updateOverflowIndex()}_updateOverflowIndex(){if(!this._overflowMenuOptions.isVisible)return;let e=this.contentNode.childNodes,t=this.node.offsetWidth,r=0,n=-1,s=e.length;if(this._menuItemSizes.length==0)for(let o=0;o<s;o++){let a=e[o];r+=a.offsetWidth,this._menuItemSizes.push(a.offsetWidth),r>t&&n===-1&&(n=o)}else for(let o=0;o<this._menuItemSizes.length;o++)if(r+=this._menuItemSizes[o],r>t){n=o;break}this._overflowIndex=n}_evtKeyDown(e){let t=e.keyCode;if(t===9){this.activeIndex=-1;return}if(e.preventDefault(),e.stopPropagation(),t===13||t===32||t===38||t===40){if(this.activeIndex=this._tabFocusIndex,this.activeIndex!==this._tabFocusIndex)return;this.openActiveMenu();return}if(t===27){this._closeChildMenu(),this._focusItemAt(this.activeIndex);return}if(t===37||t===39){let o=t===37?-1:1,a=this._tabFocusIndex+o,l=this._menus.length;for(let c=0;c<l;c++){let u=(l+a+o*c)%l;if(this._menus[u].items.length){this._focusItemAt(u);return}}return}let r=Ts().keyForKeydownEvent(e);if(!r)return;let n=this._activeIndex+1,s=f3.findMnemonic(this._menus,r,n);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.openActiveMenu()):s.index!==-1?(this.activeIndex=s.index,this._focusItemAt(this.activeIndex)):s.auto!==-1&&(this.activeIndex=s.auto,this._focusItemAt(this.activeIndex))}_evtMouseDown(e){if(!Me.hitTest(this.node,e.clientX,e.clientY))return;e.stopPropagation(),e.stopImmediatePropagation();let t=z.findFirstIndex(this.contentNode.children,r=>Me.hitTest(r,e.clientX,e.clientY));if(t===-1){this._closeChildMenu();return}if(e.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=t;else{e.preventDefault();let r=this._positionForMenu(t);pa.saveWindowData(),this.activeIndex=t,this._openChildMenu(r)}}_evtMouseMove(e){let t=z.findFirstIndex(this.contentNode.children,n=>Me.hitTest(n,e.clientX,e.clientY));if(t===this._activeIndex||t===-1&&this._childMenu)return;let r=t>=0&&this._childMenu?this._positionForMenu(t):null;pa.saveWindowData(),this.activeIndex=t,r&&this._openChildMenu(r)}_positionForMenu(e){let t=this.contentNode.children[e],{left:r,bottom:n}=t.getBoundingClientRect();return{top:n,left:r}}_evtFocusOut(e){!this._childMenu&&!this.node.contains(e.relatedTarget)&&(this.activeIndex=-1)}_focusItemAt(e){let t=this.contentNode.childNodes[e];t&&t.focus()}_openChildMenu(e={}){let t=this.activeMenu;if(!t){this._closeChildMenu();return}let r=this._childMenu;if(r===t)return;this._childMenu=t,r?r.close():document.addEventListener("mousedown",this,!0),this._tabFocusIndex=this.activeIndex,Ne.sendMessage(this,fe.Msg.UpdateRequest);let{left:n,top:s}=e;(typeof n>"u"||typeof s>"u")&&({left:n,top:s}=this._positionForMenu(this._activeIndex)),r||this.addClass("lm-mod-active"),t.items.length>0&&t.open(n,s,this._forceItemsPosition)}_closeChildMenu(){if(!this._childMenu)return;this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0);let e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}_onMenuAboutToClose(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)}_onMenuMenuRequested(e,t){if(e!==this._childMenu)return;let r=this._activeIndex,n=this._menus.length;switch(t){case"next":this.activeIndex=r===n-1?0:r+1;break;case"previous":this.activeIndex=r===0?n-1:r-1;break}this.openActiveMenu()}_onTitleChanged(){this.update()}};(function(i){class e{renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r),o=this.createItemARIA(r);return xe.li({className:n,dataset:s,...r.disabled?{}:{tabindex:r.tabbable?"0":"-1"},onfocus:r.onfocus,...o},this.renderIcon(r),this.renderLabel(r))}renderIcon(r){let n=this.createIconClass(r);return xe.div({className:n},r.title.icon,r.title.iconLabel)}renderLabel(r){let n=this.formatLabel(r);return xe.div({className:"lm-MenuBar-itemLabel"},n)}createItemClass(r){let n="lm-MenuBar-item";return r.title.className&&(n+=` ${r.title.className}`),r.active&&!r.disabled&&(n+=" lm-mod-active"),n}createItemDataset(r){return r.title.dataset}createItemARIA(r){return{role:"menuitem","aria-haspopup":"true","aria-disabled":r.disabled?"true":"false"}}createIconClass(r){let n="lm-MenuBar-itemIcon",s=r.title.iconClass;return s?`${n} ${s}`:n}formatLabel(r){let{label:n,mnemonic:s}=r.title;if(s<0||s>=n.length)return n;let o=n.slice(0,s),a=n.slice(s+1),l=n[s],c=xe.span({className:"lm-MenuBar-itemMnemonic"},l);return[o,c,a]}}i.Renderer=e,i.defaultRenderer=new e})(ef||(ef={}));(function(i){function e(){let r=document.createElement("div"),n=document.createElement("ul");return n.className="lm-MenuBar-content",r.appendChild(n),n.setAttribute("role","menubar"),r}i.createNode=e;function t(r,n,s){let o=-1,a=-1,l=!1,c=n.toUpperCase();for(let u=0,d=r.length;u<d;++u){let f=(u+s)%d,h=r[f].title;if(h.label.length===0)continue;let m=h.mnemonic;if(m>=0&&m<h.label.length){h.label[m].toUpperCase()===c&&(o===-1?o=f:l=!0);continue}a===-1&&h.label[0].toUpperCase()===c&&(a=f)}return{index:o,multiple:l,auto:a}}i.findMnemonic=t})(f3||(f3={}));(function(i){function e(){let r=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div");return n.className="lm-ScrollBar-button",s.className="lm-ScrollBar-button",n.dataset.action="decrement",s.dataset.action="increment",o.className="lm-ScrollBar-track",a.className="lm-ScrollBar-thumb",o.appendChild(a),r.appendChild(n),r.appendChild(o),r.appendChild(s),r}i.createNode=e;function t(r,n){return r.thumbNode.contains(n)?"thumb":r.trackNode.contains(n)?"track":r.decrementNode.contains(n)?"decrement":r.incrementNode.contains(n)?"increment":null}i.findPart=t})(FA||(FA={}));WA=class extends ga{constructor(){super(...arguments),this._widget=null}dispose(){if(this._widget){let e=this._widget;this._widget=null,e.dispose()}super.dispose()}get widget(){return this._widget}set widget(e){e&&(e.parent=this.parent),this._widget!==e&&(this._widget&&this._widget.dispose(),this._widget=e,this.parent&&e&&this.attachWidget(e))}*[Symbol.iterator](){this._widget&&(yield this._widget)}removeWidget(e){this._widget===e&&(this._widget=null,this.parent&&this.detachWidget(e))}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&Ne.sendMessage(e,fe.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Ne.sendMessage(e,fe.Msg.AfterAttach)}detachWidget(e){this.parent.isAttached&&Ne.sendMessage(e,fe.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Ne.sendMessage(e,fe.Msg.AfterDetach)}},D_=class extends Rc{constructor(e={}){super(e),this._dirty=!1,this._items=[],this._box=null,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:fe.HiddenMode.Display}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach(t=>{t.hiddenMode=this._hiddenMode}))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,super.dispose()}attachWidget(e,t){this._hiddenMode===fe.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=fe.HiddenMode.Scale),t.hiddenMode=fe.HiddenMode.Scale):t.hiddenMode=fe.HiddenMode.Display,z.insert(this._items,e,new Kd(t)),this.parent.isAttached&&Ne.sendMessage(t,fe.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&Ne.sendMessage(t,fe.Msg.AfterAttach),this.parent.fit()}moveWidget(e,t,r){z.move(this._items,e,t),this.parent.update()}detachWidget(e,t){let r=z.removeAt(this._items,e);this.parent.isAttached&&Ne.sendMessage(t,fe.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&Ne.sendMessage(t,fe.Msg.AfterDetach),r.widget.node.style.zIndex="",this._hiddenMode===fe.HiddenMode.Scale&&(t.hiddenMode=fe.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=fe.HiddenMode.Display)),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0,t=0;for(let s=0,o=this._items.length;s<o;++s){let a=this._items[s];a.isHidden||(a.fit(),e=Math.max(e,a.minWidth),t=Math.max(t,a.minHeight))}let r=this._box=Me.boxSizing(this.parent.node);e+=r.horizontalSum,t+=r.verticalSum;let n=this.parent.node.style;n.minWidth=`${e}px`,n.minHeight=`${t}px`,this._dirty=!0,this.parent.parent&&Ne.sendMessage(this.parent.parent,fe.Msg.FitRequest),this._dirty&&Ne.sendMessage(this.parent,fe.Msg.UpdateRequest)}_update(e,t){this._dirty=!1;let r=0;for(let l=0,c=this._items.length;l<c;++l)r+=+!this._items[l].isHidden;if(r===0)return;e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=Me.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=t-this._box.verticalSum;for(let l=0,c=this._items.length;l<c;++l){let u=this._items[l];u.isHidden||(u.widget.node.style.zIndex=`${l}`,u.update(s,n,o,a))}}};(function(i){function e(t){return t.layout||new D_}i.createLayout=e})(ZA||(ZA={}));(function(i){function e(s){return r[s]}i.orientationFromPlacement=e;function t(s){return n[s]}i.directionFromPlacement=t;let r={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},n={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(qA||(qA={}))});var YA,m3,QY,GA,XA,KA,eJ,tJ,iJ,rJ,nJ,sJ,oJ,aJ,ds,H_,Or,Cl,JA=P(()=>{Og();YA=N(Tg());S0();m3=N(tn());M0();Is();UA();QY="jp-OutputArea",GA="jp-OutputArea-child",XA="jp-OutputArea-output",KA="jp-OutputArea-prompt",eJ="jp-OutputArea-stdin-hiding",tJ="jp-OutputPrompt",iJ="jp-OutputArea-executeResult",rJ="jp-OutputArea-stdin-item",nJ="jp-Stdin",sJ="jp-Stdin-prompt",oJ="jp-Stdin-input",aJ="jp-OutputArea-promptOverlay",ds=class extends fe{constructor(e){var t,r,n,s,o;super(),this.outputLengthChanged=new Re(this),this._onIOPub=l=>{let c=this.model,u=l.header.msg_type,d,h=(l.content.transient||{}).display_id,m;switch(u){case"execute_result":case"display_data":case"stream":case"error":d={...l.content,output_type:u},c.add(d);break;case"clear_output":{let p=l.content.wait;c.clear(p);break}case"update_display_data":if(d={...l.content,output_type:"display_data"},m=this._displayIdMap.get(h),m)for(let p of m)c.set(p,d);break;case"status":{l.content.execution_state==="idle"&&(this._pendingInput=!1);break}default:break}h&&u==="display_data"&&(m=this._displayIdMap.get(h)||[],m.push(c.length-1),this._displayIdMap.set(h,m))},this._onExecuteReply=l=>{let c=this.model,u=l.content;if(u.status!=="ok")return;let d=u&&u.payload;if(!d||!d.length)return;let f=d.filter(p=>p.source==="page");if(!f.length)return;let m={output_type:"display_data",data:JSON.parse(JSON.stringify(f[0])).data,metadata:{}};c.add(m)},this._displayIdMap=new Map,this._minHeightTimeout=null,this._inputRequested=new Re(this),this._toggleScrolling=new Re(this),this._initialize=new Re(this),this._outputTracker=new hM({namespace:m3.UUID.uuid4()}),this._inputHistoryScope="global",this._pendingInput=!1,this._showInputPlaceholder=!0,super.layout=new Rc,this.addClass(QY),this.contentFactory=(t=e.contentFactory)!==null&&t!==void 0?t:ds.defaultContentFactory,this.rendermime=e.rendermime,this._maxNumberOutputs=(r=e.maxNumberOutputs)!==null&&r!==void 0?r:1/0,this._translator=(n=e.translator)!==null&&n!==void 0?n:As,this._inputHistoryScope=(s=e.inputHistoryScope)!==null&&s!==void 0?s:"global",this._showInputPlaceholder=(o=e.showInputPlaceholder)!==null&&o!==void 0?o:!0;let a=this.model=e.model;for(let l=0;l<Math.min(a.length,this._maxNumberOutputs+1);l++){let c=a.get(l);this._insertOutput(l,c),c.type==="stream"&&c.streamText.changed.connect((u,d)=>{this._setOutput(l,c)})}a.changed.connect(this.onModelChanged,this),a.stateChanged.connect(this.onStateChanged,this),e.promptOverlay&&this._addPromptOverlay()}get layout(){return super.layout}get widgets(){return this.layout.widgets}get future(){return this._future}set future(e){if(this.model.isDisposed)throw Error("Model is disposed");this._future!==e&&(this._future&&this._future.dispose(),this._future=e,e.done.finally(()=>{this._pendingInput=!1}).catch(()=>{}),this.model.clear(),this.widgets.length&&(this._clear(),this.outputLengthChanged.emit(Math.min(this.model.length,this._maxNumberOutputs))),e.onIOPub=this._onIOPub,e.onReply=this._onExecuteReply,e.onStdin=t=>{YA.KernelMessage.isInputRequestMsg(t)&&this.onInputRequest(t,e)})}get inputRequested(){return this._inputRequested}get pendingInput(){return this._pendingInput}get maxNumberOutputs(){return this._maxNumberOutputs}set maxNumberOutputs(e){if(e<=0){console.warn("OutputArea.maxNumberOutputs must be strictly positive.");return}let t=this._maxNumberOutputs;this._maxNumberOutputs=e,t<e&&this._showTrimmedOutputs(t)}dispose(){this._future&&(this._future.dispose(),this._future=null),this._displayIdMap.clear(),this._outputTracker.dispose(),super.dispose()}onModelChanged(e,t){switch(t.type){case"add":let r=t.newValues[0];this._insertOutput(t.newIndex,r),r.type==="stream"&&r.streamText.changed.connect((n,s)=>{this._setOutput(t.newIndex,r)});break;case"remove":if(this.widgets.length)if(this.model.length===0)this._clear();else{let n=t.oldIndex;for(let s=0;s<t.oldValues.length&&n<this.widgets.length;++s){let o=this.widgets[n];o.parent=null,o.dispose()}this._moveDisplayIdIndices(n,t.oldValues.length),this._preventHeightChangeJitter()}break;case"clear":this._clear();break;case"set":this._setOutput(t.newIndex,t.newValues[0]);break;default:break}this.outputLengthChanged.emit(Math.min(this.model.length,this._maxNumberOutputs))}get toggleScrolling(){return this._toggleScrolling}get initialize(){return this._initialize}_addPromptOverlay(){let e=document.createElement("div");e.className=aJ,e.addEventListener("click",()=>{this._toggleScrolling.emit()}),this.node.appendChild(e);let t=()=>{let n=this.node.querySelector(".jp-OutputArea-child");n&&(e.style.height=`${Math.max(n.getBoundingClientRect().height,this.node.getBoundingClientRect().height)}px`)},r=new ResizeObserver(t);r.observe(this.node),this.disposed.connect(()=>{r.disconnect()}),requestAnimationFrame(()=>{this._initialize.emit()})}_moveDisplayIdIndices(e,t){this._displayIdMap.forEach(r=>{let n=e+t,s=r.length;for(let o=s-1;o>=0;--o){let a=r[o];a>=e&&a<n?r.splice(o,1):a>=n&&(r[o]-=t)}})}onStateChanged(e,t){let r=Math.min(this.model.length,this._maxNumberOutputs);if(t){if(t>=this._maxNumberOutputs)return;this._setOutput(t,this.model.get(t))}else for(let n=0;n<r;n++)this._setOutput(n,this.model.get(n));this.outputLengthChanged.emit(r)}_clear(){if(!this.widgets.length)return;let e=this.widgets.length;for(let t=0;t<e;t++){let r=this.widgets[0];r.parent=null,r.dispose()}this._displayIdMap.clear(),this._preventHeightChangeJitter()}_preventHeightChangeJitter(){let e=this.node.getBoundingClientRect();this.node.style.minHeight=`${e.height}px`,this._minHeightTimeout&&window.clearTimeout(this._minHeightTimeout),this._minHeightTimeout=window.setTimeout(()=>{this.isDisposed||(this.node.style.minHeight="")},50)}onInputRequest(e,t){let r=this.contentFactory,n=e.content.prompt,s=e.content.password,o=new Yd;o.addClass(GA),o.addClass(rJ);let a=r.createOutputPrompt();a.addClass(KA),o.addWidget(a),this._pendingInput=!0;let l=r.createStdin({parent_header:e.header,prompt:n,password:s,future:t,translator:this._translator,inputHistoryScope:this._inputHistoryScope,showInputPlaceholder:this._showInputPlaceholder});l.addClass(XA),o.addWidget(l),this.model.length>=this.maxNumberOutputs&&(this.maxNumberOutputs=this.model.length),this._inputRequested.emit(l);let c=l.node.getElementsByTagName("input")[0];l.value.then(u=>{this.model.length>=this.maxNumberOutputs&&(this.maxNumberOutputs=this.model.length+1),o.addClass(eJ),this.model.add({output_type:"stream",name:"stdin",text:u+`
`}),c.focus(),this._pendingInput=!1,window.setTimeout(()=>{let d=document.activeElement;o.dispose(),d&&d instanceof HTMLElement&&d.focus()},500)}),this.layout.addWidget(o)}_setOutput(e,t){if(e>=this._maxNumberOutputs)return;let r=this.layout.widgets[e],n=r.widgets?r.widgets.filter(o=>"renderModel"in o).pop():r,s=this.rendermime.preferredMimeType(t.data,t.trusted?"any":"ensure");Cl.currentPreferredMimetype.get(n)===s&&ds.isIsolated(s,t.metadata)===n instanceof Cl.IsolatedRenderer?n.renderModel(t):(this.layout.widgets[e].dispose(),this._insertOutput(e,t))}_insertOutput(e,t){if(e>this._maxNumberOutputs)return;let r=this.layout;if(e===this._maxNumberOutputs){let n=new Cl.TrimmedOutputs(this._maxNumberOutputs,()=>{let s=this._maxNumberOutputs;this._maxNumberOutputs=1/0,this._showTrimmedOutputs(s)},this._translator);r.insertWidget(e,this._wrappedOutput(n))}else{let n=this.createOutputItem(t);n?n.toggleClass(iJ,t.executionCount!==null):n=new fe,this._outputTracker.has(n)||this._outputTracker.add(n),r.insertWidget(e,n)}}get outputTracker(){return this._outputTracker}_showTrimmedOutputs(e){this.widgets[e].dispose();for(let t=e;t<this.model.length;t++)this._insertOutput(t,this.model.get(t));this.outputLengthChanged.emit(Math.min(this.model.length,this._maxNumberOutputs))}createOutputItem(e){let t=this.createRenderedMimetype(e);return t?this._wrappedOutput(t,e.executionCount):null}createRenderedMimetype(e){let t=this.rendermime.preferredMimeType(e.data,e.trusted?"any":"ensure");if(!t)return null;let r=this.rendermime.createRenderer(t);return ds.isIsolated(t,e.metadata)===!0&&(r=new Cl.IsolatedRenderer(r)),Cl.currentPreferredMimetype.set(r,t),r.renderModel(e).catch(s=>{let o=document.createElement("pre"),a=this._translator.load("jupyterlab");o.textContent=a.__("Javascript Error: %1",s.message),r.node.appendChild(o),r.node.className="lm-Widget jp-RenderedText",r.node.setAttribute("data-mime-type","application/vnd.jupyter.stderr")}),r}_wrappedOutput(e,t=null){let r=new Cl.OutputPanel;r.addClass(GA);let n=this.contentFactory.createOutputPrompt();return n.executionCount=t,n.addClass(KA),r.addWidget(n),e.addClass(XA),r.addWidget(e),r}};(function(i){async function e(n,s,o,a){var l;let c=!0;a&&Array.isArray(a.tags)&&a.tags.indexOf("raises-exception")!==-1&&(c=!1);let u={code:n,stop_on_error:c},d=(l=o.session)===null||l===void 0?void 0:l.kernel;if(!d)throw new Error("Session has no kernel.");let f=d.requestExecute(u,!1,a);return s.future=f,f.done}i.execute=e;function t(n,s){let o=s[n];return o&&o.isolated!==void 0?!!o.isolated:!!s.isolated}i.isIsolated=t;class r{createOutputPrompt(){return new H_}createStdin(s){return new Or(s)}}i.ContentFactory=r,i.defaultContentFactory=new r})(ds||(ds={}));H_=class extends fe{constructor(){super(),this._executionCount=null,this.addClass(tJ)}get executionCount(){return this._executionCount}set executionCount(e){this._executionCount=e,e===null?this.node.textContent="":this.node.textContent=`[${e}]:`}},Or=class extends fe{static _historyIx(e,t){let r=Or._history.get(e);if(!r)return;let n=r.length;if(t<=0)return n+t}static _historyAt(e,t){let r=Or._history.get(e);if(!r)return;let n=r.length,s=Or._historyIx(e,t);if(s!==void 0&&s<n)return r[s]}static _historyPush(e,t){let r=Or._history.get(e);r.push(t),r.length>1e3&&r.shift()}static _historySearch(e,t,r,n=!0){let s=Or._history.get(e),o=s.length,a=Or._historyIx(e,r),l=c=>c.search(t)!==-1;if(a!==void 0)if(n){if(a===0)return;let c=s.slice(0,a).findLastIndex(l);if(c!==-1)return c-o}else{if(a>=o-1)return;let c=s.slice(a+1).findIndex(l);if(c!==-1)return c-o+a+1}}constructor(e){var t;super({node:Cl.createInputWidgetNode(e.prompt,e.password)}),this._promise=new m3.PromiseDelegate,this._resolved=!1,this.addClass(nJ),this._future=e.future,this._historyIndex=0,this._historyKey=e.inputHistoryScope==="session"?e.parent_header.session:"",this._historyPat="",this._parentHeader=e.parent_header,this._password=e.password,this._trans=((t=e.translator)!==null&&t!==void 0?t:As).load("jupyterlab"),this._value=e.prompt+" ",this._input=this.node.getElementsByTagName("input")[0],e.showInputPlaceholder&&!this._password?this._input.placeholder=this._trans.__("\u2191\u2193 for history. Search history with c-\u2191/c-\u2193"):this._input.placeholder="",Or._history.has(this._historyKey)||Or._history.set(this._historyKey,[])}get value(){return this._promise.promise.then(()=>this._value)}handleEvent(e){if(e.stopPropagation(),this._resolved){e.preventDefault();return}let t=this._input;if(e.type==="keydown"){if(e.key==="Enter")this.resetSearch(),this._future.sendInputReply({status:"ok",value:t.value},this._parentHeader),this._password?this._value+="\xB7\xB7\xB7\xB7\xB7\xB7\xB7\xB7":(this._value+=t.value,Or._historyPush(this._historyKey,t.value)),this._resolved=!0,this._promise.resolve(void 0);else if(e.key==="Escape")this.resetSearch(),t.blur();else if(e.ctrlKey&&(e.key==="ArrowUp"||e.key==="ArrowDown")){this._historyPat===""&&(this._historyPat=t.value);let r=e.key==="ArrowUp",n=Or._historySearch(this._historyKey,this._historyPat,this._historyIndex,r);if(n!==void 0){let s=Or._historyAt(this._historyKey,n);s!==void 0&&(this._historyIndex===0&&(this._valueCache=t.value),this._setInputValue(s),this._historyIndex=n,e.preventDefault())}}else if(e.key==="ArrowUp"){this.resetSearch();let r=Or._historyAt(this._historyKey,this._historyIndex-1);r&&(this._historyIndex===0&&(this._valueCache=t.value),this._setInputValue(r),--this._historyIndex,e.preventDefault())}else if(e.key==="ArrowDown"&&(this.resetSearch(),this._historyIndex!==0))if(this._historyIndex===-1)this._setInputValue(this._valueCache),++this._historyIndex;else{let r=Or._historyAt(this._historyKey,this._historyIndex+1);r&&(this._setInputValue(r),++this._historyIndex)}}}resetSearch(){this._historyPat=""}onAfterAttach(e){this._input.addEventListener("keydown",this),this._input.focus()}onBeforeDetach(e){this._input.removeEventListener("keydown",this)}_setInputValue(e){this._input.value=e,this._input.setSelectionRange(e.length,e.length)}};Or._history=new Map;(function(i){function e(s,o){let a=document.createElement("div"),l=document.createElement("pre");l.className=sJ,l.textContent=s;let c=document.createElement("input");return c.className=oJ,o&&(c.type="password"),a.appendChild(l),l.appendChild(c),a}i.createInputWidgetNode=e;class t extends fe{constructor(o){super({node:document.createElement("iframe")}),this.addClass("jp-mod-isolated"),this._wrapped=o;let a=this.node;a.frameBorder="0",a.scrolling="auto",a.addEventListener("load",()=>{a.contentDocument.open(),a.contentDocument.write(this._wrapped.node.innerHTML),a.contentDocument.close();let l=a.contentDocument.body;a.style.height=`${l.scrollHeight}px`,a.heightChangeObserver=new ResizeObserver(()=>{a.style.height=`${l.scrollHeight}px`}),a.heightChangeObserver.observe(l)})}renderModel(o){return this._wrapped.renderModel(o)}}i.IsolatedRenderer=t,i.currentPreferredMimetype=new ut({name:"preferredMimetype",create:s=>""});class r extends Yd{constructor(o){super(o)}_onContext(o){this.node.focus()}onAfterAttach(o){super.onAfterAttach(o),this.node.addEventListener("contextmenu",this._onContext.bind(this))}onBeforeDetach(o){super.onAfterDetach(o),this.node.removeEventListener("contextmenu",this._onContext.bind(this))}}i.OutputPanel=r;class n extends fe{constructor(o,a,l){let c=document.createElement("div"),u=(l??As).load("jupyterlab"),d=document.createElement("button");d.type="button",d.className="jp-TrimmedOutputs-button",d.title=u.__("The first %1 are displayed",o),d.textContent=u.__("Show more outputs"),c.appendChild(d),super({node:c}),this._onClick=a,this.addClass("jp-TrimmedOutputs")}handleEvent(o){o.type==="click"&&this._onClick(o)}onAfterAttach(o){super.onAfterAttach(o),this.node.addEventListener("click",this)}onBeforeDetach(o){super.onBeforeDetach(o),this.node.removeEventListener("click",this)}}i.TrimmedOutputs=n})(Cl||(Cl={}))});var z_=P(()=>{BA();JA()});var QA,Om,eN=P(()=>{QA=N(tn());ld();Om=class extends Ns{constructor(e,t){super(),this._manager=new QA.PromiseDelegate,this._rerenderMimeModel=null,this.mimeType=e.mimeType,t&&(this.manager=t)}set manager(e){e.restored.connect(this._rerender,this),this._manager.resolve(e)}async renderModel(e){let t=e.data[this.mimeType];this.node.textContent="Loading widget...";let r=await this._manager.promise;if(t.model_id==="")return this.hide(),Promise.resolve();let n;try{n=await r.get_model(t.model_id)}catch(o){if(r.restoredStatus){this.node.textContent="Error displaying widget: model not found",this.addClass("jupyter-widgets"),console.error(o);return}this._rerenderMimeModel=e;return}this._rerenderMimeModel=null;let s;try{let o=await r.create_view(n);s=o.luminoWidget||o.pWidget}catch(o){this.node.textContent="Error displaying widget",this.addClass("jupyter-widgets"),console.error(o);return}this.node.textContent="",this.addWidget(s),s.disposed.connect(()=>{this.hide(),t.model_id=""})}dispose(){this.isDisposed||(this._manager=null,super.dispose())}_rerender(){this._rerenderMimeModel&&(this.node.textContent="",this.removeClass("jupyter-widgets"),this.renderModel(this._rerenderMimeModel))}}});function g3(i,e){return i.filter(t=>e.indexOf(t)===-1)}function tf(i,e){return(0,tN.default)(i,e)}function ri(){return p3.UUID.uuid4()}function _a(i){let e=Object.keys(i),t=[];return e.forEach(function(r){t.push(i[r])}),Promise.all(t).then(r=>{let n={};for(let s=0;s<e.length;s++)n[e[s]]=r[s];return n})}function dn(i,e){return function(r){throw e&&console.error(new Error(i)),r}}function kc(i,e,t){for(let r=0;r<e.length;r++){let n=e[r],s=t[r];s instanceof DataView||(s=new DataView(s instanceof ArrayBuffer?s:s.buffer));let o=i;for(let a=0;a<n.length-1;a++)o=o[n[a]];o[n[n.length-1]]=s}}function iN(i){var e;return(e=typeof i=="object"&&i&&"toJSON"in i)!==null&&e!==void 0?e:!1}function rN(i){return p3.JSONExt.isObject(i)}function Dm(i){let e=[],t=[];function r(s,o){if(iN(s)&&(s=s.toJSON()),Array.isArray(s)){let a=!1;for(let l=0;l<s.length;l++){let c=s[l];if(c)if(c instanceof ArrayBuffer||ArrayBuffer.isView(c))a||(s=s.slice(),a=!0),e.push(ArrayBuffer.isView(c)?c.buffer:c),t.push(o.concat([l])),s[l]=null;else{let u=r(c,o.concat([l]));u!==c&&(a||(s=s.slice(),a=!0),s[l]=u)}}}else if(rN(s))for(let a in s){let l=!1;if(Object.prototype.hasOwnProperty.call(s,a)){let c=s[a];if(c)if(c instanceof ArrayBuffer||ArrayBuffer.isView(c))l||(s=Object.assign({},s),l=!0),e.push(ArrayBuffer.isView(c)?c.buffer:c),t.push(o.concat([a])),delete s[a];else{let u=r(c,o.concat([a]));u!==c&&(l||(s=Object.assign({},s),l=!0),s[a]=u)}}}return s}return{state:r(i,[]),buffers:e,buffer_paths:t}}var p3,tN,va,v3,eu=P(()=>{p3=N(tn()),tN=N(u$());va=Object.assign||function(i,...e){for(let t=1;t<e.length;t++){let r=e[t];for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i};v3=`<svg style="height:50%;max-height: 50px;" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
<g >
  <g transform="translate(0.24520123,0.93464292)">
    <path  d="M 8.2494641,21.074514 V 5.6225142 c 0,-0.314 0.254,-0.567 0.57,-0.567 H 29.978464 c 2.388,0 9.268,5.8269998 9.268,8.3029998 v 5.5835 l -3.585749,4.407396 -2.772971,-3.535534 -5.126524,3.414213 -5.944543,-3.237436 -5.722718,3.06066 z m 30.9969999,3.8675 v 15.5835 c 0,0.314 -0.254,0.567 -0.57,0.567 H 8.8194641 c -0.315,0.002 -0.57,-0.251 -0.57,-0.566 v -15.452 l 7.8444949,2.628449 5.656854,-2.65165 4.24264,3.005204 5.833631,-3.237437 3.712311,3.944543 z" style="fill:url(#linearGradient3448);stroke:#888a85"  />
    <path d="m 30.383464,12.110514 c 4.108,0.159 7.304,-0.978 8.867,1.446 0.304,-3.9679998 -7.254,-8.8279998 -9.285,-8.4979998 0.813,0.498 0.418,7.0519998 0.418,7.0519998 z" style="fill:url(#linearGradient3445);stroke:#868a84" />
    <path enable-background="new" d="m 31.443464,11.086514 c 2.754,-0.019 4.106,-0.49 5.702,0.19 -1.299,-1.8809998 -4.358,-3.3439998 -5.728,-4.0279998 0.188,0.775 0.026,3.8379998 0.026,3.8379998 z" style="opacity:0.36930003;fill:none;stroke:url(#linearGradient3442)" />
  </g>
</g>
</svg>`});function oN(i,e,t){if(i==null)return this;let r;if(sN.JSONExt.isObject(i)?(r=i,t=e):(r={})[i]=e,t||(t={}),!this._validate(r,t))return!1;let n=t.unset,s=t.silent,o=[],a=this._changing;this._changing=!0;try{a||(this._previousAttributes=Object.assign({},this.attributes),this.changed={});let l=this.attributes,c=this.changed,u=this._previousAttributes;for(let d in r)e=r[d],tf(l[d],e)||o.push(d),tf(u[d],e)?delete c[d]:c[d]=e,n?delete l[d]:l[d]=e;if(this.id=this.get(this.idAttribute),!s){o.length&&(this._pending=t);for(let d=0;d<o.length;d++)this.trigger("change:"+o[d],this,l[o[d]],t)}if(a)return this;if(!s)for(;this._pending;)t=this._pending,this._pending=!1,this.trigger("change",this,t)}finally{this._pending=!1,this._changing=!1}return this}var sN,aN=P(()=>{eu();sN=N(tn())});var Hm,B_,zm,_3,P_,lN,ba,xl,cN,j_,dN,uN,$_,V_,F_,hN,fN,b3,W_,mN,vi=P(()=>{Hm="1.13.7",B_=typeof self=="object"&&self.self===self&&self||typeof globalThis=="object"&&globalThis.global===globalThis&&globalThis||Function("return this")()||{},zm=Array.prototype,_3=Object.prototype,P_=typeof Symbol<"u"?Symbol.prototype:null,lN=zm.push,ba=zm.slice,xl=_3.toString,cN=_3.hasOwnProperty,j_=typeof ArrayBuffer<"u",dN=typeof DataView<"u",uN=Array.isArray,$_=Object.keys,V_=Object.create,F_=j_&&ArrayBuffer.isView,hN=isNaN,fN=isFinite,b3=!{toString:null}.propertyIsEnumerable("toString"),W_=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],mN=Math.pow(2,53)-1});function Kt(i,e){return e=e==null?i.length-1:+e,function(){for(var t=Math.max(arguments.length-e,0),r=Array(t),n=0;n<t;n++)r[n]=arguments[n+e];switch(e){case 0:return i.call(this,r);case 1:return i.call(this,arguments[0],r);case 2:return i.call(this,arguments[0],arguments[1],r)}var s=Array(e+1);for(n=0;n<e;n++)s[n]=arguments[n];return s[e]=r,i.apply(this,s)}}var Un=P(()=>{});function un(i){var e=typeof i;return e==="function"||e==="object"&&!!i}var Tc=P(()=>{});function C3(i){return i===null}var pN=P(()=>{});function rf(i){return i===void 0}var Z_=P(()=>{});function nf(i){return i===!0||i===!1||xl.call(i)==="[object Boolean]"}var q_=P(()=>{vi()});function x3(i){return!!(i&&i.nodeType===1)}var gN=P(()=>{});function Ht(i){var e="[object "+i+"]";return function(t){return xl.call(t)===e}}var Gr=P(()=>{vi()});var tu,w3=P(()=>{Gr();tu=Ht("String")});var Bm,U_=P(()=>{Gr();Bm=Ht("Number")});var G_,vN=P(()=>{Gr();G_=Ht("Date")});var X_,_N=P(()=>{Gr();X_=Ht("RegExp")});var K_,bN=P(()=>{Gr();K_=Ht("Error")});var Pm,Y_=P(()=>{Gr();Pm=Ht("Symbol")});var jm,J_=P(()=>{Gr();jm=Ht("ArrayBuffer")});var CN,cJ,ni,us=P(()=>{Gr();vi();CN=Ht("Function"),cJ=B_.document&&B_.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof cJ!="function"&&(CN=function(i){return typeof i=="function"||!1});ni=CN});var Q_,xN=P(()=>{Gr();Q_=Ht("Object")});var y3,sf,of=P(()=>{vi();xN();y3=dN&&(!/\[native code\]/.test(String(DataView))||Q_(new DataView(new ArrayBuffer(8)))),sf=typeof Map<"u"&&Q_(new Map)});function uJ(i){return i!=null&&ni(i.getInt8)&&jm(i.buffer)}var dJ,Ac,M3=P(()=>{Gr();us();J_();of();dJ=Ht("DataView");Ac=y3?uJ:dJ});var Rn,Nc=P(()=>{vi();Gr();Rn=uN||Ht("Array")});function Xr(i,e){return i!=null&&cN.call(i,e)}var wl=P(()=>{vi()});var eb,iu,L3=P(()=>{Gr();wl();eb=Ht("Arguments");(function(){eb(arguments)||(eb=function(i){return Xr(i,"callee")})})();iu=eb});function S3(i){return!Pm(i)&&fN(i)&&!isNaN(parseFloat(i))}var wN=P(()=>{vi();Y_()});function af(i){return Bm(i)&&hN(i)}var tb=P(()=>{vi();U_()});function lf(i){return function(){return i}}var ib=P(()=>{});function $m(i){return function(e){var t=i(e);return typeof t=="number"&&t>=0&&t<=mN}}var rb=P(()=>{vi()});function Vm(i){return function(e){return e?.[i]}}var nb=P(()=>{});var ru,E3=P(()=>{nb();ru=Vm("byteLength")});var yN,MN=P(()=>{rb();E3();yN=$m(ru)});function fJ(i){return F_?F_(i)&&!Ac(i):yN(i)&&hJ.test(xl.call(i))}var hJ,Fm,sb=P(()=>{vi();M3();ib();MN();hJ=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;Fm=j_?fJ:lf(!1)});var ci,hs=P(()=>{nb();ci=Vm("length")});function mJ(i){for(var e={},t=i.length,r=0;r<t;++r)e[i[r]]=!0;return{contains:function(n){return e[n]===!0},push:function(n){return e[n]=!0,i.push(n)}}}function Wm(i,e){e=mJ(e);var t=W_.length,r=i.constructor,n=ni(r)&&r.prototype||_3,s="constructor";for(Xr(i,s)&&!e.contains(s)&&e.push(s);t--;)s=W_[t],s in i&&i[s]!==n[s]&&!e.contains(s)&&e.push(s)}var ob=P(()=>{vi();us();wl()});function Et(i){if(!un(i))return[];if($_)return $_(i);var e=[];for(var t in i)Xr(i,t)&&e.push(t);return b3&&Wm(i,e),e}var Dr=P(()=>{Tc();vi();wl();ob()});function R3(i){if(i==null)return!0;var e=ci(i);return typeof e=="number"&&(Rn(i)||tu(i)||iu(i))?e===0:ci(Et(i))===0}var LN=P(()=>{hs();Nc();w3();L3();Dr()});function cf(i,e){var t=Et(e),r=t.length;if(i==null)return!r;for(var n=Object(i),s=0;s<r;s++){var o=t[s];if(e[o]!==n[o]||!(o in n))return!1}return!0}var ab=P(()=>{Dr()});function mt(i){if(i instanceof mt)return i;if(!(this instanceof mt))return new mt(i);this._wrapped=i}var Gn=P(()=>{vi();mt.VERSION=Hm;mt.prototype.value=function(){return this._wrapped};mt.prototype.valueOf=mt.prototype.toJSON=mt.prototype.value;mt.prototype.toString=function(){return String(this._wrapped)}});function I3(i){return new Uint8Array(i.buffer||i,i.byteOffset||0,ru(i))}var SN=P(()=>{E3()});function lb(i,e,t,r){if(i===e)return i!==0||1/i===1/e;if(i==null||e==null)return!1;if(i!==i)return e!==e;var n=typeof i;return n!=="function"&&n!=="object"&&typeof e!="object"?!1:RN(i,e,t,r)}function RN(i,e,t,r){i instanceof mt&&(i=i._wrapped),e instanceof mt&&(e=e._wrapped);var n=xl.call(i);if(n!==xl.call(e))return!1;if(y3&&n=="[object Object]"&&Ac(i)){if(!Ac(e))return!1;n=EN}switch(n){case"[object RegExp]":case"[object String]":return""+i==""+e;case"[object Number]":return+i!=+i?+e!=+e:+i==0?1/+i===1/e:+i==+e;case"[object Date]":case"[object Boolean]":return+i==+e;case"[object Symbol]":return P_.valueOf.call(i)===P_.valueOf.call(e);case"[object ArrayBuffer]":case EN:return RN(I3(i),I3(e),t,r)}var s=n==="[object Array]";if(!s&&Fm(i)){var o=ru(i);if(o!==ru(e))return!1;if(i.buffer===e.buffer&&i.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof i!="object"||typeof e!="object")return!1;var a=i.constructor,l=e.constructor;if(a!==l&&!(ni(a)&&a instanceof a&&ni(l)&&l instanceof l)&&"constructor"in i&&"constructor"in e)return!1}t=t||[],r=r||[];for(var c=t.length;c--;)if(t[c]===i)return r[c]===e;if(t.push(i),r.push(e),s){if(c=i.length,c!==e.length)return!1;for(;c--;)if(!lb(i[c],e[c],t,r))return!1}else{var u=Et(i),d;if(c=u.length,Et(e).length!==c)return!1;for(;c--;)if(d=u[c],!(Xr(e,d)&&lb(i[d],e[d],t,r)))return!1}return t.pop(),r.pop(),!0}function k3(i,e){return lb(i,e)}var EN,IN=P(()=>{Gn();vi();E3();sb();us();of();M3();Dr();wl();SN();EN="[object DataView]"});function Gs(i){if(!un(i))return[];var e=[];for(var t in i)e.push(t);return b3&&Wm(i,e),e}var df=P(()=>{Tc();vi();ob()});function uf(i){var e=ci(i);return function(t){if(t==null)return!1;var r=Gs(t);if(ci(r))return!1;for(var n=0;n<e;n++)if(!ni(t[i[n]]))return!1;return i!==ub||!ni(t[cb])}}var cb,kN,db,TN,AN,ub,NN,T3=P(()=>{hs();us();df();cb="forEach",kN="has",db=["clear","delete"],TN=["get",kN,"set"],AN=db.concat(cb,TN),ub=db.concat(TN),NN=["add"].concat(db,cb,kN)});var hb,ON=P(()=>{Gr();of();T3();hb=sf?uf(AN):Ht("Map")});var fb,DN=P(()=>{Gr();of();T3();fb=sf?uf(ub):Ht("WeakMap")});var mb,HN=P(()=>{Gr();of();T3();mb=sf?uf(NN):Ht("Set")});var pb,zN=P(()=>{Gr();pb=Ht("WeakSet")});function Xn(i){for(var e=Et(i),t=e.length,r=Array(t),n=0;n<t;n++)r[n]=i[e[n]];return r}var nu=P(()=>{Dr()});function A3(i){for(var e=Et(i),t=e.length,r=Array(t),n=0;n<t;n++)r[n]=[e[n],i[e[n]]];return r}var BN=P(()=>{Dr()});function hf(i){for(var e={},t=Et(i),r=0,n=t.length;r<n;r++)e[i[t[r]]]=t[r];return e}var gb=P(()=>{Dr()});function su(i){var e=[];for(var t in i)ni(i[t])&&e.push(t);return e.sort()}var vb=P(()=>{us()});function ou(i,e){return function(t){var r=arguments.length;if(e&&(t=Object(t)),r<2||t==null)return t;for(var n=1;n<r;n++)for(var s=arguments[n],o=i(s),a=o.length,l=0;l<a;l++){var c=o[l];(!e||t[c]===void 0)&&(t[c]=s[c])}return t}}var N3=P(()=>{});var Zm,_b=P(()=>{N3();df();Zm=ou(Gs)});var Oc,O3=P(()=>{N3();Dr();Oc=ou(Et)});var qm,bb=P(()=>{N3();df();qm=ou(Gs,!0)});function pJ(){return function(){}}function Um(i){if(!un(i))return{};if(V_)return V_(i);var e=pJ();e.prototype=i;var t=new e;return e.prototype=null,t}var Cb=P(()=>{Tc();vi()});function D3(i,e){var t=Um(i);return e&&Oc(t,e),t}var PN=P(()=>{Cb();O3()});function H3(i){return un(i)?Rn(i)?i.slice():Zm({},i):i}var jN=P(()=>{Tc();Nc();_b()});function z3(i,e){return e(i),i}var $N=P(()=>{});function Gm(i){return Rn(i)?i:[i]}var xb=P(()=>{Gn();Nc();mt.toPath=Gm});function ko(i){return mt.toPath(i)}var ff=P(()=>{Gn();xb()});function au(i,e){for(var t=e.length,r=0;r<t;r++){if(i==null)return;i=i[e[r]]}return t?i:void 0}var B3=P(()=>{});function mf(i,e,t){var r=au(i,ko(e));return rf(r)?t:r}var wb=P(()=>{ff();B3();Z_()});function P3(i,e){e=ko(e);for(var t=e.length,r=0;r<t;r++){var n=e[r];if(!Xr(i,n))return!1;i=i[n]}return!!t}var VN=P(()=>{wl();ff()});function Dc(i){return i}var j3=P(()=>{});function To(i){return i=Oc({},i),function(e){return cf(e,i)}}var Xm=P(()=>{O3();ab()});function Hc(i){return i=ko(i),function(e){return au(e,i)}}var $3=P(()=>{B3();ff()});function Ao(i,e,t){if(e===void 0)return i;switch(t??3){case 1:return function(r){return i.call(e,r)};case 3:return function(r,n,s){return i.call(e,r,n,s)};case 4:return function(r,n,s,o){return i.call(e,r,n,s,o)}}return function(){return i.apply(e,arguments)}}var pf=P(()=>{});function Km(i,e,t){return i==null?Dc:ni(i)?Ao(i,e,t):un(i)&&!Rn(i)?To(i):Hc(i)}var yb=P(()=>{j3();us();Tc();Nc();Xm();$3();pf()});function lu(i,e){return Km(i,e,1/0)}var Mb=P(()=>{Gn();yb();mt.iteratee=lu});function Yt(i,e,t){return mt.iteratee!==lu?mt.iteratee(i,e):Km(i,e,t)}var In=P(()=>{Gn();yb();Mb()});function V3(i,e,t){e=Yt(e,t);for(var r=Et(i),n=r.length,s={},o=0;o<n;o++){var a=r[o];s[a]=e(i[a],a,i)}return s}var FN=P(()=>{In();Dr()});function gf(){}var Lb=P(()=>{});function F3(i){return i==null?gf:function(e){return mf(i,e)}}var WN=P(()=>{Lb();wb()});function W3(i,e,t){var r=Array(Math.max(0,i));e=Ao(e,t,1);for(var n=0;n<i;n++)r[n]=e(n);return r}var ZN=P(()=>{pf()});function cu(i,e){return e==null&&(e=i,i=0),i+Math.floor(Math.random()*(e-i+1))}var Sb=P(()=>{});var yl,Z3=P(()=>{yl=Date.now||function(){return new Date().getTime()}});function Ym(i){var e=function(s){return i[s]},t="(?:"+Et(i).join("|")+")",r=RegExp(t),n=RegExp(t,"g");return function(s){return s=s==null?"":""+s,r.test(s)?s.replace(n,e):s}}var Eb=P(()=>{Dr()});var q3,Rb=P(()=>{q3={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}});var Ib,qN=P(()=>{Eb();Rb();Ib=Ym(q3)});var UN,GN=P(()=>{gb();Rb();UN=hf(q3)});var kb,XN=P(()=>{Eb();GN();kb=Ym(UN)});var Tb,Ab=P(()=>{Gn();Tb=mt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g}});function _J(i){return"\\"+gJ[i]}function U3(i,e,t){!e&&t&&(e=t),e=qm({},e,mt.templateSettings);var r=RegExp([(e.escape||Nb).source,(e.interpolate||Nb).source,(e.evaluate||Nb).source].join("|")+"|$","g"),n=0,s="__p+='";i.replace(r,function(c,u,d,f,h){return s+=i.slice(n,h).replace(vJ,_J),n=h+c.length,u?s+=`'+
((__t=(`+u+`))==null?'':_.escape(__t))+
'`:d?s+=`'+
((__t=(`+d+`))==null?'':__t)+
'`:f&&(s+=`';
`+f+`
__p+='`),c}),s+=`';
`;var o=e.variable;if(o){if(!bJ.test(o))throw new Error("variable is not a bare identifier: "+o)}else s=`with(obj||{}){
`+s+`}
`,o="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var a;try{a=new Function(o,"_",s)}catch(c){throw c.source=s,c}var l=function(c){return a.call(this,c,mt)};return l.source="function("+o+`){
`+s+"}",l}var Nb,gJ,vJ,bJ,KN=P(()=>{bb();Gn();Ab();Nb=/(.)^/,gJ={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},vJ=/\\|'|\r|\n|\u2028|\u2029/g;bJ=/^\s*(\w|\$)+\s*$/});function G3(i,e,t){e=ko(e);var r=e.length;if(!r)return ni(t)?t.call(i):t;for(var n=0;n<r;n++){var s=i?.[e[n]];s===void 0&&(s=t,n=r),i=ni(s)?s.call(i):s}return i}var YN=P(()=>{us();ff()});function X3(i){var e=++CJ+"";return i?i+e:e}var CJ,JN=P(()=>{CJ=0});function K3(i){var e=mt(i);return e._chain=!0,e}var QN=P(()=>{Gn()});function Jm(i,e,t,r,n){if(!(r instanceof e))return i.apply(t,n);var s=Um(i.prototype),o=i.apply(s,n);return un(o)?o:s}var Ob=P(()=>{Cb();Tc()});var Db,Ml,Qm=P(()=>{Un();Ob();Gn();Db=Kt(function(i,e){var t=Db.placeholder,r=function(){for(var n=0,s=e.length,o=Array(s),a=0;a<s;a++)o[a]=e[a]===t?arguments[n++]:e[a];for(;n<arguments.length;)o.push(arguments[n++]);return Jm(i,r,this,this,o)};return r});Db.placeholder=mt;Ml=Db});var e2,Hb=P(()=>{Un();us();Ob();e2=Kt(function(i,e,t){if(!ni(i))throw new TypeError("Bind must be called on a function");var r=Kt(function(n){return Jm(i,r,e,this,t.concat(n))});return r})});var di,Kn=P(()=>{rb();hs();di=$m(ci)});function Yn(i,e,t,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(i);for(var n=r.length,s=0,o=ci(i);s<o;s++){var a=i[s];if(di(a)&&(Rn(a)||iu(a)))if(e>1)Yn(a,e-1,t,r),n=r.length;else for(var l=0,c=a.length;l<c;)r[n++]=a[l++];else t||(r[n++]=a)}return r}var du=P(()=>{hs();Kn();Nc();L3()});var zb,eO=P(()=>{Un();du();Hb();zb=Kt(function(i,e){e=Yn(e,!1,!1);var t=e.length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var r=e[t];i[r]=e2(i[r],i)}return i})});function Y3(i,e){var t=function(r){var n=t.cache,s=""+(e?e.apply(this,arguments):r);return Xr(n,s)||(n[s]=i.apply(this,arguments)),n[s]};return t.cache={},t}var tO=P(()=>{wl()});var t2,Bb=P(()=>{Un();t2=Kt(function(i,e,t){return setTimeout(function(){return i.apply(null,t)},e)})});var Pb,iO=P(()=>{Qm();Bb();Gn();Pb=Ml(t2,mt,1)});function J3(i,e,t){var r,n,s,o,a=0;t||(t={});var l=function(){a=t.leading===!1?0:yl(),r=null,o=i.apply(n,s),r||(n=s=null)},c=function(){var u=yl();!a&&t.leading===!1&&(a=u);var d=e-(u-a);return n=this,s=arguments,d<=0||d>e?(r&&(clearTimeout(r),r=null),a=u,o=i.apply(n,s),r||(n=s=null)):!r&&t.trailing!==!1&&(r=setTimeout(l,d)),o};return c.cancel=function(){clearTimeout(r),a=0,r=n=s=null},c}var rO=P(()=>{Z3()});function Q3(i,e,t){var r,n,s,o,a,l=function(){var u=yl()-n;e>u?r=setTimeout(l,e-u):(r=null,t||(o=i.apply(a,s)),r||(s=a=null))},c=Kt(function(u){return a=this,s=u,n=yl(),r||(r=setTimeout(l,e),t&&(o=i.apply(a,s))),o});return c.cancel=function(){clearTimeout(r),r=s=a=null},c}var nO=P(()=>{Un();Z3()});function e7(i,e){return Ml(e,i)}var sO=P(()=>{Qm()});function zc(i){return function(){return!i.apply(this,arguments)}}var t7=P(()=>{});function i7(){var i=arguments,e=i.length-1;return function(){for(var t=e,r=i[e].apply(this,arguments);t--;)r=i[t].call(this,r);return r}}var oO=P(()=>{});function r7(i,e){return function(){if(--i<1)return e.apply(this,arguments)}}var aO=P(()=>{});function vf(i,e){var t;return function(){return--i>0&&(t=e.apply(this,arguments)),i<=1&&(e=null),t}}var jb=P(()=>{});var $b,lO=P(()=>{Qm();jb();$b=Ml(vf,2)});function _f(i,e,t){e=Yt(e,t);for(var r=Et(i),n,s=0,o=r.length;s<o;s++)if(n=r[s],e(i[n],n,i))return n}var Vb=P(()=>{In();Dr()});function i2(i){return function(e,t,r){t=Yt(t,r);for(var n=ci(e),s=i>0?0:n-1;s>=0&&s<n;s+=i)if(t(e[s],s,e))return s;return-1}}var Fb=P(()=>{In();hs()});var uu,n7=P(()=>{Fb();uu=i2(1)});var r2,Wb=P(()=>{Fb();r2=i2(-1)});function bf(i,e,t,r){t=Yt(t,r,1);for(var n=t(e),s=0,o=ci(i);s<o;){var a=Math.floor((s+o)/2);t(i[a])<n?s=a+1:o=a}return s}var Zb=P(()=>{In();hs()});function n2(i,e,t){return function(r,n,s){var o=0,a=ci(r);if(typeof s=="number")i>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(t&&s&&a)return s=t(r,n),r[s]===n?s:-1;if(n!==n)return s=e(ba.call(r,o,a),af),s>=0?s+o:-1;for(s=i>0?o:a-1;s>=0&&s<a;s+=i)if(r[s]===n)return s;return-1}}var qb=P(()=>{hs();vi();tb()});var s2,Ub=P(()=>{Zb();n7();qb();s2=n2(1,uu,bf)});var Gb,cO=P(()=>{Wb();qb();Gb=n2(-1,r2)});function hu(i,e,t){var r=di(i)?uu:_f,n=r(i,e,t);if(n!==void 0&&n!==-1)return i[n]}var Xb=P(()=>{Kn();n7();Vb()});function s7(i,e){return hu(i,To(e))}var dO=P(()=>{Xb();Xm()});function Hr(i,e,t){e=Ao(e,t);var r,n;if(di(i))for(r=0,n=i.length;r<n;r++)e(i[r],r,i);else{var s=Et(i);for(r=0,n=s.length;r<n;r++)e(i[s[r]],s[r],i)}return i}var Bc=P(()=>{pf();Kn();Dr()});function kn(i,e,t){e=Yt(e,t);for(var r=!di(i)&&Et(i),n=(r||i).length,s=Array(n),o=0;o<n;o++){var a=r?r[o]:o;s[o]=e(i[a],a,i)}return s}var fu=P(()=>{In();Kn();Dr()});function o2(i){var e=function(t,r,n,s){var o=!di(t)&&Et(t),a=(o||t).length,l=i>0?0:a-1;for(s||(n=t[o?o[l]:l],l+=i);l>=0&&l<a;l+=i){var c=o?o[l]:l;n=r(n,t[c],c,t)}return n};return function(t,r,n,s){var o=arguments.length>=3;return e(t,Ao(r,s,4),n,o)}}var Kb=P(()=>{Kn();Dr();pf()});var a2,uO=P(()=>{Kb();a2=o2(1)});var o7,hO=P(()=>{Kb();o7=o2(-1)});function fs(i,e,t){var r=[];return e=Yt(e,t),Hr(i,function(n,s,o){e(n,s,o)&&r.push(n)}),r}var Cf=P(()=>{In();Bc()});function a7(i,e,t){return fs(i,zc(Yt(e)),t)}var fO=P(()=>{Cf();t7();In()});function l2(i,e,t){e=Yt(e,t);for(var r=!di(i)&&Et(i),n=(r||i).length,s=0;s<n;s++){var o=r?r[s]:s;if(!e(i[o],o,i))return!1}return!0}var mO=P(()=>{In();Kn();Dr()});function c2(i,e,t){e=Yt(e,t);for(var r=!di(i)&&Et(i),n=(r||i).length,s=0;s<n;s++){var o=r?r[s]:s;if(e(i[o],o,i))return!0}return!1}var pO=P(()=>{In();Kn();Dr()});function hn(i,e,t,r){return di(i)||(i=Xn(i)),(typeof t!="number"||r)&&(t=0),s2(i,e,t)>=0}var xf=P(()=>{Kn();nu();Ub()});var Yb,gO=P(()=>{Un();us();fu();B3();ff();Yb=Kt(function(i,e,t){var r,n;return ni(e)?n=e:(e=ko(e),r=e.slice(0,-1),e=e[e.length-1]),kn(i,function(s){var o=n;if(!o){if(r&&r.length&&(s=au(s,r)),s==null)return;o=s[e]}return o==null?o:o.apply(s,t)})})});function Pc(i,e){return kn(i,Hc(e))}var l7=P(()=>{fu();$3()});function c7(i,e){return fs(i,To(e))}var vO=P(()=>{Cf();Xm()});function wf(i,e,t){var r=-1/0,n=-1/0,s,o;if(e==null||typeof e=="number"&&typeof i[0]!="object"&&i!=null){i=di(i)?i:Xn(i);for(var a=0,l=i.length;a<l;a++)s=i[a],s!=null&&s>r&&(r=s)}else e=Yt(e,t),Hr(i,function(c,u,d){o=e(c,u,d),(o>n||o===-1/0&&r===-1/0)&&(r=c,n=o)});return r}var Jb=P(()=>{Kn();nu();In();Bc()});function d7(i,e,t){var r=1/0,n=1/0,s,o;if(e==null||typeof e=="number"&&typeof i[0]!="object"&&i!=null){i=di(i)?i:Xn(i);for(var a=0,l=i.length;a<l;a++)s=i[a],s!=null&&s<r&&(r=s)}else e=Yt(e,t),Hr(i,function(c,u,d){o=e(c,u,d),(o<n||o===1/0&&r===1/0)&&(r=c,n=o)});return r}var _O=P(()=>{Kn();nu();In();Bc()});function yf(i){return i?Rn(i)?ba.call(i):tu(i)?i.match(xJ):di(i)?kn(i,Dc):Xn(i):[]}var xJ,Qb=P(()=>{Nc();vi();w3();Kn();fu();j3();nu();xJ=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g});function Mf(i,e,t){if(e==null||t)return di(i)||(i=Xn(i)),i[cu(i.length-1)];var r=yf(i),n=ci(r);e=Math.max(Math.min(e,n),0);for(var s=n-1,o=0;o<e;o++){var a=cu(o,s),l=r[o];r[o]=r[a],r[a]=l}return r.slice(0,e)}var eC=P(()=>{Kn();nu();hs();Sb();Qb()});function u7(i){return Mf(i,1/0)}var bO=P(()=>{eC()});function h7(i,e,t){var r=0;return e=Yt(e,t),Pc(kn(i,function(n,s,o){return{value:n,index:r++,criteria:e(n,s,o)}}).sort(function(n,s){var o=n.criteria,a=s.criteria;if(o!==a){if(o>a||o===void 0)return 1;if(o<a||a===void 0)return-1}return n.index-s.index}),"value")}var CO=P(()=>{In();l7();fu()});function Ll(i,e){return function(t,r,n){var s=e?[[],[]]:{};return r=Yt(r,n),Hr(t,function(o,a){var l=r(o,a,t);i(s,o,l)}),s}}var d2=P(()=>{In();Bc()});var tC,xO=P(()=>{d2();wl();tC=Ll(function(i,e,t){Xr(i,t)?i[t].push(e):i[t]=[e]})});var iC,wO=P(()=>{d2();iC=Ll(function(i,e,t){i[t]=e})});var rC,yO=P(()=>{d2();wl();rC=Ll(function(i,e,t){Xr(i,t)?i[t]++:i[t]=1})});var nC,MO=P(()=>{d2();nC=Ll(function(i,e,t){i[t?0:1].push(e)},!0)});function f7(i){return i==null?0:di(i)?i.length:Et(i).length}var LO=P(()=>{Kn();Dr()});function sC(i,e,t){return e in t}var SO=P(()=>{});var u2,oC=P(()=>{Un();us();pf();df();SO();du();u2=Kt(function(i,e){var t={},r=e[0];if(i==null)return t;ni(r)?(e.length>1&&(r=Ao(r,e[1])),e=Gs(i)):(r=sC,e=Yn(e,!1,!1),i=Object(i));for(var n=0,s=e.length;n<s;n++){var o=e[n],a=i[o];r(a,o,i)&&(t[o]=a)}return t})});var aC,EO=P(()=>{Un();us();t7();fu();du();xf();oC();aC=Kt(function(i,e){var t=e[0],r;return ni(t)?(t=zc(t),e.length>1&&(r=e[1])):(e=kn(Yn(e,!1,!1),String),t=function(n,s){return!hn(e,s)}),u2(i,t,r)})});function Lf(i,e,t){return ba.call(i,0,Math.max(0,i.length-(e==null||t?1:e)))}var lC=P(()=>{vi()});function Sf(i,e,t){return i==null||i.length<1?e==null||t?void 0:[]:e==null||t?i[0]:Lf(i,i.length-e)}var RO=P(()=>{lC()});function jc(i,e,t){return ba.call(i,e==null||t?1:e)}var cC=P(()=>{vi()});function m7(i,e,t){return i==null||i.length<1?e==null||t?void 0:[]:e==null||t?i[i.length-1]:jc(i,Math.max(0,i.length-e))}var IO=P(()=>{cC()});function p7(i){return fs(i,Boolean)}var kO=P(()=>{Cf()});function g7(i,e){return Yn(i,e,!1)}var TO=P(()=>{du()});var h2,dC=P(()=>{Un();du();Cf();xf();h2=Kt(function(i,e){return e=Yn(e,!0,!0),fs(i,function(t){return!hn(e,t)})})});var uC,AO=P(()=>{Un();dC();uC=Kt(function(i,e){return h2(i,e)})});function mu(i,e,t,r){nf(e)||(r=t,t=e,e=!1),t!=null&&(t=Yt(t,r));for(var n=[],s=[],o=0,a=ci(i);o<a;o++){var l=i[o],c=t?t(l,o,i):l;e&&!t?((!o||s!==c)&&n.push(l),s=c):t?hn(s,c)||(s.push(c),n.push(l)):hn(n,l)||n.push(l)}return n}var hC=P(()=>{q_();In();hs();xf()});var fC,NO=P(()=>{Un();hC();du();fC=Kt(function(i){return mu(Yn(i,!0,!0))})});function v7(i){for(var e=[],t=arguments.length,r=0,n=ci(i);r<n;r++){var s=i[r];if(!hn(e,s)){var o;for(o=1;o<t&&hn(arguments[o],s);o++);o===t&&e.push(s)}}return e}var OO=P(()=>{hs();xf()});function pu(i){for(var e=i&&wf(i,ci).length||0,t=Array(e),r=0;r<e;r++)t[r]=Pc(i,r);return t}var mC=P(()=>{Jb();hs();l7()});var pC,DO=P(()=>{Un();mC();pC=Kt(pu)});function _7(i,e){for(var t={},r=0,n=ci(i);r<n;r++)e?t[i[r]]=e[r]:t[i[r][0]]=i[r][1];return t}var HO=P(()=>{hs()});function b7(i,e,t){e==null&&(e=i||0,i=0),t||(t=e<i?-1:1);for(var r=Math.max(Math.ceil((e-i)/t),0),n=Array(r),s=0;s<r;s++,i+=t)n[s]=i;return n}var zO=P(()=>{});function C7(i,e){if(e==null||e<1)return[];for(var t=[],r=0,n=i.length;r<n;)t.push(ba.call(i,r,r+=e));return t}var BO=P(()=>{vi()});function Ef(i,e){return i._chain?mt(e).chain():e}var gC=P(()=>{Gn()});function Rf(i){return Hr(su(i),function(e){var t=mt[e]=i[e];mt.prototype[e]=function(){var r=[this._wrapped];return lN.apply(r,arguments),Ef(this,t.apply(mt,r))}}),mt}var PO=P(()=>{Gn();Bc();vb();vi();gC()});var jO,$O=P(()=>{Gn();Bc();vi();gC();Hr(["pop","push","reverse","shift","sort","splice","unshift"],function(i){var e=zm[i];mt.prototype[i]=function(){var t=this._wrapped;return t!=null&&(e.apply(t,arguments),(i==="shift"||i==="splice")&&t.length===0&&delete t[0]),Ef(this,t)}});Hr(["concat","join","slice"],function(i){var e=zm[i];mt.prototype[i]=function(){var t=this._wrapped;return t!=null&&(t=e.apply(t,arguments)),Ef(this,t)}});jO=mt});var vC={};qo(vC,{VERSION:()=>Hm,after:()=>r7,all:()=>l2,allKeys:()=>Gs,any:()=>c2,assign:()=>Oc,before:()=>vf,bind:()=>e2,bindAll:()=>zb,chain:()=>K3,chunk:()=>C7,clone:()=>H3,collect:()=>kn,compact:()=>p7,compose:()=>i7,constant:()=>lf,contains:()=>hn,countBy:()=>rC,create:()=>D3,debounce:()=>Q3,default:()=>jO,defaults:()=>qm,defer:()=>Pb,delay:()=>t2,detect:()=>hu,difference:()=>h2,drop:()=>jc,each:()=>Hr,escape:()=>Ib,every:()=>l2,extend:()=>Zm,extendOwn:()=>Oc,filter:()=>fs,find:()=>hu,findIndex:()=>uu,findKey:()=>_f,findLastIndex:()=>r2,findWhere:()=>s7,first:()=>Sf,flatten:()=>g7,foldl:()=>a2,foldr:()=>o7,forEach:()=>Hr,functions:()=>su,get:()=>mf,groupBy:()=>tC,has:()=>P3,head:()=>Sf,identity:()=>Dc,include:()=>hn,includes:()=>hn,indexBy:()=>iC,indexOf:()=>s2,initial:()=>Lf,inject:()=>a2,intersection:()=>v7,invert:()=>hf,invoke:()=>Yb,isArguments:()=>iu,isArray:()=>Rn,isArrayBuffer:()=>jm,isBoolean:()=>nf,isDataView:()=>Ac,isDate:()=>G_,isElement:()=>x3,isEmpty:()=>R3,isEqual:()=>k3,isError:()=>K_,isFinite:()=>S3,isFunction:()=>ni,isMap:()=>hb,isMatch:()=>cf,isNaN:()=>af,isNull:()=>C3,isNumber:()=>Bm,isObject:()=>un,isRegExp:()=>X_,isSet:()=>mb,isString:()=>tu,isSymbol:()=>Pm,isTypedArray:()=>Fm,isUndefined:()=>rf,isWeakMap:()=>fb,isWeakSet:()=>pb,iteratee:()=>lu,keys:()=>Et,last:()=>m7,lastIndexOf:()=>Gb,map:()=>kn,mapObject:()=>V3,matcher:()=>To,matches:()=>To,max:()=>wf,memoize:()=>Y3,methods:()=>su,min:()=>d7,mixin:()=>Rf,negate:()=>zc,noop:()=>gf,now:()=>yl,object:()=>_7,omit:()=>aC,once:()=>$b,pairs:()=>A3,partial:()=>Ml,partition:()=>nC,pick:()=>u2,pluck:()=>Pc,property:()=>Hc,propertyOf:()=>F3,random:()=>cu,range:()=>b7,reduce:()=>a2,reduceRight:()=>o7,reject:()=>a7,rest:()=>jc,restArguments:()=>Kt,result:()=>G3,sample:()=>Mf,select:()=>fs,shuffle:()=>u7,size:()=>f7,some:()=>c2,sortBy:()=>h7,sortedIndex:()=>bf,tail:()=>jc,take:()=>Sf,tap:()=>z3,template:()=>U3,templateSettings:()=>Tb,throttle:()=>J3,times:()=>W3,toArray:()=>yf,toPath:()=>Gm,transpose:()=>pu,unescape:()=>kb,union:()=>fC,uniq:()=>mu,unique:()=>mu,uniqueId:()=>X3,unzip:()=>pu,values:()=>Xn,where:()=>c7,without:()=>uC,wrap:()=>e7,zip:()=>pC});var x7=P(()=>{vi();Un();Tc();pN();Z_();q_();gN();w3();U_();vN();_N();bN();Y_();J_();M3();Nc();us();L3();wN();tb();sb();LN();ab();IN();ON();DN();HN();zN();Dr();df();nu();BN();gb();vb();_b();O3();bb();PN();jN();$N();wb();VN();FN();j3();ib();Lb();xb();$3();WN();Xm();ZN();Sb();Z3();qN();XN();Ab();KN();YN();JN();QN();Mb();Qm();Hb();eO();tO();Bb();iO();rO();nO();sO();t7();oO();aO();jb();lO();Vb();n7();Wb();Zb();Ub();cO();Xb();dO();Bc();fu();uO();hO();Cf();fO();mO();pO();xf();gO();l7();vO();Jb();_O();bO();eC();CO();xO();wO();yO();MO();Qb();LO();oC();EO();RO();lC();IO();cC();kO();TO();AO();hC();NO();OO();dC();mC();DO();HO();zO();BO();PO();$O()});var _C,VO,FO=P(()=>{x7();x7();_C=Rf(vC);_C._=_C;VO=_C});var WO={};qo(WO,{VERSION:()=>Hm,after:()=>r7,all:()=>l2,allKeys:()=>Gs,any:()=>c2,assign:()=>Oc,before:()=>vf,bind:()=>e2,bindAll:()=>zb,chain:()=>K3,chunk:()=>C7,clone:()=>H3,collect:()=>kn,compact:()=>p7,compose:()=>i7,constant:()=>lf,contains:()=>hn,countBy:()=>rC,create:()=>D3,debounce:()=>Q3,default:()=>VO,defaults:()=>qm,defer:()=>Pb,delay:()=>t2,detect:()=>hu,difference:()=>h2,drop:()=>jc,each:()=>Hr,escape:()=>Ib,every:()=>l2,extend:()=>Zm,extendOwn:()=>Oc,filter:()=>fs,find:()=>hu,findIndex:()=>uu,findKey:()=>_f,findLastIndex:()=>r2,findWhere:()=>s7,first:()=>Sf,flatten:()=>g7,foldl:()=>a2,foldr:()=>o7,forEach:()=>Hr,functions:()=>su,get:()=>mf,groupBy:()=>tC,has:()=>P3,head:()=>Sf,identity:()=>Dc,include:()=>hn,includes:()=>hn,indexBy:()=>iC,indexOf:()=>s2,initial:()=>Lf,inject:()=>a2,intersection:()=>v7,invert:()=>hf,invoke:()=>Yb,isArguments:()=>iu,isArray:()=>Rn,isArrayBuffer:()=>jm,isBoolean:()=>nf,isDataView:()=>Ac,isDate:()=>G_,isElement:()=>x3,isEmpty:()=>R3,isEqual:()=>k3,isError:()=>K_,isFinite:()=>S3,isFunction:()=>ni,isMap:()=>hb,isMatch:()=>cf,isNaN:()=>af,isNull:()=>C3,isNumber:()=>Bm,isObject:()=>un,isRegExp:()=>X_,isSet:()=>mb,isString:()=>tu,isSymbol:()=>Pm,isTypedArray:()=>Fm,isUndefined:()=>rf,isWeakMap:()=>fb,isWeakSet:()=>pb,iteratee:()=>lu,keys:()=>Et,last:()=>m7,lastIndexOf:()=>Gb,map:()=>kn,mapObject:()=>V3,matcher:()=>To,matches:()=>To,max:()=>wf,memoize:()=>Y3,methods:()=>su,min:()=>d7,mixin:()=>Rf,negate:()=>zc,noop:()=>gf,now:()=>yl,object:()=>_7,omit:()=>aC,once:()=>$b,pairs:()=>A3,partial:()=>Ml,partition:()=>nC,pick:()=>u2,pluck:()=>Pc,property:()=>Hc,propertyOf:()=>F3,random:()=>cu,range:()=>b7,reduce:()=>a2,reduceRight:()=>o7,reject:()=>a7,rest:()=>jc,restArguments:()=>Kt,result:()=>G3,sample:()=>Mf,select:()=>fs,shuffle:()=>u7,size:()=>f7,some:()=>c2,sortBy:()=>h7,sortedIndex:()=>bf,tail:()=>jc,take:()=>Sf,tap:()=>z3,template:()=>U3,templateSettings:()=>Tb,throttle:()=>J3,times:()=>W3,toArray:()=>yf,toPath:()=>Gm,transpose:()=>pu,unescape:()=>kb,union:()=>fC,uniq:()=>mu,unique:()=>mu,uniqueId:()=>X3,unzip:()=>pu,values:()=>Xn,where:()=>c7,without:()=>uC,wrap:()=>e7,zip:()=>pC});var ZO=P(()=>{FO();x7()});var gu=je((qO,w7)=>{(function(i,e){"use strict";typeof w7=="object"&&typeof w7.exports=="object"?w7.exports=i.document?e(i,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(i)})(typeof window<"u"?window:qO,function(i,e){"use strict";var t=[],r=Object.getPrototypeOf,n=t.slice,s=t.flat?function(g){return t.flat.call(g)}:function(g){return t.concat.apply([],g)},o=t.push,a=t.indexOf,l={},c=l.toString,u=l.hasOwnProperty,d=u.toString,f=d.call(Object),h={},m=function(b){return typeof b=="function"&&typeof b.nodeType!="number"&&typeof b.item!="function"},p=function(b){return b!=null&&b===b.window},v=i.document,x={type:!0,src:!0,nonce:!0,noModule:!0};function C(g,b,w){w=w||v;var L,I,k=w.createElement("script");if(k.text=g,b)for(L in x)I=b[L]||b.getAttribute&&b.getAttribute(L),I&&k.setAttribute(L,I);w.head.appendChild(k).parentNode.removeChild(k)}function y(g){return g==null?g+"":typeof g=="object"||typeof g=="function"?l[c.call(g)]||"object":typeof g}var S="3.7.1",M=/HTML$/i,_=function(g,b){return new _.fn.init(g,b)};_.fn=_.prototype={jquery:S,constructor:_,length:0,toArray:function(){return n.call(this)},get:function(g){return g==null?n.call(this):g<0?this[g+this.length]:this[g]},pushStack:function(g){var b=_.merge(this.constructor(),g);return b.prevObject=this,b},each:function(g){return _.each(this,g)},map:function(g){return this.pushStack(_.map(this,function(b,w){return g.call(b,w,b)}))},slice:function(){return this.pushStack(n.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(_.grep(this,function(g,b){return(b+1)%2}))},odd:function(){return this.pushStack(_.grep(this,function(g,b){return b%2}))},eq:function(g){var b=this.length,w=+g+(g<0?b:0);return this.pushStack(w>=0&&w<b?[this[w]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:t.sort,splice:t.splice},_.extend=_.fn.extend=function(){var g,b,w,L,I,k,O=arguments[0]||{},Z=1,F=arguments.length,J=!1;for(typeof O=="boolean"&&(J=O,O=arguments[Z]||{},Z++),typeof O!="object"&&!m(O)&&(O={}),Z===F&&(O=this,Z--);Z<F;Z++)if((g=arguments[Z])!=null)for(b in g)L=g[b],!(b==="__proto__"||O===L)&&(J&&L&&(_.isPlainObject(L)||(I=Array.isArray(L)))?(w=O[b],I&&!Array.isArray(w)?k=[]:!I&&!_.isPlainObject(w)?k={}:k=w,I=!1,O[b]=_.extend(J,k,L)):L!==void 0&&(O[b]=L));return O},_.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(g){throw new Error(g)},noop:function(){},isPlainObject:function(g){var b,w;return!g||c.call(g)!=="[object Object]"?!1:(b=r(g),b?(w=u.call(b,"constructor")&&b.constructor,typeof w=="function"&&d.call(w)===f):!0)},isEmptyObject:function(g){var b;for(b in g)return!1;return!0},globalEval:function(g,b,w){C(g,{nonce:b&&b.nonce},w)},each:function(g,b){var w,L=0;if(E(g))for(w=g.length;L<w&&b.call(g[L],L,g[L])!==!1;L++);else for(L in g)if(b.call(g[L],L,g[L])===!1)break;return g},text:function(g){var b,w="",L=0,I=g.nodeType;if(!I)for(;b=g[L++];)w+=_.text(b);return I===1||I===11?g.textContent:I===9?g.documentElement.textContent:I===3||I===4?g.nodeValue:w},makeArray:function(g,b){var w=b||[];return g!=null&&(E(Object(g))?_.merge(w,typeof g=="string"?[g]:g):o.call(w,g)),w},inArray:function(g,b,w){return b==null?-1:a.call(b,g,w)},isXMLDoc:function(g){var b=g&&g.namespaceURI,w=g&&(g.ownerDocument||g).documentElement;return!M.test(b||w&&w.nodeName||"HTML")},merge:function(g,b){for(var w=+b.length,L=0,I=g.length;L<w;L++)g[I++]=b[L];return g.length=I,g},grep:function(g,b,w){for(var L,I=[],k=0,O=g.length,Z=!w;k<O;k++)L=!b(g[k],k),L!==Z&&I.push(g[k]);return I},map:function(g,b,w){var L,I,k=0,O=[];if(E(g))for(L=g.length;k<L;k++)I=b(g[k],k,w),I!=null&&O.push(I);else for(k in g)I=b(g[k],k,w),I!=null&&O.push(I);return s(O)},guid:1,support:h}),typeof Symbol=="function"&&(_.fn[Symbol.iterator]=t[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(g,b){l["[object "+b+"]"]=b.toLowerCase()});function E(g){var b=!!g&&"length"in g&&g.length,w=y(g);return m(g)||p(g)?!1:w==="array"||b===0||typeof b=="number"&&b>0&&b-1 in g}function R(g,b){return g.nodeName&&g.nodeName.toLowerCase()===b.toLowerCase()}var A=t.pop,H=t.sort,$=t.splice,X="[\\x20\\t\\r\\n\\f]",ue=new RegExp("^"+X+"+|((?:^|[^\\\\])(?:\\\\.)*)"+X+"+$","g");_.contains=function(g,b){var w=b&&b.parentNode;return g===w||!!(w&&w.nodeType===1&&(g.contains?g.contains(w):g.compareDocumentPosition&&g.compareDocumentPosition(w)&16))};var he=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Y(g,b){return b?g==="\0"?"\uFFFD":g.slice(0,-1)+"\\"+g.charCodeAt(g.length-1).toString(16)+" ":"\\"+g}_.escapeSelector=function(g){return(g+"").replace(he,Y)};var ee=v,ie=o;(function(){var g,b,w,L,I,k=ie,O,Z,F,J,ce,Ce=_.expando,se=0,Ie=0,ct=yp(),At=yp(),wt=yp(),Pr=yp(),fr=function(j,G){return j===G&&(I=!0),0},$o="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Vo="(?:\\\\[\\da-fA-F]{1,6}"+X+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Rt="\\["+X+"*("+Vo+")(?:"+X+"*([*^$|!~]?=)"+X+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Vo+"))|)"+X+"*\\]",sd=":("+Vo+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Rt+")*)|.*)\\)|)",Dt=new RegExp(X+"+","g"),Di=new RegExp("^"+X+"*,"+X+"*"),C0=new RegExp("^"+X+"*([>+~]|"+X+")"+X+"*"),Cg=new RegExp(X+"|>"),Fo=new RegExp(sd),x0=new RegExp("^"+Vo+"$"),Wo={ID:new RegExp("^#("+Vo+")"),CLASS:new RegExp("^\\.("+Vo+")"),TAG:new RegExp("^("+Vo+"|[*])"),ATTR:new RegExp("^"+Rt),PSEUDO:new RegExp("^"+sd),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+X+"*(even|odd|(([+-]|)(\\d*)n|)"+X+"*(?:([+-]|)"+X+"*(\\d+)|))"+X+"*\\)|)","i"),bool:new RegExp("^(?:"+$o+")$","i"),needsContext:new RegExp("^"+X+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+X+"*((?:-\\d)?\\d*)"+X+"*\\)|)(?=[^-]|$)","i")},Ul=/^(?:input|select|textarea|button)$/i,Gl=/^h\d$/i,Ms=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xg=/[+~]/,za=new RegExp("\\\\[\\da-fA-F]{1,6}"+X+"?|\\\\([^\\r\\n\\f])","g"),Ba=function(j,G){var re="0x"+j.slice(1)-65536;return G||(re<0?String.fromCharCode(re+65536):String.fromCharCode(re>>10|55296,re&1023|56320))},Jj=function(){Xl()},Qj=Lp(function(j){return j.disabled===!0&&R(j,"fieldset")},{dir:"parentNode",next:"legend"});function e$(){try{return O.activeElement}catch{}}try{k.apply(t=n.call(ee.childNodes),ee.childNodes),t[ee.childNodes.length].nodeType}catch{k={apply:function(G,re){ie.apply(G,n.call(re))},call:function(G){ie.apply(G,n.call(arguments,1))}}}function qt(j,G,re,le){var be,Be,Fe,Xe,We,Lt,ot,ht=G&&G.ownerDocument,St=G?G.nodeType:9;if(re=re||[],typeof j!="string"||!j||St!==1&&St!==9&&St!==11)return re;if(!le&&(Xl(G),G=G||O,F)){if(St!==11&&(We=Ms.exec(j)))if(be=We[1]){if(St===9)if(Fe=G.getElementById(be)){if(Fe.id===be)return k.call(re,Fe),re}else return re;else if(ht&&(Fe=ht.getElementById(be))&&qt.contains(G,Fe)&&Fe.id===be)return k.call(re,Fe),re}else{if(We[2])return k.apply(re,G.getElementsByTagName(j)),re;if((be=We[3])&&G.getElementsByClassName)return k.apply(re,G.getElementsByClassName(be)),re}if(!Pr[j+" "]&&(!J||!J.test(j))){if(ot=j,ht=G,St===1&&(Cg.test(j)||C0.test(j))){for(ht=xg.test(j)&&wg(G.parentNode)||G,(ht!=G||!h.scope)&&((Xe=G.getAttribute("id"))?Xe=_.escapeSelector(Xe):G.setAttribute("id",Xe=Ce)),Lt=w0(j),Be=Lt.length;Be--;)Lt[Be]=(Xe?"#"+Xe:":scope")+" "+Mp(Lt[Be]);ot=Lt.join(",")}try{return k.apply(re,ht.querySelectorAll(ot)),re}catch{Pr(j,!0)}finally{Xe===Ce&&G.removeAttribute("id")}}}return Hy(j.replace(ue,"$1"),G,re,le)}function yp(){var j=[];function G(re,le){return j.push(re+" ")>b.cacheLength&&delete G[j.shift()],G[re+" "]=le}return G}function lo(j){return j[Ce]=!0,j}function t1(j){var G=O.createElement("fieldset");try{return!!j(G)}catch{return!1}finally{G.parentNode&&G.parentNode.removeChild(G),G=null}}function t$(j){return function(G){return R(G,"input")&&G.type===j}}function i$(j){return function(G){return(R(G,"input")||R(G,"button"))&&G.type===j}}function Oy(j){return function(G){return"form"in G?G.parentNode&&G.disabled===!1?"label"in G?"label"in G.parentNode?G.parentNode.disabled===j:G.disabled===j:G.isDisabled===j||G.isDisabled!==!j&&Qj(G)===j:G.disabled===j:"label"in G?G.disabled===j:!1}}function od(j){return lo(function(G){return G=+G,lo(function(re,le){for(var be,Be=j([],re.length,G),Fe=Be.length;Fe--;)re[be=Be[Fe]]&&(re[be]=!(le[be]=re[be]))})})}function wg(j){return j&&typeof j.getElementsByTagName<"u"&&j}function Xl(j){var G,re=j?j.ownerDocument||j:ee;return re==O||re.nodeType!==9||!re.documentElement||(O=re,Z=O.documentElement,F=!_.isXMLDoc(O),ce=Z.matches||Z.webkitMatchesSelector||Z.msMatchesSelector,Z.msMatchesSelector&&ee!=O&&(G=O.defaultView)&&G.top!==G&&G.addEventListener("unload",Jj),h.getById=t1(function(le){return Z.appendChild(le).id=_.expando,!O.getElementsByName||!O.getElementsByName(_.expando).length}),h.disconnectedMatch=t1(function(le){return ce.call(le,"*")}),h.scope=t1(function(){return O.querySelectorAll(":scope")}),h.cssHas=t1(function(){try{return O.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),h.getById?(b.filter.ID=function(le){var be=le.replace(za,Ba);return function(Be){return Be.getAttribute("id")===be}},b.find.ID=function(le,be){if(typeof be.getElementById<"u"&&F){var Be=be.getElementById(le);return Be?[Be]:[]}}):(b.filter.ID=function(le){var be=le.replace(za,Ba);return function(Be){var Fe=typeof Be.getAttributeNode<"u"&&Be.getAttributeNode("id");return Fe&&Fe.value===be}},b.find.ID=function(le,be){if(typeof be.getElementById<"u"&&F){var Be,Fe,Xe,We=be.getElementById(le);if(We){if(Be=We.getAttributeNode("id"),Be&&Be.value===le)return[We];for(Xe=be.getElementsByName(le),Fe=0;We=Xe[Fe++];)if(Be=We.getAttributeNode("id"),Be&&Be.value===le)return[We]}return[]}}),b.find.TAG=function(le,be){return typeof be.getElementsByTagName<"u"?be.getElementsByTagName(le):be.querySelectorAll(le)},b.find.CLASS=function(le,be){if(typeof be.getElementsByClassName<"u"&&F)return be.getElementsByClassName(le)},J=[],t1(function(le){var be;Z.appendChild(le).innerHTML="<a id='"+Ce+"' href='' disabled='disabled'></a><select id='"+Ce+"-\r\\' disabled='disabled'><option selected=''></option></select>",le.querySelectorAll("[selected]").length||J.push("\\["+X+"*(?:value|"+$o+")"),le.querySelectorAll("[id~="+Ce+"-]").length||J.push("~="),le.querySelectorAll("a#"+Ce+"+*").length||J.push(".#.+[+~]"),le.querySelectorAll(":checked").length||J.push(":checked"),be=O.createElement("input"),be.setAttribute("type","hidden"),le.appendChild(be).setAttribute("name","D"),Z.appendChild(le).disabled=!0,le.querySelectorAll(":disabled").length!==2&&J.push(":enabled",":disabled"),be=O.createElement("input"),be.setAttribute("name",""),le.appendChild(be),le.querySelectorAll("[name='']").length||J.push("\\["+X+"*name"+X+"*="+X+`*(?:''|"")`)}),h.cssHas||J.push(":has"),J=J.length&&new RegExp(J.join("|")),fr=function(le,be){if(le===be)return I=!0,0;var Be=!le.compareDocumentPosition-!be.compareDocumentPosition;return Be||(Be=(le.ownerDocument||le)==(be.ownerDocument||be)?le.compareDocumentPosition(be):1,Be&1||!h.sortDetached&&be.compareDocumentPosition(le)===Be?le===O||le.ownerDocument==ee&&qt.contains(ee,le)?-1:be===O||be.ownerDocument==ee&&qt.contains(ee,be)?1:L?a.call(L,le)-a.call(L,be):0:Be&4?-1:1)}),O}qt.matches=function(j,G){return qt(j,null,null,G)},qt.matchesSelector=function(j,G){if(Xl(j),F&&!Pr[G+" "]&&(!J||!J.test(G)))try{var re=ce.call(j,G);if(re||h.disconnectedMatch||j.document&&j.document.nodeType!==11)return re}catch{Pr(G,!0)}return qt(G,O,null,[j]).length>0},qt.contains=function(j,G){return(j.ownerDocument||j)!=O&&Xl(j),_.contains(j,G)},qt.attr=function(j,G){(j.ownerDocument||j)!=O&&Xl(j);var re=b.attrHandle[G.toLowerCase()],le=re&&u.call(b.attrHandle,G.toLowerCase())?re(j,G,!F):void 0;return le!==void 0?le:j.getAttribute(G)},qt.error=function(j){throw new Error("Syntax error, unrecognized expression: "+j)},_.uniqueSort=function(j){var G,re=[],le=0,be=0;if(I=!h.sortStable,L=!h.sortStable&&n.call(j,0),H.call(j,fr),I){for(;G=j[be++];)G===j[be]&&(le=re.push(be));for(;le--;)$.call(j,re[le],1)}return L=null,j},_.fn.uniqueSort=function(){return this.pushStack(_.uniqueSort(n.apply(this)))},b=_.expr={cacheLength:50,createPseudo:lo,match:Wo,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(j){return j[1]=j[1].replace(za,Ba),j[3]=(j[3]||j[4]||j[5]||"").replace(za,Ba),j[2]==="~="&&(j[3]=" "+j[3]+" "),j.slice(0,4)},CHILD:function(j){return j[1]=j[1].toLowerCase(),j[1].slice(0,3)==="nth"?(j[3]||qt.error(j[0]),j[4]=+(j[4]?j[5]+(j[6]||1):2*(j[3]==="even"||j[3]==="odd")),j[5]=+(j[7]+j[8]||j[3]==="odd")):j[3]&&qt.error(j[0]),j},PSEUDO:function(j){var G,re=!j[6]&&j[2];return Wo.CHILD.test(j[0])?null:(j[3]?j[2]=j[4]||j[5]||"":re&&Fo.test(re)&&(G=w0(re,!0))&&(G=re.indexOf(")",re.length-G)-re.length)&&(j[0]=j[0].slice(0,G),j[2]=re.slice(0,G)),j.slice(0,3))}},filter:{TAG:function(j){var G=j.replace(za,Ba).toLowerCase();return j==="*"?function(){return!0}:function(re){return R(re,G)}},CLASS:function(j){var G=ct[j+" "];return G||(G=new RegExp("(^|"+X+")"+j+"("+X+"|$)"))&&ct(j,function(re){return G.test(typeof re.className=="string"&&re.className||typeof re.getAttribute<"u"&&re.getAttribute("class")||"")})},ATTR:function(j,G,re){return function(le){var be=qt.attr(le,j);return be==null?G==="!=":G?(be+="",G==="="?be===re:G==="!="?be!==re:G==="^="?re&&be.indexOf(re)===0:G==="*="?re&&be.indexOf(re)>-1:G==="$="?re&&be.slice(-re.length)===re:G==="~="?(" "+be.replace(Dt," ")+" ").indexOf(re)>-1:G==="|="?be===re||be.slice(0,re.length+1)===re+"-":!1):!0}},CHILD:function(j,G,re,le,be){var Be=j.slice(0,3)!=="nth",Fe=j.slice(-4)!=="last",Xe=G==="of-type";return le===1&&be===0?function(We){return!!We.parentNode}:function(We,Lt,ot){var ht,St,it,ai,zn,Qr=Be!==Fe?"nextSibling":"previousSibling",Ls=We.parentNode,Zo=Xe&&We.nodeName.toLowerCase(),i1=!ot&&!Xe,bn=!1;if(Ls){if(Be){for(;Qr;){for(it=We;it=it[Qr];)if(Xe?R(it,Zo):it.nodeType===1)return!1;zn=Qr=j==="only"&&!zn&&"nextSibling"}return!0}if(zn=[Fe?Ls.firstChild:Ls.lastChild],Fe&&i1){for(St=Ls[Ce]||(Ls[Ce]={}),ht=St[j]||[],ai=ht[0]===se&&ht[1],bn=ai&&ht[2],it=ai&&Ls.childNodes[ai];it=++ai&&it&&it[Qr]||(bn=ai=0)||zn.pop();)if(it.nodeType===1&&++bn&&it===We){St[j]=[se,ai,bn];break}}else if(i1&&(St=We[Ce]||(We[Ce]={}),ht=St[j]||[],ai=ht[0]===se&&ht[1],bn=ai),bn===!1)for(;(it=++ai&&it&&it[Qr]||(bn=ai=0)||zn.pop())&&!((Xe?R(it,Zo):it.nodeType===1)&&++bn&&(i1&&(St=it[Ce]||(it[Ce]={}),St[j]=[se,bn]),it===We)););return bn-=be,bn===le||bn%le===0&&bn/le>=0}}},PSEUDO:function(j,G){var re,le=b.pseudos[j]||b.setFilters[j.toLowerCase()]||qt.error("unsupported pseudo: "+j);return le[Ce]?le(G):le.length>1?(re=[j,j,"",G],b.setFilters.hasOwnProperty(j.toLowerCase())?lo(function(be,Be){for(var Fe,Xe=le(be,G),We=Xe.length;We--;)Fe=a.call(be,Xe[We]),be[Fe]=!(Be[Fe]=Xe[We])}):function(be){return le(be,0,re)}):le}},pseudos:{not:lo(function(j){var G=[],re=[],le=Sg(j.replace(ue,"$1"));return le[Ce]?lo(function(be,Be,Fe,Xe){for(var We,Lt=le(be,null,Xe,[]),ot=be.length;ot--;)(We=Lt[ot])&&(be[ot]=!(Be[ot]=We))}):function(be,Be,Fe){return G[0]=be,le(G,null,Fe,re),G[0]=null,!re.pop()}}),has:lo(function(j){return function(G){return qt(j,G).length>0}}),contains:lo(function(j){return j=j.replace(za,Ba),function(G){return(G.textContent||_.text(G)).indexOf(j)>-1}}),lang:lo(function(j){return x0.test(j||"")||qt.error("unsupported lang: "+j),j=j.replace(za,Ba).toLowerCase(),function(G){var re;do if(re=F?G.lang:G.getAttribute("xml:lang")||G.getAttribute("lang"))return re=re.toLowerCase(),re===j||re.indexOf(j+"-")===0;while((G=G.parentNode)&&G.nodeType===1);return!1}}),target:function(j){var G=i.location&&i.location.hash;return G&&G.slice(1)===j.id},root:function(j){return j===Z},focus:function(j){return j===e$()&&O.hasFocus()&&!!(j.type||j.href||~j.tabIndex)},enabled:Oy(!1),disabled:Oy(!0),checked:function(j){return R(j,"input")&&!!j.checked||R(j,"option")&&!!j.selected},selected:function(j){return j.parentNode&&j.parentNode.selectedIndex,j.selected===!0},empty:function(j){for(j=j.firstChild;j;j=j.nextSibling)if(j.nodeType<6)return!1;return!0},parent:function(j){return!b.pseudos.empty(j)},header:function(j){return Gl.test(j.nodeName)},input:function(j){return Ul.test(j.nodeName)},button:function(j){return R(j,"input")&&j.type==="button"||R(j,"button")},text:function(j){var G;return R(j,"input")&&j.type==="text"&&((G=j.getAttribute("type"))==null||G.toLowerCase()==="text")},first:od(function(){return[0]}),last:od(function(j,G){return[G-1]}),eq:od(function(j,G,re){return[re<0?re+G:re]}),even:od(function(j,G){for(var re=0;re<G;re+=2)j.push(re);return j}),odd:od(function(j,G){for(var re=1;re<G;re+=2)j.push(re);return j}),lt:od(function(j,G,re){var le;for(re<0?le=re+G:re>G?le=G:le=re;--le>=0;)j.push(le);return j}),gt:od(function(j,G,re){for(var le=re<0?re+G:re;++le<G;)j.push(le);return j})}},b.pseudos.nth=b.pseudos.eq;for(g in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[g]=t$(g);for(g in{submit:!0,reset:!0})b.pseudos[g]=i$(g);function Dy(){}Dy.prototype=b.filters=b.pseudos,b.setFilters=new Dy;function w0(j,G){var re,le,be,Be,Fe,Xe,We,Lt=At[j+" "];if(Lt)return G?0:Lt.slice(0);for(Fe=j,Xe=[],We=b.preFilter;Fe;){(!re||(le=Di.exec(Fe)))&&(le&&(Fe=Fe.slice(le[0].length)||Fe),Xe.push(be=[])),re=!1,(le=C0.exec(Fe))&&(re=le.shift(),be.push({value:re,type:le[0].replace(ue," ")}),Fe=Fe.slice(re.length));for(Be in b.filter)(le=Wo[Be].exec(Fe))&&(!We[Be]||(le=We[Be](le)))&&(re=le.shift(),be.push({value:re,type:Be,matches:le}),Fe=Fe.slice(re.length));if(!re)break}return G?Fe.length:Fe?qt.error(j):At(j,Xe).slice(0)}function Mp(j){for(var G=0,re=j.length,le="";G<re;G++)le+=j[G].value;return le}function Lp(j,G,re){var le=G.dir,be=G.next,Be=be||le,Fe=re&&Be==="parentNode",Xe=Ie++;return G.first?function(We,Lt,ot){for(;We=We[le];)if(We.nodeType===1||Fe)return j(We,Lt,ot);return!1}:function(We,Lt,ot){var ht,St,it=[se,Xe];if(ot){for(;We=We[le];)if((We.nodeType===1||Fe)&&j(We,Lt,ot))return!0}else for(;We=We[le];)if(We.nodeType===1||Fe)if(St=We[Ce]||(We[Ce]={}),be&&R(We,be))We=We[le]||We;else{if((ht=St[Be])&&ht[0]===se&&ht[1]===Xe)return it[2]=ht[2];if(St[Be]=it,it[2]=j(We,Lt,ot))return!0}return!1}}function yg(j){return j.length>1?function(G,re,le){for(var be=j.length;be--;)if(!j[be](G,re,le))return!1;return!0}:j[0]}function r$(j,G,re){for(var le=0,be=G.length;le<be;le++)qt(j,G[le],re);return re}function Sp(j,G,re,le,be){for(var Be,Fe=[],Xe=0,We=j.length,Lt=G!=null;Xe<We;Xe++)(Be=j[Xe])&&(!re||re(Be,le,be))&&(Fe.push(Be),Lt&&G.push(Xe));return Fe}function Mg(j,G,re,le,be,Be){return le&&!le[Ce]&&(le=Mg(le)),be&&!be[Ce]&&(be=Mg(be,Be)),lo(function(Fe,Xe,We,Lt){var ot,ht,St,it,ai=[],zn=[],Qr=Xe.length,Ls=Fe||r$(G||"*",We.nodeType?[We]:We,[]),Zo=j&&(Fe||!G)?Sp(Ls,ai,j,We,Lt):Ls;if(re?(it=be||(Fe?j:Qr||le)?[]:Xe,re(Zo,it,We,Lt)):it=Zo,le)for(ot=Sp(it,zn),le(ot,[],We,Lt),ht=ot.length;ht--;)(St=ot[ht])&&(it[zn[ht]]=!(Zo[zn[ht]]=St));if(Fe){if(be||j){if(be){for(ot=[],ht=it.length;ht--;)(St=it[ht])&&ot.push(Zo[ht]=St);be(null,it=[],ot,Lt)}for(ht=it.length;ht--;)(St=it[ht])&&(ot=be?a.call(Fe,St):ai[ht])>-1&&(Fe[ot]=!(Xe[ot]=St))}}else it=Sp(it===Xe?it.splice(Qr,it.length):it),be?be(null,Xe,it,Lt):k.apply(Xe,it)})}function Lg(j){for(var G,re,le,be=j.length,Be=b.relative[j[0].type],Fe=Be||b.relative[" "],Xe=Be?1:0,We=Lp(function(ht){return ht===G},Fe,!0),Lt=Lp(function(ht){return a.call(G,ht)>-1},Fe,!0),ot=[function(ht,St,it){var ai=!Be&&(it||St!=w)||((G=St).nodeType?We(ht,St,it):Lt(ht,St,it));return G=null,ai}];Xe<be;Xe++)if(re=b.relative[j[Xe].type])ot=[Lp(yg(ot),re)];else{if(re=b.filter[j[Xe].type].apply(null,j[Xe].matches),re[Ce]){for(le=++Xe;le<be&&!b.relative[j[le].type];le++);return Mg(Xe>1&&yg(ot),Xe>1&&Mp(j.slice(0,Xe-1).concat({value:j[Xe-2].type===" "?"*":""})).replace(ue,"$1"),re,Xe<le&&Lg(j.slice(Xe,le)),le<be&&Lg(j=j.slice(le)),le<be&&Mp(j))}ot.push(re)}return yg(ot)}function n$(j,G){var re=G.length>0,le=j.length>0,be=function(Be,Fe,Xe,We,Lt){var ot,ht,St,it=0,ai="0",zn=Be&&[],Qr=[],Ls=w,Zo=Be||le&&b.find.TAG("*",Lt),i1=se+=Ls==null?1:Math.random()||.1,bn=Zo.length;for(Lt&&(w=Fe==O||Fe||Lt);ai!==bn&&(ot=Zo[ai])!=null;ai++){if(le&&ot){for(ht=0,!Fe&&ot.ownerDocument!=O&&(Xl(ot),Xe=!F);St=j[ht++];)if(St(ot,Fe||O,Xe)){k.call(We,ot);break}Lt&&(se=i1)}re&&((ot=!St&&ot)&&it--,Be&&zn.push(ot))}if(it+=ai,re&&ai!==it){for(ht=0;St=G[ht++];)St(zn,Qr,Fe,Xe);if(Be){if(it>0)for(;ai--;)zn[ai]||Qr[ai]||(Qr[ai]=A.call(We));Qr=Sp(Qr)}k.apply(We,Qr),Lt&&!Be&&Qr.length>0&&it+G.length>1&&_.uniqueSort(We)}return Lt&&(se=i1,w=Ls),zn};return re?lo(be):be}function Sg(j,G){var re,le=[],be=[],Be=wt[j+" "];if(!Be){for(G||(G=w0(j)),re=G.length;re--;)Be=Lg(G[re]),Be[Ce]?le.push(Be):be.push(Be);Be=wt(j,n$(be,le)),Be.selector=j}return Be}function Hy(j,G,re,le){var be,Be,Fe,Xe,We,Lt=typeof j=="function"&&j,ot=!le&&w0(j=Lt.selector||j);if(re=re||[],ot.length===1){if(Be=ot[0]=ot[0].slice(0),Be.length>2&&(Fe=Be[0]).type==="ID"&&G.nodeType===9&&F&&b.relative[Be[1].type]){if(G=(b.find.ID(Fe.matches[0].replace(za,Ba),G)||[])[0],G)Lt&&(G=G.parentNode);else return re;j=j.slice(Be.shift().value.length)}for(be=Wo.needsContext.test(j)?0:Be.length;be--&&(Fe=Be[be],!b.relative[Xe=Fe.type]);)if((We=b.find[Xe])&&(le=We(Fe.matches[0].replace(za,Ba),xg.test(Be[0].type)&&wg(G.parentNode)||G))){if(Be.splice(be,1),j=le.length&&Mp(Be),!j)return k.apply(re,le),re;break}}return(Lt||Sg(j,ot))(le,G,!F,re,!G||xg.test(j)&&wg(G.parentNode)||G),re}h.sortStable=Ce.split("").sort(fr).join("")===Ce,Xl(),h.sortDetached=t1(function(j){return j.compareDocumentPosition(O.createElement("fieldset"))&1}),_.find=qt,_.expr[":"]=_.expr.pseudos,_.unique=_.uniqueSort,qt.compile=Sg,qt.select=Hy,qt.setDocument=Xl,qt.tokenize=w0,qt.escape=_.escapeSelector,qt.getText=_.text,qt.isXML=_.isXMLDoc,qt.selectors=_.expr,qt.support=_.support,qt.uniqueSort=_.uniqueSort})();var pe=function(g,b,w){for(var L=[],I=w!==void 0;(g=g[b])&&g.nodeType!==9;)if(g.nodeType===1){if(I&&_(g).is(w))break;L.push(g)}return L},we=function(g,b){for(var w=[];g;g=g.nextSibling)g.nodeType===1&&g!==b&&w.push(g);return w},Ve=_.expr.match.needsContext,lt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function gt(g,b,w){return m(b)?_.grep(g,function(L,I){return!!b.call(L,I,L)!==w}):b.nodeType?_.grep(g,function(L){return L===b!==w}):typeof b!="string"?_.grep(g,function(L){return a.call(b,L)>-1!==w}):_.filter(b,g,w)}_.filter=function(g,b,w){var L=b[0];return w&&(g=":not("+g+")"),b.length===1&&L.nodeType===1?_.find.matchesSelector(L,g)?[L]:[]:_.find.matches(g,_.grep(b,function(I){return I.nodeType===1}))},_.fn.extend({find:function(g){var b,w,L=this.length,I=this;if(typeof g!="string")return this.pushStack(_(g).filter(function(){for(b=0;b<L;b++)if(_.contains(I[b],this))return!0}));for(w=this.pushStack([]),b=0;b<L;b++)_.find(g,I[b],w);return L>1?_.uniqueSort(w):w},filter:function(g){return this.pushStack(gt(this,g||[],!1))},not:function(g){return this.pushStack(gt(this,g||[],!0))},is:function(g){return!!gt(this,typeof g=="string"&&Ve.test(g)?_(g):g||[],!1).length}});var De,rt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Jt=_.fn.init=function(g,b,w){var L,I;if(!g)return this;if(w=w||De,typeof g=="string")if(g[0]==="<"&&g[g.length-1]===">"&&g.length>=3?L=[null,g,null]:L=rt.exec(g),L&&(L[1]||!b))if(L[1]){if(b=b instanceof _?b[0]:b,_.merge(this,_.parseHTML(L[1],b&&b.nodeType?b.ownerDocument||b:v,!0)),lt.test(L[1])&&_.isPlainObject(b))for(L in b)m(this[L])?this[L](b[L]):this.attr(L,b[L]);return this}else return I=v.getElementById(L[2]),I&&(this[0]=I,this.length=1),this;else return!b||b.jquery?(b||w).find(g):this.constructor(b).find(g);else{if(g.nodeType)return this[0]=g,this.length=1,this;if(m(g))return w.ready!==void 0?w.ready(g):g(_)}return _.makeArray(g,this)};Jt.prototype=_.fn,De=_(v);var Ke=/^(?:parents|prev(?:Until|All))/,Ye={children:!0,contents:!0,next:!0,prev:!0};_.fn.extend({has:function(g){var b=_(g,this),w=b.length;return this.filter(function(){for(var L=0;L<w;L++)if(_.contains(this,b[L]))return!0})},closest:function(g,b){var w,L=0,I=this.length,k=[],O=typeof g!="string"&&_(g);if(!Ve.test(g)){for(;L<I;L++)for(w=this[L];w&&w!==b;w=w.parentNode)if(w.nodeType<11&&(O?O.index(w)>-1:w.nodeType===1&&_.find.matchesSelector(w,g))){k.push(w);break}}return this.pushStack(k.length>1?_.uniqueSort(k):k)},index:function(g){return g?typeof g=="string"?a.call(_(g),this[0]):a.call(this,g.jquery?g[0]:g):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(g,b){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(g,b))))},addBack:function(g){return this.add(g==null?this.prevObject:this.prevObject.filter(g))}});function fi(g,b){for(;(g=g[b])&&g.nodeType!==1;);return g}_.each({parent:function(g){var b=g.parentNode;return b&&b.nodeType!==11?b:null},parents:function(g){return pe(g,"parentNode")},parentsUntil:function(g,b,w){return pe(g,"parentNode",w)},next:function(g){return fi(g,"nextSibling")},prev:function(g){return fi(g,"previousSibling")},nextAll:function(g){return pe(g,"nextSibling")},prevAll:function(g){return pe(g,"previousSibling")},nextUntil:function(g,b,w){return pe(g,"nextSibling",w)},prevUntil:function(g,b,w){return pe(g,"previousSibling",w)},siblings:function(g){return we((g.parentNode||{}).firstChild,g)},children:function(g){return we(g.firstChild)},contents:function(g){return g.contentDocument!=null&&r(g.contentDocument)?g.contentDocument:(R(g,"template")&&(g=g.content||g),_.merge([],g.childNodes))}},function(g,b){_.fn[g]=function(w,L){var I=_.map(this,b,w);return g.slice(-5)!=="Until"&&(L=w),L&&typeof L=="string"&&(I=_.filter(L,I)),this.length>1&&(Ye[g]||_.uniqueSort(I),Ke.test(g)&&I.reverse()),this.pushStack(I)}});var yt=/[^\x20\t\r\n\f]+/g;function oi(g){var b={};return _.each(g.match(yt)||[],function(w,L){b[L]=!0}),b}_.Callbacks=function(g){g=typeof g=="string"?oi(g):_.extend({},g);var b,w,L,I,k=[],O=[],Z=-1,F=function(){for(I=I||g.once,L=b=!0;O.length;Z=-1)for(w=O.shift();++Z<k.length;)k[Z].apply(w[0],w[1])===!1&&g.stopOnFalse&&(Z=k.length,w=!1);g.memory||(w=!1),b=!1,I&&(w?k=[]:k="")},J={add:function(){return k&&(w&&!b&&(Z=k.length-1,O.push(w)),function ce(Ce){_.each(Ce,function(se,Ie){m(Ie)?(!g.unique||!J.has(Ie))&&k.push(Ie):Ie&&Ie.length&&y(Ie)!=="string"&&ce(Ie)})}(arguments),w&&!b&&F()),this},remove:function(){return _.each(arguments,function(ce,Ce){for(var se;(se=_.inArray(Ce,k,se))>-1;)k.splice(se,1),se<=Z&&Z--}),this},has:function(ce){return ce?_.inArray(ce,k)>-1:k.length>0},empty:function(){return k&&(k=[]),this},disable:function(){return I=O=[],k=w="",this},disabled:function(){return!k},lock:function(){return I=O=[],!w&&!b&&(k=w=""),this},locked:function(){return!!I},fireWith:function(ce,Ce){return I||(Ce=Ce||[],Ce=[ce,Ce.slice?Ce.slice():Ce],O.push(Ce),b||F()),this},fire:function(){return J.fireWith(this,arguments),this},fired:function(){return!!L}};return J};function Ai(g){return g}function Ue(g){throw g}function T(g,b,w,L){var I;try{g&&m(I=g.promise)?I.call(g).done(b).fail(w):g&&m(I=g.then)?I.call(g,b,w):b.apply(void 0,[g].slice(L))}catch(k){w.apply(void 0,[k])}}_.extend({Deferred:function(g){var b=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],w="pending",L={state:function(){return w},always:function(){return I.done(arguments).fail(arguments),this},catch:function(k){return L.then(null,k)},pipe:function(){var k=arguments;return _.Deferred(function(O){_.each(b,function(Z,F){var J=m(k[F[4]])&&k[F[4]];I[F[1]](function(){var ce=J&&J.apply(this,arguments);ce&&m(ce.promise)?ce.promise().progress(O.notify).done(O.resolve).fail(O.reject):O[F[0]+"With"](this,J?[ce]:arguments)})}),k=null}).promise()},then:function(k,O,Z){var F=0;function J(ce,Ce,se,Ie){return function(){var ct=this,At=arguments,wt=function(){var fr,$o;if(!(ce<F)){if(fr=se.apply(ct,At),fr===Ce.promise())throw new TypeError("Thenable self-resolution");$o=fr&&(typeof fr=="object"||typeof fr=="function")&&fr.then,m($o)?Ie?$o.call(fr,J(F,Ce,Ai,Ie),J(F,Ce,Ue,Ie)):(F++,$o.call(fr,J(F,Ce,Ai,Ie),J(F,Ce,Ue,Ie),J(F,Ce,Ai,Ce.notifyWith))):(se!==Ai&&(ct=void 0,At=[fr]),(Ie||Ce.resolveWith)(ct,At))}},Pr=Ie?wt:function(){try{wt()}catch(fr){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(fr,Pr.error),ce+1>=F&&(se!==Ue&&(ct=void 0,At=[fr]),Ce.rejectWith(ct,At))}};ce?Pr():(_.Deferred.getErrorHook?Pr.error=_.Deferred.getErrorHook():_.Deferred.getStackHook&&(Pr.error=_.Deferred.getStackHook()),i.setTimeout(Pr))}}return _.Deferred(function(ce){b[0][3].add(J(0,ce,m(Z)?Z:Ai,ce.notifyWith)),b[1][3].add(J(0,ce,m(k)?k:Ai)),b[2][3].add(J(0,ce,m(O)?O:Ue))}).promise()},promise:function(k){return k!=null?_.extend(k,L):L}},I={};return _.each(b,function(k,O){var Z=O[2],F=O[5];L[O[1]]=Z.add,F&&Z.add(function(){w=F},b[3-k][2].disable,b[3-k][3].disable,b[0][2].lock,b[0][3].lock),Z.add(O[3].fire),I[O[0]]=function(){return I[O[0]+"With"](this===I?void 0:this,arguments),this},I[O[0]+"With"]=Z.fireWith}),L.promise(I),g&&g.call(I,I),I},when:function(g){var b=arguments.length,w=b,L=Array(w),I=n.call(arguments),k=_.Deferred(),O=function(Z){return function(F){L[Z]=this,I[Z]=arguments.length>1?n.call(arguments):F,--b||k.resolveWith(L,I)}};if(b<=1&&(T(g,k.done(O(w)).resolve,k.reject,!b),k.state()==="pending"||m(I[w]&&I[w].then)))return k.then();for(;w--;)T(I[w],O(w),k.reject);return k.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_.Deferred.exceptionHook=function(g,b){i.console&&i.console.warn&&g&&B.test(g.name)&&i.console.warn("jQuery.Deferred exception: "+g.message,g.stack,b)},_.readyException=function(g){i.setTimeout(function(){throw g})};var W=_.Deferred();_.fn.ready=function(g){return W.then(g).catch(function(b){_.readyException(b)}),this},_.extend({isReady:!1,readyWait:1,ready:function(g){(g===!0?--_.readyWait:_.isReady)||(_.isReady=!0,!(g!==!0&&--_.readyWait>0)&&W.resolveWith(v,[_]))}}),_.ready.then=W.then;function U(){v.removeEventListener("DOMContentLoaded",U),i.removeEventListener("load",U),_.ready()}v.readyState==="complete"||v.readyState!=="loading"&&!v.documentElement.doScroll?i.setTimeout(_.ready):(v.addEventListener("DOMContentLoaded",U),i.addEventListener("load",U));var oe=function(g,b,w,L,I,k,O){var Z=0,F=g.length,J=w==null;if(y(w)==="object"){I=!0;for(Z in w)oe(g,b,Z,w[Z],!0,k,O)}else if(L!==void 0&&(I=!0,m(L)||(O=!0),J&&(O?(b.call(g,L),b=null):(J=b,b=function(ce,Ce,se){return J.call(_(ce),se)})),b))for(;Z<F;Z++)b(g[Z],w,O?L:L.call(g[Z],Z,b(g[Z],w)));return I?g:J?b.call(g):F?b(g[0],w):k},ae=/^-ms-/,ze=/-([a-z])/g;function nt(g,b){return b.toUpperCase()}function vt(g){return g.replace(ae,"ms-").replace(ze,nt)}var bt=function(g){return g.nodeType===1||g.nodeType===9||!+g.nodeType};function Ct(){this.expando=_.expando+Ct.uid++}Ct.uid=1,Ct.prototype={cache:function(g){var b=g[this.expando];return b||(b={},bt(g)&&(g.nodeType?g[this.expando]=b:Object.defineProperty(g,this.expando,{value:b,configurable:!0}))),b},set:function(g,b,w){var L,I=this.cache(g);if(typeof b=="string")I[vt(b)]=w;else for(L in b)I[vt(L)]=b[L];return I},get:function(g,b){return b===void 0?this.cache(g):g[this.expando]&&g[this.expando][vt(b)]},access:function(g,b,w){return b===void 0||b&&typeof b=="string"&&w===void 0?this.get(g,b):(this.set(g,b,w),w!==void 0?w:b)},remove:function(g,b){var w,L=g[this.expando];if(L!==void 0){if(b!==void 0)for(Array.isArray(b)?b=b.map(vt):(b=vt(b),b=b in L?[b]:b.match(yt)||[]),w=b.length;w--;)delete L[b[w]];(b===void 0||_.isEmptyObject(L))&&(g.nodeType?g[this.expando]=void 0:delete g[this.expando])}},hasData:function(g){var b=g[this.expando];return b!==void 0&&!_.isEmptyObject(b)}};var Te=new Ct,V=new Ct,D=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ee=/[A-Z]/g;function Le(g){return g==="true"?!0:g==="false"?!1:g==="null"?null:g===+g+""?+g:D.test(g)?JSON.parse(g):g}function Se(g,b,w){var L;if(w===void 0&&g.nodeType===1)if(L="data-"+b.replace(Ee,"-$&").toLowerCase(),w=g.getAttribute(L),typeof w=="string"){try{w=Le(w)}catch{}V.set(g,b,w)}else w=void 0;return w}_.extend({hasData:function(g){return V.hasData(g)||Te.hasData(g)},data:function(g,b,w){return V.access(g,b,w)},removeData:function(g,b){V.remove(g,b)},_data:function(g,b,w){return Te.access(g,b,w)},_removeData:function(g,b){Te.remove(g,b)}}),_.fn.extend({data:function(g,b){var w,L,I,k=this[0],O=k&&k.attributes;if(g===void 0){if(this.length&&(I=V.get(k),k.nodeType===1&&!Te.get(k,"hasDataAttrs"))){for(w=O.length;w--;)O[w]&&(L=O[w].name,L.indexOf("data-")===0&&(L=vt(L.slice(5)),Se(k,L,I[L])));Te.set(k,"hasDataAttrs",!0)}return I}return typeof g=="object"?this.each(function(){V.set(this,g)}):oe(this,function(Z){var F;if(k&&Z===void 0)return F=V.get(k,g),F!==void 0||(F=Se(k,g),F!==void 0)?F:void 0;this.each(function(){V.set(this,g,Z)})},null,b,arguments.length>1,null,!0)},removeData:function(g){return this.each(function(){V.remove(this,g)})}}),_.extend({queue:function(g,b,w){var L;if(g)return b=(b||"fx")+"queue",L=Te.get(g,b),w&&(!L||Array.isArray(w)?L=Te.access(g,b,_.makeArray(w)):L.push(w)),L||[]},dequeue:function(g,b){b=b||"fx";var w=_.queue(g,b),L=w.length,I=w.shift(),k=_._queueHooks(g,b),O=function(){_.dequeue(g,b)};I==="inprogress"&&(I=w.shift(),L--),I&&(b==="fx"&&w.unshift("inprogress"),delete k.stop,I.call(g,O,k)),!L&&k&&k.empty.fire()},_queueHooks:function(g,b){var w=b+"queueHooks";return Te.get(g,w)||Te.access(g,w,{empty:_.Callbacks("once memory").add(function(){Te.remove(g,[b+"queue",w])})})}}),_.fn.extend({queue:function(g,b){var w=2;return typeof g!="string"&&(b=g,g="fx",w--),arguments.length<w?_.queue(this[0],g):b===void 0?this:this.each(function(){var L=_.queue(this,g,b);_._queueHooks(this,g),g==="fx"&&L[0]!=="inprogress"&&_.dequeue(this,g)})},dequeue:function(g){return this.each(function(){_.dequeue(this,g)})},clearQueue:function(g){return this.queue(g||"fx",[])},promise:function(g,b){var w,L=1,I=_.Deferred(),k=this,O=this.length,Z=function(){--L||I.resolveWith(k,[k])};for(typeof g!="string"&&(b=g,g=void 0),g=g||"fx";O--;)w=Te.get(k[O],g+"queueHooks"),w&&w.empty&&(L++,w.empty.add(Z));return Z(),I.promise(b)}});var Je=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,st=new RegExp("^(?:([+-])=|)("+Je+")([a-z%]*)$","i"),xt=["Top","Right","Bottom","Left"],at=v.documentElement,Ni=function(g){return _.contains(g.ownerDocument,g)},_n={composed:!0};at.getRootNode&&(Ni=function(g){return _.contains(g.ownerDocument,g)||g.getRootNode(_n)===g.ownerDocument});var Ci=function(g,b){return g=b||g,g.style.display==="none"||g.style.display===""&&Ni(g)&&_.css(g,"display")==="none"};function It(g,b,w,L){var I,k,O=20,Z=L?function(){return L.cur()}:function(){return _.css(g,b,"")},F=Z(),J=w&&w[3]||(_.cssNumber[b]?"":"px"),ce=g.nodeType&&(_.cssNumber[b]||J!=="px"&&+F)&&st.exec(_.css(g,b));if(ce&&ce[3]!==J){for(F=F/2,J=J||ce[3],ce=+F||1;O--;)_.style(g,b,ce+J),(1-k)*(1-(k=Z()/F||.5))<=0&&(O=0),ce=ce/k;ce=ce*2,_.style(g,b,ce+J),w=w||[]}return w&&(ce=+ce||+F||0,I=w[1]?ce+(w[1]+1)*w[2]:+w[2],L&&(L.unit=J,L.start=ce,L.end=I)),I}var xs={};function Si(g){var b,w=g.ownerDocument,L=g.nodeName,I=xs[L];return I||(b=w.body.appendChild(w.createElement(L)),I=_.css(b,"display"),b.parentNode.removeChild(b),I==="none"&&(I="block"),xs[L]=I,I)}function qi(g,b){for(var w,L,I=[],k=0,O=g.length;k<O;k++)L=g[k],L.style&&(w=L.style.display,b?(w==="none"&&(I[k]=Te.get(L,"display")||null,I[k]||(L.style.display="")),L.style.display===""&&Ci(L)&&(I[k]=Si(L))):w!=="none"&&(I[k]="none",Te.set(L,"display",w)));for(k=0;k<O;k++)I[k]!=null&&(g[k].style.display=I[k]);return g}_.fn.extend({show:function(){return qi(this,!0)},hide:function(){return qi(this)},toggle:function(g){return typeof g=="boolean"?g?this.show():this.hide():this.each(function(){Ci(this)?_(this).show():_(this).hide()})}});var Na=/^(?:checkbox|radio)$/i,ws=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Oa=/^$|^module$|\/(?:java|ecma)script/i;(function(){var g=v.createDocumentFragment(),b=g.appendChild(v.createElement("div")),w=v.createElement("input");w.setAttribute("type","radio"),w.setAttribute("checked","checked"),w.setAttribute("name","t"),b.appendChild(w),h.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,b.innerHTML="<option></option>",h.option=!!b.lastChild})();var Br={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Br.tbody=Br.tfoot=Br.colgroup=Br.caption=Br.thead,Br.th=Br.td,h.option||(Br.optgroup=Br.option=[1,"<select multiple='multiple'>","</select>"]);function ur(g,b){var w;return typeof g.getElementsByTagName<"u"?w=g.getElementsByTagName(b||"*"):typeof g.querySelectorAll<"u"?w=g.querySelectorAll(b||"*"):w=[],b===void 0||b&&R(g,b)?_.merge([g],w):w}function o0(g,b){for(var w=0,L=g.length;w<L;w++)Te.set(g[w],"globalEval",!b||Te.get(b[w],"globalEval"))}var oo=/<|&#?\w+;/;function mp(g,b,w,L,I){for(var k,O,Z,F,J,ce,Ce=b.createDocumentFragment(),se=[],Ie=0,ct=g.length;Ie<ct;Ie++)if(k=g[Ie],k||k===0)if(y(k)==="object")_.merge(se,k.nodeType?[k]:k);else if(!oo.test(k))se.push(b.createTextNode(k));else{for(O=O||Ce.appendChild(b.createElement("div")),Z=(ws.exec(k)||["",""])[1].toLowerCase(),F=Br[Z]||Br._default,O.innerHTML=F[1]+_.htmlPrefilter(k)+F[2],ce=F[0];ce--;)O=O.lastChild;_.merge(se,O.childNodes),O=Ce.firstChild,O.textContent=""}for(Ce.textContent="",Ie=0;k=se[Ie++];){if(L&&_.inArray(k,L)>-1){I&&I.push(k);continue}if(J=Ni(k),O=ur(Ce.appendChild(k),"script"),J&&o0(O),w)for(ce=0;k=O[ce++];)Oa.test(k.type||"")&&w.push(k)}return Ce}var a0=/^([^.]*)(?:\.(.+)|)/;function Fl(){return!0}function Wl(){return!1}function l0(g,b,w,L,I,k){var O,Z;if(typeof b=="object"){typeof w!="string"&&(L=L||w,w=void 0);for(Z in b)l0(g,Z,w,L,b[Z],k);return g}if(L==null&&I==null?(I=w,L=w=void 0):I==null&&(typeof w=="string"?(I=L,L=void 0):(I=L,L=w,w=void 0)),I===!1)I=Wl;else if(!I)return g;return k===1&&(O=I,I=function(F){return _().off(F),O.apply(this,arguments)},I.guid=O.guid||(O.guid=_.guid++)),g.each(function(){_.event.add(this,b,I,L,w)})}_.event={global:{},add:function(g,b,w,L,I){var k,O,Z,F,J,ce,Ce,se,Ie,ct,At,wt=Te.get(g);if(bt(g))for(w.handler&&(k=w,w=k.handler,I=k.selector),I&&_.find.matchesSelector(at,I),w.guid||(w.guid=_.guid++),(F=wt.events)||(F=wt.events=Object.create(null)),(O=wt.handle)||(O=wt.handle=function(Pr){return typeof _<"u"&&_.event.triggered!==Pr.type?_.event.dispatch.apply(g,arguments):void 0}),b=(b||"").match(yt)||[""],J=b.length;J--;)Z=a0.exec(b[J])||[],Ie=At=Z[1],ct=(Z[2]||"").split(".").sort(),Ie&&(Ce=_.event.special[Ie]||{},Ie=(I?Ce.delegateType:Ce.bindType)||Ie,Ce=_.event.special[Ie]||{},ce=_.extend({type:Ie,origType:At,data:L,handler:w,guid:w.guid,selector:I,needsContext:I&&_.expr.match.needsContext.test(I),namespace:ct.join(".")},k),(se=F[Ie])||(se=F[Ie]=[],se.delegateCount=0,(!Ce.setup||Ce.setup.call(g,L,ct,O)===!1)&&g.addEventListener&&g.addEventListener(Ie,O)),Ce.add&&(Ce.add.call(g,ce),ce.handler.guid||(ce.handler.guid=w.guid)),I?se.splice(se.delegateCount++,0,ce):se.push(ce),_.event.global[Ie]=!0)},remove:function(g,b,w,L,I){var k,O,Z,F,J,ce,Ce,se,Ie,ct,At,wt=Te.hasData(g)&&Te.get(g);if(!(!wt||!(F=wt.events))){for(b=(b||"").match(yt)||[""],J=b.length;J--;){if(Z=a0.exec(b[J])||[],Ie=At=Z[1],ct=(Z[2]||"").split(".").sort(),!Ie){for(Ie in F)_.event.remove(g,Ie+b[J],w,L,!0);continue}for(Ce=_.event.special[Ie]||{},Ie=(L?Ce.delegateType:Ce.bindType)||Ie,se=F[Ie]||[],Z=Z[2]&&new RegExp("(^|\\.)"+ct.join("\\.(?:.*\\.|)")+"(\\.|$)"),O=k=se.length;k--;)ce=se[k],(I||At===ce.origType)&&(!w||w.guid===ce.guid)&&(!Z||Z.test(ce.namespace))&&(!L||L===ce.selector||L==="**"&&ce.selector)&&(se.splice(k,1),ce.selector&&se.delegateCount--,Ce.remove&&Ce.remove.call(g,ce));O&&!se.length&&((!Ce.teardown||Ce.teardown.call(g,ct,wt.handle)===!1)&&_.removeEvent(g,Ie,wt.handle),delete F[Ie])}_.isEmptyObject(F)&&Te.remove(g,"handle events")}},dispatch:function(g){var b,w,L,I,k,O,Z=new Array(arguments.length),F=_.event.fix(g),J=(Te.get(this,"events")||Object.create(null))[F.type]||[],ce=_.event.special[F.type]||{};for(Z[0]=F,b=1;b<arguments.length;b++)Z[b]=arguments[b];if(F.delegateTarget=this,!(ce.preDispatch&&ce.preDispatch.call(this,F)===!1)){for(O=_.event.handlers.call(this,F,J),b=0;(I=O[b++])&&!F.isPropagationStopped();)for(F.currentTarget=I.elem,w=0;(k=I.handlers[w++])&&!F.isImmediatePropagationStopped();)(!F.rnamespace||k.namespace===!1||F.rnamespace.test(k.namespace))&&(F.handleObj=k,F.data=k.data,L=((_.event.special[k.origType]||{}).handle||k.handler).apply(I.elem,Z),L!==void 0&&(F.result=L)===!1&&(F.preventDefault(),F.stopPropagation()));return ce.postDispatch&&ce.postDispatch.call(this,F),F.result}},handlers:function(g,b){var w,L,I,k,O,Z=[],F=b.delegateCount,J=g.target;if(F&&J.nodeType&&!(g.type==="click"&&g.button>=1)){for(;J!==this;J=J.parentNode||this)if(J.nodeType===1&&!(g.type==="click"&&J.disabled===!0)){for(k=[],O={},w=0;w<F;w++)L=b[w],I=L.selector+" ",O[I]===void 0&&(O[I]=L.needsContext?_(I,this).index(J)>-1:_.find(I,this,null,[J]).length),O[I]&&k.push(L);k.length&&Z.push({elem:J,handlers:k})}}return J=this,F<b.length&&Z.push({elem:J,handlers:b.slice(F)}),Z},addProp:function(g,b){Object.defineProperty(_.Event.prototype,g,{enumerable:!0,configurable:!0,get:m(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[g]},set:function(w){Object.defineProperty(this,g,{enumerable:!0,configurable:!0,writable:!0,value:w})}})},fix:function(g){return g[_.expando]?g:new _.Event(g)},special:{load:{noBubble:!0},click:{setup:function(g){var b=this||g;return Na.test(b.type)&&b.click&&R(b,"input")&&Qc(b,"click",!0),!1},trigger:function(g){var b=this||g;return Na.test(b.type)&&b.click&&R(b,"input")&&Qc(b,"click"),!0},_default:function(g){var b=g.target;return Na.test(b.type)&&b.click&&R(b,"input")&&Te.get(b,"click")||R(b,"a")}},beforeunload:{postDispatch:function(g){g.result!==void 0&&g.originalEvent&&(g.originalEvent.returnValue=g.result)}}}};function Qc(g,b,w){if(!w){Te.get(g,b)===void 0&&_.event.add(g,b,Fl);return}Te.set(g,b,!1),_.event.add(g,b,{namespace:!1,handler:function(L){var I,k=Te.get(this,b);if(L.isTrigger&1&&this[b]){if(k)(_.event.special[b]||{}).delegateType&&L.stopPropagation();else if(k=n.call(arguments),Te.set(this,b,k),this[b](),I=Te.get(this,b),Te.set(this,b,!1),k!==I)return L.stopImmediatePropagation(),L.preventDefault(),I}else k&&(Te.set(this,b,_.event.trigger(k[0],k.slice(1),this)),L.stopPropagation(),L.isImmediatePropagationStopped=Fl)}})}_.removeEvent=function(g,b,w){g.removeEventListener&&g.removeEventListener(b,w)},_.Event=function(g,b){if(!(this instanceof _.Event))return new _.Event(g,b);g&&g.type?(this.originalEvent=g,this.type=g.type,this.isDefaultPrevented=g.defaultPrevented||g.defaultPrevented===void 0&&g.returnValue===!1?Fl:Wl,this.target=g.target&&g.target.nodeType===3?g.target.parentNode:g.target,this.currentTarget=g.currentTarget,this.relatedTarget=g.relatedTarget):this.type=g,b&&_.extend(this,b),this.timeStamp=g&&g.timeStamp||Date.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:Wl,isPropagationStopped:Wl,isImmediatePropagationStopped:Wl,isSimulated:!1,preventDefault:function(){var g=this.originalEvent;this.isDefaultPrevented=Fl,g&&!this.isSimulated&&g.preventDefault()},stopPropagation:function(){var g=this.originalEvent;this.isPropagationStopped=Fl,g&&!this.isSimulated&&g.stopPropagation()},stopImmediatePropagation:function(){var g=this.originalEvent;this.isImmediatePropagationStopped=Fl,g&&!this.isSimulated&&g.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},_.event.addProp),_.each({focus:"focusin",blur:"focusout"},function(g,b){function w(L){if(v.documentMode){var I=Te.get(this,"handle"),k=_.event.fix(L);k.type=L.type==="focusin"?"focus":"blur",k.isSimulated=!0,I(L),k.target===k.currentTarget&&I(k)}else _.event.simulate(b,L.target,_.event.fix(L))}_.event.special[g]={setup:function(){var L;if(Qc(this,g,!0),v.documentMode)L=Te.get(this,b),L||this.addEventListener(b,w),Te.set(this,b,(L||0)+1);else return!1},trigger:function(){return Qc(this,g),!0},teardown:function(){var L;if(v.documentMode)L=Te.get(this,b)-1,L?Te.set(this,b,L):(this.removeEventListener(b,w),Te.remove(this,b));else return!1},_default:function(L){return Te.get(L.target,g)},delegateType:b},_.event.special[b]={setup:function(){var L=this.ownerDocument||this.document||this,I=v.documentMode?this:L,k=Te.get(I,b);k||(v.documentMode?this.addEventListener(b,w):L.addEventListener(g,w,!0)),Te.set(I,b,(k||0)+1)},teardown:function(){var L=this.ownerDocument||this.document||this,I=v.documentMode?this:L,k=Te.get(I,b)-1;k?Te.set(I,b,k):(v.documentMode?this.removeEventListener(b,w):L.removeEventListener(g,w,!0),Te.remove(I,b))}}}),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(g,b){_.event.special[g]={delegateType:b,bindType:b,handle:function(w){var L,I=this,k=w.relatedTarget,O=w.handleObj;return(!k||k!==I&&!_.contains(I,k))&&(w.type=O.origType,L=O.handler.apply(this,arguments),w.type=b),L}}}),_.fn.extend({on:function(g,b,w,L){return l0(this,g,b,w,L)},one:function(g,b,w,L){return l0(this,g,b,w,L,1)},off:function(g,b,w){var L,I;if(g&&g.preventDefault&&g.handleObj)return L=g.handleObj,_(g.delegateTarget).off(L.namespace?L.origType+"."+L.namespace:L.origType,L.selector,L.handler),this;if(typeof g=="object"){for(I in g)this.off(I,b,g[I]);return this}return(b===!1||typeof b=="function")&&(w=b,b=void 0),w===!1&&(w=Wl),this.each(function(){_.event.remove(this,g,w,b)})}});var c0=/<script|<style|<link/i,d0=/checked\s*(?:[^=]|=\s*.checked.)/i,pp=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function gp(g,b){return R(g,"table")&&R(b.nodeType!==11?b:b.firstChild,"tr")&&_(g).children("tbody")[0]||g}function lg(g){return g.type=(g.getAttribute("type")!==null)+"/"+g.type,g}function vp(g){return(g.type||"").slice(0,5)==="true/"?g.type=g.type.slice(5):g.removeAttribute("type"),g}function _p(g,b){var w,L,I,k,O,Z,F;if(b.nodeType===1){if(Te.hasData(g)&&(k=Te.get(g),F=k.events,F)){Te.remove(b,"handle events");for(I in F)for(w=0,L=F[I].length;w<L;w++)_.event.add(b,I,F[I][w])}V.hasData(g)&&(O=V.access(g),Z=_.extend({},O),V.set(b,Z))}}function cg(g,b){var w=b.nodeName.toLowerCase();w==="input"&&Na.test(g.type)?b.checked=g.checked:(w==="input"||w==="textarea")&&(b.defaultValue=g.defaultValue)}function Po(g,b,w,L){b=s(b);var I,k,O,Z,F,J,ce=0,Ce=g.length,se=Ce-1,Ie=b[0],ct=m(Ie);if(ct||Ce>1&&typeof Ie=="string"&&!h.checkClone&&d0.test(Ie))return g.each(function(At){var wt=g.eq(At);ct&&(b[0]=Ie.call(this,At,wt.html())),Po(wt,b,w,L)});if(Ce&&(I=mp(b,g[0].ownerDocument,!1,g,L),k=I.firstChild,I.childNodes.length===1&&(I=k),k||L)){for(O=_.map(ur(I,"script"),lg),Z=O.length;ce<Ce;ce++)F=I,ce!==se&&(F=_.clone(F,!0,!0),Z&&_.merge(O,ur(F,"script"))),w.call(g[ce],F,ce);if(Z)for(J=O[O.length-1].ownerDocument,_.map(O,vp),ce=0;ce<Z;ce++)F=O[ce],Oa.test(F.type||"")&&!Te.access(F,"globalEval")&&_.contains(J,F)&&(F.src&&(F.type||"").toLowerCase()!=="module"?_._evalUrl&&!F.noModule&&_._evalUrl(F.src,{nonce:F.nonce||F.getAttribute("nonce")},J):C(F.textContent.replace(pp,""),F,J))}return g}function qu(g,b,w){for(var L,I=b?_.filter(b,g):g,k=0;(L=I[k])!=null;k++)!w&&L.nodeType===1&&_.cleanData(ur(L)),L.parentNode&&(w&&Ni(L)&&o0(ur(L,"script")),L.parentNode.removeChild(L));return g}_.extend({htmlPrefilter:function(g){return g},clone:function(g,b,w){var L,I,k,O,Z=g.cloneNode(!0),F=Ni(g);if(!h.noCloneChecked&&(g.nodeType===1||g.nodeType===11)&&!_.isXMLDoc(g))for(O=ur(Z),k=ur(g),L=0,I=k.length;L<I;L++)cg(k[L],O[L]);if(b)if(w)for(k=k||ur(g),O=O||ur(Z),L=0,I=k.length;L<I;L++)_p(k[L],O[L]);else _p(g,Z);return O=ur(Z,"script"),O.length>0&&o0(O,!F&&ur(g,"script")),Z},cleanData:function(g){for(var b,w,L,I=_.event.special,k=0;(w=g[k])!==void 0;k++)if(bt(w)){if(b=w[Te.expando]){if(b.events)for(L in b.events)I[L]?_.event.remove(w,L):_.removeEvent(w,L,b.handle);w[Te.expando]=void 0}w[V.expando]&&(w[V.expando]=void 0)}}}),_.fn.extend({detach:function(g){return qu(this,g,!0)},remove:function(g){return qu(this,g)},text:function(g){return oe(this,function(b){return b===void 0?_.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=b)})},null,g,arguments.length)},append:function(){return Po(this,arguments,function(g){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=gp(this,g);b.appendChild(g)}})},prepend:function(){return Po(this,arguments,function(g){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=gp(this,g);b.insertBefore(g,b.firstChild)}})},before:function(){return Po(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this)})},after:function(){return Po(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this.nextSibling)})},empty:function(){for(var g,b=0;(g=this[b])!=null;b++)g.nodeType===1&&(_.cleanData(ur(g,!1)),g.textContent="");return this},clone:function(g,b){return g=g??!1,b=b??g,this.map(function(){return _.clone(this,g,b)})},html:function(g){return oe(this,function(b){var w=this[0]||{},L=0,I=this.length;if(b===void 0&&w.nodeType===1)return w.innerHTML;if(typeof b=="string"&&!c0.test(b)&&!Br[(ws.exec(b)||["",""])[1].toLowerCase()]){b=_.htmlPrefilter(b);try{for(;L<I;L++)w=this[L]||{},w.nodeType===1&&(_.cleanData(ur(w,!1)),w.innerHTML=b);w=0}catch{}}w&&this.empty().append(b)},null,g,arguments.length)},replaceWith:function(){var g=[];return Po(this,arguments,function(b){var w=this.parentNode;_.inArray(this,g)<0&&(_.cleanData(ur(this)),w&&w.replaceChild(b,this))},g)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(g,b){_.fn[g]=function(w){for(var L,I=[],k=_(w),O=k.length-1,Z=0;Z<=O;Z++)L=Z===O?this:this.clone(!0),_(k[Z])[b](L),o.apply(I,L.get());return this.pushStack(I)}});var Uu=new RegExp("^("+Je+")(?!px)[a-z%]+$","i"),ao=/^--/,Gu=function(g){var b=g.ownerDocument.defaultView;return(!b||!b.opener)&&(b=i),b.getComputedStyle(g)},u0=function(g,b,w){var L,I,k={};for(I in b)k[I]=g.style[I],g.style[I]=b[I];L=w.call(g);for(I in b)g.style[I]=k[I];return L},dg=new RegExp(xt.join("|"),"i");(function(){function g(){if(J){F.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",J.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(F).appendChild(J);var ce=i.getComputedStyle(J);w=ce.top!=="1%",Z=b(ce.marginLeft)===12,J.style.right="60%",k=b(ce.right)===36,L=b(ce.width)===36,J.style.position="absolute",I=b(J.offsetWidth/3)===12,at.removeChild(F),J=null}}function b(ce){return Math.round(parseFloat(ce))}var w,L,I,k,O,Z,F=v.createElement("div"),J=v.createElement("div");J.style&&(J.style.backgroundClip="content-box",J.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle=J.style.backgroundClip==="content-box",_.extend(h,{boxSizingReliable:function(){return g(),L},pixelBoxStyles:function(){return g(),k},pixelPosition:function(){return g(),w},reliableMarginLeft:function(){return g(),Z},scrollboxSize:function(){return g(),I},reliableTrDimensions:function(){var ce,Ce,se,Ie;return O==null&&(ce=v.createElement("table"),Ce=v.createElement("tr"),se=v.createElement("div"),ce.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ce.style.cssText="box-sizing:content-box;border:1px solid",Ce.style.height="1px",se.style.height="9px",se.style.display="block",at.appendChild(ce).appendChild(Ce).appendChild(se),Ie=i.getComputedStyle(Ce),O=parseInt(Ie.height,10)+parseInt(Ie.borderTopWidth,10)+parseInt(Ie.borderBottomWidth,10)===Ce.offsetHeight,at.removeChild(ce)),O}}))})();function ed(g,b,w){var L,I,k,O,Z=ao.test(b),F=g.style;return w=w||Gu(g),w&&(O=w.getPropertyValue(b)||w[b],Z&&O&&(O=O.replace(ue,"$1")||void 0),O===""&&!Ni(g)&&(O=_.style(g,b)),!h.pixelBoxStyles()&&Uu.test(O)&&dg.test(b)&&(L=F.width,I=F.minWidth,k=F.maxWidth,F.minWidth=F.maxWidth=F.width=O,O=w.width,F.width=L,F.minWidth=I,F.maxWidth=k)),O!==void 0?O+"":O}function bp(g,b){return{get:function(){if(g()){delete this.get;return}return(this.get=b).apply(this,arguments)}}}var Xu=["Webkit","Moz","ms"],Ku=v.createElement("div").style,Cp={};function ug(g){for(var b=g[0].toUpperCase()+g.slice(1),w=Xu.length;w--;)if(g=Xu[w]+b,g in Ku)return g}function h0(g){var b=_.cssProps[g]||Cp[g];return b||(g in Ku?g:Cp[g]=ug(g)||g)}var hg=/^(none|table(?!-c[ea]).+)/,f0={position:"absolute",visibility:"hidden",display:"block"},xp={letterSpacing:"0",fontWeight:"400"};function Zl(g,b,w){var L=st.exec(b);return L?Math.max(0,L[2]-(w||0))+(L[3]||"px"):b}function xi(g,b,w,L,I,k){var O=b==="width"?1:0,Z=0,F=0,J=0;if(w===(L?"border":"content"))return 0;for(;O<4;O+=2)w==="margin"&&(J+=_.css(g,w+xt[O],!0,I)),L?(w==="content"&&(F-=_.css(g,"padding"+xt[O],!0,I)),w!=="margin"&&(F-=_.css(g,"border"+xt[O]+"Width",!0,I))):(F+=_.css(g,"padding"+xt[O],!0,I),w!=="padding"?F+=_.css(g,"border"+xt[O]+"Width",!0,I):Z+=_.css(g,"border"+xt[O]+"Width",!0,I));return!L&&k>=0&&(F+=Math.max(0,Math.ceil(g["offset"+b[0].toUpperCase()+b.slice(1)]-k-F-Z-.5))||0),F+J}function td(g,b,w){var L=Gu(g),I=!h.boxSizingReliable()||w,k=I&&_.css(g,"boxSizing",!1,L)==="border-box",O=k,Z=ed(g,b,L),F="offset"+b[0].toUpperCase()+b.slice(1);if(Uu.test(Z)){if(!w)return Z;Z="auto"}return(!h.boxSizingReliable()&&k||!h.reliableTrDimensions()&&R(g,"tr")||Z==="auto"||!parseFloat(Z)&&_.css(g,"display",!1,L)==="inline")&&g.getClientRects().length&&(k=_.css(g,"boxSizing",!1,L)==="border-box",O=F in g,O&&(Z=g[F])),Z=parseFloat(Z)||0,Z+xi(g,b,w||(k?"border":"content"),O,L,Z)+"px"}_.extend({cssHooks:{opacity:{get:function(g,b){if(b){var w=ed(g,"opacity");return w===""?"1":w}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(g,b,w,L){if(!(!g||g.nodeType===3||g.nodeType===8||!g.style)){var I,k,O,Z=vt(b),F=ao.test(b),J=g.style;if(F||(b=h0(Z)),O=_.cssHooks[b]||_.cssHooks[Z],w!==void 0){if(k=typeof w,k==="string"&&(I=st.exec(w))&&I[1]&&(w=It(g,b,I),k="number"),w==null||w!==w)return;k==="number"&&!F&&(w+=I&&I[3]||(_.cssNumber[Z]?"":"px")),!h.clearCloneStyle&&w===""&&b.indexOf("background")===0&&(J[b]="inherit"),(!O||!("set"in O)||(w=O.set(g,w,L))!==void 0)&&(F?J.setProperty(b,w):J[b]=w)}else return O&&"get"in O&&(I=O.get(g,!1,L))!==void 0?I:J[b]}},css:function(g,b,w,L){var I,k,O,Z=vt(b),F=ao.test(b);return F||(b=h0(Z)),O=_.cssHooks[b]||_.cssHooks[Z],O&&"get"in O&&(I=O.get(g,!0,w)),I===void 0&&(I=ed(g,b,L)),I==="normal"&&b in xp&&(I=xp[b]),w===""||w?(k=parseFloat(I),w===!0||isFinite(k)?k||0:I):I}}),_.each(["height","width"],function(g,b){_.cssHooks[b]={get:function(w,L,I){if(L)return hg.test(_.css(w,"display"))&&(!w.getClientRects().length||!w.getBoundingClientRect().width)?u0(w,f0,function(){return td(w,b,I)}):td(w,b,I)},set:function(w,L,I){var k,O=Gu(w),Z=!h.scrollboxSize()&&O.position==="absolute",F=Z||I,J=F&&_.css(w,"boxSizing",!1,O)==="border-box",ce=I?xi(w,b,I,J,O):0;return J&&Z&&(ce-=Math.ceil(w["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(O[b])-xi(w,b,"border",!1,O)-.5)),ce&&(k=st.exec(L))&&(k[3]||"px")!=="px"&&(w.style[b]=L,L=_.css(w,b)),Zl(w,L,ce)}}}),_.cssHooks.marginLeft=bp(h.reliableMarginLeft,function(g,b){if(b)return(parseFloat(ed(g,"marginLeft"))||g.getBoundingClientRect().left-u0(g,{marginLeft:0},function(){return g.getBoundingClientRect().left}))+"px"}),_.each({margin:"",padding:"",border:"Width"},function(g,b){_.cssHooks[g+b]={expand:function(w){for(var L=0,I={},k=typeof w=="string"?w.split(" "):[w];L<4;L++)I[g+xt[L]+b]=k[L]||k[L-2]||k[0];return I}},g!=="margin"&&(_.cssHooks[g+b].set=Zl)}),_.fn.extend({css:function(g,b){return oe(this,function(w,L,I){var k,O,Z={},F=0;if(Array.isArray(L)){for(k=Gu(w),O=L.length;F<O;F++)Z[L[F]]=_.css(w,L[F],!1,k);return Z}return I!==void 0?_.style(w,L,I):_.css(w,L)},g,b,arguments.length>1)}});function Lr(g,b,w,L,I){return new Lr.prototype.init(g,b,w,L,I)}_.Tween=Lr,Lr.prototype={constructor:Lr,init:function(g,b,w,L,I,k){this.elem=g,this.prop=w,this.easing=I||_.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=L,this.unit=k||(_.cssNumber[w]?"":"px")},cur:function(){var g=Lr.propHooks[this.prop];return g&&g.get?g.get(this):Lr.propHooks._default.get(this)},run:function(g){var b,w=Lr.propHooks[this.prop];return this.options.duration?this.pos=b=_.easing[this.easing](g,this.options.duration*g,0,1,this.options.duration):this.pos=b=g,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),w&&w.set?w.set(this):Lr.propHooks._default.set(this),this}},Lr.prototype.init.prototype=Lr.prototype,Lr.propHooks={_default:{get:function(g){var b;return g.elem.nodeType!==1||g.elem[g.prop]!=null&&g.elem.style[g.prop]==null?g.elem[g.prop]:(b=_.css(g.elem,g.prop,""),!b||b==="auto"?0:b)},set:function(g){_.fx.step[g.prop]?_.fx.step[g.prop](g):g.elem.nodeType===1&&(_.cssHooks[g.prop]||g.elem.style[h0(g.prop)]!=null)?_.style(g.elem,g.prop,g.now+g.unit):g.elem[g.prop]=g.now}}},Lr.propHooks.scrollTop=Lr.propHooks.scrollLeft={set:function(g){g.elem.nodeType&&g.elem.parentNode&&(g.elem[g.prop]=g.now)}},_.easing={linear:function(g){return g},swing:function(g){return .5-Math.cos(g*Math.PI)/2},_default:"swing"},_.fx=Lr.prototype.init,_.fx.step={};var Da,id,fg=/^(?:toggle|show|hide)$/,m0=/queueHooks$/;function jo(){id&&(v.hidden===!1&&i.requestAnimationFrame?i.requestAnimationFrame(jo):i.setTimeout(jo,_.fx.interval),_.fx.tick())}function p0(){return i.setTimeout(function(){Da=void 0}),Da=Date.now()}function rd(g,b){var w,L=0,I={height:g};for(b=b?1:0;L<4;L+=2-b)w=xt[L],I["margin"+w]=I["padding"+w]=g;return b&&(I.opacity=I.width=g),I}function nd(g,b,w){for(var L,I=(Hn.tweeners[b]||[]).concat(Hn.tweeners["*"]),k=0,O=I.length;k<O;k++)if(L=I[k].call(w,b,g))return L}function mg(g,b,w){var L,I,k,O,Z,F,J,ce,Ce="width"in b||"height"in b,se=this,Ie={},ct=g.style,At=g.nodeType&&Ci(g),wt=Te.get(g,"fxshow");w.queue||(O=_._queueHooks(g,"fx"),O.unqueued==null&&(O.unqueued=0,Z=O.empty.fire,O.empty.fire=function(){O.unqueued||Z()}),O.unqueued++,se.always(function(){se.always(function(){O.unqueued--,_.queue(g,"fx").length||O.empty.fire()})}));for(L in b)if(I=b[L],fg.test(I)){if(delete b[L],k=k||I==="toggle",I===(At?"hide":"show"))if(I==="show"&&wt&&wt[L]!==void 0)At=!0;else continue;Ie[L]=wt&&wt[L]||_.style(g,L)}if(F=!_.isEmptyObject(b),!(!F&&_.isEmptyObject(Ie))){Ce&&g.nodeType===1&&(w.overflow=[ct.overflow,ct.overflowX,ct.overflowY],J=wt&&wt.display,J==null&&(J=Te.get(g,"display")),ce=_.css(g,"display"),ce==="none"&&(J?ce=J:(qi([g],!0),J=g.style.display||J,ce=_.css(g,"display"),qi([g]))),(ce==="inline"||ce==="inline-block"&&J!=null)&&_.css(g,"float")==="none"&&(F||(se.done(function(){ct.display=J}),J==null&&(ce=ct.display,J=ce==="none"?"":ce)),ct.display="inline-block")),w.overflow&&(ct.overflow="hidden",se.always(function(){ct.overflow=w.overflow[0],ct.overflowX=w.overflow[1],ct.overflowY=w.overflow[2]})),F=!1;for(L in Ie)F||(wt?"hidden"in wt&&(At=wt.hidden):wt=Te.access(g,"fxshow",{display:J}),k&&(wt.hidden=!At),At&&qi([g],!0),se.done(function(){At||qi([g]),Te.remove(g,"fxshow");for(L in Ie)_.style(g,L,Ie[L])})),F=nd(At?wt[L]:0,L,se),L in wt||(wt[L]=F.start,At&&(F.end=F.start,F.start=0))}}function pg(g,b){var w,L,I,k,O;for(w in g)if(L=vt(w),I=b[L],k=g[w],Array.isArray(k)&&(I=k[1],k=g[w]=k[0]),w!==L&&(g[L]=k,delete g[w]),O=_.cssHooks[L],O&&"expand"in O){k=O.expand(k),delete g[L];for(w in k)w in g||(g[w]=k[w],b[w]=I)}else b[L]=I}function Hn(g,b,w){var L,I,k=0,O=Hn.prefilters.length,Z=_.Deferred().always(function(){delete F.elem}),F=function(){if(I)return!1;for(var Ce=Da||p0(),se=Math.max(0,J.startTime+J.duration-Ce),Ie=se/J.duration||0,ct=1-Ie,At=0,wt=J.tweens.length;At<wt;At++)J.tweens[At].run(ct);return Z.notifyWith(g,[J,ct,se]),ct<1&&wt?se:(wt||Z.notifyWith(g,[J,1,0]),Z.resolveWith(g,[J]),!1)},J=Z.promise({elem:g,props:_.extend({},b),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},w),originalProperties:b,originalOptions:w,startTime:Da||p0(),duration:w.duration,tweens:[],createTween:function(Ce,se){var Ie=_.Tween(g,J.opts,Ce,se,J.opts.specialEasing[Ce]||J.opts.easing);return J.tweens.push(Ie),Ie},stop:function(Ce){var se=0,Ie=Ce?J.tweens.length:0;if(I)return this;for(I=!0;se<Ie;se++)J.tweens[se].run(1);return Ce?(Z.notifyWith(g,[J,1,0]),Z.resolveWith(g,[J,Ce])):Z.rejectWith(g,[J,Ce]),this}}),ce=J.props;for(pg(ce,J.opts.specialEasing);k<O;k++)if(L=Hn.prefilters[k].call(J,g,ce,J.opts),L)return m(L.stop)&&(_._queueHooks(J.elem,J.opts.queue).stop=L.stop.bind(L)),L;return _.map(ce,nd,J),m(J.opts.start)&&J.opts.start.call(g,J),J.progress(J.opts.progress).done(J.opts.done,J.opts.complete).fail(J.opts.fail).always(J.opts.always),_.fx.timer(_.extend(F,{elem:g,anim:J,queue:J.opts.queue})),J}_.Animation=_.extend(Hn,{tweeners:{"*":[function(g,b){var w=this.createTween(g,b);return It(w.elem,g,st.exec(b),w),w}]},tweener:function(g,b){m(g)?(b=g,g=["*"]):g=g.match(yt);for(var w,L=0,I=g.length;L<I;L++)w=g[L],Hn.tweeners[w]=Hn.tweeners[w]||[],Hn.tweeners[w].unshift(b)},prefilters:[mg],prefilter:function(g,b){b?Hn.prefilters.unshift(g):Hn.prefilters.push(g)}}),_.speed=function(g,b,w){var L=g&&typeof g=="object"?_.extend({},g):{complete:w||!w&&b||m(g)&&g,duration:g,easing:w&&b||b&&!m(b)&&b};return _.fx.off?L.duration=0:typeof L.duration!="number"&&(L.duration in _.fx.speeds?L.duration=_.fx.speeds[L.duration]:L.duration=_.fx.speeds._default),(L.queue==null||L.queue===!0)&&(L.queue="fx"),L.old=L.complete,L.complete=function(){m(L.old)&&L.old.call(this),L.queue&&_.dequeue(this,L.queue)},L},_.fn.extend({fadeTo:function(g,b,w,L){return this.filter(Ci).css("opacity",0).show().end().animate({opacity:b},g,w,L)},animate:function(g,b,w,L){var I=_.isEmptyObject(g),k=_.speed(b,w,L),O=function(){var Z=Hn(this,_.extend({},g),k);(I||Te.get(this,"finish"))&&Z.stop(!0)};return O.finish=O,I||k.queue===!1?this.each(O):this.queue(k.queue,O)},stop:function(g,b,w){var L=function(I){var k=I.stop;delete I.stop,k(w)};return typeof g!="string"&&(w=b,b=g,g=void 0),b&&this.queue(g||"fx",[]),this.each(function(){var I=!0,k=g!=null&&g+"queueHooks",O=_.timers,Z=Te.get(this);if(k)Z[k]&&Z[k].stop&&L(Z[k]);else for(k in Z)Z[k]&&Z[k].stop&&m0.test(k)&&L(Z[k]);for(k=O.length;k--;)O[k].elem===this&&(g==null||O[k].queue===g)&&(O[k].anim.stop(w),I=!1,O.splice(k,1));(I||!w)&&_.dequeue(this,g)})},finish:function(g){return g!==!1&&(g=g||"fx"),this.each(function(){var b,w=Te.get(this),L=w[g+"queue"],I=w[g+"queueHooks"],k=_.timers,O=L?L.length:0;for(w.finish=!0,_.queue(this,g,[]),I&&I.stop&&I.stop.call(this,!0),b=k.length;b--;)k[b].elem===this&&k[b].queue===g&&(k[b].anim.stop(!0),k.splice(b,1));for(b=0;b<O;b++)L[b]&&L[b].finish&&L[b].finish.call(this);delete w.finish})}}),_.each(["toggle","show","hide"],function(g,b){var w=_.fn[b];_.fn[b]=function(L,I,k){return L==null||typeof L=="boolean"?w.apply(this,arguments):this.animate(rd(b,!0),L,I,k)}}),_.each({slideDown:rd("show"),slideUp:rd("hide"),slideToggle:rd("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(g,b){_.fn[g]=function(w,L,I){return this.animate(b,w,L,I)}}),_.timers=[],_.fx.tick=function(){var g,b=0,w=_.timers;for(Da=Date.now();b<w.length;b++)g=w[b],!g()&&w[b]===g&&w.splice(b--,1);w.length||_.fx.stop(),Da=void 0},_.fx.timer=function(g){_.timers.push(g),_.fx.start()},_.fx.interval=13,_.fx.start=function(){id||(id=!0,jo())},_.fx.stop=function(){id=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(g,b){return g=_.fx&&_.fx.speeds[g]||g,b=b||"fx",this.queue(b,function(w,L){var I=i.setTimeout(w,g);L.stop=function(){i.clearTimeout(I)}})},function(){var g=v.createElement("input"),b=v.createElement("select"),w=b.appendChild(v.createElement("option"));g.type="checkbox",h.checkOn=g.value!=="",h.optSelected=w.selected,g=v.createElement("input"),g.value="t",g.type="radio",h.radioValue=g.value==="t"}();var wp,ql=_.expr.attrHandle;_.fn.extend({attr:function(g,b){return oe(this,_.attr,g,b,arguments.length>1)},removeAttr:function(g){return this.each(function(){_.removeAttr(this,g)})}}),_.extend({attr:function(g,b,w){var L,I,k=g.nodeType;if(!(k===3||k===8||k===2)){if(typeof g.getAttribute>"u")return _.prop(g,b,w);if((k!==1||!_.isXMLDoc(g))&&(I=_.attrHooks[b.toLowerCase()]||(_.expr.match.bool.test(b)?wp:void 0)),w!==void 0){if(w===null){_.removeAttr(g,b);return}return I&&"set"in I&&(L=I.set(g,w,b))!==void 0?L:(g.setAttribute(b,w+""),w)}return I&&"get"in I&&(L=I.get(g,b))!==null?L:(L=_.find.attr(g,b),L??void 0)}},attrHooks:{type:{set:function(g,b){if(!h.radioValue&&b==="radio"&&R(g,"input")){var w=g.value;return g.setAttribute("type",b),w&&(g.value=w),b}}}},removeAttr:function(g,b){var w,L=0,I=b&&b.match(yt);if(I&&g.nodeType===1)for(;w=I[L++];)g.removeAttribute(w)}}),wp={set:function(g,b,w){return b===!1?_.removeAttr(g,w):g.setAttribute(w,w),w}},_.each(_.expr.match.bool.source.match(/\w+/g),function(g,b){var w=ql[b]||_.find.attr;ql[b]=function(L,I,k){var O,Z,F=I.toLowerCase();return k||(Z=ql[F],ql[F]=O,O=w(L,I,k)!=null?F:null,ql[F]=Z),O}});var gg=/^(?:input|select|textarea|button)$/i,vg=/^(?:a|area)$/i;_.fn.extend({prop:function(g,b){return oe(this,_.prop,g,b,arguments.length>1)},removeProp:function(g){return this.each(function(){delete this[_.propFix[g]||g]})}}),_.extend({prop:function(g,b,w){var L,I,k=g.nodeType;if(!(k===3||k===8||k===2))return(k!==1||!_.isXMLDoc(g))&&(b=_.propFix[b]||b,I=_.propHooks[b]),w!==void 0?I&&"set"in I&&(L=I.set(g,w,b))!==void 0?L:g[b]=w:I&&"get"in I&&(L=I.get(g,b))!==null?L:g[b]},propHooks:{tabIndex:{get:function(g){var b=_.find.attr(g,"tabindex");return b?parseInt(b,10):gg.test(g.nodeName)||vg.test(g.nodeName)&&g.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(_.propHooks.selected={get:function(g){var b=g.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(g){var b=g.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this});function Ha(g){var b=g.match(yt)||[];return b.join(" ")}function ys(g){return g.getAttribute&&g.getAttribute("class")||""}function q(g){return Array.isArray(g)?g:typeof g=="string"?g.match(yt)||[]:[]}_.fn.extend({addClass:function(g){var b,w,L,I,k,O;return m(g)?this.each(function(Z){_(this).addClass(g.call(this,Z,ys(this)))}):(b=q(g),b.length?this.each(function(){if(L=ys(this),w=this.nodeType===1&&" "+Ha(L)+" ",w){for(k=0;k<b.length;k++)I=b[k],w.indexOf(" "+I+" ")<0&&(w+=I+" ");O=Ha(w),L!==O&&this.setAttribute("class",O)}}):this)},removeClass:function(g){var b,w,L,I,k,O;return m(g)?this.each(function(Z){_(this).removeClass(g.call(this,Z,ys(this)))}):arguments.length?(b=q(g),b.length?this.each(function(){if(L=ys(this),w=this.nodeType===1&&" "+Ha(L)+" ",w){for(k=0;k<b.length;k++)for(I=b[k];w.indexOf(" "+I+" ")>-1;)w=w.replace(" "+I+" "," ");O=Ha(w),L!==O&&this.setAttribute("class",O)}}):this):this.attr("class","")},toggleClass:function(g,b){var w,L,I,k,O=typeof g,Z=O==="string"||Array.isArray(g);return m(g)?this.each(function(F){_(this).toggleClass(g.call(this,F,ys(this),b),b)}):typeof b=="boolean"&&Z?b?this.addClass(g):this.removeClass(g):(w=q(g),this.each(function(){if(Z)for(k=_(this),I=0;I<w.length;I++)L=w[I],k.hasClass(L)?k.removeClass(L):k.addClass(L);else(g===void 0||O==="boolean")&&(L=ys(this),L&&Te.set(this,"__className__",L),this.setAttribute&&this.setAttribute("class",L||g===!1?"":Te.get(this,"__className__")||""))}))},hasClass:function(g){var b,w,L=0;for(b=" "+g+" ";w=this[L++];)if(w.nodeType===1&&(" "+Ha(ys(w))+" ").indexOf(b)>-1)return!0;return!1}});var Q=/\r/g;_.fn.extend({val:function(g){var b,w,L,I=this[0];return arguments.length?(L=m(g),this.each(function(k){var O;this.nodeType===1&&(L?O=g.call(this,k,_(this).val()):O=g,O==null?O="":typeof O=="number"?O+="":Array.isArray(O)&&(O=_.map(O,function(Z){return Z==null?"":Z+""})),b=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()],(!b||!("set"in b)||b.set(this,O,"value")===void 0)&&(this.value=O))})):I?(b=_.valHooks[I.type]||_.valHooks[I.nodeName.toLowerCase()],b&&"get"in b&&(w=b.get(I,"value"))!==void 0?w:(w=I.value,typeof w=="string"?w.replace(Q,""):w??"")):void 0}}),_.extend({valHooks:{option:{get:function(g){var b=_.find.attr(g,"value");return b??Ha(_.text(g))}},select:{get:function(g){var b,w,L,I=g.options,k=g.selectedIndex,O=g.type==="select-one",Z=O?null:[],F=O?k+1:I.length;for(k<0?L=F:L=O?k:0;L<F;L++)if(w=I[L],(w.selected||L===k)&&!w.disabled&&(!w.parentNode.disabled||!R(w.parentNode,"optgroup"))){if(b=_(w).val(),O)return b;Z.push(b)}return Z},set:function(g,b){for(var w,L,I=g.options,k=_.makeArray(b),O=I.length;O--;)L=I[O],(L.selected=_.inArray(_.valHooks.option.get(L),k)>-1)&&(w=!0);return w||(g.selectedIndex=-1),k}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(g,b){if(Array.isArray(b))return g.checked=_.inArray(_(g).val(),b)>-1}},h.checkOn||(_.valHooks[this].get=function(g){return g.getAttribute("value")===null?"on":g.value})});var ne=i.location,ye={guid:Date.now()},Pe=/\?/;_.parseXML=function(g){var b,w;if(!g||typeof g!="string")return null;try{b=new i.DOMParser().parseFromString(g,"text/xml")}catch{}return w=b&&b.getElementsByTagName("parsererror")[0],(!b||w)&&_.error("Invalid XML: "+(w?_.map(w.childNodes,function(L){return L.textContent}).join(`
`):g)),b};var $e=/^(?:focusinfocus|focusoutblur)$/,Ge=function(g){g.stopPropagation()};_.extend(_.event,{trigger:function(g,b,w,L){var I,k,O,Z,F,J,ce,Ce,se=[w||v],Ie=u.call(g,"type")?g.type:g,ct=u.call(g,"namespace")?g.namespace.split("."):[];if(k=Ce=O=w=w||v,!(w.nodeType===3||w.nodeType===8)&&!$e.test(Ie+_.event.triggered)&&(Ie.indexOf(".")>-1&&(ct=Ie.split("."),Ie=ct.shift(),ct.sort()),F=Ie.indexOf(":")<0&&"on"+Ie,g=g[_.expando]?g:new _.Event(Ie,typeof g=="object"&&g),g.isTrigger=L?2:3,g.namespace=ct.join("."),g.rnamespace=g.namespace?new RegExp("(^|\\.)"+ct.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,g.result=void 0,g.target||(g.target=w),b=b==null?[g]:_.makeArray(b,[g]),ce=_.event.special[Ie]||{},!(!L&&ce.trigger&&ce.trigger.apply(w,b)===!1))){if(!L&&!ce.noBubble&&!p(w)){for(Z=ce.delegateType||Ie,$e.test(Z+Ie)||(k=k.parentNode);k;k=k.parentNode)se.push(k),O=k;O===(w.ownerDocument||v)&&se.push(O.defaultView||O.parentWindow||i)}for(I=0;(k=se[I++])&&!g.isPropagationStopped();)Ce=k,g.type=I>1?Z:ce.bindType||Ie,J=(Te.get(k,"events")||Object.create(null))[g.type]&&Te.get(k,"handle"),J&&J.apply(k,b),J=F&&k[F],J&&J.apply&&bt(k)&&(g.result=J.apply(k,b),g.result===!1&&g.preventDefault());return g.type=Ie,!L&&!g.isDefaultPrevented()&&(!ce._default||ce._default.apply(se.pop(),b)===!1)&&bt(w)&&F&&m(w[Ie])&&!p(w)&&(O=w[F],O&&(w[F]=null),_.event.triggered=Ie,g.isPropagationStopped()&&Ce.addEventListener(Ie,Ge),w[Ie](),g.isPropagationStopped()&&Ce.removeEventListener(Ie,Ge),_.event.triggered=void 0,O&&(w[F]=O)),g.result}},simulate:function(g,b,w){var L=_.extend(new _.Event,w,{type:g,isSimulated:!0});_.event.trigger(L,null,b)}}),_.fn.extend({trigger:function(g,b){return this.each(function(){_.event.trigger(g,b,this)})},triggerHandler:function(g,b){var w=this[0];if(w)return _.event.trigger(g,b,w,!0)}});var tt=/\[\]$/,Qt=/\r?\n/g,Zt=/^(?:submit|button|image|reset|file)$/i,zt=/^(?:input|select|textarea|keygen)/i;function Oi(g,b,w,L){var I;if(Array.isArray(b))_.each(b,function(k,O){w||tt.test(g)?L(g,O):Oi(g+"["+(typeof O=="object"&&O!=null?k:"")+"]",O,w,L)});else if(!w&&y(b)==="object")for(I in b)Oi(g+"["+I+"]",b[I],w,L);else L(g,b)}_.param=function(g,b){var w,L=[],I=function(k,O){var Z=m(O)?O():O;L[L.length]=encodeURIComponent(k)+"="+encodeURIComponent(Z??"")};if(g==null)return"";if(Array.isArray(g)||g.jquery&&!_.isPlainObject(g))_.each(g,function(){I(this.name,this.value)});else for(w in g)Oi(w,g[w],b,I);return L.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var g=_.prop(this,"elements");return g?_.makeArray(g):this}).filter(function(){var g=this.type;return this.name&&!_(this).is(":disabled")&&zt.test(this.nodeName)&&!Zt.test(g)&&(this.checked||!Na.test(g))}).map(function(g,b){var w=_(this).val();return w==null?null:Array.isArray(w)?_.map(w,function(L){return{name:b.name,value:L.replace(Qt,`\r
`)}}):{name:b.name,value:w.replace(Qt,`\r
`)}}).get()}});var Ft=/%20/g,Sr=/#.*$/,Er=/([?&])_=[^&]*/,er=/^(.*?):[ \t]*([^\r\n]*)$/mg,hr=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,g0=/^(?:GET|HEAD)$/,v0=/^\/\//,Yu={},Ju={},Qu="*/".concat("*"),e1=v.createElement("a");e1.href=ne.href;function _0(g){return function(b,w){typeof b!="string"&&(w=b,b="*");var L,I=0,k=b.toLowerCase().match(yt)||[];if(m(w))for(;L=k[I++];)L[0]==="+"?(L=L.slice(1)||"*",(g[L]=g[L]||[]).unshift(w)):(g[L]=g[L]||[]).push(w)}}function Ay(g,b,w,L){var I={},k=g===Ju;function O(Z){var F;return I[Z]=!0,_.each(g[Z]||[],function(J,ce){var Ce=ce(b,w,L);if(typeof Ce=="string"&&!k&&!I[Ce])return b.dataTypes.unshift(Ce),O(Ce),!1;if(k)return!(F=Ce)}),F}return O(b.dataTypes[0])||!I["*"]&&O("*")}function _g(g,b){var w,L,I=_.ajaxSettings.flatOptions||{};for(w in b)b[w]!==void 0&&((I[w]?g:L||(L={}))[w]=b[w]);return L&&_.extend(!0,g,L),g}function qj(g,b,w){for(var L,I,k,O,Z=g.contents,F=g.dataTypes;F[0]==="*";)F.shift(),L===void 0&&(L=g.mimeType||b.getResponseHeader("Content-Type"));if(L){for(I in Z)if(Z[I]&&Z[I].test(L)){F.unshift(I);break}}if(F[0]in w)k=F[0];else{for(I in w){if(!F[0]||g.converters[I+" "+F[0]]){k=I;break}O||(O=I)}k=k||O}if(k)return k!==F[0]&&F.unshift(k),w[k]}function Uj(g,b,w,L){var I,k,O,Z,F,J={},ce=g.dataTypes.slice();if(ce[1])for(O in g.converters)J[O.toLowerCase()]=g.converters[O];for(k=ce.shift();k;)if(g.responseFields[k]&&(w[g.responseFields[k]]=b),!F&&L&&g.dataFilter&&(b=g.dataFilter(b,g.dataType)),F=k,k=ce.shift(),k){if(k==="*")k=F;else if(F!=="*"&&F!==k){if(O=J[F+" "+k]||J["* "+k],!O){for(I in J)if(Z=I.split(" "),Z[1]===k&&(O=J[F+" "+Z[0]]||J["* "+Z[0]],O)){O===!0?O=J[I]:J[I]!==!0&&(k=Z[0],ce.unshift(Z[1]));break}}if(O!==!0)if(O&&g.throws)b=O(b);else try{b=O(b)}catch(Ce){return{state:"parsererror",error:O?Ce:"No conversion from "+F+" to "+k}}}}return{state:"success",data:b}}_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ne.href,type:"GET",isLocal:hr.test(ne.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(g,b){return b?_g(_g(g,_.ajaxSettings),b):_g(_.ajaxSettings,g)},ajaxPrefilter:_0(Yu),ajaxTransport:_0(Ju),ajax:function(g,b){typeof g=="object"&&(b=g,g=void 0),b=b||{};var w,L,I,k,O,Z,F,J,ce,Ce,se=_.ajaxSetup({},b),Ie=se.context||se,ct=se.context&&(Ie.nodeType||Ie.jquery)?_(Ie):_.event,At=_.Deferred(),wt=_.Callbacks("once memory"),Pr=se.statusCode||{},fr={},$o={},Vo="canceled",Rt={readyState:0,getResponseHeader:function(Dt){var Di;if(F){if(!k)for(k={};Di=er.exec(I);)k[Di[1].toLowerCase()+" "]=(k[Di[1].toLowerCase()+" "]||[]).concat(Di[2]);Di=k[Dt.toLowerCase()+" "]}return Di==null?null:Di.join(", ")},getAllResponseHeaders:function(){return F?I:null},setRequestHeader:function(Dt,Di){return F==null&&(Dt=$o[Dt.toLowerCase()]=$o[Dt.toLowerCase()]||Dt,fr[Dt]=Di),this},overrideMimeType:function(Dt){return F==null&&(se.mimeType=Dt),this},statusCode:function(Dt){var Di;if(Dt)if(F)Rt.always(Dt[Rt.status]);else for(Di in Dt)Pr[Di]=[Pr[Di],Dt[Di]];return this},abort:function(Dt){var Di=Dt||Vo;return w&&w.abort(Di),sd(0,Di),this}};if(At.promise(Rt),se.url=((g||se.url||ne.href)+"").replace(v0,ne.protocol+"//"),se.type=b.method||b.type||se.method||se.type,se.dataTypes=(se.dataType||"*").toLowerCase().match(yt)||[""],se.crossDomain==null){Z=v.createElement("a");try{Z.href=se.url,Z.href=Z.href,se.crossDomain=e1.protocol+"//"+e1.host!=Z.protocol+"//"+Z.host}catch{se.crossDomain=!0}}if(se.data&&se.processData&&typeof se.data!="string"&&(se.data=_.param(se.data,se.traditional)),Ay(Yu,se,b,Rt),F)return Rt;J=_.event&&se.global,J&&_.active++===0&&_.event.trigger("ajaxStart"),se.type=se.type.toUpperCase(),se.hasContent=!g0.test(se.type),L=se.url.replace(Sr,""),se.hasContent?se.data&&se.processData&&(se.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(se.data=se.data.replace(Ft,"+")):(Ce=se.url.slice(L.length),se.data&&(se.processData||typeof se.data=="string")&&(L+=(Pe.test(L)?"&":"?")+se.data,delete se.data),se.cache===!1&&(L=L.replace(Er,"$1"),Ce=(Pe.test(L)?"&":"?")+"_="+ye.guid+++Ce),se.url=L+Ce),se.ifModified&&(_.lastModified[L]&&Rt.setRequestHeader("If-Modified-Since",_.lastModified[L]),_.etag[L]&&Rt.setRequestHeader("If-None-Match",_.etag[L])),(se.data&&se.hasContent&&se.contentType!==!1||b.contentType)&&Rt.setRequestHeader("Content-Type",se.contentType),Rt.setRequestHeader("Accept",se.dataTypes[0]&&se.accepts[se.dataTypes[0]]?se.accepts[se.dataTypes[0]]+(se.dataTypes[0]!=="*"?", "+Qu+"; q=0.01":""):se.accepts["*"]);for(ce in se.headers)Rt.setRequestHeader(ce,se.headers[ce]);if(se.beforeSend&&(se.beforeSend.call(Ie,Rt,se)===!1||F))return Rt.abort();if(Vo="abort",wt.add(se.complete),Rt.done(se.success),Rt.fail(se.error),w=Ay(Ju,se,b,Rt),!w)sd(-1,"No Transport");else{if(Rt.readyState=1,J&&ct.trigger("ajaxSend",[Rt,se]),F)return Rt;se.async&&se.timeout>0&&(O=i.setTimeout(function(){Rt.abort("timeout")},se.timeout));try{F=!1,w.send(fr,sd)}catch(Dt){if(F)throw Dt;sd(-1,Dt)}}function sd(Dt,Di,C0,Cg){var Fo,x0,Wo,Ul,Gl,Ms=Di;F||(F=!0,O&&i.clearTimeout(O),w=void 0,I=Cg||"",Rt.readyState=Dt>0?4:0,Fo=Dt>=200&&Dt<300||Dt===304,C0&&(Ul=qj(se,Rt,C0)),!Fo&&_.inArray("script",se.dataTypes)>-1&&_.inArray("json",se.dataTypes)<0&&(se.converters["text script"]=function(){}),Ul=Uj(se,Ul,Rt,Fo),Fo?(se.ifModified&&(Gl=Rt.getResponseHeader("Last-Modified"),Gl&&(_.lastModified[L]=Gl),Gl=Rt.getResponseHeader("etag"),Gl&&(_.etag[L]=Gl)),Dt===204||se.type==="HEAD"?Ms="nocontent":Dt===304?Ms="notmodified":(Ms=Ul.state,x0=Ul.data,Wo=Ul.error,Fo=!Wo)):(Wo=Ms,(Dt||!Ms)&&(Ms="error",Dt<0&&(Dt=0))),Rt.status=Dt,Rt.statusText=(Di||Ms)+"",Fo?At.resolveWith(Ie,[x0,Ms,Rt]):At.rejectWith(Ie,[Rt,Ms,Wo]),Rt.statusCode(Pr),Pr=void 0,J&&ct.trigger(Fo?"ajaxSuccess":"ajaxError",[Rt,se,Fo?x0:Wo]),wt.fireWith(Ie,[Rt,Ms]),J&&(ct.trigger("ajaxComplete",[Rt,se]),--_.active||_.event.trigger("ajaxStop")))}return Rt},getJSON:function(g,b,w){return _.get(g,b,w,"json")},getScript:function(g,b){return _.get(g,void 0,b,"script")}}),_.each(["get","post"],function(g,b){_[b]=function(w,L,I,k){return m(L)&&(k=k||I,I=L,L=void 0),_.ajax(_.extend({url:w,type:b,dataType:k,data:L,success:I},_.isPlainObject(w)&&w))}}),_.ajaxPrefilter(function(g){var b;for(b in g.headers)b.toLowerCase()==="content-type"&&(g.contentType=g.headers[b]||"")}),_._evalUrl=function(g,b,w){return _.ajax({url:g,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(L){_.globalEval(L,b,w)}})},_.fn.extend({wrapAll:function(g){var b;return this[0]&&(m(g)&&(g=g.call(this[0])),b=_(g,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var w=this;w.firstElementChild;)w=w.firstElementChild;return w}).append(this)),this},wrapInner:function(g){return m(g)?this.each(function(b){_(this).wrapInner(g.call(this,b))}):this.each(function(){var b=_(this),w=b.contents();w.length?w.wrapAll(g):b.append(g)})},wrap:function(g){var b=m(g);return this.each(function(w){_(this).wrapAll(b?g.call(this,w):g)})},unwrap:function(g){return this.parent(g).not("body").each(function(){_(this).replaceWith(this.childNodes)}),this}}),_.expr.pseudos.hidden=function(g){return!_.expr.pseudos.visible(g)},_.expr.pseudos.visible=function(g){return!!(g.offsetWidth||g.offsetHeight||g.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch{}};var Gj={0:200,1223:204},b0=_.ajaxSettings.xhr();h.cors=!!b0&&"withCredentials"in b0,h.ajax=b0=!!b0,_.ajaxTransport(function(g){var b,w;if(h.cors||b0&&!g.crossDomain)return{send:function(L,I){var k,O=g.xhr();if(O.open(g.type,g.url,g.async,g.username,g.password),g.xhrFields)for(k in g.xhrFields)O[k]=g.xhrFields[k];g.mimeType&&O.overrideMimeType&&O.overrideMimeType(g.mimeType),!g.crossDomain&&!L["X-Requested-With"]&&(L["X-Requested-With"]="XMLHttpRequest");for(k in L)O.setRequestHeader(k,L[k]);b=function(Z){return function(){b&&(b=w=O.onload=O.onerror=O.onabort=O.ontimeout=O.onreadystatechange=null,Z==="abort"?O.abort():Z==="error"?typeof O.status!="number"?I(0,"error"):I(O.status,O.statusText):I(Gj[O.status]||O.status,O.statusText,(O.responseType||"text")!=="text"||typeof O.responseText!="string"?{binary:O.response}:{text:O.responseText},O.getAllResponseHeaders()))}},O.onload=b(),w=O.onerror=O.ontimeout=b("error"),O.onabort!==void 0?O.onabort=w:O.onreadystatechange=function(){O.readyState===4&&i.setTimeout(function(){b&&w()})},b=b("abort");try{O.send(g.hasContent&&g.data||null)}catch(Z){if(b)throw Z}},abort:function(){b&&b()}}}),_.ajaxPrefilter(function(g){g.crossDomain&&(g.contents.script=!1)}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(g){return _.globalEval(g),g}}}),_.ajaxPrefilter("script",function(g){g.cache===void 0&&(g.cache=!1),g.crossDomain&&(g.type="GET")}),_.ajaxTransport("script",function(g){if(g.crossDomain||g.scriptAttrs){var b,w;return{send:function(L,I){b=_("<script>").attr(g.scriptAttrs||{}).prop({charset:g.scriptCharset,src:g.url}).on("load error",w=function(k){b.remove(),w=null,k&&I(k.type==="error"?404:200,k.type)}),v.head.appendChild(b[0])},abort:function(){w&&w()}}}});var Ny=[],bg=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var g=Ny.pop()||_.expando+"_"+ye.guid++;return this[g]=!0,g}}),_.ajaxPrefilter("json jsonp",function(g,b,w){var L,I,k,O=g.jsonp!==!1&&(bg.test(g.url)?"url":typeof g.data=="string"&&(g.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&bg.test(g.data)&&"data");if(O||g.dataTypes[0]==="jsonp")return L=g.jsonpCallback=m(g.jsonpCallback)?g.jsonpCallback():g.jsonpCallback,O?g[O]=g[O].replace(bg,"$1"+L):g.jsonp!==!1&&(g.url+=(Pe.test(g.url)?"&":"?")+g.jsonp+"="+L),g.converters["script json"]=function(){return k||_.error(L+" was not called"),k[0]},g.dataTypes[0]="json",I=i[L],i[L]=function(){k=arguments},w.always(function(){I===void 0?_(i).removeProp(L):i[L]=I,g[L]&&(g.jsonpCallback=b.jsonpCallback,Ny.push(L)),k&&m(I)&&I(k[0]),k=I=void 0}),"script"}),h.createHTMLDocument=function(){var g=v.implementation.createHTMLDocument("").body;return g.innerHTML="<form></form><form></form>",g.childNodes.length===2}(),_.parseHTML=function(g,b,w){if(typeof g!="string")return[];typeof b=="boolean"&&(w=b,b=!1);var L,I,k;return b||(h.createHTMLDocument?(b=v.implementation.createHTMLDocument(""),L=b.createElement("base"),L.href=v.location.href,b.head.appendChild(L)):b=v),I=lt.exec(g),k=!w&&[],I?[b.createElement(I[1])]:(I=mp([g],b,k),k&&k.length&&_(k).remove(),_.merge([],I.childNodes))},_.fn.load=function(g,b,w){var L,I,k,O=this,Z=g.indexOf(" ");return Z>-1&&(L=Ha(g.slice(Z)),g=g.slice(0,Z)),m(b)?(w=b,b=void 0):b&&typeof b=="object"&&(I="POST"),O.length>0&&_.ajax({url:g,type:I||"GET",dataType:"html",data:b}).done(function(F){k=arguments,O.html(L?_("<div>").append(_.parseHTML(F)).find(L):F)}).always(w&&function(F,J){O.each(function(){w.apply(this,k||[F.responseText,J,F])})}),this},_.expr.pseudos.animated=function(g){return _.grep(_.timers,function(b){return g===b.elem}).length},_.offset={setOffset:function(g,b,w){var L,I,k,O,Z,F,J,ce=_.css(g,"position"),Ce=_(g),se={};ce==="static"&&(g.style.position="relative"),Z=Ce.offset(),k=_.css(g,"top"),F=_.css(g,"left"),J=(ce==="absolute"||ce==="fixed")&&(k+F).indexOf("auto")>-1,J?(L=Ce.position(),O=L.top,I=L.left):(O=parseFloat(k)||0,I=parseFloat(F)||0),m(b)&&(b=b.call(g,w,_.extend({},Z))),b.top!=null&&(se.top=b.top-Z.top+O),b.left!=null&&(se.left=b.left-Z.left+I),"using"in b?b.using.call(g,se):Ce.css(se)}},_.fn.extend({offset:function(g){if(arguments.length)return g===void 0?this:this.each(function(I){_.offset.setOffset(this,g,I)});var b,w,L=this[0];if(L)return L.getClientRects().length?(b=L.getBoundingClientRect(),w=L.ownerDocument.defaultView,{top:b.top+w.pageYOffset,left:b.left+w.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var g,b,w,L=this[0],I={top:0,left:0};if(_.css(L,"position")==="fixed")b=L.getBoundingClientRect();else{for(b=this.offset(),w=L.ownerDocument,g=L.offsetParent||w.documentElement;g&&(g===w.body||g===w.documentElement)&&_.css(g,"position")==="static";)g=g.parentNode;g&&g!==L&&g.nodeType===1&&(I=_(g).offset(),I.top+=_.css(g,"borderTopWidth",!0),I.left+=_.css(g,"borderLeftWidth",!0))}return{top:b.top-I.top-_.css(L,"marginTop",!0),left:b.left-I.left-_.css(L,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var g=this.offsetParent;g&&_.css(g,"position")==="static";)g=g.offsetParent;return g||at})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(g,b){var w=b==="pageYOffset";_.fn[g]=function(L){return oe(this,function(I,k,O){var Z;if(p(I)?Z=I:I.nodeType===9&&(Z=I.defaultView),O===void 0)return Z?Z[b]:I[k];Z?Z.scrollTo(w?Z.pageXOffset:O,w?O:Z.pageYOffset):I[k]=O},g,L,arguments.length)}}),_.each(["top","left"],function(g,b){_.cssHooks[b]=bp(h.pixelPosition,function(w,L){if(L)return L=ed(w,b),Uu.test(L)?_(w).position()[b]+"px":L})}),_.each({Height:"height",Width:"width"},function(g,b){_.each({padding:"inner"+g,content:b,"":"outer"+g},function(w,L){_.fn[L]=function(I,k){var O=arguments.length&&(w||typeof I!="boolean"),Z=w||(I===!0||k===!0?"margin":"border");return oe(this,function(F,J,ce){var Ce;return p(F)?L.indexOf("outer")===0?F["inner"+g]:F.document.documentElement["client"+g]:F.nodeType===9?(Ce=F.documentElement,Math.max(F.body["scroll"+g],Ce["scroll"+g],F.body["offset"+g],Ce["offset"+g],Ce["client"+g])):ce===void 0?_.css(F,J,Z):_.style(F,J,ce,Z)},b,O?I:void 0,O)}})}),_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(g,b){_.fn[b]=function(w){return this.on(b,w)}}),_.fn.extend({bind:function(g,b,w){return this.on(g,null,b,w)},unbind:function(g,b){return this.off(g,null,b)},delegate:function(g,b,w,L){return this.on(b,g,w,L)},undelegate:function(g,b,w){return arguments.length===1?this.off(g,"**"):this.off(b,g||"**",w)},hover:function(g,b){return this.on("mouseenter",g).on("mouseleave",b||g)}}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(g,b){_.fn[b]=function(w,L){return arguments.length>0?this.on(b,null,w,L):this.trigger(b)}});var Xj=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;_.proxy=function(g,b){var w,L,I;if(typeof b=="string"&&(w=g[b],b=g,g=w),!!m(g))return L=n.call(arguments,2),I=function(){return g.apply(b||this,L.concat(n.call(arguments)))},I.guid=g.guid=g.guid||_.guid++,I},_.holdReady=function(g){g?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=R,_.isFunction=m,_.isWindow=p,_.camelCase=vt,_.type=y,_.now=Date.now,_.isNumeric=function(g){var b=_.type(g);return(b==="number"||b==="string")&&!isNaN(g-parseFloat(g))},_.trim=function(g){return g==null?"":(g+"").replace(Xj,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return _});var Kj=i.jQuery,Yj=i.$;return _.noConflict=function(g){return i.$===_&&(i.$=Yj),g&&i.jQuery===_&&(i.jQuery=Kj),_},typeof e>"u"&&(i.jQuery=i.$=_),_})});var CC=je(bC=>{(function(i){var e=typeof self=="object"&&self.self===self&&self||typeof globalThis=="object"&&globalThis.global===globalThis&&globalThis;if(typeof define=="function"&&define.amd)define(["underscore","jquery","exports"],function(n,s,o){e.Backbone=i(e,o,n,s)});else if(typeof bC<"u"){var t=(ZO(),Pa(WO)),r;try{r=gu()}catch{}i(e,bC,t,r)}else e.Backbone=i(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)})(function(i,e,t,r){var n=i.Backbone,s=Array.prototype.slice;e.VERSION="1.4.0",e.$=r,e.noConflict=function(){return i.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o=e.Events={},a=/\s+/,l,c=function(T,B,W,U,oe){var ae=0,ze;if(W&&typeof W=="object")for(U!==void 0&&("context"in oe)&&oe.context===void 0&&(oe.context=U),ze=t.keys(W);ae<ze.length;ae++)B=c(T,B,ze[ae],W[ze[ae]],oe);else if(W&&a.test(W))for(ze=W.split(a);ae<ze.length;ae++)B=T(B,ze[ae],U,oe);else B=T(B,W,U,oe);return B};o.on=function(T,B,W){if(this._events=c(u,this._events||{},T,B,{context:W,ctx:this,listening:l}),l){var U=this._listeners||(this._listeners={});U[l.id]=l,l.interop=!1}return this},o.listenTo=function(T,B,W){if(!T)return this;var U=T._listenId||(T._listenId=t.uniqueId("l")),oe=this._listeningTo||(this._listeningTo={}),ae=l=oe[U];ae||(this._listenId||(this._listenId=t.uniqueId("l")),ae=l=oe[U]=new v(this,T));var ze=d(T,B,W,this);if(l=void 0,ze)throw ze;return ae.interop&&ae.on(B,W),this};var u=function(T,B,W,U){if(W){var oe=T[B]||(T[B]=[]),ae=U.context,ze=U.ctx,nt=U.listening;nt&&nt.count++,oe.push({callback:W,context:ae,ctx:ae||ze,listening:nt})}return T},d=function(T,B,W,U){try{T.on(B,W,U)}catch(oe){return oe}};o.off=function(T,B,W){return this._events?(this._events=c(f,this._events,T,B,{context:W,listeners:this._listeners}),this):this},o.stopListening=function(T,B,W){var U=this._listeningTo;if(!U)return this;for(var oe=T?[T._listenId]:t.keys(U),ae=0;ae<oe.length;ae++){var ze=U[oe[ae]];if(!ze)break;ze.obj.off(B,W,this),ze.interop&&ze.off(B,W)}return t.isEmpty(U)&&(this._listeningTo=void 0),this};var f=function(T,B,W,U){if(T){var oe=U.context,ae=U.listeners,ze=0,nt;if(!B&&!oe&&!W){for(nt=t.keys(ae);ze<nt.length;ze++)ae[nt[ze]].cleanup();return}for(nt=B?[B]:t.keys(T);ze<nt.length;ze++){B=nt[ze];var vt=T[B];if(!vt)break;for(var bt=[],Ct=0;Ct<vt.length;Ct++){var Te=vt[Ct];if(W&&W!==Te.callback&&W!==Te.callback._callback||oe&&oe!==Te.context)bt.push(Te);else{var V=Te.listening;V&&V.off(B,W)}}bt.length?T[B]=bt:delete T[B]}return T}};o.once=function(T,B,W){var U=c(h,{},T,B,this.off.bind(this));return typeof T=="string"&&W==null&&(B=void 0),this.on(U,B,W)},o.listenToOnce=function(T,B,W){var U=c(h,{},B,W,this.stopListening.bind(this,T));return this.listenTo(T,U)};var h=function(T,B,W,U){if(W){var oe=T[B]=t.once(function(){U(B,oe),W.apply(this,arguments)});oe._callback=W}return T};o.trigger=function(T){if(!this._events)return this;for(var B=Math.max(0,arguments.length-1),W=Array(B),U=0;U<B;U++)W[U]=arguments[U+1];return c(m,this._events,T,void 0,W),this};var m=function(T,B,W,U){if(T){var oe=T[B],ae=T.all;oe&&ae&&(ae=ae.slice()),oe&&p(oe,U),ae&&p(ae,[B].concat(U))}return T},p=function(T,B){var W,U=-1,oe=T.length,ae=B[0],ze=B[1],nt=B[2];switch(B.length){case 0:for(;++U<oe;)(W=T[U]).callback.call(W.ctx);return;case 1:for(;++U<oe;)(W=T[U]).callback.call(W.ctx,ae);return;case 2:for(;++U<oe;)(W=T[U]).callback.call(W.ctx,ae,ze);return;case 3:for(;++U<oe;)(W=T[U]).callback.call(W.ctx,ae,ze,nt);return;default:for(;++U<oe;)(W=T[U]).callback.apply(W.ctx,B);return}},v=function(T,B){this.id=T._listenId,this.listener=T,this.obj=B,this.interop=!0,this.count=0,this._events=void 0};v.prototype.on=o.on,v.prototype.off=function(T,B){var W;this.interop?(this._events=c(f,this._events,T,B,{context:void 0,listeners:void 0}),W=!this._events):(this.count--,W=this.count===0),W&&this.cleanup()},v.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},o.bind=o.on,o.unbind=o.off,t.extend(e,o);var x=e.Model=function(T,B){var W=T||{};B||(B={}),this.preinitialize.apply(this,arguments),this.cid=t.uniqueId(this.cidPrefix),this.attributes={},B.collection&&(this.collection=B.collection),B.parse&&(W=this.parse(W,B)||{});var U=t.result(this,"defaults");W=t.defaults(t.extend({},U,W),U),this.set(W,B),this.changed={},this.initialize.apply(this,arguments)};t.extend(x.prototype,o,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(T){return t.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(T){return this.attributes[T]},escape:function(T){return t.escape(this.get(T))},has:function(T){return this.get(T)!=null},matches:function(T){return!!t.iteratee(T,this)(this.attributes)},set:function(T,B,W){if(T==null)return this;var U;if(typeof T=="object"?(U=T,W=B):(U={})[T]=B,W||(W={}),!this._validate(U,W))return!1;var oe=W.unset,ae=W.silent,ze=[],nt=this._changing;this._changing=!0,nt||(this._previousAttributes=t.clone(this.attributes),this.changed={});var vt=this.attributes,bt=this.changed,Ct=this._previousAttributes;for(var Te in U)B=U[Te],t.isEqual(vt[Te],B)||ze.push(Te),t.isEqual(Ct[Te],B)?delete bt[Te]:bt[Te]=B,oe?delete vt[Te]:vt[Te]=B;if(this.idAttribute in U&&(this.id=this.get(this.idAttribute)),!ae){ze.length&&(this._pending=W);for(var V=0;V<ze.length;V++)this.trigger("change:"+ze[V],this,vt[ze[V]],W)}if(nt)return this;if(!ae)for(;this._pending;)W=this._pending,this._pending=!1,this.trigger("change",this,W);return this._pending=!1,this._changing=!1,this},unset:function(T,B){return this.set(T,void 0,t.extend({},B,{unset:!0}))},clear:function(T){var B={};for(var W in this.attributes)B[W]=void 0;return this.set(B,t.extend({},T,{unset:!0}))},hasChanged:function(T){return T==null?!t.isEmpty(this.changed):t.has(this.changed,T)},changedAttributes:function(T){if(!T)return this.hasChanged()?t.clone(this.changed):!1;var B=this._changing?this._previousAttributes:this.attributes,W={},U;for(var oe in T){var ae=T[oe];t.isEqual(B[oe],ae)||(W[oe]=ae,U=!0)}return U?W:!1},previous:function(T){return T==null||!this._previousAttributes?null:this._previousAttributes[T]},previousAttributes:function(){return t.clone(this._previousAttributes)},fetch:function(T){T=t.extend({parse:!0},T);var B=this,W=T.success;return T.success=function(U){var oe=T.parse?B.parse(U,T):U;if(!B.set(oe,T))return!1;W&&W.call(T.context,B,U,T),B.trigger("sync",B,U,T)},Ue(this,T),this.sync("read",this,T)},save:function(T,B,W){var U;T==null||typeof T=="object"?(U=T,W=B):(U={})[T]=B,W=t.extend({validate:!0,parse:!0},W);var oe=W.wait;if(U&&!oe){if(!this.set(U,W))return!1}else if(!this._validate(U,W))return!1;var ae=this,ze=W.success,nt=this.attributes;W.success=function(Ct){ae.attributes=nt;var Te=W.parse?ae.parse(Ct,W):Ct;if(oe&&(Te=t.extend({},U,Te)),Te&&!ae.set(Te,W))return!1;ze&&ze.call(W.context,ae,Ct,W),ae.trigger("sync",ae,Ct,W)},Ue(this,W),U&&oe&&(this.attributes=t.extend({},nt,U));var vt=this.isNew()?"create":W.patch?"patch":"update";vt==="patch"&&!W.attrs&&(W.attrs=U);var bt=this.sync(vt,this,W);return this.attributes=nt,bt},destroy:function(T){T=T?t.clone(T):{};var B=this,W=T.success,U=T.wait,oe=function(){B.stopListening(),B.trigger("destroy",B,B.collection,T)};T.success=function(ze){U&&oe(),W&&W.call(T.context,B,ze,T),B.isNew()||B.trigger("sync",B,ze,T)};var ae=!1;return this.isNew()?t.defer(T.success):(Ue(this,T),ae=this.sync("delete",this,T)),U||oe(),ae},url:function(){var T=t.result(this,"urlRoot")||t.result(this.collection,"url")||Ai();if(this.isNew())return T;var B=this.get(this.idAttribute);return T.replace(/[^\/]$/,"$&/")+encodeURIComponent(B)},parse:function(T,B){return T},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(T){return this._validate({},t.extend({},T,{validate:!0}))},_validate:function(T,B){if(!B.validate||!this.validate)return!0;T=t.extend({},this.attributes,T);var W=this.validationError=this.validate(T,B)||null;return W?(this.trigger("invalid",this,W,t.extend(B,{validationError:W})),!1):!0}});var C=e.Collection=function(T,B){B||(B={}),this.preinitialize.apply(this,arguments),B.model&&(this.model=B.model),B.comparator!==void 0&&(this.comparator=B.comparator),this._reset(),this.initialize.apply(this,arguments),T&&this.reset(T,t.extend({silent:!0},B))},y={add:!0,remove:!0,merge:!0},S={add:!0,remove:!1},M=function(T,B,W){W=Math.min(Math.max(W,0),T.length);var U=Array(T.length-W),oe=B.length,ae;for(ae=0;ae<U.length;ae++)U[ae]=T[ae+W];for(ae=0;ae<oe;ae++)T[ae+W]=B[ae];for(ae=0;ae<U.length;ae++)T[ae+oe+W]=U[ae]};t.extend(C.prototype,o,{model:x,preinitialize:function(){},initialize:function(){},toJSON:function(T){return this.map(function(B){return B.toJSON(T)})},sync:function(){return e.sync.apply(this,arguments)},add:function(T,B){return this.set(T,t.extend({merge:!1},B,S))},remove:function(T,B){B=t.extend({},B);var W=!t.isArray(T);T=W?[T]:T.slice();var U=this._removeModels(T,B);return!B.silent&&U.length&&(B.changes={added:[],merged:[],removed:U},this.trigger("update",this,B)),W?U[0]:U},set:function(T,B){if(T!=null){B=t.extend({},y,B),B.parse&&!this._isModel(T)&&(T=this.parse(T,B)||[]);var W=!t.isArray(T);T=W?[T]:T.slice();var U=B.at;U!=null&&(U=+U),U>this.length&&(U=this.length),U<0&&(U+=this.length+1);var oe=[],ae=[],ze=[],nt=[],vt={},bt=B.add,Ct=B.merge,Te=B.remove,V=!1,D=this.comparator&&U==null&&B.sort!==!1,Ee=t.isString(this.comparator)?this.comparator:null,Le,Se;for(Se=0;Se<T.length;Se++){Le=T[Se];var Je=this.get(Le);if(Je){if(Ct&&Le!==Je){var st=this._isModel(Le)?Le.attributes:Le;B.parse&&(st=Je.parse(st,B)),Je.set(st,B),ze.push(Je),D&&!V&&(V=Je.hasChanged(Ee))}vt[Je.cid]||(vt[Je.cid]=!0,oe.push(Je)),T[Se]=Je}else bt&&(Le=T[Se]=this._prepareModel(Le,B),Le&&(ae.push(Le),this._addReference(Le,B),vt[Le.cid]=!0,oe.push(Le)))}if(Te){for(Se=0;Se<this.length;Se++)Le=this.models[Se],vt[Le.cid]||nt.push(Le);nt.length&&this._removeModels(nt,B)}var xt=!1,at=!D&&bt&&Te;if(oe.length&&at?(xt=this.length!==oe.length||t.some(this.models,function(Ni,_n){return Ni!==oe[_n]}),this.models.length=0,M(this.models,oe,0),this.length=this.models.length):ae.length&&(D&&(V=!0),M(this.models,ae,U??this.length),this.length=this.models.length),V&&this.sort({silent:!0}),!B.silent){for(Se=0;Se<ae.length;Se++)U!=null&&(B.index=U+Se),Le=ae[Se],Le.trigger("add",Le,this,B);(V||xt)&&this.trigger("sort",this,B),(ae.length||nt.length||ze.length)&&(B.changes={added:ae,removed:nt,merged:ze},this.trigger("update",this,B))}return W?T[0]:T}},reset:function(T,B){B=B?t.clone(B):{};for(var W=0;W<this.models.length;W++)this._removeReference(this.models[W],B);return B.previousModels=this.models,this._reset(),T=this.add(T,t.extend({silent:!0},B)),B.silent||this.trigger("reset",this,B),T},push:function(T,B){return this.add(T,t.extend({at:this.length},B))},pop:function(T){var B=this.at(this.length-1);return this.remove(B,T)},unshift:function(T,B){return this.add(T,t.extend({at:0},B))},shift:function(T){var B=this.at(0);return this.remove(B,T)},slice:function(){return s.apply(this.models,arguments)},get:function(T){if(T!=null)return this._byId[T]||this._byId[this.modelId(this._isModel(T)?T.attributes:T)]||T.cid&&this._byId[T.cid]},has:function(T){return this.get(T)!=null},at:function(T){return T<0&&(T+=this.length),this.models[T]},where:function(T,B){return this[B?"find":"filter"](T)},findWhere:function(T){return this.where(T,!0)},sort:function(T){var B=this.comparator;if(!B)throw new Error("Cannot sort a set without a comparator");T||(T={});var W=B.length;return t.isFunction(B)&&(B=B.bind(this)),W===1||t.isString(B)?this.models=this.sortBy(B):this.models.sort(B),T.silent||this.trigger("sort",this,T),this},pluck:function(T){return this.map(T+"")},fetch:function(T){T=t.extend({parse:!0},T);var B=T.success,W=this;return T.success=function(U){var oe=T.reset?"reset":"set";W[oe](U,T),B&&B.call(T.context,W,U,T),W.trigger("sync",W,U,T)},Ue(this,T),this.sync("read",this,T)},create:function(T,B){B=B?t.clone(B):{};var W=B.wait;if(T=this._prepareModel(T,B),!T)return!1;W||this.add(T,B);var U=this,oe=B.success;return B.success=function(ae,ze,nt){W&&U.add(ae,nt),oe&&oe.call(nt.context,ae,ze,nt)},T.save(null,B),T},parse:function(T,B){return T},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(T){return T[this.model.prototype.idAttribute||"id"]},values:function(){return new E(this,R)},keys:function(){return new E(this,A)},entries:function(){return new E(this,H)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(T,B){if(this._isModel(T))return T.collection||(T.collection=this),T;B=B?t.clone(B):{},B.collection=this;var W=new this.model(T,B);return W.validationError?(this.trigger("invalid",this,W.validationError,B),!1):W},_removeModels:function(T,B){for(var W=[],U=0;U<T.length;U++){var oe=this.get(T[U]);if(oe){var ae=this.indexOf(oe);this.models.splice(ae,1),this.length--,delete this._byId[oe.cid];var ze=this.modelId(oe.attributes);ze!=null&&delete this._byId[ze],B.silent||(B.index=ae,oe.trigger("remove",oe,this,B)),W.push(oe),this._removeReference(oe,B)}}return W},_isModel:function(T){return T instanceof x},_addReference:function(T,B){this._byId[T.cid]=T;var W=this.modelId(T.attributes);W!=null&&(this._byId[W]=T),T.on("all",this._onModelEvent,this)},_removeReference:function(T,B){delete this._byId[T.cid];var W=this.modelId(T.attributes);W!=null&&delete this._byId[W],this===T.collection&&delete T.collection,T.off("all",this._onModelEvent,this)},_onModelEvent:function(T,B,W,U){if(B){if((T==="add"||T==="remove")&&W!==this)return;if(T==="destroy"&&this.remove(B,U),T==="change"){var oe=this.modelId(B.previousAttributes()),ae=this.modelId(B.attributes);oe!==ae&&(oe!=null&&delete this._byId[oe],ae!=null&&(this._byId[ae]=B))}}this.trigger.apply(this,arguments)}});var _=typeof Symbol=="function"&&Symbol.iterator;_&&(C.prototype[_]=C.prototype.values);var E=function(T,B){this._collection=T,this._kind=B,this._index=0},R=1,A=2,H=3;_&&(E.prototype[_]=function(){return this}),E.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var T=this._collection.at(this._index);this._index++;var B;if(this._kind===R)B=T;else{var W=this._collection.modelId(T.attributes);this._kind===A?B=W:B=[W,T]}return{value:B,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var $=e.View=function(T){this.cid=t.uniqueId("view"),this.preinitialize.apply(this,arguments),t.extend(this,t.pick(T,ue)),this._ensureElement(),this.initialize.apply(this,arguments)},X=/^(\S+)\s*(.*)$/,ue=["model","collection","el","id","attributes","className","tagName","events"];t.extend($.prototype,o,{tagName:"div",$:function(T){return this.$el.find(T)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(T){return this.undelegateEvents(),this._setElement(T),this.delegateEvents(),this},_setElement:function(T){this.$el=T instanceof e.$?T:e.$(T),this.el=this.$el[0]},delegateEvents:function(T){if(T||(T=t.result(this,"events")),!T)return this;this.undelegateEvents();for(var B in T){var W=T[B];if(t.isFunction(W)||(W=this[W]),!!W){var U=B.match(X);this.delegate(U[1],U[2],W.bind(this))}}return this},delegate:function(T,B,W){return this.$el.on(T+".delegateEvents"+this.cid,B,W),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(T,B,W){return this.$el.off(T+".delegateEvents"+this.cid,B,W),this},_createElement:function(T){return document.createElement(T)},_ensureElement:function(){if(this.el)this.setElement(t.result(this,"el"));else{var T=t.extend({},t.result(this,"attributes"));this.id&&(T.id=t.result(this,"id")),this.className&&(T.class=t.result(this,"className")),this.setElement(this._createElement(t.result(this,"tagName"))),this._setAttributes(T)}},_setAttributes:function(T){this.$el.attr(T)}});var he=function(T,B,W,U){switch(B){case 1:return function(){return T[W](this[U])};case 2:return function(oe){return T[W](this[U],oe)};case 3:return function(oe,ae){return T[W](this[U],ee(oe,this),ae)};case 4:return function(oe,ae,ze){return T[W](this[U],ee(oe,this),ae,ze)};default:return function(){var oe=s.call(arguments);return oe.unshift(this[U]),T[W].apply(T,oe)}}},Y=function(T,B,W,U){t.each(W,function(oe,ae){B[ae]&&(T.prototype[ae]=he(B,oe,ae,U))})},ee=function(T,B){return t.isFunction(T)?T:t.isObject(T)&&!B._isModel(T)?ie(T):t.isString(T)?function(W){return W.get(T)}:T},ie=function(T){var B=t.matches(T);return function(W){return B(W.attributes)}},pe={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},we={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};t.each([[C,pe,"models"],[x,we,"attributes"]],function(T){var B=T[0],W=T[1],U=T[2];B.mixin=function(oe){var ae=t.reduce(t.functions(oe),function(ze,nt){return ze[nt]=0,ze},{});Y(B,oe,ae,U)},Y(B,t,W,U)}),e.sync=function(T,B,W){var U=Ve[T];t.defaults(W||(W={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var oe={type:U,dataType:"json"};if(W.url||(oe.url=t.result(B,"url")||Ai()),W.data==null&&B&&(T==="create"||T==="update"||T==="patch")&&(oe.contentType="application/json",oe.data=JSON.stringify(W.attrs||B.toJSON(W))),W.emulateJSON&&(oe.contentType="application/x-www-form-urlencoded",oe.data=oe.data?{model:oe.data}:{}),W.emulateHTTP&&(U==="PUT"||U==="DELETE"||U==="PATCH")){oe.type="POST",W.emulateJSON&&(oe.data._method=U);var ae=W.beforeSend;W.beforeSend=function(vt){if(vt.setRequestHeader("X-HTTP-Method-Override",U),ae)return ae.apply(this,arguments)}}oe.type!=="GET"&&!W.emulateJSON&&(oe.processData=!1);var ze=W.error;W.error=function(vt,bt,Ct){W.textStatus=bt,W.errorThrown=Ct,ze&&ze.call(W.context,vt,bt,Ct)};var nt=W.xhr=e.ajax(t.extend(oe,W));return B.trigger("request",B,nt,W),nt};var Ve={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var lt=e.Router=function(T){T||(T={}),this.preinitialize.apply(this,arguments),T.routes&&(this.routes=T.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},gt=/\((.*?)\)/g,De=/(\(\?)?:\w+/g,rt=/\*\w+/g,Jt=/[\-{}\[\]+?.,\\\^$|#\s]/g;t.extend(lt.prototype,o,{preinitialize:function(){},initialize:function(){},route:function(T,B,W){t.isRegExp(T)||(T=this._routeToRegExp(T)),t.isFunction(B)&&(W=B,B=""),W||(W=this[B]);var U=this;return e.history.route(T,function(oe){var ae=U._extractParameters(T,oe);U.execute(W,ae,B)!==!1&&(U.trigger.apply(U,["route:"+B].concat(ae)),U.trigger("route",B,ae),e.history.trigger("route",U,B,ae))}),this},execute:function(T,B,W){T&&T.apply(this,B)},navigate:function(T,B){return e.history.navigate(T,B),this},_bindRoutes:function(){if(this.routes){this.routes=t.result(this,"routes");for(var T,B=t.keys(this.routes);(T=B.pop())!=null;)this.route(T,this.routes[T])}},_routeToRegExp:function(T){return T=T.replace(Jt,"\\$&").replace(gt,"(?:$1)?").replace(De,function(B,W){return W?B:"([^/?]+)"}).replace(rt,"([^?]*?)"),new RegExp("^"+T+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(T,B){var W=T.exec(B).slice(1);return t.map(W,function(U,oe){return oe===W.length-1?U||null:U?decodeURIComponent(U):null})}});var Ke=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},Ye=/^[#\/]|\s+$/g,fi=/^\/+|\/+$/g,yt=/#.*$/;Ke.started=!1,t.extend(Ke.prototype,o,{interval:50,atRoot:function(){var T=this.location.pathname.replace(/[^\/]$/,"$&/");return T===this.root&&!this.getSearch()},matchRoot:function(){var T=this.decodeFragment(this.location.pathname),B=T.slice(0,this.root.length-1)+"/";return B===this.root},decodeFragment:function(T){return decodeURI(T.replace(/%25/g,"%2525"))},getSearch:function(){var T=this.location.href.replace(/#.*/,"").match(/\?.+/);return T?T[0]:""},getHash:function(T){var B=(T||this).location.href.match(/#(.*)$/);return B?B[1]:""},getPath:function(){var T=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return T.charAt(0)==="/"?T.slice(1):T},getFragment:function(T){return T==null&&(this._usePushState||!this._wantsHashChange?T=this.getPath():T=this.getHash()),T.replace(Ye,"")},start:function(T){if(Ke.started)throw new Error("Backbone.history has already been started");if(Ke.started=!0,this.options=t.extend({root:"/"},this.options,T),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(fi,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var B=this.root.slice(0,-1)||"/";return this.location.replace(B+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var W=document.body,U=W.insertBefore(this.iframe,W.firstChild).contentWindow;U.document.open(),U.document.close(),U.location.hash="#"+this.fragment}var oe=window.addEventListener||function(ae,ze){return attachEvent("on"+ae,ze)};if(this._usePushState?oe("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?oe("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var T=window.removeEventListener||function(B,W){return detachEvent("on"+B,W)};this._usePushState?T("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&T("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Ke.started=!1},route:function(T,B){this.handlers.unshift({route:T,callback:B})},checkUrl:function(T){var B=this.getFragment();if(B===this.fragment&&this.iframe&&(B=this.getHash(this.iframe.contentWindow)),B===this.fragment)return!1;this.iframe&&this.navigate(B),this.loadUrl()},loadUrl:function(T){return this.matchRoot()?(T=this.fragment=this.getFragment(T),t.some(this.handlers,function(B){if(B.route.test(T))return B.callback(T),!0})):!1},navigate:function(T,B){if(!Ke.started)return!1;(!B||B===!0)&&(B={trigger:!!B}),T=this.getFragment(T||"");var W=this.root;(T===""||T.charAt(0)==="?")&&(W=W.slice(0,-1)||"/");var U=W+T;T=T.replace(yt,"");var oe=this.decodeFragment(T);if(this.fragment!==oe){if(this.fragment=oe,this._usePushState)this.history[B.replace?"replaceState":"pushState"]({},document.title,U);else if(this._wantsHashChange){if(this._updateHash(this.location,T,B.replace),this.iframe&&T!==this.getHash(this.iframe.contentWindow)){var ae=this.iframe.contentWindow;B.replace||(ae.document.open(),ae.document.close()),this._updateHash(ae.location,T,B.replace)}}else return this.location.assign(U);if(B.trigger)return this.loadUrl(T)}},_updateHash:function(T,B,W){if(W){var U=T.href.replace(/(javascript:|#).*$/,"");T.replace(U+"#"+B)}else T.hash="#"+B}}),e.history=new Ke;var oi=function(T,B){var W=this,U;return T&&t.has(T,"constructor")?U=T.constructor:U=function(){return W.apply(this,arguments)},t.extend(U,W,B),U.prototype=t.create(W.prototype,T),U.prototype.constructor=U,U.__super__=W.prototype,U};x.extend=C.extend=lt.extend=$.extend=Ke.extend=oi;var Ai=function(){throw new Error('A "url" property or function must be specified')},Ue=function(T,B){var W=B.error;B.error=function(U){W&&W.call(B.context,T,U,B),T.trigger("error",T,U,B)}};return e})});function UO(i){let e=(this.document||this.ownerDocument).querySelectorAll(i),t=e.length;for(;--t>=0&&e.item(t)!==this;);return t>-1}var GO,If,wJ,y7,XO=P(()=>{GO=N(CC()),If=typeof Element<"u"?Element.prototype:void 0;wJ=If&&(If.matches||If.webkitMatchesSelector||If.mozMatchesSelector||If.msMatchesSelector||If.oMatchesSelector)||UO,y7=class extends GO.View{_removeElement(){this.undelegateEvents(),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}_setElement(e){this.el=e}_setAttributes(e){for(let t in e)t in this.el?this.el[t]=e[t]:this.el.setAttribute(t,e[t])}delegate(e,t,r){typeof t!="string"&&(r=t,t=null),this._domEvents===void 0&&(this._domEvents=[]);let n=this.el,s=t?function(o){let a=o.target||o.srcElement;for(;a&&a!==n;a=a.parentNode)if(wJ.call(a,t))return o.delegateTarget=a,r.handleEvent?r.handleEvent(o):r(o)}:r;return this.el.addEventListener(e,s,!1),this._domEvents.push({eventName:e,handler:s,listener:r,selector:t}),s}undelegate(e,t,r){if(typeof t=="function"&&(r=t,t=null),this.el&&this._domEvents){let n=this._domEvents.slice(),s=n.length;for(;s--;){let o=n[s];o.eventName===e&&(!r||o.listener===r)&&(!t||o.selector===t)&&(this.el.removeEventListener(o.eventName,o.handler,!1),this._domEvents.splice(s,1))}}return this}undelegateEvents(){if(this.el&&this._domEvents){let e=this._domEvents.length;for(let t=0;t<e;t++){let r=this._domEvents[t];this.el.removeEventListener(r.eventName,r.handler,!1)}this._domEvents.length=0}return this}}});var Sl,M7,L7=P(()=>{Sl="2.0.0",M7="2.1.0"});function ms(i,e){if(Array.isArray(i)){let t=[];for(let r of i)t.push(ms(r,e));return Promise.all(t)}else if(i instanceof Object&&typeof i!="string"){let t={};for(let[r,n]of Object.entries(i))t[r]=ms(n,e);return _a(t)}else return typeof i=="string"&&i.slice(0,10)===JO?e.get_model(i.slice(10,i.length)):Promise.resolve(i)}function wC(i,e){if(Array.isArray(i)){let t=[];for(let r of i)t.push(wC(r,e));return t}else{if(i instanceof Xs)return`${JO}${i.model_id}`;if(i instanceof Object&&typeof i!="string"){let t={};for(let[r,n]of Object.entries(i))t[r]=wC(n,e);return t}else return i}}var KO,xC,YO,JO,Xs,Ks,$c,f2,yJ,Ca,MJ,Ot,m2=P(()=>{eu();aN();KO=N(CC()),xC=N(gu());XO();YO=N(tn());Np();ld();L7();JO="IPY_MODEL_";Xs=class extends KO.Model{defaults(){return{_model_module:"@jupyter-widgets/base",_model_name:"WidgetModel",_model_module_version:Sl,_view_module:"@jupyter-widgets/base",_view_name:null,_view_module_version:Sl,_view_count:null}}isNew(){return!1}initialize(e,t){this._expectedEchoMsgIds=new Map,this._attrsToUpdate=new Set,super.initialize(e,t),this.widget_manager=t.widget_manager,this.model_id=t.model_id;let r=t.comm;this.views=Object.create(null),this.state_change=Promise.resolve(),this._closed=!1,this._state_lock=null,this._msg_buffer=null,this._msg_buffer_callbacks=null,this._pending_msgs=0,this._buffered_state_diff={},r?(this.comm=r,r.on_close(this._handle_comm_closed.bind(this)),r.on_msg(this._handle_comm_msg.bind(this)),this.comm_live=!0):this.comm_live=!1}get comm_live(){return this._comm_live}set comm_live(e){this._comm_live=e,this.trigger("comm_live_update")}send(e,t,r){if(this.comm!==void 0){let n={method:"custom",content:e};this.comm.send(n,t,{},r)}}close(e=!1){if(this._closed)return Promise.resolve();if(this._closed=!0,this.comm&&!e&&this.comm.close(),this.stopListening(),this.trigger("destroy",this),this.comm&&delete this.comm,this.views){let t=Object.keys(this.views).map(r=>this.views[r].then(n=>n.remove()));return delete this.views,Promise.all(t).then(()=>{})}return Promise.resolve()}_handle_comm_closed(e){this.trigger("comm:close"),this.close(!0)}_handle_comm_msg(e){let t=e.content.data,r=t.method;switch(r){case"update":case"echo_update":return this.state_change=this.state_change.then(()=>{var n,s,o;let a=t.state,l=(n=t.buffer_paths)!==null&&n!==void 0?n:[],c=(o=(s=e.buffers)===null||s===void 0?void 0:s.slice(0,l.length))!==null&&o!==void 0?o:[];if(kc(a,l,c),e.parent_header&&r==="echo_update"){let u=e.parent_header.msg_id;Object.keys(a).filter(f=>this._expectedEchoMsgIds.has(f)).forEach(f=>{this._expectedEchoMsgIds.get(f)!==u?delete a[f]:(this._expectedEchoMsgIds.delete(f),this._msg_buffer!==null&&Object.prototype.hasOwnProperty.call(this._msg_buffer,f)&&delete a[f])})}return this.constructor._deserialize_state(a,this.widget_manager)}).then(n=>{this.set_state(n)}).catch(dn(`Could not process update msg for model id: ${this.model_id}`,!0)),this.state_change;case"custom":return this.trigger("msg:custom",t.content,e.buffers),Promise.resolve()}return Promise.resolve()}set_state(e){this._state_lock=e;try{this.set(e)}catch(t){console.error(`Error setting state: ${t instanceof Error?t.message:t}`)}finally{this._state_lock=null}}get_state(e){let t=this.attributes;if(e){let r=this.defaults,n=typeof r=="function"?r.call(this):r,s={};return Object.keys(t).forEach(o=>{tf(t[o],n[o])||(s[o]=t[o])}),s}else return Object.assign({},t)}_handle_status(e){if(this.comm!==void 0&&e.content.execution_state==="idle"&&(this._pending_msgs--,this._pending_msgs<0&&(console.error(`Jupyter Widgets message throttle: Pending messages < 0 (=${this._pending_msgs}), which is unexpected. Resetting to 0 to continue.`),this._pending_msgs=0),this._msg_buffer!==null&&this._pending_msgs<1)){let t=this.send_sync_message(this._msg_buffer,this._msg_buffer_callbacks);this.rememberLastUpdateFor(t),this._msg_buffer=null,this._msg_buffer_callbacks=null}}callbacks(e){return this.widget_manager.callbacks(e)}set(e,t,r){let n=oN.call(this,e,t,r);if(this._buffered_state_diff!==void 0){let s=this.changedAttributes()||{};if(this._state_lock)for(let o of Object.keys(this._state_lock))s[o]===this._state_lock[o]&&delete s[o];if(this._buffered_state_diff_synced)for(let o of Object.keys(this._buffered_state_diff_synced))s[o]===this._buffered_state_diff_synced[o]&&delete s[o];this._buffered_state_diff=va(this._buffered_state_diff,s)}return this._changing===!1&&(this._buffered_state_diff_synced={}),n}sync(e,t,r={}){if(this.comm===void 0)throw"Syncing error: no comm channel defined";let n=e==="patch"?r.attrs:t.get_state(r.drop_defaults);if(this._state_lock)for(let o of Object.keys(this._state_lock))n[o]===this._state_lock[o]&&delete n[o];Object.keys(n).forEach(o=>{this._attrsToUpdate.add(o)});let s=this.serialize(n);if(Object.keys(s).length>0){let o=r.callbacks||this.callbacks();if(this._pending_msgs>=1){switch(e){case"patch":this._msg_buffer=va(this._msg_buffer||{},s);break;case"update":case"create":this._msg_buffer=s;break;default:throw"unrecognized syncing method"}this._msg_buffer_callbacks=o}else{let a=this.send_sync_message(n,o);this.rememberLastUpdateFor(a)}}}rememberLastUpdateFor(e){this._attrsToUpdate.forEach(t=>{this._expectedEchoMsgIds.set(t,e)}),this._attrsToUpdate=new Set}serialize(e){let t=this.constructor.serializers||YO.JSONExt.emptyObject;for(let r of Object.keys(e))try{t[r]&&t[r].serialize?e[r]=t[r].serialize(e[r],this):e[r]=JSON.parse(JSON.stringify(e[r])),e[r]&&e[r].toJSON&&(e[r]=e[r].toJSON())}catch(n){throw console.error("Error serializing widget state attribute: ",r),n}return e}send_sync_message(e,t={}){if(!this.comm)return"";try{t={shell:Object.assign({},t.shell),iopub:Object.assign({},t.iopub),input:t.input};let r=t.iopub.status;t.iopub.status=o=>{this._handle_status(o),r&&r(o)};let n=Dm(e),s=this.comm.send({method:"update",state:n.state,buffer_paths:n.buffer_paths},t,{},n.buffers);return this._pending_msgs++,s}catch(r){console.error("Could not send widget sync message",r)}return""}save_changes(e){if(this.comm_live){let t={patch:!0};e&&(t.callbacks=e),this.save(this._buffered_state_diff,t),this._changing&&va(this._buffered_state_diff_synced,this._buffered_state_diff),this._buffered_state_diff={}}}on_some_change(e,t,r){this.on("change",(...n)=>{e.some(this.hasChanged,this)&&t.apply(r,n)},this)}toJSON(e){return`IPY_MODEL_${this.model_id}`}static _deserialize_state(e,t){let r=this.serializers,n;if(r){n={};for(let s in e)r[s]&&r[s].deserialize?n[s]=r[s].deserialize(e[s],t):n[s]=e[s]}else n=e;return _a(n)}},Ks=class extends Xs{defaults(){return va(super.defaults(),{_dom_classes:[],tabbable:null,tooltip:null})}};Ks.serializers=Object.assign(Object.assign({},Xs.serializers),{layout:{deserialize:ms},style:{deserialize:ms}});$c=class extends y7{constructor(e){super(e)}initialize(e){this.listenTo(this.model,"change",(t,r)=>{let n=Object.keys(this.model.changedAttributes()||{});n[0]==="_view_count"&&n.length===1||this.update(r)}),this.options=e.options,this.once("remove",()=>{typeof this.model.get("_view_count")=="number"&&(this.model.set("_view_count",this.model.get("_view_count")-1),this.model.save_changes())}),this.once("displayed",()=>{typeof this.model.get("_view_count")=="number"&&(this.model.set("_view_count",this.model.get("_view_count")+1),this.model.save_changes())}),this.displayed=new Promise((t,r)=>{this.once("displayed",t),this.model.on("msg:custom",this.handle_message.bind(this))})}handle_message(e){e.do==="focus"?this.el.focus():e.do==="blur"&&this.el.blur()}update(e){}render(){}create_child_view(e,t={}){return t=Object.assign({parent:this},t),this.model.widget_manager.create_view(e,t).catch(dn("Could not create child view",!0))}callbacks(){return this.model.callbacks(this)}send(e,t){this.model.send(e,this.callbacks(),t)}touch(){this.model.save_changes(this.callbacks())}remove(){return super.remove(),this.trigger("remove"),this}},f2=class extends mr{constructor(e){let t=e.view;delete e.view,super(e),this._view=t}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}processMessage(e){super.processMessage(e),this._view.processLuminoMessage(e)}},yJ=f2,Ca=class extends Ns{constructor(e){let t=e.view;delete e.view,super(e),this._view=t}processMessage(e){super.processMessage(e),this._view.processLuminoMessage(e)}dispose(){var e;this.isDisposed||(super.dispose(),(e=this._view)===null||e===void 0||e.remove(),this._view=null)}},MJ=Ca,Ot=class extends $c{initialize(e){super.initialize(e),this.listenTo(this.model,"change:_dom_classes",(t,r)=>{let n=t.previous("_dom_classes");this.update_classes(n,r)}),this.layoutPromise=Promise.resolve(),this.listenTo(this.model,"change:layout",(t,r)=>{this.setLayout(r,t.previous("layout"))}),this.stylePromise=Promise.resolve(),this.listenTo(this.model,"change:style",(t,r)=>{this.setStyle(r,t.previous("style"))}),this.displayed.then(()=>{this.update_classes([],this.model.get("_dom_classes")),this.setLayout(this.model.get("layout")),this.setStyle(this.model.get("style"))}),this._comm_live_update(),this.listenTo(this.model,"comm_live_update",()=>{this._comm_live_update()}),this.listenTo(this.model,"change:tooltip",this.updateTooltip),this.updateTooltip()}setLayout(e,t){e&&(this.layoutPromise=this.layoutPromise.then(r=>(r&&(r.unlayout(),this.stopListening(r.model),r.remove()),this.create_child_view(e).then(n=>this.displayed.then(()=>(n.trigger("displayed"),this.listenTo(n.model,"change",()=>{Uo.postMessage(this.luminoWidget,mr.ResizeMessage.UnknownSize)}),Uo.postMessage(this.luminoWidget,mr.ResizeMessage.UnknownSize),this.trigger("layout-changed"),n))).catch(dn("Could not add LayoutView to DOMWidgetView",!0)))))}setStyle(e,t){e&&(this.stylePromise=this.stylePromise.then(r=>(r&&(r.unstyle(),this.stopListening(r.model),r.remove()),this.create_child_view(e).then(n=>this.displayed.then(()=>(n.trigger("displayed"),this.trigger("style-changed"),n))).catch(dn("Could not add styleView to DOMWidgetView",!0)))))}updateTooltip(){let e=this.model.get("tooltip");e?this.model.get("description").length===0&&this.el.setAttribute("title",e):this.el.removeAttribute("title")}update_classes(e,t,r){r===void 0&&(r=this.el),g3(e,t).map(function(n){r.classList?r.classList.remove(n):r.setAttribute("class",r.getAttribute("class").replace(n,""))}),g3(t,e).map(function(n){r.classList?r.classList.add(n):r.setAttribute("class",r.getAttribute("class").concat(" ",n))})}update_mapped_classes(e,t,r){let n=this.model.previous(t),s=e[n]?e[n]:[];n=this.model.get(t);let o=e[n]?e[n]:[];this.update_classes(s,o,r||this.el)}set_mapped_classes(e,t,r){let n=this.model.get(t),s=e[n]?e[n]:[];this.update_classes([],s,r||this.el)}_setElement(e){this.luminoWidget&&this.luminoWidget.dispose(),this.$el=e instanceof xC.default?e:(0,xC.default)(e),this.el=this.$el[0],this.luminoWidget=new f2({node:e,view:this})}remove(){return this.luminoWidget&&this.luminoWidget.dispose(),super.remove()}processPhosphorMessage(e){this.processLuminoMessage(e)}processLuminoMessage(e){switch(e.type){case"after-attach":this.trigger("displayed");break;case"show":this.trigger("shown");break}}_comm_live_update(){this.model.comm_live?this.luminoWidget.removeClass("jupyter-widgets-disconnected"):this.luminoWidget.addClass("jupyter-widgets-disconnected")}updateTabindex(){let e=this.model.get("tabbable");e===!0?this.el.setAttribute("tabIndex","0"):e===!1?this.el.setAttribute("tabIndex","-1"):e===null&&this.el.removeAttribute("tabIndex")}get pWidget(){return this.luminoWidget}set pWidget(e){this.luminoWidget=e}}});var QO=P(()=>{});var eD,yC,MC,tD=P(()=>{eu();m2();eD={align_content:null,align_items:null,align_self:null,border_top:null,border_right:null,border_bottom:null,border_left:null,bottom:null,display:null,flex:null,flex_flow:null,height:null,justify_content:null,justify_items:null,left:null,margin:null,max_height:null,max_width:null,min_height:null,min_width:null,overflow:null,order:null,padding:null,right:null,top:null,visibility:null,width:null,object_fit:null,object_position:null,grid_auto_columns:null,grid_auto_flow:null,grid_auto_rows:null,grid_gap:null,grid_template_rows:null,grid_template_columns:null,grid_template_areas:null,grid_row:null,grid_column:null,grid_area:null},yC=class extends Xs{defaults(){return va(super.defaults(),{_model_name:"LayoutModel",_view_name:"LayoutView"},eD)}},MC=class extends $c{initialize(e){this._traitNames=[],super.initialize(e);for(let t of Object.keys(eD))this.registerTrait(t)}registerTrait(e){this._traitNames.push(e),this.listenTo(this.model,"change:"+e,(t,r)=>{this.handleChange(e,r)}),this.handleChange(e,this.model.get(e))}css_name(e){return e.replace(/_/g,"-")}handleChange(e,t){let r=this.options.parent;r?t===null?r.el.style.removeProperty(this.css_name(e)):r.el.style.setProperty(this.css_name(e),t):console.warn("Style not applied because a parent view does not exist")}unlayout(){let e=this.options.parent;this._traitNames.forEach(t=>{e?e.el.style.removeProperty(this.css_name(t)):console.warn("Style not removed because a parent view does not exist")},this)}}});var Vc,LC,iD=P(()=>{eu();m2();Vc=class extends Xs{defaults(){let e=this.constructor;return va(super.defaults(),{_model_name:"StyleModel",_view_name:"StyleView"},Object.keys(e.styleProperties).reduce((t,r)=>(t[r]=e.styleProperties[r].default,t),{}))}};Vc.styleProperties={};LC=class extends $c{initialize(e){this._traitNames=[],super.initialize(e);let t=this.model.constructor;for(let r of Object.keys(t.styleProperties))this.registerTrait(r);this.style()}registerTrait(e){this._traitNames.push(e),this.listenTo(this.model,"change:"+e,(t,r)=>{this.handleChange(e,r)})}handleChange(e,t){let r=this.options.parent;if(r){let s=this.model.constructor.styleProperties,o=s[e].attribute,a=s[e].selector,l=a?r.el.querySelectorAll(a):[r.el];if(t===null)for(let c=0;c!==l.length;++c)l[c].style.removeProperty(o);else for(let c=0;c!==l.length;++c)l[c].style.setProperty(o,t)}else console.warn("Style not applied because a parent view does not exist")}style(){for(let e of this._traitNames)this.handleChange(e,this.model.get(e))}unstyle(){let e=this.options.parent,r=this.model.constructor.styleProperties;this._traitNames.forEach(n=>{if(e){let s=r[n].attribute,o=r[n].selector,a=o?e.el.querySelectorAll(o):[e.el];for(let l=0;l!==a.length;++l)a[l].style.removeProperty(s)}else console.warn("Style not removed because a parent view does not exist")},this)}}});var kf,rD=P(()=>{(function(i){let e;(function(t){class r{constructor(o){this.targets=Object.create(null),this.comms=Object.create(null),this.init_kernel(o)}init_kernel(o){this.kernel=o,this.jsServicesKernel=o}async new_comm(o,a,l,c,u,d){let f=this.jsServicesKernel.createComm(o,u),h=new n(f);return this.register_comm(h),h.open(a,l,c,d),h}register_target(o,a){let l=this.jsServicesKernel.registerCommTarget(o,(c,u)=>{let d=new n(c);this.register_comm(d);try{return a(d,u)}catch(f){d.close(),console.error(f),console.error(new Error("Exception opening new comm"))}});this.targets[o]=l}unregister_target(o,a){this.targets[o].dispose(),delete this.targets[o]}register_comm(o){return this.comms[o.comm_id]=Promise.resolve(o),o.kernel=this.kernel,o.comm_id}}t.CommManager=r;class n{constructor(o){this.jsServicesComm=o}get comm_id(){return this.jsServicesComm.commId}get target_name(){return this.jsServicesComm.targetName}open(o,a,l,c){let u=this.jsServicesComm.open(o,l,c);return this._hookupCallbacks(u,a),u.msg.header.msg_id}send(o,a,l,c){let u=this.jsServicesComm.send(o,l,c);return this._hookupCallbacks(u,a),u.msg.header.msg_id}close(o,a,l,c){let u=this.jsServicesComm.close(o,l,c);return this._hookupCallbacks(u,a),u.msg.header.msg_id}on_msg(o){this.jsServicesComm.onMsg=o.bind(this)}on_close(o){this.jsServicesComm.onClose=o.bind(this)}_hookupCallbacks(o,a){a&&(o.onReply=function(l){a.shell&&a.shell.reply&&a.shell.reply(l)},o.onStdin=function(l){a.input&&a.input(l)},o.onIOPub=function(l){if(a.iopub){if(a.iopub.status&&l.header.msg_type==="status")a.iopub.status(l);else if(a.iopub.clear_output&&l.header.msg_type==="clear_output")a.iopub.clear_output(l);else if(a.iopub.output)switch(l.header.msg_type){case"display_data":case"execute_result":case"stream":case"error":a.iopub.output(l);break;default:break}}})}}t.Comm=n})(e=i.services||(i.services={}))})(kf||(kf={}))});var No,nD=P(()=>{No=class{constructor(e,t,r){this.initialize(e,t,r)}initialize(e,t,r){this._handler_context=r||this,this._models=[],this.views=[],this._create_view=e,this._remove_view=t||function(n){n.remove()}}update(e,t,r,n){let s=r||this._remove_view,o=t||this._create_view;n=n||this._handler_context;let a=0;for(;a<e.length&&!(a>=this._models.length||e[a]!==this._models[a]);a++);let l=a,c=this.views.splice(l,this.views.length-l);for(let u=0;u<c.length;u++)c[u].then(function(d){s.call(n,d)});for(;a<e.length;a++)this.views.push(Promise.resolve(o.call(n,e[a],a)));return this._models=e.slice(),Promise.all(this.views)}remove(){return Promise.all(this.views).then(e=>{e.forEach(t=>this._remove_view.call(this._handler_context,t)),this.views=[],this._models=[]})}dispose(){this.views=null,this._models=null}}});var sD,LJ,oD=P(()=>{sD=N(tn()),LJ=new sD.Token("jupyter.extensions.jupyterWidgetRegistry")});function p2(i,e){class t extends Ks{constructor(n,s){n=Object.assign(Object.assign({},n),{_view_name:"ErrorWidgetView",_view_module:"@jupyter-widgets/base",_model_module_version:Sl,_view_module_version:Sl,msg:e,error:i}),super(n,s),this.comm_live=!0}}return t}function SC(i,e){return class extends Tf{generateErrorMessage(){return{msg:e,stack:String(i instanceof Error?i.stack:i)}}}}var Tf,aD=P(()=>{m2();L7();eu();Tf=class extends Ot{generateErrorMessage(){return{msg:this.model.get("msg"),stack:String(this.model.get("error").stack)}}render(){let{msg:e,stack:t}=this.generateErrorMessage();this.el.classList.add("jupyter-widgets");let r=document.createElement("div");r.classList.add("jupyter-widgets-error-widget","icon-error"),r.innerHTML=v3;let n=document.createElement("pre");n.style.textAlign="center",n.innerText="Click to show javascript error.",r.append(n),this.el.appendChild(r);let s,o;this.el.onclick=()=>{r.classList.contains("icon-error")&&(o=o||r.clientHeight,s=s||r.clientWidth,r.classList.remove("icon-error"),r.innerHTML=`
        <pre>[Open Browser Console for more detailed log - Double click to close this message]
${e}
${t}</pre>
        `,r.style.height=`${o}px`,r.style.width=`${s}px`,r.classList.add("text-error"))},this.el.ondblclick=()=>{r.classList.contains("text-error")&&(r.classList.remove("text-error"),r.innerHTML=v3,r.append(n),r.classList.add("icon-error"))}}}});var g2={};qo(g2,{BROKEN_FILE_SVG_ICON:()=>v3,DOMWidgetModel:()=>Ks,DOMWidgetView:()=>Ot,ErrorWidgetView:()=>Tf,IJupyterWidgetRegistry:()=>LJ,JUPYTER_WIDGETS_VERSION:()=>Sl,JupyterLuminoPanelWidget:()=>Ca,JupyterLuminoWidget:()=>f2,JupyterPhosphorPanelWidget:()=>MJ,JupyterPhosphorWidget:()=>yJ,LayoutModel:()=>yC,LayoutView:()=>MC,PROTOCOL_VERSION:()=>M7,StyleModel:()=>Vc,StyleView:()=>LC,ViewList:()=>No,WidgetModel:()=>Xs,WidgetView:()=>$c,assign:()=>va,createErrorWidgetModel:()=>p2,createErrorWidgetView:()=>SC,difference:()=>g3,isEqual:()=>tf,isObject:()=>rN,isSerializable:()=>iN,pack_models:()=>wC,put_buffers:()=>kc,reject:()=>dn,remove_buffers:()=>Dm,resolvePromisesDict:()=>_a,shims:()=>kf,unpack_models:()=>ms,uuid:()=>ri});var $i=P(()=>{m2();QO();tD();iD();rD();nD();L7();eu();oD();aD()});var dD=je(S7=>{"use strict";S7.byteLength=EJ;S7.toByteArray=IJ;S7.fromByteArray=AJ;var xa=[],Ys=[],SJ=typeof Uint8Array<"u"?Uint8Array:Array,EC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(vu=0,lD=EC.length;vu<lD;++vu)xa[vu]=EC[vu],Ys[EC.charCodeAt(vu)]=vu;var vu,lD;Ys["-".charCodeAt(0)]=62;Ys["_".charCodeAt(0)]=63;function cD(i){var e=i.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=i.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function EJ(i){var e=cD(i),t=e[0],r=e[1];return(t+r)*3/4-r}function RJ(i,e,t){return(e+t)*3/4-t}function IJ(i){var e,t=cD(i),r=t[0],n=t[1],s=new SJ(RJ(i,r,n)),o=0,a=n>0?r-4:r,l;for(l=0;l<a;l+=4)e=Ys[i.charCodeAt(l)]<<18|Ys[i.charCodeAt(l+1)]<<12|Ys[i.charCodeAt(l+2)]<<6|Ys[i.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return n===2&&(e=Ys[i.charCodeAt(l)]<<2|Ys[i.charCodeAt(l+1)]>>4,s[o++]=e&255),n===1&&(e=Ys[i.charCodeAt(l)]<<10|Ys[i.charCodeAt(l+1)]<<4|Ys[i.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function kJ(i){return xa[i>>18&63]+xa[i>>12&63]+xa[i>>6&63]+xa[i&63]}function TJ(i,e,t){for(var r,n=[],s=e;s<t;s+=3)r=(i[s]<<16&16711680)+(i[s+1]<<8&65280)+(i[s+2]&255),n.push(kJ(r));return n.join("")}function AJ(i){for(var e,t=i.length,r=t%3,n=[],s=16383,o=0,a=t-r;o<a;o+=s)n.push(TJ(i,o,o+s>a?a:o+s));return r===1?(e=i[t-1],n.push(xa[e>>2]+xa[e<<4&63]+"==")):r===2&&(e=(i[t-2]<<8)+i[t-1],n.push(xa[e>>10]+xa[e>>4&63]+xa[e<<2&63]+"=")),n.join("")}});function uD(i){let e=new Uint8Array(i.length/2);for(let t=0;t<i.length;t+=2)e[t/2]=parseInt(i.slice(t,t+2),16);return e.buffer}function hD(i){return(0,E7.fromByteArray)(new Uint8Array(i))}function fD(i){return(0,E7.toByteArray)(i).buffer}var E7,RC=P(()=>{E7=N(dD())});function pD(i){let e=[],t=null,r=null,n=null,s=0,o;/`/.test(i)?(i=i.replace(/~/g,"~T").replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,c=>c.replace(/\$/g,"~D")),o=c=>c.replace(/~([TD])/g,(u,d)=>d==="T"?"~":mD)):o=c=>c;let l=i.replace(/\r\n?/g,`
`).split(NJ);for(let c=1,u=l.length;c<u;c+=2){let d=l[c];d.charAt(0)==="@"?(l[c]="@@"+e.length+"@@",e.push(d)):t!==null?d===r?s?n=c:(l=IC(t,c,o,e,l),t=null,r=null,n=null):d.match(/\n.*\n/)?(n!==null&&(c=n,l=IC(t,c,o,e,l)),t=null,r=null,n=null,s=0):d==="{"?s++:d==="}"&&s&&s--:d===mD||d==="$$"?(t=c,r=d,s=0):d==="\\\\("||d==="\\\\["?(t=c,r=d.slice(-1)==="("?"\\\\)":"\\\\]",s=0):d.substr(1,5)==="begin"&&(t=c,r="\\end"+d.substr(6),s=0)}return t!==null&&n!==null&&(l=IC(t,n,o,e,l),t=null,r=null,n=null),{text:o(l.join("")),math:e}}function gD(i,e){let t=(r,n)=>{let s=e[n];return s.substr(0,3)==="\\\\("&&s.substr(s.length-3)==="\\\\)"?s="\\("+s.substring(3,s.length-3)+"\\)":s.substr(0,3)==="\\\\["&&s.substr(s.length-3)==="\\\\]"&&(s="\\["+s.substring(3,s.length-3)+"\\]"),s};return i.replace(/@@(\d+)@@/g,t)}function IC(i,e,t,r,n){let s=n.slice(i,e+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(navigator&&navigator.appName==="Microsoft Internet Explorer"&&(s=s.replace(/(%[^\n]*)\n/g,`$1<br/>
`));e>i;)n[e]="",e--;return n[i]="@@"+r.length+"@@",t&&(s=t(s)),r.push(s),n}var mD,NJ,vD=P(()=>{mD="$",NJ=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[{}$]|[{}]|(?:\n\s*)+|@@\d+@@|\\\\(?:\(|\)|\[|\]))/i});var wD=je((ywe,xD)=>{var OJ=h$(),_D=f$(),{isPlainObject:DJ}=m$(),bD=p$(),HJ=g$(),{parse:zJ}=v$(),BJ=["img","audio","video","picture","svg","object","map","iframe","embed"],PJ=["script","style"];function Af(i,e){i&&Object.keys(i).forEach(function(t){e(i[t],t)})}function El(i,e){return{}.hasOwnProperty.call(i,e)}function CD(i,e){let t=[];return Af(i,function(r){e(r)&&t.push(r)}),t}function jJ(i){for(let e in i)if(El(i,e))return!1;return!0}function $J(i){return i.map(function(e){if(!e.url)throw new Error("URL missing");return e.url+(e.w?` ${e.w}w`:"")+(e.h?` ${e.h}h`:"")+(e.d?` ${e.d}x`:"")}).join(", ")}xD.exports=v2;var VJ=/^[^\0\t\n\f\r /<=>]+$/;function v2(i,e,t){if(i==null)return"";typeof i=="number"&&(i=i.toString());let r="",n="";function s(Y,ee){let ie=this;this.tag=Y,this.attribs=ee||{},this.tagPosition=r.length,this.text="",this.openingTagLength=0,this.mediaChildren=[],this.updateParentNodeText=function(){if(v.length){let pe=v[v.length-1];pe.text+=ie.text}},this.updateParentNodeMediaChildren=function(){v.length&&BJ.includes(this.tag)&&v[v.length-1].mediaChildren.push(this.tag)}}e=Object.assign({},v2.defaults,e),e.parser=Object.assign({},FJ,e.parser);let o=function(Y){return e.allowedTags===!1||(e.allowedTags||[]).indexOf(Y)>-1};PJ.forEach(function(Y){o(Y)&&!e.allowVulnerableTags&&console.warn(`

\u26A0\uFE0F Your \`allowedTags\` option includes, \`${Y}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});let a=e.nonTextTags||["script","style","textarea","option"],l,c;e.allowedAttributes&&(l={},c={},Af(e.allowedAttributes,function(Y,ee){l[ee]=[];let ie=[];Y.forEach(function(pe){typeof pe=="string"&&pe.indexOf("*")>=0?ie.push(_D(pe).replace(/\\\*/g,".*")):l[ee].push(pe)}),ie.length&&(c[ee]=new RegExp("^("+ie.join("|")+")$"))}));let u={},d={},f={};Af(e.allowedClasses,function(Y,ee){if(l&&(El(l,ee)||(l[ee]=[]),l[ee].push("class")),u[ee]=Y,Array.isArray(Y)){let ie=[];u[ee]=[],f[ee]=[],Y.forEach(function(pe){typeof pe=="string"&&pe.indexOf("*")>=0?ie.push(_D(pe).replace(/\\\*/g,".*")):pe instanceof RegExp?f[ee].push(pe):u[ee].push(pe)}),ie.length&&(d[ee]=new RegExp("^("+ie.join("|")+")$"))}});let h={},m;Af(e.transformTags,function(Y,ee){let ie;typeof Y=="function"?ie=Y:typeof Y=="string"&&(ie=v2.simpleTransform(Y)),ee==="*"?m=ie:h[ee]=ie});let p,v,x,C,y,S,M=!1;E();let _=new OJ.Parser({onopentag:function(Y,ee){if(e.onOpenTag&&e.onOpenTag(Y,ee),e.enforceHtmlBoundary&&Y==="html"&&E(),y){S++;return}let ie=new s(Y,ee);v.push(ie);let pe=!1,we=!!ie.text,Ve;if(El(h,Y)&&(Ve=h[Y](Y,ee),ie.attribs=ee=Ve.attribs,Ve.text!==void 0&&(ie.innerText=Ve.text),Y!==Ve.tagName&&(ie.name=Y=Ve.tagName,C[p]=Ve.tagName)),m&&(Ve=m(Y,ee),ie.attribs=ee=Ve.attribs,Y!==Ve.tagName&&(ie.name=Y=Ve.tagName,C[p]=Ve.tagName)),(!o(Y)||e.disallowedTagsMode==="recursiveEscape"&&!jJ(x)||e.nestingLimit!=null&&p>=e.nestingLimit)&&(pe=!0,x[p]=!0,(e.disallowedTagsMode==="discard"||e.disallowedTagsMode==="completelyDiscard")&&a.indexOf(Y)!==-1&&(y=!0,S=1)),p++,pe){if(e.disallowedTagsMode==="discard"||e.disallowedTagsMode==="completelyDiscard"){if(ie.innerText&&!we){let De=R(ie.innerText);e.textFilter?r+=e.textFilter(De,Y):r+=De,M=!0}return}n=r,r=""}r+="<"+Y,Y==="script"&&(e.allowedScriptHostnames||e.allowedScriptDomains)&&(ie.innerText=""),pe&&(e.disallowedTagsMode==="escape"||e.disallowedTagsMode==="recursiveEscape")&&e.preserveEscapedAttributes?Af(ee,function(De,rt){r+=" "+rt+'="'+R(De||"",!0)+'"'}):(!l||El(l,Y)||l["*"])&&Af(ee,function(De,rt){if(!VJ.test(rt)){delete ie.attribs[rt];return}if(De===""&&!e.allowedEmptyAttributes.includes(rt)&&(e.nonBooleanAttributes.includes(rt)||e.nonBooleanAttributes.includes("*"))){delete ie.attribs[rt];return}let Jt=!1;if(!l||El(l,Y)&&l[Y].indexOf(rt)!==-1||l["*"]&&l["*"].indexOf(rt)!==-1||El(c,Y)&&c[Y].test(rt)||c["*"]&&c["*"].test(rt))Jt=!0;else if(l&&l[Y]){for(let Ke of l[Y])if(DJ(Ke)&&Ke.name&&Ke.name===rt){Jt=!0;let Ye="";if(Ke.multiple===!0){let fi=De.split(" ");for(let yt of fi)Ke.values.indexOf(yt)!==-1&&(Ye===""?Ye=yt:Ye+=" "+yt)}else Ke.values.indexOf(De)>=0&&(Ye=De);De=Ye}}if(Jt){if(e.allowedSchemesAppliedToAttributes.indexOf(rt)!==-1&&A(Y,De)){delete ie.attribs[rt];return}if(Y==="script"&&rt==="src"){let Ke=!0;try{let Ye=H(De);if(e.allowedScriptHostnames||e.allowedScriptDomains){let fi=(e.allowedScriptHostnames||[]).find(function(oi){return oi===Ye.url.hostname}),yt=(e.allowedScriptDomains||[]).find(function(oi){return Ye.url.hostname===oi||Ye.url.hostname.endsWith(`.${oi}`)});Ke=fi||yt}}catch{Ke=!1}if(!Ke){delete ie.attribs[rt];return}}if(Y==="iframe"&&rt==="src"){let Ke=!0;try{let Ye=H(De);if(Ye.isRelativeUrl)Ke=El(e,"allowIframeRelativeUrls")?e.allowIframeRelativeUrls:!e.allowedIframeHostnames&&!e.allowedIframeDomains;else if(e.allowedIframeHostnames||e.allowedIframeDomains){let fi=(e.allowedIframeHostnames||[]).find(function(oi){return oi===Ye.url.hostname}),yt=(e.allowedIframeDomains||[]).find(function(oi){return Ye.url.hostname===oi||Ye.url.hostname.endsWith(`.${oi}`)});Ke=fi||yt}}catch{Ke=!1}if(!Ke){delete ie.attribs[rt];return}}if(rt==="srcset")try{let Ke=HJ(De);if(Ke.forEach(function(Ye){A("srcset",Ye.url)&&(Ye.evil=!0)}),Ke=CD(Ke,function(Ye){return!Ye.evil}),Ke.length)De=$J(CD(Ke,function(Ye){return!Ye.evil})),ie.attribs[rt]=De;else{delete ie.attribs[rt];return}}catch{delete ie.attribs[rt];return}if(rt==="class"){let Ke=u[Y],Ye=u["*"],fi=d[Y],yt=f[Y],oi=f["*"],Ai=d["*"],Ue=[fi,Ai].concat(yt,oi).filter(function(T){return T});if(Ke&&Ye?De=he(De,bD(Ke,Ye),Ue):De=he(De,Ke||Ye,Ue),!De.length){delete ie.attribs[rt];return}}if(rt==="style"){if(e.parseStyleAttributes)try{let Ke=zJ(Y+" {"+De+"}",{map:!1}),Ye=$(Ke,e.allowedStyles);if(De=X(Ye),De.length===0){delete ie.attribs[rt];return}}catch{typeof window<"u"&&console.warn('Failed to parse "'+Y+" {"+De+`}", If you're running this in a browser, we recommend to disable style parsing: options.parseStyleAttributes: false, since this only works in a node environment due to a postcss dependency, More info: https://github.com/apostrophecms/sanitize-html/issues/547`),delete ie.attribs[rt];return}else if(e.allowedStyles)throw new Error("allowedStyles option cannot be used together with parseStyleAttributes: false.")}r+=" "+rt,De&&De.length?r+='="'+R(De,!0)+'"':e.allowedEmptyAttributes.includes(rt)&&(r+='=""')}else delete ie.attribs[rt]}),e.selfClosing.indexOf(Y)!==-1?r+=" />":(r+=">",ie.innerText&&!we&&!e.textFilter&&(r+=R(ie.innerText),M=!0)),pe&&(r=n+R(r),n=""),ie.openingTagLength=r.length-ie.tagPosition},ontext:function(Y){if(y)return;let ee=v[v.length-1],ie;if(ee&&(ie=ee.tag,Y=ee.innerText!==void 0?ee.innerText:Y),e.disallowedTagsMode==="completelyDiscard"&&!o(ie))Y="";else if((e.disallowedTagsMode==="discard"||e.disallowedTagsMode==="completelyDiscard")&&(ie==="script"||ie==="style"))r+=Y;else if(!M){let pe=R(Y,!1);e.textFilter?r+=e.textFilter(pe,ie):r+=pe}if(v.length){let pe=v[v.length-1];pe.text+=Y}},onclosetag:function(Y,ee){if(e.onCloseTag&&e.onCloseTag(Y,ee),y)if(S--,!S)y=!1;else return;let ie=v.pop();if(!ie)return;if(ie.tag!==Y){v.push(ie);return}y=e.enforceHtmlBoundary?Y==="html":!1,p--;let pe=x[p];if(pe){if(delete x[p],e.disallowedTagsMode==="discard"||e.disallowedTagsMode==="completelyDiscard"){ie.updateParentNodeText();return}n=r,r=""}if(C[p]&&(Y=C[p],delete C[p]),e.exclusiveFilter){let we=e.exclusiveFilter(ie);if(we==="excludeTag"){pe&&(r=n,n=""),r=r.substring(0,ie.tagPosition)+r.substring(ie.tagPosition+ie.openingTagLength);return}else if(we){r=r.substring(0,ie.tagPosition);return}}if(ie.updateParentNodeMediaChildren(),ie.updateParentNodeText(),e.selfClosing.indexOf(Y)!==-1||ee&&!o(Y)&&["escape","recursiveEscape"].indexOf(e.disallowedTagsMode)>=0){pe&&(r=n,n="");return}r+="</"+Y+">",pe&&(r=n+R(r),n=""),M=!1}},e.parser);return _.write(i),_.end(),r;function E(){r="",p=0,v=[],x={},C={},y=!1,S=0}function R(Y,ee){return typeof Y!="string"&&(Y=Y+""),e.parser.decodeEntities&&(Y=Y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),ee&&(Y=Y.replace(/"/g,"&quot;"))),Y=Y.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),ee&&(Y=Y.replace(/"/g,"&quot;")),Y}function A(Y,ee){for(ee=ee.replace(/[\x00-\x20]+/g,"");;){let we=ee.indexOf("<!--");if(we===-1)break;let Ve=ee.indexOf("-->",we+4);if(Ve===-1)break;ee=ee.substring(0,we)+ee.substring(Ve+3)}let ie=ee.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!ie)return ee.match(/^[/\\]{2}/)?!e.allowProtocolRelative:!1;let pe=ie[1].toLowerCase();return El(e.allowedSchemesByTag,Y)?e.allowedSchemesByTag[Y].indexOf(pe)===-1:!e.allowedSchemes||e.allowedSchemes.indexOf(pe)===-1}function H(Y){if(Y=Y.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//"),Y.startsWith("relative:"))throw new Error("relative: exploit attempt");let ee="relative://relative-site";for(let we=0;we<100;we++)ee+=`/${we}`;let ie=new URL(Y,ee);return{isRelativeUrl:ie&&ie.hostname==="relative-site"&&ie.protocol==="relative:",url:ie}}function $(Y,ee){if(!ee)return Y;let ie=Y.nodes[0],pe;return ee[ie.selector]&&ee["*"]?pe=bD(ee[ie.selector],ee["*"]):pe=ee[ie.selector]||ee["*"],pe&&(Y.nodes[0].nodes=ie.nodes.reduce(ue(pe),[])),Y}function X(Y){return Y.nodes[0].nodes.reduce(function(ee,ie){return ee.push(`${ie.prop}:${ie.value}${ie.important?" !important":""}`),ee},[]).join(";")}function ue(Y){return function(ee,ie){return El(Y,ie.prop)&&Y[ie.prop].some(function(we){return we.test(ie.value)})&&ee.push(ie),ee}}function he(Y,ee,ie){return ee?(Y=Y.split(/\s+/),Y.filter(function(pe){return ee.indexOf(pe)!==-1||ie.some(function(we){return we.test(pe)})}).join(" ")):Y}}var FJ={decodeEntities:!0};v2.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","menu","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],nonBooleanAttributes:["abbr","accept","accept-charset","accesskey","action","allow","alt","as","autocapitalize","autocomplete","blocking","charset","cite","class","color","cols","colspan","content","contenteditable","coords","crossorigin","data","datetime","decoding","dir","dirname","download","draggable","enctype","enterkeyhint","fetchpriority","for","form","formaction","formenctype","formmethod","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","id","imagesizes","imagesrcset","inputmode","integrity","is","itemid","itemprop","itemref","itemtype","kind","label","lang","list","loading","low","max","maxlength","media","method","min","minlength","name","nonce","optimum","pattern","ping","placeholder","popover","popovertarget","popovertargetaction","poster","preload","referrerpolicy","rel","rows","rowspan","sandbox","scope","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","tabindex","target","title","translate","type","usemap","value","width","wrap","onauxclick","onafterprint","onbeforematch","onbeforeprint","onbeforeunload","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","onhashchange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onlanguagechange","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmessageerror","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreset","onresize","onrejectionhandled","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","ontoggle","onunhandledrejection","onunload","onvolumechange","onwaiting","onwheel"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},allowedEmptyAttributes:["alt"],selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1,parseStyleAttributes:!0,preserveEscapedAttributes:!1};v2.simpleTransform=function(i,e,t){return t=t===void 0?!0:t,e=e||{},function(r,n){let s;if(t)for(s in e)n[s]=e[s];else n=e;return{tagName:i,attribs:n}}}});function UJ(i){return(0,LD.default)(i,{allowedTags:["a","abbr","b","code","em","i","img","li","ol","span","strong","ul"],allowedAttributes:{"*":["aria-*","class","style","title"],a:["href"],img:["src"],style:["media","type"]}})}function kC(i,e={}){let t={};return i.forEach(r=>{let n=r.model_id,s=Dm(r.serialize(r.get_state(e.drop_defaults))),o=s.buffers.map((a,l)=>({data:hD(a),path:s.buffer_paths[l],encoding:"base64"}));t[n]={model_name:r.name,model_module:r.module,model_module_version:r.get("_model_module_version"),state:s.state},o.length>0&&(t[n].buffers=o)}),{version_major:2,version_minor:0,state:t}}var MD,LD,yD,WJ,ZJ,qJ,R7,SD=P(()=>{$i();MD=N(tn());$i();RC();vD();LD=N(wD()),yD=M7.split(".",1)[0],WJ="jupyter.widget.control",ZJ="1.0.0",qJ=4e3;R7=class{constructor(){this.comm_target_name="jupyter.widget",this._models=Object.create(null)}setViewOptions(e={}){return e}create_view(e,t={}){let r=ri(),n=e.state_change=e.state_change.then(async()=>{let s=e.get("_view_name"),o=e.get("_view_module");try{let a=await this.loadViewClass(s,o,e.get("_view_module_version")),l=new a({model:e,options:this.setViewOptions(t)});return l.listenTo(e,"destroy",l.remove),await l.render(),l.once("remove",()=>{e.views&&delete e.views[r]}),l}catch(a){console.error(`Could not create a view for model id ${e.model_id}`);let l=`Failed to create view for '${s}' from module '${o}' with model '${e.name}' from module '${e.module}'`,c=p2(a,l),u=new c,d=new Tf({model:u,options:this.setViewOptions(t)});return await d.render(),d}});return e.views&&(e.views[r]=n),n}callbacks(e){return{}}async get_model(e){let t=this._models[e];if(t===void 0)throw new Error("widget model not found");return t}has_model(e){return this._models[e]!==void 0}handle_comm_open(e,t){let r=(t.metadata||{}).version||"";if(r.split(".",1)[0]!==yD){let a=`Wrong widget protocol version: received protocol version '${r}', but was expecting major version '${yD}'`;return console.error(a),Promise.reject(a)}let n=t.content.data,s=n.buffer_paths||[],o=t.buffers||[];return kc(n.state,s,o),this.new_model({model_name:n.state._model_name,model_module:n.state._model_module,model_module_version:n.state._model_module_version,comm:e},n.state).catch(dn("Could not create a model.",!0))}new_widget(e,t={}){let r;if(e.view_name===void 0||e.view_module===void 0||e.view_module_version===void 0)return Promise.reject("new_widget(...) must be given view information in the options.");e.comm?r=Promise.resolve(e.comm):r=this._create_comm(this.comm_target_name,e.model_id,{state:{_model_module:e.model_module,_model_module_version:e.model_module_version,_model_name:e.model_name,_view_module:e.view_module,_view_module_version:e.view_module_version,_view_name:e.view_name}},{version:M7});let n=Object.assign({},e);return r.then(s=>(n.comm=s,this.new_model(n,t).then(a=>(a.sync("create",a),a))),()=>(n.model_id||(n.model_id=ri()),this.new_model(n,t)))}register_model(e,t){this._models[e]=t,t.then(r=>{r.once("comm:close",()=>{delete this._models[e]})})}async new_model(e,t={}){var r,n;let s=(r=e.model_id)!==null&&r!==void 0?r:(n=e.comm)===null||n===void 0?void 0:n.comm_id;if(!s)throw new Error("Neither comm nor model_id provided in options object. At least one must exist.");e.model_id=s;let o=this._make_model(e,t);return this.register_model(s,o),await o}async _loadFromKernel(){let e,t;try{let a=await this._create_comm(WJ,ri(),{},{version:ZJ});await new Promise((l,c)=>{a.on_msg(u=>{if(e=u.content.data,e.method!=="update_states"){console.warn(`
              Unknown ${e.method} message on the Control channel
            `);return}t=(u.buffers||[]).map(d=>d instanceof DataView?d:new DataView(d instanceof ArrayBuffer?d:d.buffer)),l(null)}),a.on_close(()=>c("Control comm was closed too early")),a.send({method:"request_states"},{}),setTimeout(()=>c("Control comm did not respond in time"),qJ)}),a.close()}catch{return this._loadFromKernelModels()}let r=e.states,n={},s={};for(let a=0;a<e.buffer_paths.length;a++){let[l,...c]=e.buffer_paths[a],u=t[a];n[l]||(n[l]=[],s[l]=[]),n[l].push(c),s[l].push(u)}let o=await Promise.all(Object.keys(r).map(async a=>{let l=this.has_model(a)?void 0:await this._create_comm("jupyter.widget",a);return{widget_id:a,comm:l}}));await Promise.all(o.map(async({widget_id:a,comm:l})=>{let c=r[a];a in n&&kc(c,n[a],s[a]);try{if(l)await this.new_model({model_name:c.model_name,model_module:c.model_module,model_module_version:c.model_module_version,model_id:a,comm:l},c.state);else{let u=await this.get_model(a),d=await u.constructor._deserialize_state(c.state,this);u.set_state(d)}}catch(u){console.error(u)}}))}async _loadFromKernelModels(){let e=await this._get_comm_info(),t=await Promise.all(Object.keys(e).map(async r=>{if(this.has_model(r))return;let n=await this._create_comm(this.comm_target_name,r),s="",o=new MD.PromiseDelegate;return n.on_msg(a=>{if(a.parent_header.msg_id===s&&a.header.msg_type==="comm_msg"&&a.content.data.method==="update"){let l=a.content.data,c=l.buffer_paths||[],u=a.buffers||[];kc(l.state,c,u),o.resolve({comm:n,msg:a})}}),s=n.send({method:"request_state"},this.callbacks(void 0)),o.promise}));await Promise.all(t.map(async r=>{if(!r)return;let n=r.msg.content;await this.new_model({model_name:n.data.state._model_name,model_module:n.data.state._model_module,model_module_version:n.data.state._model_module_version,comm:r.comm},n.data.state)}))}async _make_model(e,t={}){let r=e.model_id,n=this.loadModelClass(e.model_name,e.model_module,e.model_module_version),s,o=(l,c)=>{let u=p2(l,c);return new u};try{s=await n}catch(l){let c="Could not instantiate widget";return console.error(c),o(l,c)}if(!s){let l="Could not instantiate widget";console.error(l);let c=new Error(`Cannot find model module ${e.model_module}@${e.model_module_version}, ${e.model_name}`);return o(c,l)}let a;try{let l=await s._deserialize_state(t,this),c={widget_manager:this,model_id:r,comm:e.comm};a=new s(l,c)}catch(l){console.error(l);let c=`Model class '${e.model_name}' from module '${e.model_module}' is loaded but can not be instantiated`;a=o(l,c)}return a.name=e.model_name,a.module=e.model_module,a}clear_state(){return _a(this._models).then(e=>{Object.keys(e).forEach(t=>e[t].close()),this._models=Object.create(null)})}get_state(e={}){let t=Object.keys(this._models).map(r=>this._models[r]);return Promise.all(t).then(r=>kC(r,e))}set_state(e){if(!(e.version_major&&e.version_major<=2))throw"Unsupported widget state format";let t=e.state;return this._get_comm_info().then(n=>Promise.all(Object.keys(t).map(s=>{let o={base64:fD,hex:uD},a=t[s],l=a.state;if(a.buffers){let u=a.buffers.map(f=>f.path),d=a.buffers.map(f=>new DataView(o[f.encoding](f.data)));kc(a.state,u,d)}if(this.has_model(s))return this.get_model(s).then(u=>u.constructor._deserialize_state(l||{},this).then(d=>(u.set_state(d),u)));let c={model_id:s,model_name:a.model_name,model_module:a.model_module,model_module_version:a.model_module_version};return Object.prototype.hasOwnProperty.call(n,"model_id")?this._create_comm(this.comm_target_name,s).then(u=>(c.comm=u,this.new_model(c))):this.new_model(c,l)})))}disconnect(){Object.keys(this._models).forEach(e=>{this._models[e].then(t=>{t.comm_live=!1})})}resolveUrl(e){return Promise.resolve(e)}inline_sanitize(e){let t=pD(e),r=UJ(t.text);return gD(r,t.math)}async loadModelClass(e,t,r){try{let n=this.loadClass(e,t,r);return await n,n}catch(n){console.error(n);let s=`Failed to load model class '${e}' from module '${t}'`;return p2(n,s)}}async loadViewClass(e,t,r){try{let n=this.loadClass(e,t,r);return await n,n}catch(n){console.error(n);let s=`Failed to load view class '${e}' from module '${t}'`;return SC(n,s)}}filterExistingModelState(e){let t=e.state;return t=Object.keys(t).filter(r=>!this.has_model(r)).reduce((r,n)=>(r[n]=t[n],r),{}),Object.assign(Object.assign({},e),{state:t})}}});var ED=P(()=>{SD();RC()});var _2=je((Twe,RD)=>{"use strict";var GJ="2.0.0",XJ=Number.MAX_SAFE_INTEGER||9007199254740991,KJ=16,YJ=256-6,JJ=["major","premajor","minor","preminor","patch","prepatch","prerelease"];RD.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:KJ,MAX_SAFE_BUILD_LENGTH:YJ,MAX_SAFE_INTEGER:XJ,RELEASE_TYPES:JJ,SEMVER_SPEC_VERSION:GJ,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var b2=je((Awe,ID)=>{"use strict";var QJ=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...i)=>console.error("SEMVER",...i):()=>{};ID.exports=QJ});var Nf=je((wa,kD)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:TC,MAX_SAFE_BUILD_LENGTH:eQ,MAX_LENGTH:tQ}=_2(),iQ=b2();wa=kD.exports={};var rQ=wa.re=[],nQ=wa.safeRe=[],Ze=wa.src=[],sQ=wa.safeSrc=[],qe=wa.t={},oQ=0,AC="[a-zA-Z0-9-]",aQ=[["\\s",1],["\\d",tQ],[AC,eQ]],lQ=i=>{for(let[e,t]of aQ)i=i.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return i},pt=(i,e,t)=>{let r=lQ(e),n=oQ++;iQ(i,n,e),qe[i]=n,Ze[n]=e,sQ[n]=r,rQ[n]=new RegExp(e,t?"g":void 0),nQ[n]=new RegExp(r,t?"g":void 0)};pt("NUMERICIDENTIFIER","0|[1-9]\\d*");pt("NUMERICIDENTIFIERLOOSE","\\d+");pt("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${AC}*`);pt("MAINVERSION",`(${Ze[qe.NUMERICIDENTIFIER]})\\.(${Ze[qe.NUMERICIDENTIFIER]})\\.(${Ze[qe.NUMERICIDENTIFIER]})`);pt("MAINVERSIONLOOSE",`(${Ze[qe.NUMERICIDENTIFIERLOOSE]})\\.(${Ze[qe.NUMERICIDENTIFIERLOOSE]})\\.(${Ze[qe.NUMERICIDENTIFIERLOOSE]})`);pt("PRERELEASEIDENTIFIER",`(?:${Ze[qe.NONNUMERICIDENTIFIER]}|${Ze[qe.NUMERICIDENTIFIER]})`);pt("PRERELEASEIDENTIFIERLOOSE",`(?:${Ze[qe.NONNUMERICIDENTIFIER]}|${Ze[qe.NUMERICIDENTIFIERLOOSE]})`);pt("PRERELEASE",`(?:-(${Ze[qe.PRERELEASEIDENTIFIER]}(?:\\.${Ze[qe.PRERELEASEIDENTIFIER]})*))`);pt("PRERELEASELOOSE",`(?:-?(${Ze[qe.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Ze[qe.PRERELEASEIDENTIFIERLOOSE]})*))`);pt("BUILDIDENTIFIER",`${AC}+`);pt("BUILD",`(?:\\+(${Ze[qe.BUILDIDENTIFIER]}(?:\\.${Ze[qe.BUILDIDENTIFIER]})*))`);pt("FULLPLAIN",`v?${Ze[qe.MAINVERSION]}${Ze[qe.PRERELEASE]}?${Ze[qe.BUILD]}?`);pt("FULL",`^${Ze[qe.FULLPLAIN]}$`);pt("LOOSEPLAIN",`[v=\\s]*${Ze[qe.MAINVERSIONLOOSE]}${Ze[qe.PRERELEASELOOSE]}?${Ze[qe.BUILD]}?`);pt("LOOSE",`^${Ze[qe.LOOSEPLAIN]}$`);pt("GTLT","((?:<|>)?=?)");pt("XRANGEIDENTIFIERLOOSE",`${Ze[qe.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);pt("XRANGEIDENTIFIER",`${Ze[qe.NUMERICIDENTIFIER]}|x|X|\\*`);pt("XRANGEPLAIN",`[v=\\s]*(${Ze[qe.XRANGEIDENTIFIER]})(?:\\.(${Ze[qe.XRANGEIDENTIFIER]})(?:\\.(${Ze[qe.XRANGEIDENTIFIER]})(?:${Ze[qe.PRERELEASE]})?${Ze[qe.BUILD]}?)?)?`);pt("XRANGEPLAINLOOSE",`[v=\\s]*(${Ze[qe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ze[qe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ze[qe.XRANGEIDENTIFIERLOOSE]})(?:${Ze[qe.PRERELEASELOOSE]})?${Ze[qe.BUILD]}?)?)?`);pt("XRANGE",`^${Ze[qe.GTLT]}\\s*${Ze[qe.XRANGEPLAIN]}$`);pt("XRANGELOOSE",`^${Ze[qe.GTLT]}\\s*${Ze[qe.XRANGEPLAINLOOSE]}$`);pt("COERCEPLAIN",`(^|[^\\d])(\\d{1,${TC}})(?:\\.(\\d{1,${TC}}))?(?:\\.(\\d{1,${TC}}))?`);pt("COERCE",`${Ze[qe.COERCEPLAIN]}(?:$|[^\\d])`);pt("COERCEFULL",Ze[qe.COERCEPLAIN]+`(?:${Ze[qe.PRERELEASE]})?(?:${Ze[qe.BUILD]})?(?:$|[^\\d])`);pt("COERCERTL",Ze[qe.COERCE],!0);pt("COERCERTLFULL",Ze[qe.COERCEFULL],!0);pt("LONETILDE","(?:~>?)");pt("TILDETRIM",`(\\s*)${Ze[qe.LONETILDE]}\\s+`,!0);wa.tildeTrimReplace="$1~";pt("TILDE",`^${Ze[qe.LONETILDE]}${Ze[qe.XRANGEPLAIN]}$`);pt("TILDELOOSE",`^${Ze[qe.LONETILDE]}${Ze[qe.XRANGEPLAINLOOSE]}$`);pt("LONECARET","(?:\\^)");pt("CARETTRIM",`(\\s*)${Ze[qe.LONECARET]}\\s+`,!0);wa.caretTrimReplace="$1^";pt("CARET",`^${Ze[qe.LONECARET]}${Ze[qe.XRANGEPLAIN]}$`);pt("CARETLOOSE",`^${Ze[qe.LONECARET]}${Ze[qe.XRANGEPLAINLOOSE]}$`);pt("COMPARATORLOOSE",`^${Ze[qe.GTLT]}\\s*(${Ze[qe.LOOSEPLAIN]})$|^$`);pt("COMPARATOR",`^${Ze[qe.GTLT]}\\s*(${Ze[qe.FULLPLAIN]})$|^$`);pt("COMPARATORTRIM",`(\\s*)${Ze[qe.GTLT]}\\s*(${Ze[qe.LOOSEPLAIN]}|${Ze[qe.XRANGEPLAIN]})`,!0);wa.comparatorTrimReplace="$1$2$3";pt("HYPHENRANGE",`^\\s*(${Ze[qe.XRANGEPLAIN]})\\s+-\\s+(${Ze[qe.XRANGEPLAIN]})\\s*$`);pt("HYPHENRANGELOOSE",`^\\s*(${Ze[qe.XRANGEPLAINLOOSE]})\\s+-\\s+(${Ze[qe.XRANGEPLAINLOOSE]})\\s*$`);pt("STAR","(<|>)?=?\\s*\\*");pt("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");pt("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var I7=je((Nwe,TD)=>{"use strict";var cQ=Object.freeze({loose:!0}),dQ=Object.freeze({}),uQ=i=>i?typeof i!="object"?cQ:i:dQ;TD.exports=uQ});var NC=je((Owe,OD)=>{"use strict";var AD=/^[0-9]+$/,ND=(i,e)=>{if(typeof i=="number"&&typeof e=="number")return i===e?0:i<e?-1:1;let t=AD.test(i),r=AD.test(e);return t&&r&&(i=+i,e=+e),i===e?0:t&&!r?-1:r&&!t?1:i<e?-1:1},hQ=(i,e)=>ND(e,i);OD.exports={compareIdentifiers:ND,rcompareIdentifiers:hQ}});var fn=je((Dwe,HD)=>{"use strict";var k7=b2(),{MAX_LENGTH:DD,MAX_SAFE_INTEGER:T7}=_2(),{safeRe:A7,t:N7}=Nf(),fQ=I7(),{compareIdentifiers:OC}=NC(),ps=class{constructor(e,t){if(t=fQ(t),e instanceof ps){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>DD)throw new TypeError(`version is longer than ${DD} characters`);k7("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let r=e.trim().match(t.loose?A7[N7.LOOSE]:A7[N7.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>T7||this.major<0)throw new TypeError("Invalid major version");if(this.minor>T7||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>T7||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(n=>{if(/^[0-9]+$/.test(n)){let s=+n;if(s>=0&&s<T7)return s}return n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(k7("SemVer.compare",this.version,this.options,e),!(e instanceof ps)){if(typeof e=="string"&&e===this.version)return 0;e=new ps(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof ps||(e=new ps(e,this.options)),this.major<e.major?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(e){if(e instanceof ps||(e=new ps(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let r=this.prerelease[t],n=e.prerelease[t];if(k7("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return OC(r,n)}while(++t)}compareBuild(e){e instanceof ps||(e=new ps(e,this.options));let t=0;do{let r=this.build[t],n=e.build[t];if(k7("build compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return OC(r,n)}while(++t)}inc(e,t,r){if(e.startsWith("pre")){if(!t&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(t){let n=`-${t}`.match(this.options.loose?A7[N7.PRERELEASELOOSE]:A7[N7.PRERELEASE]);if(!n||n[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let n=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[n];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(t===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(n)}}if(t){let s=[t,n];r===!1&&(s=[t]),OC(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};HD.exports=ps});var _u=je((Hwe,BD)=>{"use strict";var zD=fn(),mQ=(i,e,t=!1)=>{if(i instanceof zD)return i;try{return new zD(i,e)}catch(r){if(!t)return null;throw r}};BD.exports=mQ});var jD=je((zwe,PD)=>{"use strict";var pQ=_u(),gQ=(i,e)=>{let t=pQ(i,e);return t?t.version:null};PD.exports=gQ});var VD=je((Bwe,$D)=>{"use strict";var vQ=_u(),_Q=(i,e)=>{let t=vQ(i.trim().replace(/^[=v]+/,""),e);return t?t.version:null};$D.exports=_Q});var ZD=je((Pwe,WD)=>{"use strict";var FD=fn(),bQ=(i,e,t,r,n)=>{typeof t=="string"&&(n=r,r=t,t=void 0);try{return new FD(i instanceof FD?i.version:i,t).inc(e,r,n).version}catch{return null}};WD.exports=bQ});var GD=je((jwe,UD)=>{"use strict";var qD=_u(),CQ=(i,e)=>{let t=qD(i,null,!0),r=qD(e,null,!0),n=t.compare(r);if(n===0)return null;let s=n>0,o=s?t:r,a=s?r:t,l=!!o.prerelease.length;if(!!a.prerelease.length&&!l){if(!a.patch&&!a.minor)return"major";if(a.compareMain(o)===0)return a.minor&&!a.patch?"minor":"patch"}let u=l?"pre":"";return t.major!==r.major?u+"major":t.minor!==r.minor?u+"minor":t.patch!==r.patch?u+"patch":"prerelease"};UD.exports=CQ});var KD=je(($we,XD)=>{"use strict";var xQ=fn(),wQ=(i,e)=>new xQ(i,e).major;XD.exports=wQ});var JD=je((Vwe,YD)=>{"use strict";var yQ=fn(),MQ=(i,e)=>new yQ(i,e).minor;YD.exports=MQ});var eH=je((Fwe,QD)=>{"use strict";var LQ=fn(),SQ=(i,e)=>new LQ(i,e).patch;QD.exports=SQ});var iH=je((Wwe,tH)=>{"use strict";var EQ=_u(),RQ=(i,e)=>{let t=EQ(i,e);return t&&t.prerelease.length?t.prerelease:null};tH.exports=RQ});var Js=je((Zwe,nH)=>{"use strict";var rH=fn(),IQ=(i,e,t)=>new rH(i,t).compare(new rH(e,t));nH.exports=IQ});var oH=je((qwe,sH)=>{"use strict";var kQ=Js(),TQ=(i,e,t)=>kQ(e,i,t);sH.exports=TQ});var lH=je((Uwe,aH)=>{"use strict";var AQ=Js(),NQ=(i,e)=>AQ(i,e,!0);aH.exports=NQ});var O7=je((Gwe,dH)=>{"use strict";var cH=fn(),OQ=(i,e,t)=>{let r=new cH(i,t),n=new cH(e,t);return r.compare(n)||r.compareBuild(n)};dH.exports=OQ});var hH=je((Xwe,uH)=>{"use strict";var DQ=O7(),HQ=(i,e)=>i.sort((t,r)=>DQ(t,r,e));uH.exports=HQ});var mH=je((Kwe,fH)=>{"use strict";var zQ=O7(),BQ=(i,e)=>i.sort((t,r)=>zQ(r,t,e));fH.exports=BQ});var C2=je((Ywe,pH)=>{"use strict";var PQ=Js(),jQ=(i,e,t)=>PQ(i,e,t)>0;pH.exports=jQ});var D7=je((Jwe,gH)=>{"use strict";var $Q=Js(),VQ=(i,e,t)=>$Q(i,e,t)<0;gH.exports=VQ});var DC=je((Qwe,vH)=>{"use strict";var FQ=Js(),WQ=(i,e,t)=>FQ(i,e,t)===0;vH.exports=WQ});var HC=je((eye,_H)=>{"use strict";var ZQ=Js(),qQ=(i,e,t)=>ZQ(i,e,t)!==0;_H.exports=qQ});var H7=je((tye,bH)=>{"use strict";var UQ=Js(),GQ=(i,e,t)=>UQ(i,e,t)>=0;bH.exports=GQ});var z7=je((iye,CH)=>{"use strict";var XQ=Js(),KQ=(i,e,t)=>XQ(i,e,t)<=0;CH.exports=KQ});var zC=je((rye,xH)=>{"use strict";var YQ=DC(),JQ=HC(),QQ=C2(),eee=H7(),tee=D7(),iee=z7(),ree=(i,e,t,r)=>{switch(e){case"===":return typeof i=="object"&&(i=i.version),typeof t=="object"&&(t=t.version),i===t;case"!==":return typeof i=="object"&&(i=i.version),typeof t=="object"&&(t=t.version),i!==t;case"":case"=":case"==":return YQ(i,t,r);case"!=":return JQ(i,t,r);case">":return QQ(i,t,r);case">=":return eee(i,t,r);case"<":return tee(i,t,r);case"<=":return iee(i,t,r);default:throw new TypeError(`Invalid operator: ${e}`)}};xH.exports=ree});var yH=je((nye,wH)=>{"use strict";var nee=fn(),see=_u(),{safeRe:B7,t:P7}=Nf(),oee=(i,e)=>{if(i instanceof nee)return i;if(typeof i=="number"&&(i=String(i)),typeof i!="string")return null;e=e||{};let t=null;if(!e.rtl)t=i.match(e.includePrerelease?B7[P7.COERCEFULL]:B7[P7.COERCE]);else{let l=e.includePrerelease?B7[P7.COERCERTLFULL]:B7[P7.COERCERTL],c;for(;(c=l.exec(i))&&(!t||t.index+t[0].length!==i.length);)(!t||c.index+c[0].length!==t.index+t[0].length)&&(t=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(t===null)return null;let r=t[2],n=t[3]||"0",s=t[4]||"0",o=e.includePrerelease&&t[5]?`-${t[5]}`:"",a=e.includePrerelease&&t[6]?`+${t[6]}`:"";return see(`${r}.${n}.${s}${o}${a}`,e)};wH.exports=oee});var LH=je((sye,MH)=>{"use strict";var BC=class{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(t!==void 0)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&t!==void 0){if(this.map.size>=this.max){let n=this.map.keys().next().value;this.delete(n)}this.map.set(e,t)}return this}};MH.exports=BC});var Qs=je((oye,IH)=>{"use strict";var aee=/\s+/g,bu=class{constructor(e,t){if(t=cee(t),e instanceof bu)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new bu(e.raw,t);if(e instanceof PC)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(aee," "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(n=>!EH(n[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let n of this.set)if(n.length===1&&gee(n[0])){this.set=[n];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let r=0;r<t.length;r++)r>0&&(this.formatted+=" "),this.formatted+=t[r].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&mee)|(this.options.loose&&pee))+":"+e,n=SH.get(r);if(n)return n;let s=this.options.loose,o=s?Tn[mn.HYPHENRANGELOOSE]:Tn[mn.HYPHENRANGE];e=e.replace(o,See(this.options.includePrerelease)),_i("hyphen replace",e),e=e.replace(Tn[mn.COMPARATORTRIM],uee),_i("comparator trim",e),e=e.replace(Tn[mn.TILDETRIM],hee),_i("tilde trim",e),e=e.replace(Tn[mn.CARETTRIM],fee),_i("caret trim",e);let a=e.split(" ").map(d=>vee(d,this.options)).join(" ").split(/\s+/).map(d=>Lee(d,this.options));s&&(a=a.filter(d=>(_i("loose invalid filter",d,this.options),!!d.match(Tn[mn.COMPARATORLOOSE])))),_i("range list",a);let l=new Map,c=a.map(d=>new PC(d,this.options));for(let d of c){if(EH(d))return[d];l.set(d.value,d)}l.size>1&&l.has("")&&l.delete("");let u=[...l.values()];return SH.set(r,u),u}intersects(e,t){if(!(e instanceof bu))throw new TypeError("a Range is required");return this.set.some(r=>RH(r,t)&&e.set.some(n=>RH(n,t)&&r.every(s=>n.every(o=>s.intersects(o,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new dee(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(Eee(this.set[t],e,this.options))return!0;return!1}};IH.exports=bu;var lee=LH(),SH=new lee,cee=I7(),PC=x2(),_i=b2(),dee=fn(),{safeRe:Tn,t:mn,comparatorTrimReplace:uee,tildeTrimReplace:hee,caretTrimReplace:fee}=Nf(),{FLAG_INCLUDE_PRERELEASE:mee,FLAG_LOOSE:pee}=_2(),EH=i=>i.value==="<0.0.0-0",gee=i=>i.value==="",RH=(i,e)=>{let t=!0,r=i.slice(),n=r.pop();for(;t&&r.length;)t=r.every(s=>n.intersects(s,e)),n=r.pop();return t},vee=(i,e)=>(i=i.replace(Tn[mn.BUILD],""),_i("comp",i,e),i=Cee(i,e),_i("caret",i),i=_ee(i,e),_i("tildes",i),i=wee(i,e),_i("xrange",i),i=Mee(i,e),_i("stars",i),i),An=i=>!i||i.toLowerCase()==="x"||i==="*",_ee=(i,e)=>i.trim().split(/\s+/).map(t=>bee(t,e)).join(" "),bee=(i,e)=>{let t=e.loose?Tn[mn.TILDELOOSE]:Tn[mn.TILDE];return i.replace(t,(r,n,s,o,a)=>{_i("tilde",i,r,n,s,o,a);let l;return An(n)?l="":An(s)?l=`>=${n}.0.0 <${+n+1}.0.0-0`:An(o)?l=`>=${n}.${s}.0 <${n}.${+s+1}.0-0`:a?(_i("replaceTilde pr",a),l=`>=${n}.${s}.${o}-${a} <${n}.${+s+1}.0-0`):l=`>=${n}.${s}.${o} <${n}.${+s+1}.0-0`,_i("tilde return",l),l})},Cee=(i,e)=>i.trim().split(/\s+/).map(t=>xee(t,e)).join(" "),xee=(i,e)=>{_i("caret",i,e);let t=e.loose?Tn[mn.CARETLOOSE]:Tn[mn.CARET],r=e.includePrerelease?"-0":"";return i.replace(t,(n,s,o,a,l)=>{_i("caret",i,n,s,o,a,l);let c;return An(s)?c="":An(o)?c=`>=${s}.0.0${r} <${+s+1}.0.0-0`:An(a)?s==="0"?c=`>=${s}.${o}.0${r} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.0${r} <${+s+1}.0.0-0`:l?(_i("replaceCaret pr",l),s==="0"?o==="0"?c=`>=${s}.${o}.${a}-${l} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}-${l} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a}-${l} <${+s+1}.0.0-0`):(_i("no pr"),s==="0"?o==="0"?c=`>=${s}.${o}.${a}${r} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}${r} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),_i("caret return",c),c})},wee=(i,e)=>(_i("replaceXRanges",i,e),i.split(/\s+/).map(t=>yee(t,e)).join(" ")),yee=(i,e)=>{i=i.trim();let t=e.loose?Tn[mn.XRANGELOOSE]:Tn[mn.XRANGE];return i.replace(t,(r,n,s,o,a,l)=>{_i("xRange",i,r,n,s,o,a,l);let c=An(s),u=c||An(o),d=u||An(a),f=d;return n==="="&&f&&(n=""),l=e.includePrerelease?"-0":"",c?n===">"||n==="<"?r="<0.0.0-0":r="*":n&&f?(u&&(o=0),a=0,n===">"?(n=">=",u?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):n==="<="&&(n="<",u?s=+s+1:o=+o+1),n==="<"&&(l="-0"),r=`${n+s}.${o}.${a}${l}`):u?r=`>=${s}.0.0${l} <${+s+1}.0.0-0`:d&&(r=`>=${s}.${o}.0${l} <${s}.${+o+1}.0-0`),_i("xRange return",r),r})},Mee=(i,e)=>(_i("replaceStars",i,e),i.trim().replace(Tn[mn.STAR],"")),Lee=(i,e)=>(_i("replaceGTE0",i,e),i.trim().replace(Tn[e.includePrerelease?mn.GTE0PRE:mn.GTE0],"")),See=i=>(e,t,r,n,s,o,a,l,c,u,d,f)=>(An(r)?t="":An(n)?t=`>=${r}.0.0${i?"-0":""}`:An(s)?t=`>=${r}.${n}.0${i?"-0":""}`:o?t=`>=${t}`:t=`>=${t}${i?"-0":""}`,An(c)?l="":An(u)?l=`<${+c+1}.0.0-0`:An(d)?l=`<${c}.${+u+1}.0-0`:f?l=`<=${c}.${u}.${d}-${f}`:i?l=`<${c}.${u}.${+d+1}-0`:l=`<=${l}`,`${t} ${l}`.trim()),Eee=(i,e,t)=>{for(let r=0;r<i.length;r++)if(!i[r].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let r=0;r<i.length;r++)if(_i(i[r].semver),i[r].semver!==PC.ANY&&i[r].semver.prerelease.length>0){let n=i[r].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0}});var x2=je((aye,DH)=>{"use strict";var w2=Symbol("SemVer ANY"),Of=class{static get ANY(){return w2}constructor(e,t){if(t=kH(t),e instanceof Of){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),$C("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===w2?this.value="":this.value=this.operator+this.semver.version,$C("comp",this)}parse(e){let t=this.options.loose?TH[AH.COMPARATORLOOSE]:TH[AH.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new NH(r[2],this.options.loose):this.semver=w2}toString(){return this.value}test(e){if($C("Comparator.test",e,this.options.loose),this.semver===w2||e===w2)return!0;if(typeof e=="string")try{e=new NH(e,this.options)}catch{return!1}return jC(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Of))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new OH(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new OH(this.value,t).test(e.semver):(t=kH(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||jC(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||jC(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};DH.exports=Of;var kH=I7(),{safeRe:TH,t:AH}=Nf(),jC=zC(),$C=b2(),NH=fn(),OH=Qs()});var y2=je((lye,HH)=>{"use strict";var Ree=Qs(),Iee=(i,e,t)=>{try{e=new Ree(e,t)}catch{return!1}return e.test(i)};HH.exports=Iee});var BH=je((cye,zH)=>{"use strict";var kee=Qs(),Tee=(i,e)=>new kee(i,e).set.map(t=>t.map(r=>r.value).join(" ").trim().split(" "));zH.exports=Tee});var jH=je((dye,PH)=>{"use strict";var Aee=fn(),Nee=Qs(),Oee=(i,e,t)=>{let r=null,n=null,s=null;try{s=new Nee(e,t)}catch{return null}return i.forEach(o=>{s.test(o)&&(!r||n.compare(o)===-1)&&(r=o,n=new Aee(r,t))}),r};PH.exports=Oee});var VH=je((uye,$H)=>{"use strict";var Dee=fn(),Hee=Qs(),zee=(i,e,t)=>{let r=null,n=null,s=null;try{s=new Hee(e,t)}catch{return null}return i.forEach(o=>{s.test(o)&&(!r||n.compare(o)===1)&&(r=o,n=new Dee(r,t))}),r};$H.exports=zee});var ZH=je((hye,WH)=>{"use strict";var VC=fn(),Bee=Qs(),FH=C2(),Pee=(i,e)=>{i=new Bee(i,e);let t=new VC("0.0.0");if(i.test(t)||(t=new VC("0.0.0-0"),i.test(t)))return t;t=null;for(let r=0;r<i.set.length;++r){let n=i.set[r],s=null;n.forEach(o=>{let a=new VC(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||FH(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!t||FH(t,s))&&(t=s)}return t&&i.test(t)?t:null};WH.exports=Pee});var UH=je((fye,qH)=>{"use strict";var jee=Qs(),$ee=(i,e)=>{try{return new jee(i,e).range||"*"}catch{return null}};qH.exports=$ee});var j7=je((mye,YH)=>{"use strict";var Vee=fn(),KH=x2(),{ANY:Fee}=KH,Wee=Qs(),Zee=y2(),GH=C2(),XH=D7(),qee=z7(),Uee=H7(),Gee=(i,e,t,r)=>{i=new Vee(i,r),e=new Wee(e,r);let n,s,o,a,l;switch(t){case">":n=GH,s=qee,o=XH,a=">",l=">=";break;case"<":n=XH,s=Uee,o=GH,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Zee(i,e,r))return!1;for(let c=0;c<e.set.length;++c){let u=e.set[c],d=null,f=null;if(u.forEach(h=>{h.semver===Fee&&(h=new KH(">=0.0.0")),d=d||h,f=f||h,n(h.semver,d.semver,r)?d=h:o(h.semver,f.semver,r)&&(f=h)}),d.operator===a||d.operator===l||(!f.operator||f.operator===a)&&s(i,f.semver))return!1;if(f.operator===l&&o(i,f.semver))return!1}return!0};YH.exports=Gee});var QH=je((pye,JH)=>{"use strict";var Xee=j7(),Kee=(i,e,t)=>Xee(i,e,">",t);JH.exports=Kee});var tz=je((gye,ez)=>{"use strict";var Yee=j7(),Jee=(i,e,t)=>Yee(i,e,"<",t);ez.exports=Jee});var nz=je((vye,rz)=>{"use strict";var iz=Qs(),Qee=(i,e,t)=>(i=new iz(i,t),e=new iz(e,t),i.intersects(e,t));rz.exports=Qee});var oz=je((_ye,sz)=>{"use strict";var ete=y2(),tte=Js();sz.exports=(i,e,t)=>{let r=[],n=null,s=null,o=i.sort((u,d)=>tte(u,d,t));for(let u of o)ete(u,e,t)?(s=u,n||(n=u)):(s&&r.push([n,s]),s=null,n=null);n&&r.push([n,null]);let a=[];for(let[u,d]of r)u===d?a.push(u):!d&&u===o[0]?a.push("*"):d?u===o[0]?a.push(`<=${d}`):a.push(`${u} - ${d}`):a.push(`>=${u}`);let l=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e}});var hz=je((bye,uz)=>{"use strict";var az=Qs(),WC=x2(),{ANY:FC}=WC,M2=y2(),ZC=Js(),ite=(i,e,t={})=>{if(i===e)return!0;i=new az(i,t),e=new az(e,t);let r=!1;e:for(let n of i.set){for(let s of e.set){let o=nte(n,s,t);if(r=r||o!==null,o)continue e}if(r)return!1}return!0},rte=[new WC(">=0.0.0-0")],lz=[new WC(">=0.0.0")],nte=(i,e,t)=>{if(i===e)return!0;if(i.length===1&&i[0].semver===FC){if(e.length===1&&e[0].semver===FC)return!0;t.includePrerelease?i=rte:i=lz}if(e.length===1&&e[0].semver===FC){if(t.includePrerelease)return!0;e=lz}let r=new Set,n,s;for(let h of i)h.operator===">"||h.operator===">="?n=cz(n,h,t):h.operator==="<"||h.operator==="<="?s=dz(s,h,t):r.add(h.semver);if(r.size>1)return null;let o;if(n&&s){if(o=ZC(n.semver,s.semver,t),o>0)return null;if(o===0&&(n.operator!==">="||s.operator!=="<="))return null}for(let h of r){if(n&&!M2(h,String(n),t)||s&&!M2(h,String(s),t))return null;for(let m of e)if(!M2(h,String(m),t))return!1;return!0}let a,l,c,u,d=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1,f=n&&!t.includePrerelease&&n.semver.prerelease.length?n.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let h of e){if(u=u||h.operator===">"||h.operator===">=",c=c||h.operator==="<"||h.operator==="<=",n){if(f&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===f.major&&h.semver.minor===f.minor&&h.semver.patch===f.patch&&(f=!1),h.operator===">"||h.operator===">="){if(a=cz(n,h,t),a===h&&a!==n)return!1}else if(n.operator===">="&&!M2(n.semver,String(h),t))return!1}if(s){if(d&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===d.major&&h.semver.minor===d.minor&&h.semver.patch===d.patch&&(d=!1),h.operator==="<"||h.operator==="<="){if(l=dz(s,h,t),l===h&&l!==s)return!1}else if(s.operator==="<="&&!M2(s.semver,String(h),t))return!1}if(!h.operator&&(s||n)&&o!==0)return!1}return!(n&&c&&!s&&o!==0||s&&u&&!n&&o!==0||f||d)},cz=(i,e,t)=>{if(!i)return e;let r=ZC(i.semver,e.semver,t);return r>0?i:r<0||e.operator===">"&&i.operator===">="?e:i},dz=(i,e,t)=>{if(!i)return e;let r=ZC(i.semver,e.semver,t);return r<0?i:r>0||e.operator==="<"&&i.operator==="<="?e:i};uz.exports=ite});var UC=je((Cye,pz)=>{"use strict";var qC=Nf(),fz=_2(),ste=fn(),mz=NC(),ote=_u(),ate=jD(),lte=VD(),cte=ZD(),dte=GD(),ute=KD(),hte=JD(),fte=eH(),mte=iH(),pte=Js(),gte=oH(),vte=lH(),_te=O7(),bte=hH(),Cte=mH(),xte=C2(),wte=D7(),yte=DC(),Mte=HC(),Lte=H7(),Ste=z7(),Ete=zC(),Rte=yH(),Ite=x2(),kte=Qs(),Tte=y2(),Ate=BH(),Nte=jH(),Ote=VH(),Dte=ZH(),Hte=UH(),zte=j7(),Bte=QH(),Pte=tz(),jte=nz(),$te=oz(),Vte=hz();pz.exports={parse:ote,valid:ate,clean:lte,inc:cte,diff:dte,major:ute,minor:hte,patch:fte,prerelease:mte,compare:pte,rcompare:gte,compareLoose:vte,compareBuild:_te,sort:bte,rsort:Cte,gt:xte,lt:wte,eq:yte,neq:Mte,gte:Lte,lte:Ste,cmp:Ete,coerce:Rte,Comparator:Ite,Range:kte,satisfies:Tte,toComparators:Ate,maxSatisfying:Nte,minSatisfying:Ote,minVersion:Dte,validRange:Hte,outside:zte,gtr:Bte,ltr:Pte,intersects:jte,simplifyRange:$te,subset:Vte,SemVer:ste,re:qC.re,src:qC.src,tokens:qC.t,SEMVER_SPEC_VERSION:fz.SEMVER_SPEC_VERSION,RELEASE_TYPES:fz.RELEASE_TYPES,compareIdentifiers:mz.compareIdentifiers,rcompareIdentifiers:mz.rcompareIdentifiers}});var gz,$7,vz=P(()=>{gz=N(UC()),$7=class{constructor(){this._cache=Object.create(null)}set(e,t,r){if(e in this._cache||(this._cache[e]=Object.create(null)),!(t in this._cache[e]))this._cache[e][t]=r;else throw`Version ${t} of key ${e} already registered.`}get(e,t){if(e in this._cache){let r=this._cache[e],n=(0,gz.maxSatisfying)(Object.keys(r),t);if(n!==null)return r[n]}}getAllVersions(e){if(e in this._cache)return this._cache[e]}}});var bz,_z,L2,S2,E2,GC=P(()=>{$i();ED();Is();bz=N(UC());vz();_z="application/vnd.jupyter.widget-state+json",L2=class extends R7{constructor(e){super(),this._handleCommOpen=async(t,r)=>{let n=new kf.services.Comm(t);await this.handle_comm_open(n,r)},this._restored=new Re(this),this._restoredStatus=!1,this._kernelRestoreInProgress=!1,this._isDisposed=!1,this._registry=new $7,this._modelsSync=new Map,this._onUnhandledIOPubMessage=new Re(this),this._rendermime=e}callbacks(e){return{iopub:{output:t=>{this._onUnhandledIOPubMessage.emit(t)}}}}_handleKernelChanged({oldValue:e,newValue:t}){e&&e.removeCommTarget(this.comm_target_name,this._handleCommOpen),t&&t.registerCommTarget(this.comm_target_name,this._handleCommOpen)}disconnect(){super.disconnect(),this._restoredStatus=!1}async _loadFromKernel(){var e;if(!this.kernel)throw new Error("Kernel not set");if(((e=this.kernel)===null||e===void 0?void 0:e.handleComms)!==!1)return super._loadFromKernel()}async _create_comm(e,t,r,n,s){let o=this.kernel;if(!o)throw new Error("No current kernel");let a=o.createComm(e,t);return(r||n)&&a.open(r,n,s),new kf.services.Comm(a)}async _get_comm_info(){let e=this.kernel;if(!e)throw new Error("No current kernel");let t=await e.requestCommInfo({target_name:this.comm_target_name});return t.content.status==="ok"?t.content.comms:{}}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this._commRegistration&&this._commRegistration.dispose())}async resolveUrl(e){return e}async loadClass(e,t,r){(t==="@jupyter-widgets/base"||t==="@jupyter-widgets/controls")&&(0,bz.valid)(r)&&(r=`^${r}`);let n=this._registry.getAllVersions(t);if(!n)throw new Error(`No version of module ${t} is registered`);let s=this._registry.get(t,r);if(!s){let l=Object.keys(n);throw new Error(`Module ${t}, version ${r} is not registered, however,         ${l.join(",")} ${l.length>1?"are":"is"}`)}let o;typeof s=="function"?o=await s():o=await s;let a=o[e];if(!a)throw new Error(`Class ${e} not found in module ${t}`);return a}get rendermime(){return this._rendermime}get restored(){return this._restored}get restoredStatus(){return this._restoredStatus}get onUnhandledIOPubMessage(){return this._onUnhandledIOPubMessage}register(e){this._registry.set(e.name,e.version,e.exports)}register_model(e,t){super.register_model(e,t),t.then(r=>{this._modelsSync.set(e,r),r.once("comm:close",()=>{this._modelsSync.delete(e)})})}async clear_state(){await super.clear_state(),this._modelsSync=new Map}get_state_sync(e={}){let t=[];for(let r of this._modelsSync.values())r.comm_live&&t.push(r);return kC(t,e)}},S2=class extends L2{constructor(e,t){super(t),this._kernel=e,e.statusChanged.connect((r,n)=>{this._handleKernelStatusChange(n)}),e.connectionStatusChanged.connect((r,n)=>{this._handleKernelConnectionStatusChange(n)}),this._handleKernelChanged({name:"kernel",oldValue:null,newValue:e}),this.restoreWidgets()}_handleKernelConnectionStatusChange(e){e==="connected"&&(this._kernelRestoreInProgress||this.restoreWidgets())}_handleKernelStatusChange(e){e==="restarting"&&this.disconnect()}async restoreWidgets(){try{this._kernelRestoreInProgress=!0,await this._loadFromKernel(),this._restoredStatus=!0,this._restored.emit()}catch{}this._kernelRestoreInProgress=!1}dispose(){this.isDisposed||(this._kernel=null,super.dispose())}get kernel(){return this._kernel}},E2=class extends L2{constructor(e,t,r){var n,s;super(t),this._context=e,e.sessionContext.kernelChanged.connect((o,a)=>{this._handleKernelChanged(a)}),e.sessionContext.statusChanged.connect((o,a)=>{this._handleKernelStatusChange(a)}),e.sessionContext.connectionStatusChanged.connect((o,a)=>{this._handleKernelConnectionStatusChange(a)}),!((n=e.sessionContext.session)===null||n===void 0)&&n.kernel&&this._handleKernelChanged({name:"kernel",oldValue:null,newValue:(s=e.sessionContext.session)===null||s===void 0?void 0:s.kernel}),this.restoreWidgets(this._context.model),this._settings=r,e.saveState.connect((o,a)=>{a==="started"&&r.saveState&&this._saveState()})}_saveState(){let e=this.get_state_sync({drop_defaults:!0});this._context.model.setMetadata?this._context.model.setMetadata("widgets",{"application/vnd.jupyter.widget-state+json":e}):this._context.model.metadata.set("widgets",{"application/vnd.jupyter.widget-state+json":e})}_handleKernelConnectionStatusChange(e){e==="connected"&&(this._kernelRestoreInProgress||this.restoreWidgets(this._context.model,{loadKernel:!0,loadNotebook:!1}))}_handleKernelStatusChange(e){e==="restarting"&&this.disconnect()}async restoreWidgets(e,{loadKernel:t,loadNotebook:r}={loadKernel:!0,loadNotebook:!0}){try{if(await this.context.sessionContext.ready,t)try{this._kernelRestoreInProgress=!0,await this._loadFromKernel()}finally{this._kernelRestoreInProgress=!1}r&&await this._loadFromNotebook(e),this._restoredStatus=!0,this._restored.emit()}catch{}}async _loadFromNotebook(e){let t=e.getMetadata?e.getMetadata("widgets"):e.metadata.get("widgets");if(t&&t[_z]){let r=t[_z];r=this.filterExistingModelState(r),await this.set_state(r)}}dispose(){this.isDisposed||(this._context=null,super.dispose())}async resolveUrl(e){let t=await this.context.urlResolver.resolveUrl(e);return this.context.urlResolver.getDownloadUrl(t)}get context(){return this._context}get kernel(){var e,t,r;return(r=(t=(e=this._context.sessionContext)===null||e===void 0?void 0:e.session)===null||t===void 0?void 0:t.kernel)!==null&&r!==void 0?r:null}register_model(e,t){super.register_model(e,t),this.setDirty()}async clear_state(){await super.clear_state(),this.setDirty()}setDirty(){this._settings.saveState&&(this._context.model.dirty=!0)}}});var V7,F7,W7,Cz=P(()=>{$i();V7="1.0.0",F7=class extends Ks{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"OutputModel",_view_name:"OutputView",_model_module:"@jupyter-widgets/output",_view_module:"@jupyter-widgets/output",_model_module_version:V7,_view_module_version:V7})}},W7=class extends Ot{}});var xz=P(()=>{Cz()});var Df={};qo(Df,{OUTPUT_WIDGET_VERSION:()=>Wte,OutputModel:()=>XC,OutputView:()=>KC});var wz,Wte,XC,KC,yz=P(()=>{xz();$i();GC();z_();wz=N(gu()),Wte=V7,XC=class extends F7{defaults(){return Object.assign(Object.assign({},super.defaults()),{msg_id:"",outputs:[]})}initialize(e,t){super.initialize(e,t),this._outputs=new fa({trusted:!0}),this._msgHook=r=>(this.add(r),!1),this.widget_manager instanceof E2&&this.widget_manager.context.sessionContext.kernelChanged.connect((r,n)=>{this._handleKernelChanged(n)}),this.listenTo(this,"change:msg_id",this.reset_msg_id),this.listenTo(this,"change:outputs",this.setOutputs),this.setOutputs()}_handleKernelChanged({oldValue:e}){let t=this.get("msg_id");t&&e&&(e.removeMessageHook(t,this._msgHook),this.set("msg_id",null))}reset_msg_id(){let e=this.widget_manager.kernel,t=this.get("msg_id"),r=this.previous("msg_id");r&&e&&e.removeMessageHook(r,this._msgHook),t&&e&&e.registerMessageHook(t,this._msgHook)}add(e){let t=e.header.msg_type;switch(t){case"execute_result":case"display_data":case"stream":case"error":{let r=e.content;r.output_type=t,this._outputs.add(r);break}case"clear_output":this.clear_output(e.content.wait);break;default:break}this.set("outputs",this._outputs.toJSON(),{newMessage:!0}),this.save_changes()}clear_output(e=!1){this._outputs.clear(e)}get outputs(){return this._outputs}setOutputs(e,t,r){r&&r.newMessage||(this.clear_output(),this._outputs.fromJSON(JSON.parse(JSON.stringify(this.get("outputs")))))}},KC=class extends W7{_createElement(e){return this.luminoWidget=new Ca({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=(0,wz.default)(this.luminoWidget.node)}render(){super.render(),this._outputView=new ds({rendermime:this.model.widget_manager.rendermime,contentFactory:ds.defaultContentFactory,model:this.model.outputs}),this.luminoWidget.insertWidget(0,this._outputView),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-output"),this.update()}remove(){return this._outputView.dispose(),super.remove()}}});var Vi,Hf=P(()=>{Vi="2.0.0"});var Mz=P(()=>{yz();GC();eN()});function YC(i,e){e!==void 0&&(i.textContent=e),window.MathJax!==void 0&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,i])}function JC(i){let e=document.createElement("div");return e.textContent=i,e.innerHTML}function Zte(i,e){return function(r){throw e&&console.error(new Error(i)),r}}var eo=P(()=>{$i()});var Fi,zf,ui,QC,ex,Oo=P(()=>{$i();eo();Hf();Fi=class extends Vc{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DescriptionStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:Vi})}};Fi.styleProperties={description_width:{selector:".widget-label",attribute:"width",default:null}};zf=class extends Ks{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DescriptionModel",_view_name:"DescriptionView",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:Vi,_model_module_version:Vi,description:"",description_allow_html:!1})}},ui=class extends Ot{render(){this.label=document.createElement("label"),this.el.appendChild(this.label),this.label.className="widget-label",this.label.style.display="none",this.listenTo(this.model,"change:description",this.updateDescription),this.listenTo(this.model,"change:description_allow_html",this.updateDescription),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.updateDescription(),this.updateTabindex(),this.updateTooltip()}typeset(e,t){this.displayed.then(()=>{var r;let s=(r=this.model.widget_manager._rendermime)===null||r===void 0?void 0:r.latexTypesetter;if(s)t!==void 0&&(e.textContent=t),s.typeset(e);else return YC(e,t)})}updateDescription(){let e=this.model.get("description");e.length===0?this.label.style.display="none":(this.model.get("description_allow_html")?this.label.innerHTML=this.model.widget_manager.inline_sanitize(e):this.label.textContent=e,this.typeset(this.label),this.label.style.display="")}updateTooltip(){this.label&&(this.label.title=this.model.get("tooltip"))}},QC=class extends zf{},ex=class extends ui{}});var R2,hi,bi,yr=P(()=>{$i();Oo();Hf();R2=class extends Xs{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreWidgetModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:Vi,_model_module_version:Vi})}},hi=class extends Ks{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreDOMWidgetModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:Vi,_model_module_version:Vi})}},bi=class extends zf{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreDescriptionModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:Vi,_model_module_version:Vi})}}});var I2,tx,Sz=P(()=>{$i();yr();I2=class extends R2{defaults(){return Object.assign(Object.assign({},super.defaults()),{target:void 0,source:void 0,_model_name:"DirectionalLinkModel"})}initialize(e,t){super.initialize(e,t),this.on("change",this.updateBindings,this),this.updateBindings()}updateValue(e,t,r,n){if(!this._updating){this._updating=!0;try{r&&(r.set(n,e.get(t)),r.save_changes())}finally{this._updating=!1}}}updateBindings(){this.cleanup(),[this.sourceModel,this.sourceAttr]=this.get("source")||[null,null],[this.targetModel,this.targetAttr]=this.get("target")||[null,null],this.sourceModel&&(this.listenTo(this.sourceModel,"change:"+this.sourceAttr,()=>{this.updateValue(this.sourceModel,this.sourceAttr,this.targetModel,this.targetAttr)}),this.updateValue(this.sourceModel,this.sourceAttr,this.targetModel,this.targetAttr),this.listenToOnce(this.sourceModel,"destroy",this.cleanup)),this.targetModel&&this.listenToOnce(this.targetModel,"destroy",this.cleanup)}cleanup(){this.sourceModel&&(this.stopListening(this.sourceModel,"change:"+this.sourceAttr,void 0),this.stopListening(this.sourceModel,"destroy",void 0)),this.targetModel&&this.stopListening(this.targetModel,"destroy",void 0)}};I2.serializers=Object.assign(Object.assign({},R2.serializers),{target:{deserialize:ms},source:{deserialize:ms}});tx=class extends I2{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"LinkModel"})}updateBindings(){super.updateBindings(),this.targetModel&&this.listenTo(this.targetModel,"change:"+this.targetAttr,()=>{this.updateValue(this.targetModel,this.targetAttr,this.sourceModel,this.sourceAttr)})}cleanup(){super.cleanup(),this.targetModel&&this.stopListening(this.targetModel,"change:"+this.targetAttr,void 0)}}});var Z7,q7,k2,ix,rx,nx,Cu,sx,ox,Ez=P(()=>{$i();yr();Oo();Z7=class extends Fi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CheckboxStyleModel"})}};Z7.styleProperties=Object.assign(Object.assign({},Fi.styleProperties),{background:{selector:"",attribute:"background",default:null}});q7=class extends Fi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonStyleModel"})}};q7.styleProperties=Object.assign(Object.assign({},Fi.styleProperties),{font_family:{selector:"",attribute:"font-family",default:""},font_size:{selector:"",attribute:"font-size",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_color:{selector:"",attribute:"color",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}});k2=class extends bi{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:!1,disabled:!1,_model_name:"BoolModel"})}},ix=class extends bi{defaults(){return Object.assign(Object.assign({},super.defaults()),{indent:!0,style:null,_view_name:"CheckboxView",_model_name:"CheckboxModel"})}},rx=class extends ui{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-checkbox"),this.label.innerHTML="&#8203;",this.checkboxLabel=document.createElement("label"),this.checkboxLabel.classList.add("widget-label-basic"),this.el.appendChild(this.checkboxLabel),this.checkbox=document.createElement("input"),this.checkbox.setAttribute("type","checkbox"),this.checkboxLabel.appendChild(this.checkbox),this.descriptionSpan=document.createElement("span"),this.checkboxLabel.appendChild(this.descriptionSpan),this.listenTo(this.model,"change:indent",this.updateIndent),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.update(),this.updateDescription(),this.updateIndent(),this.updateTabindex(),this.updateTooltip()}updateDescription(){if(this.checkboxLabel==null)return;let e=this.model.get("description");this.model.get("description_allow_html")?this.descriptionSpan.innerHTML=this.model.widget_manager.inline_sanitize(e):this.descriptionSpan.textContent=e,this.typeset(this.descriptionSpan),this.descriptionSpan.title=e,this.checkbox.title=e}updateIndent(){let e=this.model.get("indent");this.label.style.display=e?"":"none"}updateTabindex(){if(!this.checkbox)return;let e=this.model.get("tabbable");e===!0?this.checkbox.setAttribute("tabIndex","0"):e===!1?this.checkbox.setAttribute("tabIndex","-1"):e===null&&this.checkbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.checkbox)return;let e=this.model.get("tooltip");e?this.model.get("description").length===0&&this.checkbox.setAttribute("title",e):this.checkbox.removeAttribute("title")}events(){return{'click input[type="checkbox"]':"_handle_click"}}_handle_click(){let e=this.model.get("value");this.model.set("value",!e,{updated_view:this}),this.touch()}update(e){return this.checkbox.checked=this.model.get("value"),(e===void 0||e.updated_view!=this)&&(this.checkbox.disabled=this.model.get("disabled")),super.update()}handle_message(e){e.do=="focus"?this.checkbox.focus():e.do=="blur"&&this.checkbox.blur()}},nx=class extends k2{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"ToggleButtonView",_model_name:"ToggleButtonModel",tooltip:"",icon:"",button_style:"",style:null})}},Cu=class extends Ot{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-button"),this.el.classList.add("widget-toggle-button"),this.listenTo(this.model,"change:button_style",this.update_button_style),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.set_button_style(),this.update()}update_button_style(){this.update_mapped_classes(Cu.class_map,"button_style")}set_button_style(){this.set_mapped_classes(Cu.class_map,"button_style")}update(e){if(this.model.get("value")?this.el.classList.add("mod-active"):this.el.classList.remove("mod-active"),e===void 0||e.updated_view!==this){this.el.disabled=this.model.get("disabled"),this.el.setAttribute("tabbable",this.model.get("tabbable")),this.el.setAttribute("title",this.model.get("tooltip"));let t=this.model.get("description"),r=this.model.get("icon");if(t.trim().length===0&&r.trim().length===0)this.el.innerHTML="&nbsp;";else{if(this.el.textContent="",r.trim().length){let n=document.createElement("i");this.el.appendChild(n),n.classList.add("fa"),n.classList.add("fa-"+r)}this.el.appendChild(document.createTextNode(t))}}return this.updateTabindex(),super.update()}events(){return{click:"_handle_click"}}_handle_click(e){e.preventDefault();let t=this.model.get("value");this.model.set("value",!t,{updated_view:this}),this.touch()}preinitialize(){this.tagName="button"}};Cu.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]};sx=class extends k2{defaults(){return Object.assign(Object.assign({},super.defaults()),{readout:"Invalid",_view_name:"ValidView",_model_name:"ValidModel"})}},ox=class extends ui{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-valid"),this.el.classList.add("widget-inline-hbox"),this.icon=document.createElement("i"),this.icon.classList.add("fa","fa-fw"),this.el.appendChild(this.icon),this.readout=document.createElement("span"),this.readout.classList.add("widget-valid-readout"),this.readout.classList.add("widget-readout"),this.el.appendChild(this.readout),this.update()}update(){this.el.classList.remove("mod-valid"),this.el.classList.remove("mod-invalid"),this.icon.classList.remove("fa-check"),this.icon.classList.remove("fa-times"),this.readout.textContent=this.model.get("readout"),this.model.get("value")?(this.el.classList.add("mod-valid"),this.icon.classList.add("fa-check")):(this.el.classList.add("mod-invalid"),this.icon.classList.add("fa-times"))}}});var U7,ax,xu,Rz=P(()=>{$i();yr();Hf();U7=class extends Vc{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ButtonStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:Vi})}};U7.styleProperties={button_color:{selector:"",attribute:"background-color",default:null},font_family:{selector:"",attribute:"font-family",default:""},font_size:{selector:"",attribute:"font-size",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_color:{selector:"",attribute:"color",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}};ax=class extends hi{defaults(){return Object.assign(Object.assign({},super.defaults()),{description:"",tooltip:"",disabled:!1,icon:"",button_style:"",_view_name:"ButtonView",_model_name:"ButtonModel",style:null})}},xu=class extends Ot{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-button"),this.el.classList.add("widget-button"),this.listenTo(this.model,"change:button_style",this.update_button_style),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.set_button_style(),this.update()}update(){this.el.disabled=this.model.get("disabled"),this.updateTabindex();let e=this.model.get("tooltip"),t=this.model.get("description"),r=this.model.get("icon");if(this.el.setAttribute("title",e??t),t.length||r.length){if(this.el.textContent="",r.length){let n=document.createElement("i");n.classList.add("fa"),n.classList.add(...r.split(/[\s]+/).filter(Boolean).map(s=>`fa-${s}`)),t.length===0&&n.classList.add("center"),this.el.appendChild(n)}this.el.appendChild(document.createTextNode(t))}return super.update()}update_button_style(){this.update_mapped_classes(xu.class_map,"button_style")}set_button_style(){this.set_mapped_classes(xu.class_map,"button_style")}events(){return{click:"_handle_click"}}_handle_click(e){e.preventDefault(),this.send({event:"click"})}preinitialize(){this.tagName="button"}};xu.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]}});var Iz,Rl,lx,cx,to,dx,ux,hx,fx,mx=P(()=>{$i();yr();Bn();Np();ld();Iz=N(gu()),Rl=class extends hi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"BoxView",_model_name:"BoxModel",children:[],box_style:""})}};Rl.serializers=Object.assign(Object.assign({},hi.serializers),{children:{deserialize:ms}});lx=class extends Rl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HBoxView",_model_name:"HBoxModel"})}},cx=class extends Rl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"VBoxView",_model_name:"VBoxModel"})}},to=class extends Ot{_createElement(e){return this.luminoWidget=new Ca({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=(0,Iz.default)(this.luminoWidget.node)}initialize(e){super.initialize(e),this.children_views=new No(this.add_child_model,null,this),this.listenTo(this.model,"change:children",this.update_children),this.listenTo(this.model,"change:box_style",this.update_box_style),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-container"),this.luminoWidget.addClass("widget-box")}render(){super.render(),this.update_children(),this.set_box_style()}update_children(){var e;(e=this.children_views)===null||e===void 0||e.update(this.model.get("children")).then(t=>{t.forEach(r=>{Uo.postMessage(r.luminoWidget,mr.ResizeMessage.UnknownSize)})})}update_box_style(){this.update_mapped_classes(to.class_map,"box_style")}set_box_style(){this.set_mapped_classes(to.class_map,"box_style")}add_child_model(e){let t=new mr;return this.luminoWidget.addWidget(t),this.create_child_view(e).then(r=>{let n=z.firstIndexOf(this.luminoWidget.widgets,t);return this.luminoWidget.insertWidget(n,r.luminoWidget),t.dispose(),r}).catch(dn("Could not add child view to box",!0))}remove(){this.children_views=null,super.remove()}};to.class_map={success:["alert","alert-success"],info:["alert","alert-info"],warning:["alert","alert-warning"],danger:["alert","alert-danger"]};dx=class extends to{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-hbox")}},ux=class extends to{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-vbox")}},hx=class extends to{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-gridbox"),this.luminoWidget.removeClass("widget-box")}},fx=class extends Rl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"GridBoxView",_model_name:"GridBoxModel"})}}});var G7,px,kz=P(()=>{$i();yr();G7=class extends hi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ImageModel",_view_name:"ImageView",format:"png",width:"",height:"",value:new DataView(new ArrayBuffer(0))})}};G7.serializers=Object.assign(Object.assign({},hi.serializers),{value:{serialize:i=>new DataView(i.buffer.slice(0))}});px=class extends Ot{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-image"),this.update()}update(){let e,t=this.model.get("format"),r=this.model.get("value");if(t!=="url"){let a=new Blob([r],{type:`image/${this.model.get("format")}`});e=URL.createObjectURL(a)}else e=new TextDecoder("utf-8").decode(r.buffer);let n=this.el.src;this.el.src=e,n&&URL.revokeObjectURL(n);let s=this.model.get("width");s!==void 0&&s.length>0?this.el.setAttribute("width",s):this.el.removeAttribute("width");let o=this.model.get("height");return o!==void 0&&o.length>0?this.el.setAttribute("height",o):this.el.removeAttribute("height"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="img"}}});var X7,gx,Tz=P(()=>{$i();yr();X7=class extends hi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"VideoModel",_view_name:"VideoView",format:"mp4",width:"",height:"",autoplay:!0,loop:!0,controls:!0,value:new DataView(new ArrayBuffer(0))})}};X7.serializers=Object.assign(Object.assign({},hi.serializers),{value:{serialize:i=>new DataView(i.buffer.slice(0))}});gx=class extends Ot{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-image"),this.update()}update(){let e,t=this.model.get("format"),r=this.model.get("value");if(t!=="url"){let a=new Blob([r],{type:`video/${this.model.get("format")}`});e=URL.createObjectURL(a)}else e=new TextDecoder("utf-8").decode(r.buffer);let n=this.el.src;this.el.src=e,n&&URL.revokeObjectURL(n);let s=this.model.get("width");s!==void 0&&s.length>0?this.el.setAttribute("width",s):this.el.removeAttribute("width");let o=this.model.get("height");return o!==void 0&&o.length>0?this.el.setAttribute("height",o):this.el.removeAttribute("height"),this.el.loop=this.model.get("loop"),this.el.autoplay=this.model.get("autoplay"),this.el.controls=this.model.get("controls"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="video"}}});var K7,vx,Az=P(()=>{$i();yr();K7=class extends hi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"AudioModel",_view_name:"AudioView",format:"mp3",autoplay:!0,loop:!0,controls:!0,value:new DataView(new ArrayBuffer(0))})}};K7.serializers=Object.assign(Object.assign({},hi.serializers),{value:{serialize:i=>new DataView(i.buffer.slice(0))}});vx=class extends Ot{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.update()}update(){let e,t=this.model.get("format"),r=this.model.get("value");if(t!=="url"){let s=new Blob([r],{type:`audio/${this.model.get("format")}`});e=URL.createObjectURL(s)}else e=new TextDecoder("utf-8").decode(r.buffer);let n=this.el.src;return this.el.src=e,n&&URL.revokeObjectURL(n),this.el.loop=this.model.get("loop"),this.el.autoplay=this.model.get("autoplay"),this.el.controls=this.model.get("controls"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="audio"}}});function qte(i){return Nz[i.toLowerCase()]||Ute(i)}function Ute(i){return i.length===7?i:"#"+i.charAt(1)+i.charAt(1)+i.charAt(2)+i.charAt(2)+i.charAt(3)+i.charAt(3)}var Nz,_x,bx,Oz=P(()=>{yr();Oo();eo();Nz={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgreen:"#90ee90",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},_x=class extends bi{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:"black",concise:!1,_model_name:"ColorPickerModel",_view_name:"ColorPickerView"})}},bx=class extends ui{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-colorpicker"),this._color_container=document.createElement("div"),this._color_container.className="widget-inline-hbox widget-colorpicker-input",this.el.appendChild(this._color_container),this._textbox=document.createElement("input"),this._textbox.setAttribute("type","text"),this._textbox.id=this.label.htmlFor=ri(),this._color_container.appendChild(this._textbox),this._textbox.value=this.model.get("value"),this._colorpicker=document.createElement("input"),this._colorpicker.setAttribute("type","color"),this._color_container.appendChild(this._colorpicker),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change:concise",this._update_concise),this._update_concise(),this._update_value(),this.update()}update(e){if(e===void 0||e.updated_view!=this){let t=this.model.get("disabled");this._textbox.disabled=t,this._colorpicker.disabled=t}return super.update()}events(){return this._picker_change,this._text_change,{'change [type="color"]':"_picker_change",'change [type="text"]':"_text_change"}}_update_value(){let e=this.model.get("value");this._colorpicker.value=qte(e),this._textbox.value=e}_update_concise(){this.model.get("concise")?(this.el.classList.add("concise"),this._textbox.style.display="none"):(this.el.classList.remove("concise"),this._textbox.style.display="")}_picker_change(){this.model.set("value",this._colorpicker.value),this.touch()}_text_change(){let e=this._validate_color(this._textbox.value,this.model.get("value"));this.model.set("value",e),this.touch()}_validate_color(e,t){return e.match(/#[a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?$/)||Nz[e.toLowerCase()]?e:t}}});function Dz(i){return i===null?null:{year:i.getUTCFullYear(),month:i.getUTCMonth(),date:i.getUTCDate()}}function Hz(i){if(i===null)return null;{let e=new Date;return e.setUTCFullYear(i.year,i.month,i.date),e.setUTCHours(0,0,0,0),e}}var Y7,Cx,zz=P(()=>{Oo();yr();eo();Y7=class extends bi{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:null,_model_name:"DatePickerModel",_view_name:"DatePickerView"})}};Y7.serializers=Object.assign(Object.assign({},bi.serializers),{value:{serialize:Dz,deserialize:Hz}});Cx=class extends ui{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-datepicker"),this._datepicker=document.createElement("input"),this._datepicker.setAttribute("type","date"),this._datepicker.id=this.label.htmlFor=ri(),this.el.appendChild(this._datepicker),this.listenTo(this.model,"change:value",this._update_value),this._update_value(),this.update()}update(e){return(e===void 0||e.updated_view!==this)&&(this._datepicker.disabled=this.model.get("disabled")),super.update()}events(){return this._picker_change,this._picker_focusout,{'change [type="date"]':"_picker_change",'focusout [type="date"]':"_picker_focusout"}}_update_value(){let e=this.model.get("value");this._datepicker.valueAsDate=e}_picker_change(){this._datepicker.validity.badInput||(this.model.set("value",this._datepicker.valueAsDate),this.touch())}_picker_focusout(){this._datepicker.validity.badInput&&(this.model.set("value",null),this.touch())}}});function Q7(i){if(i===null)return null;{let e=Gte.exec(i);return e===null?null:{hours:Math.min(23,parseInt(e[1],10)),minutes:Math.min(59,parseInt(e[2],10)),seconds:e[4]?Math.min(59,parseInt(e[4],10)):0,milliseconds:e[6]?parseInt(e[6],10):0}}}function Bz(i){if(i===null)return null;{let e=[`${i.hours.toString().padStart(2,"0")}:${i.minutes.toString().padStart(2,"0")}`];return(i.seconds>0||i.milliseconds>0)&&(e.push(`:${i.seconds.toString().padStart(2,"0")}`),i.milliseconds>0&&e.push(`.${i.milliseconds.toString().padStart(3,"0")}`)),e.join("")}}var Gte,J7,Il,xx,wx=P(()=>{eo();Oo();yr();Gte=/(\d\d):(\d\d)(:(\d\d)(.(\d{1,3})\d*)?)?/;J7={serialize:Q7,deserialize:Bz},Il=class extends bi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:Il.model_name,_view_name:Il.view_name,value:null,disabled:!1,min:null,max:null,step:60})}};Il.serializers=Object.assign(Object.assign({},bi.serializers),{value:J7,min:J7,max:J7});Il.model_name="TimeModel";Il.view_name="TimeView";xx=class extends ui{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-timepicker"),this._timepicker=document.createElement("input"),this._timepicker.setAttribute("type","time"),this._timepicker.id=this.label.htmlFor=ri(),this.el.appendChild(this._timepicker),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change",this.update2),this._update_value(),this.update2()}update2(e,t){return(t===void 0||t.updated_view!==this)&&(this._timepicker.disabled=this.model.get("disabled"),this._timepicker.min=this.model.get("min"),this._timepicker.max=this.model.get("max"),this._timepicker.step=this.model.get("step")),super.update()}events(){return this._picker_change,this._picker_focusout,{'change [type="time"]':"_picker_change",'focusout [type="time"]':"_picker_focusout"}}_update_value(e,t,r){(r===void 0||r.updated_view!==this)&&(this._timepicker.value=this.model.get("value"))}_picker_change(){this._timepicker.validity.badInput||(this.model.set("value",this._timepicker.value,{updated_view:this}),this.touch())}_picker_focusout(){this._timepicker.validity.badInput&&(this.model.set("value",null,{updated_view:this}),this.touch())}}});function Pz(i){return i===null?null:{year:i.getUTCFullYear(),month:i.getUTCMonth(),date:i.getUTCDate(),hours:i.getUTCHours(),minutes:i.getUTCMinutes(),seconds:i.getUTCSeconds(),milliseconds:i.getUTCMilliseconds()}}function jz(i){if(i===null)return null;{let e=new Date;return e.setUTCFullYear(i.year,i.month,i.date),e.setUTCHours(i.hours,i.minutes,i.seconds,i.milliseconds),e}}function $z(i){return i===null?null:{year:i.getFullYear(),month:i.getMonth(),date:i.getDate(),hours:i.getHours(),minutes:i.getMinutes(),seconds:i.getSeconds(),milliseconds:i.getMilliseconds()}}function Vz(i){if(i===null)return null;{let e=new Date;return e.setFullYear(i.year,i.month,i.date),e.setHours(i.hours,i.minutes,i.seconds,i.milliseconds),e}}var e4,T2,yx,Fc,t4,i4,Fz=P(()=>{eo();Oo();yr();wx();e4={serialize:Pz,deserialize:jz},T2=class extends bi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DatetimeModel",_view_name:"DatetimeView",value:null,disabled:!1,min:null,max:null})}};T2.serializers=Object.assign(Object.assign({},bi.serializers),{value:e4,min:e4,max:e4});yx=class extends ui{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-datetimepicker");let e=document.createElement("input");e.type="datetime-local",e.type==="text"?(this._datepicker=document.createElement("input"),this._datepicker.setAttribute("type","date"),this._datepicker.id=this.label.htmlFor=ri(),this._timepicker=document.createElement("input"),this._timepicker.setAttribute("type","time"),this._timepicker.id=ri(),this.el.appendChild(this._datepicker),this.el.appendChild(this._timepicker)):(this._datetimepicker=e,this._datetimepicker.id=this.label.htmlFor=ri(),this.el.appendChild(this._datetimepicker)),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change",this.update2),this._update_value(),this.update2()}update2(e,t){if(t===void 0||t.updated_view!==this){let r=this.model.get("min"),n=this.model.get("max");this._datetimepicker?(this._datetimepicker.disabled=this.model.get("disabled"),this._datetimepicker.min=Fc.dt_as_dt_string(r),this._datetimepicker.max=Fc.dt_as_dt_string(n)):(this._datepicker.disabled=this.model.get("disabled"),this._datepicker.min=Fc.dt_as_date_string(r),this._datepicker.max=Fc.dt_as_date_string(n),this._timepicker.disabled=this.model.get("disabled"))}}events(){return this._picker_change,this._picker_focusout,{'change [type="date"]':"_picker_change",'change [type="time"]':"_picker_change",'change [type="datetime-local"]':"_picker_change",'focusout [type="date"]':"_picker_focusout",'focusout [type="datetime-local"]':"_picker_focusout",'focusout [type="time"]':"_picker_focusout"}}_update_value(e,t,r){if(r===void 0||r.updated_view!==this){let n=this.model.get("value");this._datetimepicker?this._datetimepicker.value=Fc.dt_as_dt_string(n):(this._datepicker.valueAsDate=n,this._timepicker.value=Fc.dt_as_time_string(n))}}_picker_change(){if(this._datetimepicker){if(!this._datetimepicker.validity.badInput){let e=this._datetimepicker.value,t=e?new Date(e):null;t&&isNaN(t.valueOf())&&(t=null),this.model.set("value",t,{updated_view:this}),this.touch()}}else if(!this._datepicker.validity.badInput&&!this._timepicker.validity.badInput){let e=this._datepicker.valueAsDate,t=Q7(this._timepicker.value);e!==null&&t!==null&&e.setHours(t.hours,t.minutes,t.seconds,t.milliseconds),this.model.set("value",t!==null&&e,{updated_view:this}),this.touch()}}_picker_focusout(){[this._datetimepicker,this._datepicker,this._timepicker].some(t=>t&&t.validity.badInput)&&(this.model.set("value",null),this.touch())}};(function(i){function e(n){if(n===null)return"";let s=[];return s.push(`${n.getFullYear().toString().padStart(4,"0")}`),s.push(`-${(n.getMonth()+1).toString().padStart(2,"0")}`),s.push(`-${n.getDate().toString().padStart(2,"0")}`),s.push(`T${n.getHours().toString().padStart(2,"0")}`),s.push(`:${n.getMinutes().toString().padStart(2,"0")}`),(n.getSeconds()>0||n.getMilliseconds()>0)&&(s.push(`:${n.getSeconds().toString().padStart(2,"0")}`),n.getMilliseconds()>0&&s.push(`.${n.getMilliseconds().toString().padStart(3,"0")}`)),s.join("")}i.dt_as_dt_string=e;function t(n){return n?e(n).split("T",2)[0]:""}i.dt_as_date_string=t;function r(n){return n?e(n).split("T",2)[1]:""}i.dt_as_time_string=r})(Fc||(Fc={}));t4={serialize:$z,deserialize:Vz},i4=class extends T2{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"NaiveDatetimeModel"})}};i4.serializers=Object.assign(Object.assign({},bi.serializers),{value:t4,min:t4,max:t4})});function Wz(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)}function wu(i,e){if((t=(i=e?i.toExponential(e-1):i.toExponential()).indexOf("e"))<0)return null;var t,r=i.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+i.slice(t+1)]}var A2=P(()=>{});function Zz(i){return i=wu(Math.abs(i)),i?i[1]:NaN}var qz=P(()=>{A2()});function Uz(i,e){return function(t,r){for(var n=t.length,s=[],o=0,a=i[0],l=0;n>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(t.substring(n-=a,n+a)),!((l+=a+1)>r));)a=i[o=(o+1)%i.length];return s.reverse().join(e)}}var Gz=P(()=>{});function Xz(i){return function(e){return e.replace(/[0-9]/g,function(t){return i[+t]})}}var Kz=P(()=>{});function N2(i){if(!(e=Xte.exec(i)))throw new Error("invalid format: "+i);var e;return new Mx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Mx(i){this.fill=i.fill===void 0?" ":i.fill+"",this.align=i.align===void 0?">":i.align+"",this.sign=i.sign===void 0?"-":i.sign+"",this.symbol=i.symbol===void 0?"":i.symbol+"",this.zero=!!i.zero,this.width=i.width===void 0?void 0:+i.width,this.comma=!!i.comma,this.precision=i.precision===void 0?void 0:+i.precision,this.trim=!!i.trim,this.type=i.type===void 0?"":i.type+""}var Xte,Yz=P(()=>{Xte=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;N2.prototype=Mx.prototype;Mx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function Jz(i){e:for(var e=i.length,t=1,r=-1,n;t<e;++t)switch(i[t]){case".":r=n=t;break;case"0":r===0&&(r=t),n=t;break;default:if(!+i[t])break e;r>0&&(r=0);break}return r>0?i.slice(0,r)+i.slice(n+1):i}var Qz=P(()=>{});function eB(i,e){var t=wu(i,e);if(!t)return i+"";var r=t[0],n=t[1],s=n-(Lx=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+wu(i,Math.max(0,e+s-1))[0]}var Lx,Sx=P(()=>{A2()});function Ex(i,e){var t=wu(i,e);if(!t)return i+"";var r=t[0],n=t[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}var tB=P(()=>{A2()});var Rx,iB=P(()=>{A2();Sx();tB();Rx={"%":(i,e)=>(i*100).toFixed(e),b:i=>Math.round(i).toString(2),c:i=>i+"",d:Wz,e:(i,e)=>i.toExponential(e),f:(i,e)=>i.toFixed(e),g:(i,e)=>i.toPrecision(e),o:i=>Math.round(i).toString(8),p:(i,e)=>Ex(i*100,e),r:Ex,s:eB,X:i=>Math.round(i).toString(16).toUpperCase(),x:i=>Math.round(i).toString(16)}});function Ix(i){return i}var rB=P(()=>{});function oB(i){var e=i.grouping===void 0||i.thousands===void 0?Ix:Uz(nB.call(i.grouping,Number),i.thousands+""),t=i.currency===void 0?"":i.currency[0]+"",r=i.currency===void 0?"":i.currency[1]+"",n=i.decimal===void 0?".":i.decimal+"",s=i.numerals===void 0?Ix:Xz(nB.call(i.numerals,String)),o=i.percent===void 0?"%":i.percent+"",a=i.minus===void 0?"\u2212":i.minus+"",l=i.nan===void 0?"NaN":i.nan+"";function c(d){d=N2(d);var f=d.fill,h=d.align,m=d.sign,p=d.symbol,v=d.zero,x=d.width,C=d.comma,y=d.precision,S=d.trim,M=d.type;M==="n"?(C=!0,M="g"):Rx[M]||(y===void 0&&(y=12),S=!0,M="g"),(v||f==="0"&&h==="=")&&(v=!0,f="0",h="=");var _=p==="$"?t:p==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",E=p==="$"?r:/[%p]/.test(M)?o:"",R=Rx[M],A=/[defgprs%]/.test(M);y=y===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function H($){var X=_,ue=E,he,Y,ee;if(M==="c")ue=R($)+ue,$="";else{$=+$;var ie=$<0||1/$<0;if($=isNaN($)?l:R(Math.abs($),y),S&&($=Jz($)),ie&&+$==0&&m!=="+"&&(ie=!1),X=(ie?m==="("?m:a:m==="-"||m==="("?"":m)+X,ue=(M==="s"?sB[8+Lx/3]:"")+ue+(ie&&m==="("?")":""),A){for(he=-1,Y=$.length;++he<Y;)if(ee=$.charCodeAt(he),48>ee||ee>57){ue=(ee===46?n+$.slice(he+1):$.slice(he))+ue,$=$.slice(0,he);break}}}C&&!v&&($=e($,1/0));var pe=X.length+$.length+ue.length,we=pe<x?new Array(x-pe+1).join(f):"";switch(C&&v&&($=e(we+$,we.length?x-ue.length:1/0),we=""),h){case"<":$=X+$+ue+we;break;case"=":$=X+we+$+ue;break;case"^":$=we.slice(0,pe=we.length>>1)+X+$+ue+we.slice(pe);break;default:$=we+X+$+ue;break}return s($)}return H.toString=function(){return d+""},H}function u(d,f){var h=c((d=N2(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Zz(f)/3)))*3,p=Math.pow(10,-m),v=sB[8+m/3];return function(x){return h(p*x)+v}}return{format:c,formatPrefix:u}}var nB,sB,aB=P(()=>{qz();Gz();Kz();Yz();Qz();iB();Sx();rB();nB=Array.prototype.map,sB=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"]});function kx(i){return r4=oB(i),ya=r4.format,lB=r4.formatPrefix,r4}var r4,ya,lB,cB=P(()=>{aB();kx({thousands:",",grouping:[3],currency:["$",""]})});var n4=P(()=>{cB()});var o4=je((s4,dB)=>{(function(i,e){typeof s4=="object"&&typeof dB<"u"?e(s4):typeof define=="function"&&define.amd?define(["exports"],e):(i=typeof globalThis<"u"?globalThis:i||self,e(i.noUiSlider={}))})(s4,function(i){"use strict";i.PipsMode=void 0,function(V){V.Range="range",V.Steps="steps",V.Positions="positions",V.Count="count",V.Values="values"}(i.PipsMode||(i.PipsMode={})),i.PipsType=void 0,function(V){V[V.None=-1]="None",V[V.NoValue=0]="NoValue",V[V.LargeValue=1]="LargeValue",V[V.SmallValue=2]="SmallValue"}(i.PipsType||(i.PipsType={}));function e(V){return t(V)&&typeof V.from=="function"}function t(V){return typeof V=="object"&&typeof V.to=="function"}function r(V){V.parentElement.removeChild(V)}function n(V){return V!=null}function s(V){V.preventDefault()}function o(V){return V.filter(function(D){return this[D]?!1:this[D]=!0},{})}function a(V,D){return Math.round(V/D)*D}function l(V,D){var Ee=V.getBoundingClientRect(),Le=V.ownerDocument,Se=Le.documentElement,Je=x(Le);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(Je.x=0),D?Ee.top+Je.y-Se.clientTop:Ee.left+Je.x-Se.clientLeft}function c(V){return typeof V=="number"&&!isNaN(V)&&isFinite(V)}function u(V,D,Ee){Ee>0&&(m(V,D),setTimeout(function(){p(V,D)},Ee))}function d(V){return Math.max(Math.min(V,100),0)}function f(V){return Array.isArray(V)?V:[V]}function h(V){V=String(V);var D=V.split(".");return D.length>1?D[1].length:0}function m(V,D){V.classList&&!/\s/.test(D)?V.classList.add(D):V.className+=" "+D}function p(V,D){V.classList&&!/\s/.test(D)?V.classList.remove(D):V.className=V.className.replace(new RegExp("(^|\\b)"+D.split(" ").join("|")+"(\\b|$)","gi")," ")}function v(V,D){return V.classList?V.classList.contains(D):new RegExp("\\b"+D+"\\b").test(V.className)}function x(V){var D=window.pageXOffset!==void 0,Ee=(V.compatMode||"")==="CSS1Compat",Le=D?window.pageXOffset:Ee?V.documentElement.scrollLeft:V.body.scrollLeft,Se=D?window.pageYOffset:Ee?V.documentElement.scrollTop:V.body.scrollTop;return{x:Le,y:Se}}function C(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function y(){var V=!1;try{var D=Object.defineProperty({},"passive",{get:function(){V=!0}});window.addEventListener("test",null,D)}catch{}return V}function S(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function M(V,D){return 100/(D-V)}function _(V,D,Ee){return D*100/(V[Ee+1]-V[Ee])}function E(V,D){return _(V,V[0]<0?D+Math.abs(V[0]):D-V[0],0)}function R(V,D){return D*(V[1]-V[0])/100+V[0]}function A(V,D){for(var Ee=1;V>=D[Ee];)Ee+=1;return Ee}function H(V,D,Ee){if(Ee>=V.slice(-1)[0])return 100;var Le=A(Ee,V),Se=V[Le-1],Je=V[Le],st=D[Le-1],xt=D[Le];return st+E([Se,Je],Ee)/M(st,xt)}function $(V,D,Ee){if(Ee>=100)return V.slice(-1)[0];var Le=A(Ee,D),Se=V[Le-1],Je=V[Le],st=D[Le-1],xt=D[Le];return R([Se,Je],(Ee-st)*M(st,xt))}function X(V,D,Ee,Le){if(Le===100)return Le;var Se=A(Le,V),Je=V[Se-1],st=V[Se];return Ee?Le-Je>(st-Je)/2?st:Je:D[Se-1]?V[Se-1]+a(Le-V[Se-1],D[Se-1]):Le}var ue=function(){function V(D,Ee,Le){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[Le||!1],this.xNumSteps=[!1],this.snap=Ee;var Se,Je=[];for(Object.keys(D).forEach(function(st){Je.push([f(D[st]),st])}),Je.sort(function(st,xt){return st[0][0]-xt[0][0]}),Se=0;Se<Je.length;Se++)this.handleEntryPoint(Je[Se][1],Je[Se][0]);for(this.xNumSteps=this.xSteps.slice(0),Se=0;Se<this.xNumSteps.length;Se++)this.handleStepPoint(Se,this.xNumSteps[Se])}return V.prototype.getDistance=function(D){var Ee,Le=[];for(Ee=0;Ee<this.xNumSteps.length-1;Ee++){var Se=this.xNumSteps[Ee];if(Se&&D/Se%1!==0)throw new Error("noUiSlider: 'limit', 'margin' and 'padding' of "+this.xPct[Ee]+"% range must be divisible by step.");Le[Ee]=_(this.xVal,D,Ee)}return Le},V.prototype.getAbsoluteDistance=function(D,Ee,Le){var Se=0;if(D<this.xPct[this.xPct.length-1])for(;D>this.xPct[Se+1];)Se++;else D===this.xPct[this.xPct.length-1]&&(Se=this.xPct.length-2);!Le&&D===this.xPct[Se+1]&&Se++,Ee===null&&(Ee=[]);var Je,st=1,xt=Ee[Se],at=0,Ni=0,_n=0,Ci=0;for(Le?Je=(D-this.xPct[Se])/(this.xPct[Se+1]-this.xPct[Se]):Je=(this.xPct[Se+1]-D)/(this.xPct[Se+1]-this.xPct[Se]);xt>0;)at=this.xPct[Se+1+Ci]-this.xPct[Se+Ci],Ee[Se+Ci]*st+100-Je*100>100?(Ni=at*Je,st=(xt-100*Je)/Ee[Se+Ci],Je=1):(Ni=Ee[Se+Ci]*at/100*st,st=0),Le?(_n=_n-Ni,this.xPct.length+Ci>=1&&Ci--):(_n=_n+Ni,this.xPct.length-Ci>=1&&Ci++),xt=Ee[Se+Ci]*st;return D+_n},V.prototype.toStepping=function(D){return D=H(this.xVal,this.xPct,D),D},V.prototype.fromStepping=function(D){return $(this.xVal,this.xPct,D)},V.prototype.getStep=function(D){return D=X(this.xPct,this.xSteps,this.snap,D),D},V.prototype.getDefaultStep=function(D,Ee,Le){var Se=A(D,this.xPct);return(D===100||Ee&&D===this.xPct[Se-1])&&(Se=Math.max(Se-1,1)),(this.xVal[Se]-this.xVal[Se-1])/Le},V.prototype.getNearbySteps=function(D){var Ee=A(D,this.xPct);return{stepBefore:{startValue:this.xVal[Ee-2],step:this.xNumSteps[Ee-2],highestStep:this.xHighestCompleteStep[Ee-2]},thisStep:{startValue:this.xVal[Ee-1],step:this.xNumSteps[Ee-1],highestStep:this.xHighestCompleteStep[Ee-1]},stepAfter:{startValue:this.xVal[Ee],step:this.xNumSteps[Ee],highestStep:this.xHighestCompleteStep[Ee]}}},V.prototype.countStepDecimals=function(){var D=this.xNumSteps.map(h);return Math.max.apply(null,D)},V.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},V.prototype.convert=function(D){return this.getStep(this.toStepping(D))},V.prototype.handleEntryPoint=function(D,Ee){var Le;if(D==="min"?Le=0:D==="max"?Le=100:Le=parseFloat(D),!c(Le)||!c(Ee[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(Le),this.xVal.push(Ee[0]);var Se=Number(Ee[1]);Le?this.xSteps.push(isNaN(Se)?!1:Se):isNaN(Se)||(this.xSteps[0]=Se),this.xHighestCompleteStep.push(0)},V.prototype.handleStepPoint=function(D,Ee){if(Ee){if(this.xVal[D]===this.xVal[D+1]){this.xSteps[D]=this.xHighestCompleteStep[D]=this.xVal[D];return}this.xSteps[D]=_([this.xVal[D],this.xVal[D+1]],Ee,0)/M(this.xPct[D],this.xPct[D+1]);var Le=(this.xVal[D+1]-this.xVal[D])/this.xNumSteps[D],Se=Math.ceil(Number(Le.toFixed(3))-1),Je=this.xVal[D]+this.xNumSteps[D]*Se;this.xHighestCompleteStep[D]=Je}},V}(),he={to:function(V){return V===void 0?"":V.toFixed(2)},from:Number},Y={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},ee={tooltips:".__tooltips",aria:".__aria"};function ie(V,D){if(!c(D))throw new Error("noUiSlider: 'step' is not numeric.");V.singleStep=D}function pe(V,D){if(!c(D))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");V.keyboardPageMultiplier=D}function we(V,D){if(!c(D))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");V.keyboardMultiplier=D}function Ve(V,D){if(!c(D))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");V.keyboardDefaultStep=D}function lt(V,D){if(typeof D!="object"||Array.isArray(D))throw new Error("noUiSlider: 'range' is not an object.");if(D.min===void 0||D.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");V.spectrum=new ue(D,V.snap||!1,V.singleStep)}function gt(V,D){if(D=f(D),!Array.isArray(D)||!D.length)throw new Error("noUiSlider: 'start' option is incorrect.");V.handles=D.length,V.start=D}function De(V,D){if(typeof D!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");V.snap=D}function rt(V,D){if(typeof D!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");V.animate=D}function Jt(V,D){if(typeof D!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");V.animationDuration=D}function Ke(V,D){var Ee=[!1],Le;if(D==="lower"?D=[!0,!1]:D==="upper"&&(D=[!1,!0]),D===!0||D===!1){for(Le=1;Le<V.handles;Le++)Ee.push(D);Ee.push(!1)}else{if(!Array.isArray(D)||!D.length||D.length!==V.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");Ee=D}V.connect=Ee}function Ye(V,D){switch(D){case"horizontal":V.ort=0;break;case"vertical":V.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function fi(V,D){if(!c(D))throw new Error("noUiSlider: 'margin' option must be numeric.");D!==0&&(V.margin=V.spectrum.getDistance(D))}function yt(V,D){if(!c(D))throw new Error("noUiSlider: 'limit' option must be numeric.");if(V.limit=V.spectrum.getDistance(D),!V.limit||V.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function oi(V,D){var Ee;if(!c(D)&&!Array.isArray(D))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(D)&&!(D.length===2||c(D[0])||c(D[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(D!==0){for(Array.isArray(D)||(D=[D,D]),V.padding=[V.spectrum.getDistance(D[0]),V.spectrum.getDistance(D[1])],Ee=0;Ee<V.spectrum.xNumSteps.length-1;Ee++)if(V.padding[0][Ee]<0||V.padding[1][Ee]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var Le=D[0]+D[1],Se=V.spectrum.xVal[0],Je=V.spectrum.xVal[V.spectrum.xVal.length-1];if(Le/(Je-Se)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function Ai(V,D){switch(D){case"ltr":V.dir=0;break;case"rtl":V.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Ue(V,D){if(typeof D!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var Ee=D.indexOf("tap")>=0,Le=D.indexOf("drag")>=0,Se=D.indexOf("fixed")>=0,Je=D.indexOf("snap")>=0,st=D.indexOf("hover")>=0,xt=D.indexOf("unconstrained")>=0,at=D.indexOf("drag-all")>=0;if(Se){if(V.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");fi(V,V.start[1]-V.start[0])}if(xt&&(V.margin||V.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");V.events={tap:Ee||Je,drag:Le,dragAll:at,fixed:Se,snap:Je,hover:st,unconstrained:xt}}function T(V,D){if(D!==!1)if(D===!0||t(D)){V.tooltips=[];for(var Ee=0;Ee<V.handles;Ee++)V.tooltips.push(D)}else{if(D=f(D),D.length!==V.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");D.forEach(function(Le){if(typeof Le!="boolean"&&!t(Le))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),V.tooltips=D}}function B(V,D){if(D.length!==V.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");V.handleAttributes=D}function W(V,D){if(!t(D))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");V.ariaFormat=D}function U(V,D){if(!e(D))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");V.format=D}function oe(V,D){if(typeof D!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");V.keyboardSupport=D}function ae(V,D){V.documentElement=D}function ze(V,D){if(typeof D!="string"&&D!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");V.cssPrefix=D}function nt(V,D){if(typeof D!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof V.cssPrefix=="string"?(V.cssClasses={},Object.keys(D).forEach(function(Ee){V.cssClasses[Ee]=V.cssPrefix+D[Ee]})):V.cssClasses=D}function vt(V){var D={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:he,format:he},Ee={step:{r:!1,t:ie},keyboardPageMultiplier:{r:!1,t:pe},keyboardMultiplier:{r:!1,t:we},keyboardDefaultStep:{r:!1,t:Ve},start:{r:!0,t:gt},connect:{r:!0,t:Ke},direction:{r:!0,t:Ai},snap:{r:!1,t:De},animate:{r:!1,t:rt},animationDuration:{r:!1,t:Jt},range:{r:!0,t:lt},orientation:{r:!1,t:Ye},margin:{r:!1,t:fi},limit:{r:!1,t:yt},padding:{r:!1,t:oi},behaviour:{r:!0,t:Ue},ariaFormat:{r:!1,t:W},format:{r:!1,t:U},tooltips:{r:!1,t:T},keyboardSupport:{r:!0,t:oe},documentElement:{r:!1,t:ae},cssPrefix:{r:!0,t:ze},cssClasses:{r:!0,t:nt},handleAttributes:{r:!1,t:B}},Le={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:Y,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};V.format&&!V.ariaFormat&&(V.ariaFormat=V.format),Object.keys(Ee).forEach(function(at){if(!n(V[at])&&Le[at]===void 0){if(Ee[at].r)throw new Error("noUiSlider: '"+at+"' is required.");return}Ee[at].t(D,n(V[at])?V[at]:Le[at])}),D.pips=V.pips;var Se=document.createElement("div"),Je=Se.style.msTransform!==void 0,st=Se.style.transform!==void 0;D.transformRule=st?"transform":Je?"msTransform":"webkitTransform";var xt=[["left","top"],["right","bottom"]];return D.style=xt[D.dir][D.ort],D}function bt(V,D,Ee){var Le=C(),Se=S(),Je=Se&&y(),st=V,xt,at,Ni,_n,Ci,It=D.spectrum,xs=[],Si=[],qi=[],Na=0,ws={},Oa=V.ownerDocument,Br=D.documentElement||Oa.documentElement,ur=Oa.body,o0=Oa.dir==="rtl"||D.ort===1?0:100;function oo(q,Q){var ne=Oa.createElement("div");return Q&&m(ne,Q),q.appendChild(ne),ne}function mp(q,Q){var ne=oo(q,D.cssClasses.origin),ye=oo(ne,D.cssClasses.handle);if(oo(ye,D.cssClasses.touchArea),ye.setAttribute("data-handle",String(Q)),D.keyboardSupport&&(ye.setAttribute("tabindex","0"),ye.addEventListener("keydown",function($e){return h0($e,Q)})),D.handleAttributes!==void 0){var Pe=D.handleAttributes[Q];Object.keys(Pe).forEach(function($e){ye.setAttribute($e,Pe[$e])})}return ye.setAttribute("role","slider"),ye.setAttribute("aria-orientation",D.ort?"vertical":"horizontal"),Q===0?m(ye,D.cssClasses.handleLower):Q===D.handles-1&&m(ye,D.cssClasses.handleUpper),ne}function a0(q,Q){return Q?oo(q,D.cssClasses.connect):!1}function Fl(q,Q){var ne=oo(Q,D.cssClasses.connects);at=[],Ni=[],Ni.push(a0(ne,q[0]));for(var ye=0;ye<D.handles;ye++)at.push(mp(Q,ye)),qi[ye]=ye,Ni.push(a0(ne,q[ye+1]))}function Wl(q){m(q,D.cssClasses.target),D.dir===0?m(q,D.cssClasses.ltr):m(q,D.cssClasses.rtl),D.ort===0?m(q,D.cssClasses.horizontal):m(q,D.cssClasses.vertical);var Q=getComputedStyle(q).direction;return Q==="rtl"?m(q,D.cssClasses.textDirectionRtl):m(q,D.cssClasses.textDirectionLtr),oo(q,D.cssClasses.base)}function l0(q,Q){return!D.tooltips||!D.tooltips[Q]?!1:oo(q.firstChild,D.cssClasses.tooltip)}function Qc(){return st.hasAttribute("disabled")}function c0(q){var Q=at[q];return Q.hasAttribute("disabled")}function d0(){Ci&&(Zl("update"+ee.tooltips),Ci.forEach(function(q){q&&r(q)}),Ci=null)}function pp(){d0(),Ci=at.map(l0),f0("update"+ee.tooltips,function(q,Q,ne){if(!(!Ci||!D.tooltips)&&Ci[Q]!==!1){var ye=q[Q];D.tooltips[Q]!==!0&&(ye=D.tooltips[Q].to(ne[Q])),Ci[Q].innerHTML=ye}})}function gp(){Zl("update"+ee.aria),f0("update"+ee.aria,function(q,Q,ne,ye,Pe){qi.forEach(function($e){var Ge=at[$e],tt=td(Si,$e,0,!0,!0,!0),Qt=td(Si,$e,100,!0,!0,!0),Zt=Pe[$e],zt=String(D.ariaFormat.to(ne[$e]));tt=It.fromStepping(tt).toFixed(1),Qt=It.fromStepping(Qt).toFixed(1),Zt=It.fromStepping(Zt).toFixed(1),Ge.children[0].setAttribute("aria-valuemin",tt),Ge.children[0].setAttribute("aria-valuemax",Qt),Ge.children[0].setAttribute("aria-valuenow",Zt),Ge.children[0].setAttribute("aria-valuetext",zt)})})}function lg(q){if(q.mode===i.PipsMode.Range||q.mode===i.PipsMode.Steps)return It.xVal;if(q.mode===i.PipsMode.Count){if(q.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var Q=q.values-1,ne=100/Q,ye=[];Q--;)ye[Q]=Q*ne;return ye.push(100),vp(ye,q.stepped)}return q.mode===i.PipsMode.Positions?vp(q.values,q.stepped):q.mode===i.PipsMode.Values?q.stepped?q.values.map(function(Pe){return It.fromStepping(It.getStep(It.toStepping(Pe)))}):q.values:[]}function vp(q,Q){return q.map(function(ne){return It.fromStepping(Q?It.getStep(ne):ne)})}function _p(q){function Q(Zt,zt){return Number((Zt+zt).toFixed(7))}var ne=lg(q),ye={},Pe=It.xVal[0],$e=It.xVal[It.xVal.length-1],Ge=!1,tt=!1,Qt=0;return ne=o(ne.slice().sort(function(Zt,zt){return Zt-zt})),ne[0]!==Pe&&(ne.unshift(Pe),Ge=!0),ne[ne.length-1]!==$e&&(ne.push($e),tt=!0),ne.forEach(function(Zt,zt){var Oi,Ft,Sr,Er=Zt,er=ne[zt+1],hr,g0,v0,Yu,Ju,Qu,e1,_0=q.mode===i.PipsMode.Steps;for(_0&&(Oi=It.xNumSteps[zt]),Oi||(Oi=er-Er),er===void 0&&(er=Er),Oi=Math.max(Oi,1e-7),Ft=Er;Ft<=er;Ft=Q(Ft,Oi)){for(hr=It.toStepping(Ft),g0=hr-Qt,Ju=g0/(q.density||1),Qu=Math.round(Ju),e1=g0/Qu,Sr=1;Sr<=Qu;Sr+=1)v0=Qt+Sr*e1,ye[v0.toFixed(5)]=[It.fromStepping(v0),0];Yu=ne.indexOf(Ft)>-1?i.PipsType.LargeValue:_0?i.PipsType.SmallValue:i.PipsType.NoValue,!zt&&Ge&&Ft!==er&&(Yu=0),Ft===er&&tt||(ye[hr.toFixed(5)]=[Ft,Yu]),Qt=hr}}),ye}function cg(q,Q,ne){var ye,Pe,$e=Oa.createElement("div"),Ge=(ye={},ye[i.PipsType.None]="",ye[i.PipsType.NoValue]=D.cssClasses.valueNormal,ye[i.PipsType.LargeValue]=D.cssClasses.valueLarge,ye[i.PipsType.SmallValue]=D.cssClasses.valueSub,ye),tt=(Pe={},Pe[i.PipsType.None]="",Pe[i.PipsType.NoValue]=D.cssClasses.markerNormal,Pe[i.PipsType.LargeValue]=D.cssClasses.markerLarge,Pe[i.PipsType.SmallValue]=D.cssClasses.markerSub,Pe),Qt=[D.cssClasses.valueHorizontal,D.cssClasses.valueVertical],Zt=[D.cssClasses.markerHorizontal,D.cssClasses.markerVertical];m($e,D.cssClasses.pips),m($e,D.ort===0?D.cssClasses.pipsHorizontal:D.cssClasses.pipsVertical);function zt(Ft,Sr){var Er=Sr===D.cssClasses.value,er=Er?Qt:Zt,hr=Er?Ge:tt;return Sr+" "+er[D.ort]+" "+hr[Ft]}function Oi(Ft,Sr,Er){if(Er=Q?Q(Sr,Er):Er,Er!==i.PipsType.None){var er=oo($e,!1);er.className=zt(Er,D.cssClasses.marker),er.style[D.style]=Ft+"%",Er>i.PipsType.NoValue&&(er=oo($e,!1),er.className=zt(Er,D.cssClasses.value),er.setAttribute("data-value",String(Sr)),er.style[D.style]=Ft+"%",er.innerHTML=String(ne.to(Sr)))}}return Object.keys(q).forEach(function(Ft){Oi(Ft,q[Ft][0],q[Ft][1])}),$e}function Po(){_n&&(r(_n),_n=null)}function qu(q){Po();var Q=_p(q),ne=q.filter,ye=q.format||{to:function(Pe){return String(Math.round(Pe))}};return _n=st.appendChild(cg(Q,ne,ye)),_n}function Uu(){var q=xt.getBoundingClientRect(),Q="offset"+["Width","Height"][D.ort];return D.ort===0?q.width||xt[Q]:q.height||xt[Q]}function ao(q,Q,ne,ye){var Pe=function(Ge){var tt=Gu(Ge,ye.pageOffset,ye.target||Q);if(!tt||Qc()&&!ye.doNotReject||v(st,D.cssClasses.tap)&&!ye.doNotReject||q===Le.start&&tt.buttons!==void 0&&tt.buttons>1||ye.hover&&tt.buttons)return!1;Je||tt.preventDefault(),tt.calcPoint=tt.points[D.ort],ne(tt,ye)},$e=[];return q.split(" ").forEach(function(Ge){Q.addEventListener(Ge,Pe,Je?{passive:!0}:!1),$e.push([Ge,Pe])}),$e}function Gu(q,Q,ne){var ye=q.type.indexOf("touch")===0,Pe=q.type.indexOf("mouse")===0,$e=q.type.indexOf("pointer")===0,Ge=0,tt=0;if(q.type.indexOf("MSPointer")===0&&($e=!0),q.type==="mousedown"&&!q.buttons&&!q.touches)return!1;if(ye){var Qt=function(Oi){var Ft=Oi.target;return Ft===ne||ne.contains(Ft)||q.composed&&q.composedPath().shift()===ne};if(q.type==="touchstart"){var Zt=Array.prototype.filter.call(q.touches,Qt);if(Zt.length>1)return!1;Ge=Zt[0].pageX,tt=Zt[0].pageY}else{var zt=Array.prototype.find.call(q.changedTouches,Qt);if(!zt)return!1;Ge=zt.pageX,tt=zt.pageY}}return Q=Q||x(Oa),(Pe||$e)&&(Ge=q.clientX+Q.x,tt=q.clientY+Q.y),q.pageOffset=Q,q.points=[Ge,tt],q.cursor=Pe||$e,q}function u0(q){var Q=q-l(xt,D.ort),ne=Q*100/Uu();return ne=d(ne),D.dir?100-ne:ne}function dg(q){var Q=100,ne=!1;return at.forEach(function(ye,Pe){if(!c0(Pe)){var $e=Si[Pe],Ge=Math.abs($e-q),tt=Ge===100&&Q===100,Qt=Ge<Q,Zt=Ge<=Q&&q>$e;(Qt||Zt||tt)&&(ne=Pe,Q=Ge)}}),ne}function ed(q,Q){q.type==="mouseout"&&q.target.nodeName==="HTML"&&q.relatedTarget===null&&Xu(q,Q)}function bp(q,Q){if(navigator.appVersion.indexOf("MSIE 9")===-1&&q.buttons===0&&Q.buttonsProperty!==0)return Xu(q,Q);var ne=(D.dir?-1:1)*(q.calcPoint-Q.startCalcPoint),ye=ne*100/Q.baseSize;Da(ne>0,ye,Q.locations,Q.handleNumbers,Q.connect)}function Xu(q,Q){Q.handle&&(p(Q.handle,D.cssClasses.active),Na-=1),Q.listeners.forEach(function(ne){Br.removeEventListener(ne[0],ne[1])}),Na===0&&(p(st,D.cssClasses.drag),m0(),q.cursor&&(ur.style.cursor="",ur.removeEventListener("selectstart",s))),Q.handleNumbers.forEach(function(ne){xi("change",ne),xi("set",ne),xi("end",ne)})}function Ku(q,Q){if(!Q.handleNumbers.some(c0)){var ne;if(Q.handleNumbers.length===1){var ye=at[Q.handleNumbers[0]];ne=ye.children[0],Na+=1,m(ne,D.cssClasses.active)}q.stopPropagation();var Pe=[],$e=ao(Le.move,Br,bp,{target:q.target,handle:ne,connect:Q.connect,listeners:Pe,startCalcPoint:q.calcPoint,baseSize:Uu(),pageOffset:q.pageOffset,handleNumbers:Q.handleNumbers,buttonsProperty:q.buttons,locations:Si.slice()}),Ge=ao(Le.end,Br,Xu,{target:q.target,handle:ne,listeners:Pe,doNotReject:!0,handleNumbers:Q.handleNumbers}),tt=ao("mouseout",Br,ed,{target:q.target,handle:ne,listeners:Pe,doNotReject:!0,handleNumbers:Q.handleNumbers});Pe.push.apply(Pe,$e.concat(Ge,tt)),q.cursor&&(ur.style.cursor=getComputedStyle(q.target).cursor,at.length>1&&m(st,D.cssClasses.drag),ur.addEventListener("selectstart",s,!1)),Q.handleNumbers.forEach(function(Qt){xi("start",Qt)})}}function Cp(q){q.stopPropagation();var Q=u0(q.calcPoint),ne=dg(Q);ne!==!1&&(D.events.snap||u(st,D.cssClasses.tap,D.animationDuration),jo(ne,Q,!0,!0),m0(),xi("slide",ne,!0),xi("update",ne,!0),D.events.snap?Ku(q,{handleNumbers:[ne]}):(xi("change",ne,!0),xi("set",ne,!0)))}function ug(q){var Q=u0(q.calcPoint),ne=It.getStep(Q),ye=It.fromStepping(ne);Object.keys(ws).forEach(function(Pe){Pe.split(".")[0]==="hover"&&ws[Pe].forEach(function($e){$e.call(ys,ye)})})}function h0(q,Q){if(Qc()||c0(Q))return!1;var ne=["Left","Right"],ye=["Down","Up"],Pe=["PageDown","PageUp"],$e=["Home","End"];D.dir&&!D.ort?ne.reverse():D.ort&&!D.dir&&(ye.reverse(),Pe.reverse());var Ge=q.key.replace("Arrow",""),tt=Ge===Pe[0],Qt=Ge===Pe[1],Zt=Ge===ye[0]||Ge===ne[0]||tt,zt=Ge===ye[1]||Ge===ne[1]||Qt,Oi=Ge===$e[0],Ft=Ge===$e[1];if(!Zt&&!zt&&!Oi&&!Ft)return!0;q.preventDefault();var Sr;if(zt||Zt){var Er=Zt?0:1,er=ql(Q),hr=er[Er];if(hr===null)return!1;hr===!1&&(hr=It.getDefaultStep(Si[Q],Zt,D.keyboardDefaultStep)),Qt||tt?hr*=D.keyboardPageMultiplier:hr*=D.keyboardMultiplier,hr=Math.max(hr,1e-7),hr=(Zt?-1:1)*hr,Sr=xs[Q]+hr}else Ft?Sr=D.spectrum.xVal[D.spectrum.xVal.length-1]:Sr=D.spectrum.xVal[0];return jo(Q,It.toStepping(Sr),!0,!0),xi("slide",Q),xi("update",Q),xi("change",Q),xi("set",Q),!1}function hg(q){q.fixed||at.forEach(function(Q,ne){ao(Le.start,Q.children[0],Ku,{handleNumbers:[ne]})}),q.tap&&ao(Le.start,xt,Cp,{}),q.hover&&ao(Le.move,xt,ug,{hover:!0}),q.drag&&Ni.forEach(function(Q,ne){if(!(Q===!1||ne===0||ne===Ni.length-1)){var ye=at[ne-1],Pe=at[ne],$e=[Q],Ge=[ye,Pe],tt=[ne-1,ne];m(Q,D.cssClasses.draggable),q.fixed&&($e.push(ye.children[0]),$e.push(Pe.children[0])),q.dragAll&&(Ge=at,tt=qi),$e.forEach(function(Qt){ao(Le.start,Qt,Ku,{handles:Ge,handleNumbers:tt,connect:Q})})}})}function f0(q,Q){ws[q]=ws[q]||[],ws[q].push(Q),q.split(".")[0]==="update"&&at.forEach(function(ne,ye){xi("update",ye)})}function xp(q){return q===ee.aria||q===ee.tooltips}function Zl(q){var Q=q&&q.split(".")[0],ne=Q?q.substring(Q.length):q;Object.keys(ws).forEach(function(ye){var Pe=ye.split(".")[0],$e=ye.substring(Pe.length);(!Q||Q===Pe)&&(!ne||ne===$e)&&(!xp($e)||ne===$e)&&delete ws[ye]})}function xi(q,Q,ne){Object.keys(ws).forEach(function(ye){var Pe=ye.split(".")[0];q===Pe&&ws[ye].forEach(function($e){$e.call(ys,xs.map(D.format.to),Q,xs.slice(),ne||!1,Si.slice(),ys)})})}function td(q,Q,ne,ye,Pe,$e){var Ge;return at.length>1&&!D.events.unconstrained&&(ye&&Q>0&&(Ge=It.getAbsoluteDistance(q[Q-1],D.margin,!1),ne=Math.max(ne,Ge)),Pe&&Q<at.length-1&&(Ge=It.getAbsoluteDistance(q[Q+1],D.margin,!0),ne=Math.min(ne,Ge))),at.length>1&&D.limit&&(ye&&Q>0&&(Ge=It.getAbsoluteDistance(q[Q-1],D.limit,!1),ne=Math.min(ne,Ge)),Pe&&Q<at.length-1&&(Ge=It.getAbsoluteDistance(q[Q+1],D.limit,!0),ne=Math.max(ne,Ge))),D.padding&&(Q===0&&(Ge=It.getAbsoluteDistance(0,D.padding[0],!1),ne=Math.max(ne,Ge)),Q===at.length-1&&(Ge=It.getAbsoluteDistance(100,D.padding[1],!0),ne=Math.min(ne,Ge))),ne=It.getStep(ne),ne=d(ne),ne===q[Q]&&!$e?!1:ne}function Lr(q,Q){var ne=D.ort;return(ne?Q:q)+", "+(ne?q:Q)}function Da(q,Q,ne,ye,Pe){var $e=ne.slice(),Ge=ye[0],tt=[!q,q],Qt=[q,!q];ye=ye.slice(),q&&ye.reverse(),ye.length>1?ye.forEach(function(zt,Oi){var Ft=td($e,zt,$e[zt]+Q,tt[Oi],Qt[Oi],!1);Ft===!1?Q=0:(Q=Ft-$e[zt],$e[zt]=Ft)}):tt=Qt=[!0];var Zt=!1;ye.forEach(function(zt,Oi){Zt=jo(zt,ne[zt]+Q,tt[Oi],Qt[Oi])||Zt}),Zt&&(ye.forEach(function(zt){xi("update",zt),xi("slide",zt)}),Pe!=null&&xi("drag",Ge))}function id(q,Q){return D.dir?100-q-Q:q}function fg(q,Q){Si[q]=Q,xs[q]=It.fromStepping(Q);var ne=10*(id(Q,0)-o0),ye="translate("+Lr(ne+"%","0")+")";at[q].style[D.transformRule]=ye,p0(q),p0(q+1)}function m0(){qi.forEach(function(q){var Q=Si[q]>50?-1:1,ne=3+(at.length+Q*q);at[q].style.zIndex=String(ne)})}function jo(q,Q,ne,ye,Pe){return Pe||(Q=td(Si,q,Q,ne,ye,!1)),Q===!1?!1:(fg(q,Q),!0)}function p0(q){if(Ni[q]){var Q=0,ne=100;q!==0&&(Q=Si[q-1]),q!==Ni.length-1&&(ne=Si[q]);var ye=ne-Q,Pe="translate("+Lr(id(Q,ye)+"%","0")+")",$e="scale("+Lr(ye/100,"1")+")";Ni[q].style[D.transformRule]=Pe+" "+$e}}function rd(q,Q){return q===null||q===!1||q===void 0||(typeof q=="number"&&(q=String(q)),q=D.format.from(q),q!==!1&&(q=It.toStepping(q)),q===!1||isNaN(q))?Si[Q]:q}function nd(q,Q,ne){var ye=f(q),Pe=Si[0]===void 0;Q=Q===void 0?!0:Q,D.animate&&!Pe&&u(st,D.cssClasses.tap,D.animationDuration),qi.forEach(function(tt){jo(tt,rd(ye[tt],tt),!0,!1,ne)});var $e=qi.length===1?0:1;if(Pe&&It.hasNoSize()&&(ne=!0,Si[0]=0,qi.length>1)){var Ge=100/(qi.length-1);qi.forEach(function(tt){Si[tt]=tt*Ge})}for(;$e<qi.length;++$e)qi.forEach(function(tt){jo(tt,Si[tt],!0,!0,ne)});m0(),qi.forEach(function(tt){xi("update",tt),ye[tt]!==null&&Q&&xi("set",tt)})}function mg(q){nd(D.start,q)}function pg(q,Q,ne,ye){if(q=Number(q),!(q>=0&&q<qi.length))throw new Error("noUiSlider: invalid handle number, got: "+q);jo(q,rd(Q,q),!0,!0,ye),xi("update",q),ne&&xi("set",q)}function Hn(q){if(q===void 0&&(q=!1),q)return xs.length===1?xs[0]:xs.slice(0);var Q=xs.map(D.format.to);return Q.length===1?Q[0]:Q}function wp(){for(Zl(ee.aria),Zl(ee.tooltips),Object.keys(D.cssClasses).forEach(function(q){p(st,D.cssClasses[q])});st.firstChild;)st.removeChild(st.firstChild);delete st.noUiSlider}function ql(q){var Q=Si[q],ne=It.getNearbySteps(Q),ye=xs[q],Pe=ne.thisStep.step,$e=null;if(D.snap)return[ye-ne.stepBefore.startValue||null,ne.stepAfter.startValue-ye||null];Pe!==!1&&ye+Pe>ne.stepAfter.startValue&&(Pe=ne.stepAfter.startValue-ye),ye>ne.thisStep.startValue?$e=ne.thisStep.step:ne.stepBefore.step===!1?$e=!1:$e=ye-ne.stepBefore.highestStep,Q===100?Pe=null:Q===0&&($e=null);var Ge=It.countStepDecimals();return Pe!==null&&Pe!==!1&&(Pe=Number(Pe.toFixed(Ge))),$e!==null&&$e!==!1&&($e=Number($e.toFixed(Ge))),[$e,Pe]}function gg(){return qi.map(ql)}function vg(q,Q){var ne=Hn(),ye=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];ye.forEach(function($e){q[$e]!==void 0&&(Ee[$e]=q[$e])});var Pe=vt(Ee);ye.forEach(function($e){q[$e]!==void 0&&(D[$e]=Pe[$e])}),It=Pe.spectrum,D.margin=Pe.margin,D.limit=Pe.limit,D.padding=Pe.padding,D.pips?qu(D.pips):Po(),D.tooltips?pp():d0(),Si=[],nd(n(q.start)?q.start:ne,Q)}function Ha(){xt=Wl(st),Fl(D.connect,xt),hg(D.events),nd(D.start),D.pips&&qu(D.pips),D.tooltips&&pp(),gp()}Ha();var ys={destroy:wp,steps:gg,on:f0,off:Zl,get:Hn,set:nd,setHandle:pg,reset:mg,__moveHandles:function(q,Q,ne){Da(q,Q,Si,ne)},options:Ee,updateOptions:vg,target:st,removePips:Po,removeTooltips:d0,getPositions:function(){return Si.slice()},getTooltips:function(){return Ci},getOrigins:function(){return at},pips:qu};return ys}function Ct(V,D){if(!V||!V.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+V);if(V.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var Ee=vt(D),Le=bt(V,Ee,D);return V.noUiSlider=Le,Le}var Te={__spectrum:ue,cssClasses:Y,create:Ct};i.create=Ct,i.cssClasses=Y,i.default=Te,Object.defineProperty(i,"__esModule",{value:!0})})});var uB,O2,yu,a4,l4,Tx,Mu,D2,H2,Ax,Nx,z2,c4,Ox,Lu,Dx,Hx,zx=P(()=>{yr();Oo();$i();eo();n4();uB=N(o4()),O2=class extends bi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntModel",value:0})}},yu=class extends O2{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedIntModel",max:100,min:0})}},a4=class extends Fi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SliderStyleModel"})}};a4.styleProperties=Object.assign(Object.assign({},Fi.styleProperties),{handle_color:{selector:".noUi-handle",attribute:"background-color",default:null}});l4=class extends yu{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntSliderModel",_view_name:"IntSliderView",step:1,orientation:"horizontal",readout:!0,readout_format:"d",continuous_update:!0,style:null,disabled:!1})}initialize(e,t){super.initialize(e,t),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=ya(this.get("readout_format"))}},Tx=class extends l4{},Mu=class extends ui{constructor(){super(...arguments),this._parse_value=parseInt}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-slider"),this.el.classList.add("widget-hslider"),this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.slider_container=document.createElement("div"),this.slider_container.classList.add("slider-container"),this.slider_container.appendChild(this.$slider),this.el.appendChild(this.slider_container),this.readout=document.createElement("div"),this.el.appendChild(this.readout),this.readout.classList.add("widget-readout"),this.readout.contentEditable="true",this.readout.style.display="none",this.createSlider(),this.model.on("change:orientation",this.regenSlider,this),this.model.on("change:max",this.updateSliderOptions,this),this.model.on("change:min",this.updateSliderOptions,this),this.model.on("change:step",this.updateSliderOptions,this),this.model.on("change:value",this.updateSliderValue,this),this.update()}update(e){return(e===void 0||e.updated_view!==this)&&(this.model.get("disabled")?(this.readout.contentEditable="false",this.$slider.setAttribute("disabled",!0)):(this.readout.contentEditable="true",this.$slider.removeAttribute("disabled")),this.model.get("orientation")==="vertical"?(this.el.classList.remove("widget-hslider"),this.el.classList.add("widget-vslider"),this.el.classList.remove("widget-inline-hbox"),this.el.classList.add("widget-inline-vbox")):(this.el.classList.remove("widget-vslider"),this.el.classList.add("widget-hslider"),this.el.classList.remove("widget-inline-vbox"),this.el.classList.add("widget-inline-hbox")),this.model.get("readout")?(this.readout.style.display="",this.displayed.then(()=>{this.readout_overflow()?this.readout.classList.add("overflow"):this.readout.classList.remove("overflow")})):this.readout.style.display="none"),super.update()}readout_overflow(){return this.readout.scrollWidth>this.readout.clientWidth}events(){return{"blur [contentEditable=true]":"handleTextChange","keydown [contentEditable=true]":"handleKeyDown"}}handleKeyDown(e){e.keyCode===13&&(e.preventDefault(),this.handleTextChange())}createSlider(){let e=this.model.get("orientation"),t=this.model.get("behavior");uB.default.create(this.$slider,{start:this.model.get("value"),connect:!0,behaviour:t,range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step"),animate:!1,orientation:e,direction:e==="horizontal"?"ltr":"rtl",format:{from:r=>Number(r),to:r=>this._validate_slide_value(r)}}),this.$slider.noUiSlider.on("update",(r,n)=>{this.handleSliderUpdateEvent(r,n)}),this.$slider.noUiSlider.on("change",(r,n)=>{this.handleSliderChangeEvent(r,n)})}regenSlider(e){this.$slider.noUiSlider.destroy(),this.createSlider()}_validate_slide_value(e){return Math.round(e)}},D2=class extends Mu{constructor(){super(...arguments),this._range_regex=/^\s*([+-]?\d+)\s*[-:]\s*([+-]?\d+)/}update(e){super.update(e);let t=this.model.get("value");this.readout.textContent=this.valueToString(t),this.model.get("value")!==t&&(this.model.set("value",t,{updated_view:this}),this.touch())}valueToString(e){let t=this.model.readout_formatter;return e.map(function(r){return t(r)}).join(" \u2013 ")}stringToValue(e){if(e===null)return null;let t=this._range_regex.exec(e);return t?[this._parse_value(t[1]),this._parse_value(t[2])]:null}handleTextChange(){let e=this.stringToValue(this.readout.textContent),t=this.model.get("min"),r=this.model.get("max");e===null||isNaN(e[0])||isNaN(e[1])||e[0]>e[1]?this.readout.textContent=this.valueToString(this.model.get("value")):(e=[Math.max(Math.min(e[0],r),t),Math.max(Math.min(e[1],r),t)],e[0]!==this.model.get("value")[0]||e[1]!==this.model.get("value")[1]?(this.readout.textContent=this.valueToString(e),this.model.set("value",e),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderChangeEvent(e,t){let r=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(r),this.handleSliderChanged(e,t)}handleSliderUpdateEvent(e,t){let r=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(r),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)}handleSliderChanged(e,t){let r=e.map(this._validate_slide_value);this.model.set("value",r,{updated_view:this}),this.touch()}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.model.get("value"),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}updateSliderValue(e,t,r){if(r.updated_view===this)return;let n=this.$slider.noUiSlider.get(),s=this.model.get("value");(n[0]!==s[0]||n[1]!==s[1])&&this.$slider.noUiSlider.set(s)}},H2=class extends Mu{update(e){super.update(e);let t=this.model.get("min"),r=this.model.get("max"),n=this.model.get("value");n>r?n=r:n<t&&(n=t),this.readout.textContent=this.valueToString(n),this.model.get("value")!==n&&(this.model.set("value",n,{updated_view:this}),this.touch())}valueToString(e){let t=this.model.readout_formatter;return t(e)}stringToValue(e){return this._parse_value(e)}handleTextChange(){var e;let t=this.stringToValue((e=this.readout.textContent)!==null&&e!==void 0?e:""),r=this.model.get("min"),n=this.model.get("max");isNaN(t)?this.readout.textContent=this.valueToString(this.model.get("value")):(t=Math.max(Math.min(t,n),r),t!==this.model.get("value")?(this.readout.textContent=this.valueToString(t),this.model.set("value",t),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderChangeEvent(e,t){let r=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(r),this.handleSliderChanged(e,t)}handleSliderUpdateEvent(e,t){let r=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(r),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)}handleSliderChanged(e,t){let r=this._validate_slide_value(e[t]),n=this.model.get("value");parseFloat(n)!==r&&(this.model.set("value",r,{updated_view:this}),this.touch())}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.model.get("value"),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}updateSliderValue(e,t,r){if(r.updated_view===this)return;let n=this.$slider.noUiSlider.get(),s=this.model.get("value");n!==s&&this.$slider.noUiSlider.set(s)}},Ax=class extends O2{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntTextModel",_view_name:"IntTextView",disabled:!1,continuous_update:!1})}},Nx=class extends yu{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedIntTextModel",_view_name:"IntTextView",disabled:!1,continuous_update:!1,step:1})}},z2=class extends ui{constructor(){super(...arguments),this._parse_value=parseInt,this._default_step="1"}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-text"),this.textbox=document.createElement("input"),this.textbox.type="number",this.textbox.required=!0,this.textbox.id=this.label.htmlFor=ri(),this.el.appendChild(this.textbox),this.update()}update(e){if(e===void 0||e.updated_view!==this){let t=this.model.get("value");this._parse_value(this.textbox.value)!==t&&(this.textbox.value=t.toString()),this.model.get("min")!==void 0&&(this.textbox.min=this.model.get("min")),this.model.get("max")!==void 0&&(this.textbox.max=this.model.get("max")),this.model.get("step")!==void 0&&this.model.get("step")!==null?this.textbox.step=this.model.get("step"):this.textbox.step=this._default_step,this.textbox.disabled=this.model.get("disabled")}return super.update()}events(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","keyup input":"handleKeyUp","input input":"handleChanging","change input":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){/[e,. ]/.test(String.fromCharCode(e.keyCode))&&e.preventDefault()}handleKeyUp(e){if(e.altKey||e.ctrlKey)return;let t=e.target,r=t.value;if(r=r.replace(/[e,.\s]/g,""),r.length>=1){let n=r.substr(1);r=r[0]+n.replace(/[+-]/g,"")}t.value!==r&&(e.preventDefault(),t.value=r)}handleChanging(e){let r=e.target.value.trim();r===""||["-","-.",".","+.","+"].indexOf(r)>=0||this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){let t=e.target,r=this._parse_value(t.value);if(isNaN(r))t.value=this.model.get("value");else{let n=r;this.model.get("max")!==void 0&&(n=Math.min(this.model.get("max"),n)),this.model.get("min")!==void 0&&(n=Math.max(this.model.get("min"),n)),n!==r&&(t.value=n,r=n),r!==this.model.get("value")&&(this.model.set("value",r,{updated_view:this}),this.touch())}}},c4=class extends Fi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ProgressStyleModel"})}};c4.styleProperties=Object.assign(Object.assign({},Fi.styleProperties),{bar_color:{selector:".progress-bar",attribute:"background-color",default:null}});Ox=class extends yu{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntProgressModel",_view_name:"ProgressView",orientation:"horizontal",bar_style:"",style:null})}},Lu=class extends ui{initialize(e){super.initialize(e),this.listenTo(this.model,"change:bar_style",this.update_bar_style),this.luminoWidget.addClass("jupyter-widgets")}render(){super.render();let t=this.model.get("orientation")==="horizontal"?"widget-hprogress":"widget-vprogress";this.el.classList.add(t),this.progress=document.createElement("div"),this.progress.classList.add("progress"),this.progress.style.position="relative",this.el.appendChild(this.progress),this.bar=document.createElement("div"),this.bar.classList.add("progress-bar"),this.bar.style.position="absolute",this.bar.style.bottom="0px",this.bar.style.left="0px",this.progress.appendChild(this.bar),this.update(),this.set_bar_style()}update(){let e=this.model.get("value"),t=this.model.get("max"),r=this.model.get("min"),n=this.model.get("orientation"),s=100*(e-r)/(t-r);return n==="horizontal"?(this.el.classList.remove("widget-inline-vbox"),this.el.classList.remove("widget-vprogress"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-hprogress"),this.bar.style.width=s+"%",this.bar.style.height="100%"):(this.el.classList.remove("widget-inline-hbox"),this.el.classList.remove("widget-hprogress"),this.el.classList.add("widget-inline-vbox"),this.el.classList.add("widget-vprogress"),this.bar.style.width="100%",this.bar.style.height=s+"%"),super.update()}update_bar_style(){this.update_mapped_classes(Lu.class_map,"bar_style",this.bar)}set_bar_style(){this.set_mapped_classes(Lu.class_map,"bar_style",this.bar)}};Lu.class_map={success:["progress-bar-success"],info:["progress-bar-info"],warning:["progress-bar-warning"],danger:["progress-bar-danger"]};Dx=class extends yu{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"PlayModel",_view_name:"PlayView",repeat:!1,playing:!1,show_repeat:!0,interval:100,step:1,disabled:!1})}initialize(e,t){super.initialize(e,t)}loop(){if(!this.get("playing"))return;let e=this.get("value")+this.get("step");e<=this.get("max")?(this.set("value",e),this.schedule_next()):this.get("repeat")?(this.set("value",this.get("min")),this.schedule_next()):this.pause(),this.save_changes()}schedule_next(){this._timerId=window.setTimeout(this.loop.bind(this),this.get("interval"))}stop(){this.pause(),this.set("value",this.get("min")),this.save_changes()}pause(){window.clearTimeout(this._timerId),this._timerId=void 0,this.set("playing",!1),this.save_changes()}animate(){this._timerId===void 0&&(this.get("value")===this.get("max")?(this.set("value",this.get("min")),this.schedule_next(),this.save_changes()):this.loop(),this.save_changes())}play(){this.set("playing",!this.get("playing")),this.save_changes()}repeat(){this.set("repeat",!this.get("repeat")),this.save_changes()}},Hx=class extends Ot{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-play"),this.playPauseButton=document.createElement("button"),this.stopButton=document.createElement("button"),this.repeatButton=document.createElement("button"),this.playPauseButton.className="jupyter-button",this.stopButton.className="jupyter-button",this.repeatButton.className="jupyter-button",this.el.appendChild(this.playPauseButton),this.el.appendChild(this.stopButton),this.el.appendChild(this.repeatButton);let e=document.createElement("i");e.className="fa fa-play",this.playPauseButton.appendChild(e);let t=document.createElement("i");t.className="fa fa-stop",this.stopButton.appendChild(t);let r=document.createElement("i");r.className="fa fa-retweet",this.repeatButton.appendChild(r),this.playPauseButton.onclick=this.model.play.bind(this.model),this.stopButton.onclick=this.model.stop.bind(this.model),this.repeatButton.onclick=this.model.repeat.bind(this.model),this.listenTo(this.model,"change:playing",this.onPlayingChanged),this.listenTo(this.model,"change:repeat",this.updateRepeat),this.listenTo(this.model,"change:show_repeat",this.updateRepeat),this.updatePlaying(),this.updateRepeat(),this.update()}update(){let e=this.model.get("disabled");this.playPauseButton.disabled=e,this.stopButton.disabled=e,this.repeatButton.disabled=e,this.updatePlaying()}onPlayingChanged(){this.updatePlaying();let e=this.model.previous("playing"),t=this.model.get("playing");!e&&t?this.model.animate():this.model.pause()}updatePlaying(){let e=this.model.get("playing"),t=this.playPauseButton.getElementsByTagName("i")[0];e?t.className="fa fa-pause":t.className="fa fa-play"}updateRepeat(){let e=this.model.get("repeat");this.repeatButton.style.display=this.model.get("show_repeat")?this.playPauseButton.style.display:"none",e?this.repeatButton.classList.add("mod-active"):this.repeatButton.classList.remove("mod-active")}}});var hB,B2,Su,d4,Bx,Px,jx,$x,Vx,Fx,Wx,Zx,qx,fB=P(()=>{yr();zx();n4();hB=N(o4()),B2=class extends bi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatModel",value:0})}},Su=class extends B2{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedFloatModel",max:100,min:0})}},d4=class extends Su{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatSliderModel",_view_name:"FloatSliderView",step:1,orientation:"horizontal",_range:!1,readout:!0,readout_format:".2f",slider_color:null,continuous_update:!0,disabled:!1})}initialize(e,t){super.initialize(e,t),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=ya(this.get("readout_format"))}},Bx=class extends Su{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatLogSliderModel",_view_name:"FloatLogSliderView",step:.1,orientation:"horizontal",_range:!1,readout:!0,readout_format:".3g",slider_color:null,continuous_update:!0,disabled:!1,base:10,value:1,min:0,max:4})}initialize(e,t){super.initialize(e,t),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=ya(this.get("readout_format"))}},Px=class extends d4{},jx=class extends H2{constructor(){super(...arguments),this._parse_value=parseFloat}_validate_slide_value(e){return e}},$x=class extends Mu{constructor(){super(...arguments),this._parse_value=parseFloat}update(e){super.update(e);let t=this.model.get("value");this.readout.textContent=this.valueToString(t)}logCalc(e){let t=this.model.get("min"),r=this.model.get("max"),n=this.model.get("base"),s=Math.log(e)/Math.log(n);return s>r?s=r:s<t&&(s=t),s}createSlider(){var e;let t=this.model.get("orientation"),r=this.model.get("behavior");hB.default.create(this.$slider,{start:this.logCalc(this.model.get("value")),behaviour:r,range:{min:this.model.get("min"),max:this.model.get("max")},step:(e=this.model.get("step"))!==null&&e!==void 0?e:void 0,animate:!1,orientation:t,direction:t==="horizontal"?"ltr":"rtl",format:{from:n=>Number(n),to:n=>n}}),this.$slider.noUiSlider.on("update",(n,s)=>{this.handleSliderUpdateEvent(n,s)}),this.$slider.noUiSlider.on("change",(n,s)=>{this.handleSliderChangeEvent(n,s)})}valueToString(e){let t=this.model.readout_formatter;return t(e)}stringToValue(e){return e===null?NaN:this._parse_value(e)}handleTextChange(){let e=this.stringToValue(this.readout.textContent),t=this.model.get("min"),r=this.model.get("max"),n=this.model.get("base");isNaN(e)?this.readout.textContent=this.valueToString(this.model.get("value")):(e=Math.max(Math.min(e,Math.pow(n,r)),Math.pow(n,t)),e!==this.model.get("value")?(this.readout.textContent=this.valueToString(e),this.model.set("value",e),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderUpdateEvent(e,t){let r=this.model.get("base"),n=Math.pow(r,this._validate_slide_value(e[0]));this.readout.textContent=this.valueToString(n),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)}handleSliderChangeEvent(e,t){let r=this.model.get("base"),n=Math.pow(r,this._validate_slide_value(e[0]));this.readout.textContent=this.valueToString(n),this.handleSliderChanged(e,t)}handleSliderChanged(e,t){if(this._updating_slider)return;let r=this.model.get("base"),n=Math.pow(r,this._validate_slide_value(e[0]));this.model.set("value",n,{updated_view:this}),this.touch()}updateSliderValue(e,t,r){if(r.updated_view===this)return;let n=this.logCalc(this.model.get("value"));this.$slider.noUiSlider.set(n)}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.logCalc(this.model.get("value")),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}_validate_slide_value(e){return e}},Vx=class extends D2{constructor(){super(...arguments),this._parse_value=parseFloat,this._range_regex=/^\s*([+-]?(?:\d*\.?\d+|\d+\.)(?:[eE][-:]?\d+)?)\s*[-:]\s*([+-]?(?:\d*\.?\d+|\d+\.)(?:[eE][+-]?\d+)?)/}_validate_slide_value(e){return e}},Fx=class extends B2{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatTextModel",_view_name:"FloatTextView",disabled:!1,continuous_update:!1})}},Wx=class extends Su{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedFloatTextModel",_view_name:"FloatTextView",disabled:!1,continuous_update:!1,step:.1})}},Zx=class extends z2{constructor(){super(...arguments),this._parse_value=parseFloat,this._default_step="any"}handleKeypress(e){e.stopPropagation()}handleKeyUp(e){}},qx=class extends Su{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatProgressModel",_view_name:"ProgressView",orientation:"horizontal",bar_style:"",style:null})}}});var mB,Ux,Gx,Xx,Kx,u4,Yx,pB=P(()=>{yr();$i();ld();Bn();eo();mB=N(gu()),Ux=class extends hi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerButtonModel",_view_name:"ControllerButtonView",value:0,pressed:!1})}},Gx=class extends Ot{render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller-button"),this.el.style.width="fit-content",this.support=document.createElement("div"),this.support.style.position="relative",this.support.style.margin="1px",this.support.style.width="16px",this.support.style.height="16px",this.support.style.border="1px solid black",this.support.style.background="lightgray",this.el.appendChild(this.support),this.bar=document.createElement("div"),this.bar.style.position="absolute",this.bar.style.width="100%",this.bar.style.bottom="0px",this.bar.style.background="gray",this.support.appendChild(this.bar),this.update(),this.label=document.createElement("div"),this.label.textContent=this.model.get("description"),this.label.style.textAlign="center",this.el.appendChild(this.label)}update(){this.bar.style.height=100*this.model.get("value")+"%"}},Xx=class extends hi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerAxisModel",_view_name:"ControllerAxisView",value:0})}},Kx=class extends Ot{render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller-axis"),this.el.style.width="16px",this.el.style.padding="4px",this.support=document.createElement("div"),this.support.style.position="relative",this.support.style.margin="1px",this.support.style.width="4px",this.support.style.height="64px",this.support.style.border="1px solid black",this.support.style.background="lightgray",this.bullet=document.createElement("div"),this.bullet.style.position="absolute",this.bullet.style.margin="-3px",this.bullet.style.boxSizing="unset",this.bullet.style.width="10px",this.bullet.style.height="10px",this.bullet.style.background="gray",this.label=document.createElement("div"),this.label.textContent=this.model.get("description"),this.label.style.textAlign="center",this.support.appendChild(this.bullet),this.el.appendChild(this.support),this.el.appendChild(this.label),this.update()}update(){this.bullet.style.top=50*(this.model.get("value")+1)+"%"}},u4=class extends hi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerModel",_view_name:"ControllerView",index:0,name:"",mapping:"",connected:!1,timestamp:0,buttons:[],axes:[]})}initialize(e,t){super.initialize(e,t),navigator.getGamepads===void 0?(this.readout="This browser does not support gamepads.",console.error(this.readout)):(this.readout="Connect gamepad and press any button.",this.get("connected")?this.update_loop():this.wait_loop())}wait_loop(){let e=this.get("index"),t=navigator.getGamepads()[e];t?this.setup(t).then(r=>{this.set(r),this.save_changes(),window.requestAnimationFrame(this.update_loop.bind(this))}):window.requestAnimationFrame(this.wait_loop.bind(this))}setup(e){return this.set({name:e.id,mapping:e.mapping,connected:e.connected,timestamp:e.timestamp}),_a({buttons:Promise.all(e.buttons.map((t,r)=>this._create_button_model(r))),axes:Promise.all(e.axes.map((t,r)=>this._create_axis_model(r)))})}update_loop(){let e=this.get("index"),t=this.get("name"),r=navigator.getGamepads()[e];r&&e===r.index&&t===r.id?(this.set({timestamp:r.timestamp,connected:r.connected}),this.save_changes(),this.get("buttons").forEach(function(n,s){n.set({value:r.buttons[s].value,pressed:r.buttons[s].pressed}),n.save_changes()}),this.get("axes").forEach(function(n,s){n.set("value",r.axes[s]),n.save_changes()}),window.requestAnimationFrame(this.update_loop.bind(this))):this.reset_gamepad()}reset_gamepad(){this.get("buttons").forEach(function(e){e.close()}),this.get("axes").forEach(function(e){e.close()}),this.set({name:"",mapping:"",connected:!1,timestamp:0,buttons:[],axes:[]}),this.save_changes(),window.requestAnimationFrame(this.wait_loop.bind(this))}_create_button_model(e){return this.widget_manager.new_widget({model_name:"ControllerButtonModel",model_module:"@jupyter-widgets/controls",model_module_version:this.get("_model_module_version"),view_name:"ControllerButtonView",view_module:"@jupyter-widgets/controls",view_module_version:this.get("_view_module_version")}).then(function(t){return t.set("description",e),t})}_create_axis_model(e){return this.widget_manager.new_widget({model_name:"ControllerAxisModel",model_module:"@jupyter-widgets/controls",model_module_version:this.get("_model_module_version"),view_name:"ControllerAxisView",view_module:"@jupyter-widgets/controls",view_module_version:this.get("_view_module_version")}).then(function(t){return t.set("description",e),t})}};u4.serializers=Object.assign(Object.assign({},hi.serializers),{buttons:{deserialize:ms},axes:{deserialize:ms}});Yx=class extends Ot{_createElement(e){return this.luminoWidget=new Ca({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=(0,mB.default)(this.luminoWidget.node)}initialize(e){super.initialize(e),this.button_views=new No(this.add_button,null,this),this.listenTo(this.model,"change:buttons",(t,r)=>{this.button_views.update(r)}),this.axis_views=new No(this.add_axis,null,this),this.listenTo(this.model,"change:axes",(t,r)=>{this.axis_views.update(r)}),this.listenTo(this.model,"change:name",this.update_label)}render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller"),this.label=document.createElement("div"),this.el.appendChild(this.label),this.axis_box=new Ns,this.axis_box.node.style.display="flex",this.luminoWidget.addWidget(this.axis_box),this.button_box=new Ns,this.button_box.node.style.display="flex",this.luminoWidget.addWidget(this.button_box),this.button_views.update(this.model.get("buttons")),this.axis_views.update(this.model.get("axes")),this.update_label()}update_label(){this.label.textContent=this.model.get("name")||this.model.readout}add_button(e){let t=new mr;return this.button_box.addWidget(t),this.create_child_view(e).then(r=>{let n=z.firstIndexOf(this.button_box.widgets,t);return this.button_box.insertWidget(n,r.luminoWidget),t.dispose(),r}).catch(dn("Could not add child button view to controller",!0))}add_axis(e){let t=new mr;return this.axis_box.addWidget(t),this.create_child_view(e).then(r=>{let n=z.firstIndexOf(this.axis_box.widgets,t);return this.axis_box.insertWidget(n,r.luminoWidget),t.dispose(),r}).catch(dn("Could not add child axis view to controller",!0))}remove(){super.remove(),this.button_views.remove(),this.axis_views.remove()}}});var gB,Tl,P2,Jx,Qx,ew,h4,tw,iw,f4,rw,kl,nw,m4,j2,sw,ow,aw,lw,vB=P(()=>{yr();Oo();eo();gB=N(o4());eo();Tl=class extends bi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionModel",index:"",_options_labels:[],disabled:!1})}},P2=class extends ui{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox")}update(){super.update(),this.listbox&&(this.listbox.disabled=this.model.get("disabled")),this.updateTabindex(),this.updateTooltip()}updateTabindex(){if(!this.listbox)return;let e=this.model.get("tabbable");e===!0?this.listbox.setAttribute("tabIndex","0"):e===!1?this.listbox.setAttribute("tabIndex","-1"):e===null&&this.listbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.listbox)return;let e=this.model.get("tooltip");e?this.model.get("description").length===0&&this.listbox.setAttribute("title",e):this.listbox.removeAttribute("title")}},Jx=class extends Tl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DropdownModel",_view_name:"DropdownView",button_style:""})}},Qx=class extends P2{render(){super.render(),this.el.classList.add("widget-dropdown"),this.listbox=document.createElement("select"),this.listbox.id=this.label.htmlFor=ri(),this.el.appendChild(this.listbox),this._updateOptions(),this.update()}update(e){e?.updated_view!==this&&this.model.hasChanged("_options_labels")&&this._updateOptions();let t=this.model.get("index");return this.listbox.selectedIndex=t===null?-1:t,super.update()}_updateOptions(){this.listbox.textContent="";let e=this.model.get("_options_labels");for(let t=0;t<e.length;t++){let r=e[t],n=document.createElement("option");n.textContent=r.replace(/ /g,"\xA0"),n.setAttribute("data-value",encodeURIComponent(r)),n.value=r,this.listbox.appendChild(n)}}events(){return{"change select":"_handle_change"}}_handle_change(){this.model.set("index",this.listbox.selectedIndex===-1?null:this.listbox.selectedIndex,{updated_view:this}),this.touch()}handle_message(e){e.do==="focus"?this.listbox.focus():e.do==="blur"&&this.listbox.blur()}},ew=class extends Tl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectModel",_view_name:"SelectView",rows:5})}},h4=class extends P2{initialize(e){super.initialize(e),this.listbox=document.createElement("select")}render(){super.render(),this.el.classList.add("widget-select"),this.listbox.id=this.label.htmlFor=ri(),this.el.appendChild(this.listbox),this._updateOptions(),this.update(),this.updateSelection()}update(e){if(e?.updated_view!==this){let r=this.model.hasChanged("_options_labels"),n=this.model.hasChanged("index");if(r||n){let s=this.model.get("index");r&&this._updateOptions(),this.updateSelection(s)}}super.update();let t=this.model.get("rows");t===null&&(t=""),this.listbox.setAttribute("size",t)}updateSelection(e){e=e||this.model.get("index"),this.listbox.selectedIndex=e===null?-1:e}_updateOptions(){this.listbox.textContent="";let e=this.model.get("_options_labels");for(let t=0;t<e.length;t++){let r=e[t],n=document.createElement("option");n.textContent=r.replace(/ /g,"\xA0"),n.setAttribute("data-value",encodeURIComponent(r)),n.value=r,this.listbox.appendChild(n)}}events(){return{"change select":"_handle_change"}}_handle_change(){this.model.set("index",this.listbox.selectedIndex,{updated_view:this}),this.touch()}handle_message(e){e.do=="focus"?this.listbox.focus():e.do=="blur"&&this.listbox.blur()}},tw=class extends Tl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"RadioButtonsModel",_view_name:"RadioButtonsView",tooltips:[],icons:[],button_style:"",orientation:"vertical"})}},iw=class extends ui{render(){super.render(),this.el.classList.add("widget-radio"),this.container=document.createElement("div"),this.el.appendChild(this.container),this.container.classList.add("widget-radio-box"),this.update()}update(e){this.model.get("orientation")==="vertical"?(this.container.classList.remove("widget-radio-box-horizontal"),this.container.classList.add("widget-radio-box-vertical")):(this.container.classList.remove("widget-radio-box-vertical"),this.container.classList.add("widget-radio-box-horizontal"));let t=this.model.get("_options_labels"),r=Array.from(this.container.querySelectorAll('input[type="radio"]')).map(s=>s.value),n=t.length!==r.length;if(!n){for(let s=0,o=t.length;s<o;++s)if(r[s]!==t[s]){n=!0;break}}return n&&(e===void 0||e.updated_view!==this)&&(this.container.textContent="",t.forEach((s,o)=>{let a=document.createElement("label");a.textContent=s,this.container.appendChild(a);let l=document.createElement("input");l.setAttribute("type","radio"),l.value=o.toString(),l.setAttribute("data-value",encodeURIComponent(s)),a.appendChild(l)})),t.forEach((s,o)=>{let a='input[data-value="'+encodeURIComponent(s)+'"]',l=this.container.querySelectorAll(a);if(l.length>0){let c=l[0];c.checked=this.model.get("index")===o,c.disabled=this.model.get("disabled")}}),setTimeout(this.adjustPadding,0,this),super.update(e)}adjustPadding(e){let t=window.getComputedStyle(e.el),r=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10),n=e.label.offsetHeight+r,s=window.getComputedStyle(e.container),o=parseInt(s.marginBottom,10),a=(e.el.offsetHeight+r-o)%n,l=a===0?0:n-a;e.container.style.marginBottom=l+"px"}events(){return{'click input[type="radio"]':"_handle_click"}}_handle_click(e){let t=e.target;this.model.set("index",parseInt(t.value,10),{updated_view:this}),this.touch()}handle_message(e){if(e.do=="focus")this.container.firstElementChild.focus();else if(e.do=="blur")for(let t=0;t<this.container.children.length;t++)this.container.children[t].blur()}},f4=class extends Fi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonsStyleModel"})}};f4.styleProperties=Object.assign(Object.assign({},Fi.styleProperties),{button_width:{selector:".widget-toggle-button",attribute:"width",default:null},font_weight:{selector:".widget-toggle-button",attribute:"font-weight",default:""}});rw=class extends Tl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonsModel",_view_name:"ToggleButtonsView"})}},kl=class extends ui{initialize(e){this._css_state={},super.initialize(e),this.listenTo(this.model,"change:button_style",this.update_button_style)}render(){super.render(),this.el.classList.add("widget-toggle-buttons"),this.buttongroup=document.createElement("div"),this.el.appendChild(this.buttongroup),this.update(),this.set_button_style()}update(e){let t=this.model.get("_options_labels"),r=this.model.get("icons")||[],n=this.model.previous("icons")||[],s=kl.classMap[this.model.previous("button_style")]||"",o=this.model.get("tooltips")||[],a=this.model.get("disabled"),l=this.buttongroup.querySelectorAll("button"),c=Array.from(l).map(d=>d.value),u=!1;for(let d=0,f=t.length;d<f;++d)if(c[d]!==t[d]||r[d]!==n[d]){u=!0;break}return u&&(e===void 0||e.updated_view!==this)&&(this.buttongroup.textContent="",t.forEach((d,f)=>{let h;d.trim().length===0&&(!r[f]||r[f].trim().length===0)?h="&nbsp;":h=JC(d);let p=document.createElement("i"),v=document.createElement("button");r[f]&&(p.className="fa fa-"+r[f]),v.setAttribute("type","button"),v.className="widget-toggle-button jupyter-button",s&&v.classList.add(s),v.innerHTML=h,v.setAttribute("data-value",encodeURIComponent(d)),v.setAttribute("value",f.toString()),v.appendChild(p),v.disabled=a,o[f]&&v.setAttribute("title",o[f]),this.update_style_traits(v),this.buttongroup.appendChild(v)})),t.forEach((d,f)=>{let h='[data-value="'+encodeURIComponent(d)+'"]',m=this.buttongroup.querySelector(h);this.model.get("index")===f?m.classList.add("mod-active"):m.classList.remove("mod-active")}),this.stylePromise.then(function(d){d&&d.style()}),super.update(e)}update_style_traits(e){for(let t in this._css_state)if(Object.prototype.hasOwnProperty.call(this._css_state,"name")){if(t==="margin")this.buttongroup.style[t]=this._css_state[t];else if(t!=="width")if(e)e.style[t]=this._css_state[t];else{let r=this.buttongroup.querySelectorAll("button");r.length&&(r[0].style[t]=this._css_state[t])}}}update_button_style(){let e=this.buttongroup.querySelectorAll("button");for(let t=0;t<e.length;t++)this.update_mapped_classes(kl.classMap,"button_style",e[t])}set_button_style(){let e=this.buttongroup.querySelectorAll("button");for(let t=0;t<e.length;t++)this.set_mapped_classes(kl.classMap,"button_style",e[t])}events(){return{"click button":"_handle_click"}}_handle_click(e){let t=e.target;this.model.set("index",parseInt(t.value,10),{updated_view:this}),this.touch(),this.send({event:"click"})}};(function(i){i.classMap={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]}})(kl||(kl={}));nw=class extends Tl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionSliderModel",_view_name:"SelectionSliderView",orientation:"horizontal",readout:!0,continuous_update:!0})}},m4=class extends ui{render(){super.render(),this.el.classList.add("widget-hslider"),this.el.classList.add("widget-slider"),this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.slider_container=document.createElement("div"),this.slider_container.classList.add("slider-container"),this.slider_container.appendChild(this.$slider),this.el.appendChild(this.slider_container),this.readout=document.createElement("div"),this.el.appendChild(this.readout),this.readout.classList.add("widget-readout"),this.readout.style.display="none",this.createSlider(),this.model.on("change:orientation",this.regenSlider,this),this.model.on("change:index",this.updateSliderValue,this),this.update()}update(e){if(e?.updated_view!==this){this.updateSliderOptions(this.model);let t=this.model.get("orientation");this.model.get("disabled")?(this.readout.contentEditable="false",this.$slider.setAttribute("disabled",!0)):(this.readout.contentEditable="true",this.$slider.removeAttribute("disabled")),t==="vertical"?(this.el.classList.remove("widget-hslider"),this.el.classList.remove("widget-inline-hbox"),this.el.classList.add("widget-vslider"),this.el.classList.add("widget-inline-vbox")):(this.el.classList.remove("widget-vslider"),this.el.classList.remove("widget-inline-vbox"),this.el.classList.add("widget-hslider"),this.el.classList.add("widget-inline-hbox")),this.model.get("readout")?this.readout.style.display="":this.readout.style.display="none",this.updateSelection()}return super.update(e)}regenSlider(e){this.$slider.noUiSlider.destroy(),this.createSlider()}createSlider(){let e=this.model.get("_options_labels"),t=0,r=e.length-1,n=this.model.get("orientation"),s=this.model.get("behavior");gB.default.create(this.$slider,{start:this.model.get("index"),connect:!0,behaviour:s,range:{min:t,max:r},step:1,animate:!1,orientation:n,direction:n==="horizontal"?"ltr":"rtl",format:{from:o=>Number(o),to:o=>Math.round(o)}}),this.$slider.noUiSlider.on("update",(o,a)=>{this.handleSliderUpdateEvent(o,a)}),this.$slider.noUiSlider.on("change",(o,a)=>{this.handleSliderChangeEvent(o,a)})}events(){return{slide:"handleSliderChange",slidestop:"handleSliderChanged"}}updateSelection(){let e=this.model.get("index");this.updateReadout(e)}updateReadout(e){let t=this.model.get("_options_labels")[e];this.readout.textContent=t}handleSliderUpdateEvent(e,t){let r=e[0];this.updateReadout(r),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)}handleSliderChangeEvent(e,t){let r=e[0];this.updateReadout(r),this.handleSliderChanged(e,t)}handleSliderChanged(e,t){let r=e[0];this.updateReadout(r),this.model.set("index",r,{updated_view:this}),this.touch()}updateSliderOptions(e){let t=this.model.get("_options_labels"),r=0,n=t.length-1;this.$slider.noUiSlider.updateOptions({start:this.model.get("index"),range:{min:r,max:n},step:1})}updateSliderValue(e,t,r){if(r.updated_view===this)return;let n=this.$slider.noUiSlider.get(),s=this.model.get("index");n!==s&&this.$slider.noUiSlider.set(s)}},j2=class extends Tl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"MultipleSelectionModel"})}},sw=class extends j2{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectMultipleModel",_view_name:"SelectMultipleView",rows:null})}},ow=class extends h4{initialize(e){super.initialize(e),this.listbox.multiple=!0}render(){super.render(),this.el.classList.add("widget-select-multiple")}updateSelection(){let e=this.model.get("index")||[],t=this.listbox.options;this.listbox.selectedIndex=-1,e.forEach(r=>{t[r].selected=!0})}_handle_change(){let e=Array.prototype.map.call(this.listbox.selectedOptions||[],function(t){return t.index});this.model.set("index",e,{updated_view:this}),this.touch()}},aw=class extends j2{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionSliderModel",_view_name:"SelectionSliderView",orientation:"horizontal",readout:!0,continuous_update:!0})}},lw=class extends m4{render(){super.render()}updateSelection(e){e=e||this.model.get("index"),this.updateReadout(e)}updateReadout(e){let t=this.model.get("_options_labels"),r=t[e[0]],n=t[e[1]];this.readout.textContent=`${r}-${n}`}handleSliderUpdateEvent(e,t){let r=e.map(Math.trunc);this.updateReadout(r),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)}handleSliderChanged(e,t){let r=e.map(Math.round);this.updateReadout(r),this.model.set("index",r.slice(),{updated_view:this}),this.touch()}updateSliderValue(e,t,r){if(r.updated_view===this)return;let n=this.$slider.noUiSlider.get().map(Math.round),s=this.model.get("index").map(Math.round);(n[0]!==s[0]||n[1]!==s[1])&&this.$slider.noUiSlider.set(s)}}});var cw,p4,_B=P(()=>{Np();Is();L0();ld();cw=class extends Ns{constructor(){super(...arguments),this._widgetRemoved=new Re(this)}get widgetRemoved(){return this._widgetRemoved}onChildRemoved(e){this._widgetRemoved.emit(e.child)}},p4=class extends mr{constructor(e={}){super(),this._currentChanged=new Re(this),this.addClass("jupyter-widget-TabPanel"),this.tabBar=new mM(e),this.tabBar.addClass("jupyter-widget-TabPanel-tabBar"),this.tabContents=new cw,this.tabContents.addClass("jupyter-widget-TabPanel-tabContents"),this.tabBar.tabMoved.connect(this._onTabMoved,this),this.tabBar.currentChanged.connect(this._onCurrentChanged,this),this.tabBar.tabCloseRequested.connect(this._onTabCloseRequested,this),this.tabBar.tabActivateRequested.connect(this._onTabActivateRequested,this),this.tabContents.widgetRemoved.connect(this._onWidgetRemoved,this);let t=new Op;t.addWidget(this.tabBar),t.addWidget(this.tabContents),this.layout=t}get currentChanged(){return this._currentChanged}get currentIndex(){let e=this.tabBar.currentIndex;return e===-1?null:e}set currentIndex(e){this.tabBar.currentIndex=e===null?-1:e}get currentWidget(){let e=this.tabBar.currentTitle;return e?e.owner:null}set currentWidget(e){this.tabBar.currentTitle=e?e.title:null}get tabsMovable(){return this.tabBar.tabsMovable}set tabsMovable(e){this.tabBar.tabsMovable=e}get widgets(){return this.tabContents.widgets}addWidget(e){this.insertWidget(this.widgets.length,e)}insertWidget(e,t){t!==this.currentWidget&&t.hide(),this.tabContents.insertWidget(e,t),this.tabBar.insertTab(e,t.title)}_onCurrentChanged(e,t){let{previousIndex:r,previousTitle:n,currentIndex:s,currentTitle:o}=t,a=n?n.owner:null,l=o?o.owner:null;a&&a.hide(),l&&l.show(),this._currentChanged.emit({previousIndex:r,previousWidget:a,currentIndex:s,currentWidget:l}),(Ei.IS_EDGE||Ei.IS_IE)&&Uo.flush()}_onTabActivateRequested(e,t){t.title.owner.activate()}_onTabCloseRequested(e,t){t.title.owner.close()}_onTabMoved(e,t){this.tabContents.insertWidget(t.toIndex,t.title.owner)}_onWidgetRemoved(e,t){this.tabBar.removeTab(t.title)}}});var g4,bB=P(()=>{Bn();Is();g4=class{constructor(e,t={}){this._array=null,this._value=null,this._previousValue=null,this._selectionChanged=new Re(this),this._array=e,this._insertBehavior=t.insertBehavior||"select-item-if-needed",this._removeBehavior=t.removeBehavior||"select-item-after"}get selectionChanged(){return this._selectionChanged}adjustSelectionForSet(e){let t=this.index,r=this.value;if(e!==t)return;this._updateSelectedValue();let n=this.value;this._previousValue=null,r!==n&&this._selectionChanged.emit({previousIndex:t,previousValue:r,currentIndex:t,currentValue:n})}get value(){return this._value}set value(e){e===null||this._array===null?this.index=null:this.index=z.firstIndexOf(this._array,e)}get index(){return this._index}set index(e){let t;if(e!==null&&this._array!==null?(t=Math.floor(e),(t<0||t>=this._array.length)&&(t=null)):t=null,this._index===t)return;let r=this._index,n=this._value;this._index=t,this._updateSelectedValue(),this._previousValue=n,this._selectionChanged.emit({previousIndex:r,previousValue:n,currentIndex:t,currentValue:this._value})}get insertBehavior(){return this._insertBehavior}set insertBehavior(e){this._insertBehavior=e}get removeBehavior(){return this._removeBehavior}set removeBehavior(e){this._removeBehavior=e}adjustSelectionForInsert(e,t){let r=this._value,n=this._index,s=this._insertBehavior;if(s==="select-item"||s==="select-item-if-needed"&&n===null){this._index=e,this._value=t,this._previousValue=r,this._selectionChanged.emit({previousIndex:n,previousValue:r,currentIndex:e,currentValue:t});return}n!==null&&n>=e&&this._index++}clearSelection(){let e=this._index,t=this._value;this._index=null,this._value=null,this._previousValue=null,e!==null&&this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value})}adjustSelectionForRemove(e,t){if(this._index===null)return;let r=this._index,n=this._removeBehavior;if(r!==e){r>e&&this._index--;return}if(!this._array||this._array.length===0){this._index=null,this._value=null,this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value});return}if(n==="select-item-after"){this._index=Math.min(e,this._array.length-1),this._updateSelectedValue(),this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value});return}if(n==="select-item-before"){this._index=Math.max(0,e-1),this._updateSelectedValue(),this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value});return}if(n==="select-previous-item"){this._previousValue?this.value=this._previousValue:(this._index=Math.min(e,this._array.length-1),this._updateSelectedValue()),this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this.value});return}this._index=null,this._value=null,this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value})}_updateSelectedValue(){let e=this._index;this._value=e!==null&&this._array?this._array[e]:null}}});var Yte,Jte,Qte,CB,dw,eie,tie,xB,v4,wB=P(()=>{Bn();Is();ld();bB();Yte="jupyter-widget-Collapse",Jte="jupyter-widget-Collapse-header",Qte="jupyter-widget-Collapse-contents",CB="jupyter-widget-Collapse-open",dw=class extends mr{constructor(e){super(e),this._collapseChanged=new Re(this),this.addClass(Yte),this._header=new mr,this._header.addClass(Jte),this._header.node.addEventListener("click",this);let t=document.createElement("i");t.classList.add("fa","fa-fw","fa-caret-right"),this._header.node.appendChild(t),this._header.node.appendChild(document.createElement("span")),this._content=new Ns,this._content.addClass(Qte);let r=new Op;this.layout=r,r.addWidget(this._header),r.addWidget(this._content),e.widget&&(this.widget=e.widget),this.collapsed=!1}dispose(){this.isDisposed||(super.dispose(),this._header=null,this._widget=null,this._content=null)}get widget(){return this._widget}set widget(e){let t=this._widget;t&&(t.disposed.disconnect(this._onChildDisposed,this),t.title.changed.disconnect(this._onTitleChanged,this),t.parent=null),this._widget=e,e.disposed.connect(this._onChildDisposed,this),e.title.changed.connect(this._onTitleChanged,this),this._onTitleChanged(e.title),this._content.addWidget(e)}get collapsed(){return this._collapsed}set collapsed(e){e!==this._collapsed&&(e?this._collapse():this._uncollapse())}toggle(){this.collapsed=!this.collapsed}get collapseChanged(){return this._collapseChanged}_collapse(){this._collapsed=!0,this._content&&this._content.hide(),this.removeClass(CB),this._header.node.children[0].classList.add("fa-caret-right"),this._header.node.children[0].classList.remove("fa-caret-down"),this._collapseChanged.emit(void 0)}_uncollapse(){this._collapsed=!1,this._content&&this._content.show(),this.addClass(CB),this._header.node.children[0].classList.add("fa-caret-down"),this._header.node.children[0].classList.remove("fa-caret-right"),this._collapseChanged.emit(void 0)}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;default:break}}_evtClick(e){this.toggle()}_onTitleChanged(e){this._header.node.children[1].textContent=this._widget.title.label}_onChildDisposed(e){this.dispose()}},eie="jupyter-widget-Accordion",tie="jupyter-widget-Accordion-child",xB="jupyter-widget-Accordion-child-active",v4=class extends Ns{constructor(e){super(e),this._selection=new g4(this.widgets),this._selection.selectionChanged.connect(this._onSelectionChanged,this),this.addClass(eie)}get collapseWidgets(){return this.layout.widgets}get selection(){return this._selection}indexOf(e){return z.findFirstIndex(this.collapseWidgets,t=>t.widget===e)}addWidget(e){let t=this._wrapWidget(e);return t.collapsed=!0,super.addWidget(t),this._selection.adjustSelectionForInsert(this.widgets.length-1,t),t}insertWidget(e,t){let r=this._wrapWidget(t);r.collapsed=!0,super.insertWidget(e,r),this._selection.adjustSelectionForInsert(e,r)}removeWidget(e){let t=this.indexOf(e);if(t>=0){let r=this.collapseWidgets[t];e.parent=null,r.dispose(),this._selection.adjustSelectionForRemove(t,null)}}_wrapWidget(e){let t=new dw({widget:e});return t.addClass(tie),t.collapseChanged.connect(this._onCollapseChange,this),t}_onCollapseChange(e){e.collapsed?this._selection.value===e&&e.collapsed&&(this._selection.value=null):this._selection.value=e}_onSelectionChanged(e,t){let r=t.previousValue,n=t.currentValue;r&&(r.collapsed=!0,r.removeClass(xB)),n&&(n.collapsed=!1,n.addClass(xB))}}});var vw,Bf,uw,_4,hw,fw,b4,mw,pw,gw,yB=P(()=>{$i();mx();_B();wB();ld();Bn();Np();vw=N(gu()),Bf=class extends Rl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionContainerModel",selected_index:null,titles:[]})}},uw=class extends Bf{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"AccordionModel",_view_name:"AccordionView"})}},_4=class extends v4{constructor(e){let t=e.view;delete e.view,super(e),this._view=t}processMessage(e){var t;super.processMessage(e),(t=this._view)===null||t===void 0||t.processLuminoMessage(e)}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}},hw=class extends Ot{_createElement(e){return this.luminoWidget=new _4({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=(0,vw.default)(this.luminoWidget.node)}initialize(e){super.initialize(e),this.children_views=new No(this.add_child_view,this.remove_child_view,this),this.listenTo(this.model,"change:children",()=>this.updateChildren()),this.listenTo(this.model,"change:selected_index",()=>this.update_selected_index()),this.listenTo(this.model,"change:titles",()=>this.update_titles())}render(){var e;super.render();let t=this.luminoWidget;t.addClass("jupyter-widgets"),t.addClass("widget-accordion"),t.addClass("widget-container"),t.selection.selectionChanged.connect(r=>{this.updatingChildren||(this.model.set("selected_index",t.selection.index),this.touch())}),(e=this.children_views)===null||e===void 0||e.update(this.model.get("children")),this.update_titles(),this.update_selected_index()}updateChildren(){var e;this.updatingChildren=!0,this.luminoWidget.selection.index=null,(e=this.children_views)===null||e===void 0||e.update(this.model.get("children")),this.update_selected_index(),this.updatingChildren=!1}update_titles(){let e=this.luminoWidget.collapseWidgets,t=this.model.get("titles");for(let r=0;r<e.length;r++)t[r]!==void 0&&(e[r].widget.title.label=t[r])}update_selected_index(){this.luminoWidget.selection.index=this.model.get("selected_index")}remove_child_view(e){this.luminoWidget.removeWidget(e.luminoWidget),e.remove()}add_child_view(e,t){let r=this.luminoWidget,n=new mr;return n.title.label=this.model.get("titles")[t]||"",r.addWidget(n),this.create_child_view(e).then(s=>{let o=s.luminoWidget;o.title.label=n.title.label;let a=r.collapseWidgets[r.indexOf(n)];return a.widget=o,n.dispose(),s}).catch(dn("Could not add child view to box",!0))}remove(){this.children_views=null,super.remove()}},fw=class extends Bf{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"TabModel",_view_name:"TabView"})}},b4=class extends p4{constructor(e){let t=e.view;delete e.view,super(e),this._view=t,Uo.installMessageHook(this.tabContents,(r,n)=>(this._view.processLuminoMessage(n),!0))}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}},mw=class extends Ot{constructor(){super(...arguments),this.updatingTabs=!1}_createElement(e){return this.luminoWidget=new b4({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=(0,vw.default)(this.luminoWidget.node)}initialize(e){super.initialize(e),this.childrenViews=new No(this.addChildView,t=>{t.remove()},this),this.listenTo(this.model,"change:children",()=>this.updateTabs()),this.listenTo(this.model,"change:titles",()=>this.updateTitles())}render(){super.render();let e=this.luminoWidget;e.addClass("jupyter-widgets"),e.addClass("widget-container"),e.addClass("jupyter-widget-tab"),e.addClass("widget-tab"),e.tabsMovable=!0,e.tabBar.insertBehavior="none",e.tabBar.currentChanged.connect(this._onTabChanged,this),e.tabBar.tabMoved.connect(this._onTabMoved,this),e.tabBar.addClass("widget-tab-bar"),e.tabContents.addClass("widget-tab-contents"),e.tabBar.tabsMovable=!1,this.updateTabs(),this.update()}updateTabs(){var e;this.updatingTabs=!0,this.luminoWidget.currentIndex=null,(e=this.childrenViews)===null||e===void 0||e.update(this.model.get("children")),this.luminoWidget.currentIndex=this.model.get("selected_index"),this.updatingTabs=!1}addChildView(e,t){let r=this.model.get("titles")[t]||"",n=this.luminoWidget,s=new mr;return s.title.label=r,n.addWidget(s),this.create_child_view(e).then(o=>{let a=o.luminoWidget;a.title.label=s.title.label,a.title.closable=!1;let l=z.firstIndexOf(n.widgets,s);return n.insertWidget(l+1,a),s.dispose(),o}).catch(dn("Could not add child view to box",!0))}update(){return this.updateSelectedIndex(),super.update()}updateTitles(){let e=this.model.get("titles")||[];aM(this.luminoWidget.widgets,(t,r)=>{t.title.label=e[r]||""})}updateSelectedIndex(){this.luminoWidget.currentIndex=this.model.get("selected_index")}remove(){this.childrenViews=null,super.remove()}_onTabChanged(e,t){if(!this.updatingTabs){let r=t.currentIndex;this.model.set("selected_index",r===-1?null:r),this.touch()}}_onTabMoved(e,t){let r=this.model.get("children").slice();z.move(r,t.fromIndex,t.toIndex),this.model.set("children",r),this.touch()}},pw=class extends Bf{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"StackModel",_view_name:"StackView"})}},gw=class extends to{initialize(e){super.initialize(e),this.listenTo(this.model,"change:selected_index",this.update_children)}update_children(){var e;let t;this.model.get("selected_index")===null?t=[]:t=[this.model.get("children")[this.model.get("selected_index")]],(e=this.children_views)===null||e===void 0||e.update(t).then(r=>{r.forEach(n=>{Uo.postMessage(n.luminoWidget,mr.ResizeMessage.UnknownSize)})})}}});function iie(i){return i.replace(/^\s+|\s+$/g,"")}function rie(i,e,t){return Math.min(Math.max(i,e),t)}function MB(i){for(;i.firstChild;)i.removeChild(i.firstChild)}var _w,C4,x4,w4,Eu,bw,Cw,y4,M4,xw,ww,yw,Mw,LB=P(()=>{d$();n4();yr();$i();_w=class{constructor(e,t,r){this.start=e,this.dx=t,this.max=r}isSelected(e){let t,r;return this.dx>=0?(t=this.start,r=this.start+this.dx):(t=this.start+this.dx,r=this.start),t<=e&&e<r}updateSelection(e){this.dx+=e,this.start+this.dx>this.max&&(this.dx=this.max-this.start),this.start+this.dx<0&&(this.dx=-this.start)}},C4=class extends hi{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],placeholder:"\u200B",allowed_tags:null,allow_duplicates:!0})}},x4=class extends Ot{constructor(){super(...arguments),this.hoveredTag=null,this.hoveredTagIndex=null}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-widget-tagsinput"),this.taginputWrapper=document.createElement("div"),this.model.get("value").length?this.taginputWrapper.style.display="none":this.taginputWrapper.style.display="inline-block",this.datalistID=ri(),this.taginput=document.createElement("input"),this.taginput.classList.add("jupyter-widget-tag"),this.taginput.classList.add("jupyter-widget-taginput"),this.taginput.setAttribute("list",this.datalistID),this.taginput.setAttribute("type","text"),this.autocompleteList=document.createElement("datalist"),this.autocompleteList.id=this.datalistID,this.updateAutocomplete(),this.model.on("change:allowed_tags",this.updateAutocomplete.bind(this)),this.updatePlaceholder(),this.model.on("change:placeholder",this.updatePlaceholder.bind(this)),this.taginputWrapper.classList.add("widget-text"),this.taginputWrapper.appendChild(this.taginput),this.taginputWrapper.appendChild(this.autocompleteList),this.el.onclick=this.focus.bind(this),this.el.ondrop=e=>{let t=this.hoveredTagIndex==null?this.tags.length:this.hoveredTagIndex;return this.ondrop(e,t)},this.el.ondragover=this.ondragover.bind(this),this.taginput.onchange=this.handleValueAdded.bind(this),this.taginput.oninput=this.resizeInput.bind(this),this.taginput.onkeydown=this.handleKeyEvent.bind(this),this.taginput.onblur=this.loseFocus.bind(this),this.resizeInput(),this.inputIndex=this.model.get("value").length,this.selection=null,this.preventLoosingFocus=!1,this.update()}update(){this.preventLoosingFocus=!0,MB(this.el),this.tags=[];let e=this.model.get("value");this.inputIndex=e.length;for(let t in e){let r=parseInt(t),n=this.createTag(e[r],r,this.selection!=null&&this.selection.isSelected(r));n.draggable=!0,n.ondragstart=((s,o)=>a=>{this.ondragstart(a,s,o,this.model.model_id)})(r,e[r]),n.ondrop=(s=>o=>{this.ondrop(o,s)})(r),n.ondragover=this.ondragover.bind(this),n.ondragenter=(s=>o=>{this.ondragenter(o,s)})(r),n.ondragend=this.ondragend.bind(this),this.tags.push(n),this.el.appendChild(n)}return this.el.insertBefore(this.taginputWrapper,this.el.children[this.inputIndex]),this.model.get("value").length?this.taginputWrapper.style.display="none":this.taginputWrapper.style.display="inline-block",this.preventLoosingFocus=!1,super.update()}updateAutocomplete(){MB(this.autocompleteList);let e=this.model.get("allowed_tags");for(let t of e){let r=document.createElement("option");r.value=t,this.autocompleteList.appendChild(r)}}updatePlaceholder(){this.taginput.placeholder=this.model.get("placeholder"),this.resizeInput()}updateTags(){let e=this.model.get("value");for(let t in this.tags){let r=parseInt(t);this.updateTag(this.tags[r],e[r],r,this.selection!=null&&this.selection.isSelected(r))}}handleValueAdded(e){let t=iie(this.taginput.value),r=this.inputIndex;if(t=="")return;this.inputIndex++,this.addTag(r,t)&&(this.taginput.value="",this.resizeInput(),this.focus())}addTag(e,t){let r=this.model.get("value"),n;try{n=this.validateValue(t)}catch{return!1}let s=this.model.get("allowed_tags");if(s.length&&!s.includes(n)||!this.model.get("allow_duplicates")&&r.includes(n))return!1;this.selection=null;let o=[...r];return o.splice(e,0,n),this.model.set("value",o),this.model.save_changes(),!0}resizeInput(){let e;this.taginput.value.length!=0?e=this.taginput.value:e=this.model.get("placeholder");let t=e.length+1;this.taginput.setAttribute("size",String(t))}handleKeyEvent(e){let t=this.model.get("value").length;if(this.taginput.value.length)return;let r=this.inputIndex;switch(e.key){case"ArrowLeft":e.ctrlKey&&e.shiftKey&&this.select(r,-r),!e.ctrlKey&&e.shiftKey&&this.select(r,-1),e.ctrlKey?this.inputIndex=0:this.inputIndex--;break;case"ArrowRight":e.ctrlKey&&e.shiftKey&&this.select(r,t-r),!e.ctrlKey&&e.shiftKey&&this.select(r,1),e.ctrlKey?this.inputIndex=t:this.inputIndex++;break;case"Backspace":this.selection?this.removeSelectedTags():this.removeTag(this.inputIndex-1);break;case"Delete":this.selection?this.removeSelectedTags():this.removeTag(this.inputIndex);break;default:return}e.shiftKey||(this.selection=null),this.inputIndex=rie(this.inputIndex,0,t),this.update(),this.focus()}ondragstart(e,t,r,n){e.dataTransfer!=null&&(e.dataTransfer.setData("index",String(t)),e.dataTransfer.setData("tagValue",String(r)),e.dataTransfer.setData("origin",n))}ondrop(e,t){if(e.dataTransfer==null)return;e.preventDefault(),e.stopPropagation();let r=e.dataTransfer.getData("tagValue"),n=parseInt(e.dataTransfer.getData("index")),s=e.dataTransfer.getData("origin")==this.model.model_id;if(!isNaN(n)){if(s){let a=[...this.model.get("value")];n<t&&t--,a.splice(n,1),a.splice(t,0,r),this.model.set("value",a),this.model.save_changes();return}this.addTag(t,r)}}ondragover(e){e.preventDefault()}ondragenter(e,t){this.hoveredTag!=null&&this.hoveredTag!=this.tags[t]&&(this.hoveredTag.style.marginLeft="1px"),this.hoveredTag=this.tags[t],this.hoveredTagIndex=t,this.hoveredTag.style.marginLeft="30px"}ondragend(){this.hoveredTag!=null&&(this.hoveredTag.style.marginLeft="1px"),this.hoveredTag=null,this.hoveredTagIndex=null}select(e,t){let r=this.model.get("value").length;this.selection?this.selection.updateSelection(t):this.selection=new _w(e,t,r)}removeSelectedTags(){let e=[...this.model.get("value")],t=e.length;for(let r=t-1;r>=0;r--)this.selection!=null&&this.selection.isSelected(r)&&(e.splice(r,1),r<this.inputIndex&&this.inputIndex--);this.model.set("value",e),this.model.save_changes()}removeTag(e){let t=[...this.model.get("value")];t.splice(e,1),e<this.inputIndex&&this.inputIndex--,this.model.set("value",t),this.model.save_changes()}focus(){this.taginputWrapper.style.display="inline-block",this.taginput.focus()}loseFocus(){this.preventLoosingFocus||(this.model.get("value").length&&(this.taginputWrapper.style.display="none"),this.selection=null,this.updateTags())}preinitialize(){this.tagName="div"}validateValue(e){return e}},w4=class extends C4{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],tag_style:"",_view_name:"TagsInputView",_model_name:"TagsInputModel"})}},Eu=class extends x4{createTag(e,t,r){let n=document.createElement("div"),s=this.model.get("tag_style");n.classList.add("jupyter-widget-tag"),n.classList.add(Eu.class_map[s]),r&&n.classList.add("mod-active"),n.appendChild(document.createTextNode(this.getTagText(e)));let o=document.createElement("i");return o.classList.add("fa"),o.classList.add("fa-times"),o.classList.add("jupyter-widget-tag-close"),n.appendChild(o),o.onmousedown=(a=>()=>{this.removeTag(a),this.loseFocus()})(t),n}getTagText(e){return e}updateTag(e,t,r,n){n?e.classList.add("mod-active"):e.classList.remove("mod-active")}};Eu.class_map={primary:"mod-primary",success:"mod-success",info:"mod-info",warning:"mod-warning",danger:"mod-danger"};bw=class extends C4{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],_view_name:"ColorsInputView",_model_name:"ColorsInputModel"})}},Cw=class extends x4{createTag(e,t,r){let n=document.createElement("div"),s=e,o=Rp(e).darker().toString();n.classList.add("jupyter-widget-tag"),n.classList.add("jupyter-widget-colortag"),r?(n.classList.add("mod-active"),n.style.backgroundColor=o):n.style.backgroundColor=s;let a=document.createElement("i");return a.classList.add("fa"),a.classList.add("fa-times"),a.classList.add("jupyter-widget-tag-close"),n.appendChild(a),a.onmousedown=(l=>()=>{this.removeTag(l),this.loseFocus()})(t),n}updateTag(e,t,r,n){let s=t,o=Rp(t).darker().toString();n?(e.classList.add("mod-active"),e.style.backgroundColor=o):(e.classList.remove("mod-active"),e.style.backgroundColor=s)}validateValue(e){if(Rp(e)==null)throw e+" is not a valid Color";return e}},y4=class extends w4{defaults(){return Object.assign(Object.assign({},super.defaults()),{min:null,max:null})}},M4=class extends Eu{render(){this.model.on("change:format",()=>{this.formatter=ya(this.model.get("format")),this.update()}),this.formatter=ya(this.model.get("format")),super.render()}getTagText(e){return this.formatter(this.parseNumber(e))}validateValue(e){let t=this.parseNumber(e),r=this.model.get("min"),n=this.model.get("max");if(isNaN(t)||r!=null&&t<r||n!=null&&t>n)throw e+" is not a valid number, it should be in the range ["+r+", "+n+"]";return t}},xw=class extends y4{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"FloatsInputView",_model_name:"FloatsInputModel",format:".1f"})}},ww=class extends M4{parseNumber(e){return parseFloat(e)}},yw=class extends y4{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"IntsInputView",_model_name:"IntsInputModel",format:"d"})}},Mw=class extends M4{parseNumber(e){let t=parseInt(e);if(t!=parseFloat(e))throw e+" should be an integer";return t}}});var nie,Al,L4,S4,E4,R4,Wc,Zc,Lw,Sw,Ew,Rw,Iw,kw,Tw,Aw,$2,V2,Nw,Ow,Dw,Hw,SB=P(()=>{yr();Oo();eo();Hf();nie="jpwidgets-invalidComboValue",Al=class extends Fi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"StringStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:Vi})}};Al.styleProperties=Object.assign(Object.assign({},Fi.styleProperties),{background:{selector:"",attribute:"background",default:null},font_size:{selector:"",attribute:"font-size",default:""},text_color:{selector:"",attribute:"color",default:""}});L4=class extends Al{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"HTMLStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:Vi})}};L4.styleProperties=Object.assign({},Al.styleProperties);S4=class extends Al{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"HTMLMathStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:Vi})}};S4.styleProperties=Object.assign({},Al.styleProperties);E4=class extends Al{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"LabelStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:Vi})}};E4.styleProperties=Object.assign(Object.assign({},Al.styleProperties),{font_family:{selector:"",attribute:"font-family",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}});R4=class extends Fi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"TextStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:Vi})}};R4.styleProperties=Object.assign(Object.assign({},Fi.styleProperties),{background:{selector:".widget-input",attribute:"background",default:null},font_size:{selector:".widget-input",attribute:"font-size",default:""},text_color:{selector:".widget-input",attribute:"color",default:""}});Wc=class extends bi{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:"",disabled:!1,placeholder:"\u200B",_model_name:"StringModel"})}},Zc=class extends ui{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox")}},Lw=class extends Wc{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HTMLView",_model_name:"HTMLModel"})}},Sw=class extends Zc{render(){super.render(),this.el.classList.add("widget-html"),this.content=document.createElement("div"),this.content.classList.add("widget-html-content"),this.el.appendChild(this.content),this.update()}update(){return this.content.innerHTML=this.model.get("value"),super.update()}handle_message(e){e.do==="focus"?this.content.focus():e.do==="blur"&&this.content.blur()}},Ew=class extends Wc{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HTMLMathView",_model_name:"HTMLMathModel"})}},Rw=class extends Zc{render(){super.render(),this.el.classList.add("widget-htmlmath"),this.content=document.createElement("div"),this.content.classList.add("widget-htmlmath-content"),this.el.appendChild(this.content),this.update()}update(){return this.content.innerHTML=this.model.get("value"),this.typeset(this.content),super.update()}handle_message(e){e.do==="focus"?this.content.focus():e.do==="blur"&&this.content.blur()}},Iw=class extends Wc{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"LabelView",_model_name:"LabelModel"})}},kw=class extends Zc{render(){super.render(),this.el.classList.add("widget-label"),this.update()}update(){return this.typeset(this.el,this.model.get("value")),super.update()}},Tw=class extends Wc{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"TextareaView",_model_name:"TextareaModel",rows:null,continuous_update:!0})}},Aw=class extends Zc{render(){super.render(),this.el.classList.add("widget-textarea"),this.textbox=document.createElement("textarea"),this.textbox.setAttribute("rows","5"),this.textbox.id=this.label.htmlFor=ri(),this.textbox.classList.add("widget-input"),this.el.appendChild(this.textbox),this.update(),this.listenTo(this.model,"change:placeholder",(e,t,r)=>{this.update_placeholder(t)}),this.update_placeholder(),this.updateTooltip()}update_placeholder(e){let t=e||this.model.get("placeholder");this.textbox.setAttribute("placeholder",t.toString())}update(e){if(e===void 0||e.updated_view!==this){this.textbox.value=this.model.get("value");let t=this.model.get("rows");t===null&&(t=""),this.textbox.setAttribute("rows",t),this.textbox.disabled=this.model.get("disabled")}return this.updateTabindex(),this.updateTooltip(),super.update()}updateTabindex(){if(!this.textbox)return;let e=this.model.get("tabbable");e===!0?this.textbox.setAttribute("tabIndex","0"):e===!1?this.textbox.setAttribute("tabIndex","-1"):e===null&&this.textbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.textbox)return;let e=this.model.get("tooltip");e?this.model.get("description").length===0&&this.textbox.setAttribute("title",e):this.textbox.removeAttribute("title")}events(){return{"keydown textarea":"handleKeyDown","keypress textarea":"handleKeypress","input textarea":"handleChanging","change textarea":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){e.stopPropagation()}handleChanging(e){this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){let t=e.target;this.model.set("value",t.value,{updated_view:this}),this.touch()}handle_message(e){e.do==="focus"?this.textbox.focus():e.do==="blur"&&this.textbox.blur()}},$2=class extends Wc{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"TextView",_model_name:"TextModel",continuous_update:!0})}},V2=class extends Zc{constructor(){super(...arguments),this.inputType="text"}render(){super.render(),this.el.classList.add("widget-text"),this.textbox=document.createElement("input"),this.textbox.setAttribute("type",this.inputType),this.textbox.id=this.label.htmlFor=ri(),this.textbox.classList.add("widget-input"),this.el.appendChild(this.textbox),this.update(),this.listenTo(this.model,"change:placeholder",(e,t,r)=>{this.update_placeholder(t)}),this.update_placeholder(),this.updateTabindex(),this.updateTooltip()}update_placeholder(e){this.textbox.setAttribute("placeholder",e||this.model.get("placeholder"))}updateTabindex(){if(!this.textbox)return;let e=this.model.get("tabbable");e===!0?this.textbox.setAttribute("tabIndex","0"):e===!1?this.textbox.setAttribute("tabIndex","-1"):e===null&&this.textbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.textbox)return;let e=this.model.get("tooltip");e?this.model.get("description").length===0&&this.textbox.setAttribute("title",e):this.textbox.removeAttribute("title")}update(e){return(e===void 0||e.updated_view!==this)&&(this.textbox.value!==this.model.get("value")&&(this.textbox.value=this.model.get("value")),this.textbox.disabled=this.model.get("disabled")),super.update()}events(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","input input":"handleChanging","change input":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){e.stopPropagation(),e.keyCode===13&&this.send({event:"submit"})}handleChanging(e){this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){let t=e.target;this.model.set("value",t.value,{updated_view:this}),this.touch()}handle_message(e){e.do==="focus"?this.textbox.focus():e.do==="blur"&&this.textbox.blur()}},Nw=class extends $2{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"PasswordView",_model_name:"PasswordModel"})}},Ow=class extends V2{constructor(){super(...arguments),this.inputType="password"}},Dw=class extends $2{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ComboboxModel",_view_name:"ComboboxView",options:[],ensure_options:!1})}},Hw=class extends V2{constructor(){super(...arguments),this.isInitialRender=!0}render(){this.datalist=document.createElement("datalist"),this.datalist.id=ri(),super.render(),this.textbox.setAttribute("list",this.datalist.id),this.el.appendChild(this.datalist),this.updateTooltip()}update(e){if(super.update(e),!this.datalist)return;let t=this.isValid(this.model.get("value"));if(this.highlightValidState(t),e!==void 0&&e.updated_view||!this.model.hasChanged("options")&&!this.isInitialRender)return;this.isInitialRender=!1;let r=this.model.get("options"),n=document.createDocumentFragment();for(let s of r){let o=document.createElement("option");o.value=s,n.appendChild(o)}this.datalist.replaceChildren(...n.children)}isValid(e){return!(this.model.get("ensure_option")===!0&&this.model.get("options").indexOf(e)===-1)}handleChanging(e){let t=e.target,r=this.isValid(t.value);this.highlightValidState(r),r&&super.handleChanging(e)}handleChanged(e){let t=e.target,r=this.isValid(t.value);this.highlightValidState(r),r&&super.handleChanged(e)}handle_message(e){e.do==="focus"?this.textbox.focus():e.do==="blur"&&this.textbox.blur()}highlightValidState(e){this.textbox.classList.toggle(nie,!e)}}});var I4,Ru,EB=P(()=>{yr();$i();I4=class extends hi{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FileUploadModel",_view_name:"FileUploadView",accept:"",description:"Upload",disabled:!1,icon:"upload",button_style:"",multiple:!1,value:[],error:"",style:null})}};I4.serializers=Object.assign(Object.assign({},hi.serializers),{value:{serialize:i=>i}});Ru=class extends Ot{preinitialize(){this.tagName="button"}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-upload"),this.el.classList.add("jupyter-button"),this.fileInput=document.createElement("input"),this.fileInput.type="file",this.fileInput.style.display="none",this.el.addEventListener("click",()=>{this.fileInput.click()}),this.fileInput.addEventListener("click",()=>{this.fileInput.value=""}),this.fileInput.addEventListener("change",()=>{var e;let t=[];Array.from((e=this.fileInput.files)!==null&&e!==void 0?e:[]).forEach(r=>{t.push(new Promise((n,s)=>{let o=new FileReader;o.onload=()=>{let a=o.result;n({content:a,name:r.name,type:r.type,size:r.size,last_modified:r.lastModified})},o.onerror=()=>{s()},o.onabort=o.onerror,o.readAsArrayBuffer(r)}))}),Promise.all(t).then(r=>{this.model.set({value:r,error:""}),this.touch()}).catch(r=>{console.error("error in file upload: %o",r),this.model.set({error:r}),this.touch()})}),this.listenTo(this.model,"change:button_style",this.update_button_style),this.set_button_style(),this.update()}update(){this.el.disabled=this.model.get("disabled"),this.el.setAttribute("title",this.model.get("tooltip"));let e=this.model.get("value"),t=`${this.model.get("description")} (${e.length})`,r=this.model.get("icon");if(t.length||r.length){if(this.el.textContent="",r.length){let n=document.createElement("i");n.classList.add("fa"),n.classList.add("fa-"+r),t.length===0&&n.classList.add("center"),this.el.appendChild(n)}this.el.appendChild(document.createTextNode(t))}return this.fileInput.accept=this.model.get("accept"),this.fileInput.multiple=this.model.get("multiple"),super.update()}update_button_style(){this.update_mapped_classes(Ru.class_map,"button_style",this.el)}set_button_style(){this.set_mapped_classes(Ru.class_map,"button_style",this.el)}};Ru.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]}});var RB=je((aSe,sie)=>{sie.exports={name:"@jupyter-widgets/controls",version:"5.0.12",description:"Jupyter interactive widgets",repository:{type:"git",url:"https://github.com/jupyter-widgets/ipywidgets.git"},license:"BSD-3-Clause",author:"Project Jupyter",main:"lib/index.js",typings:"lib/index.d.ts",files:["lib/**/*.map","lib/**/*.d.ts","lib/**/*.js","css/*.css","dist/","src"],scripts:{build:"npm run build:src && npm run build:css","build:css":"lessc css/nouislider.less css/nouislider.css && postcss --use postcss-import --use postcss-cssnext -o css/widgets.built.css css/widgets.css","build:src":"tsc --build","build:test":"tsc --build test && webpack --config test/webpack.conf.js",clean:"npm run clean:src","clean:src":"rimraf lib && rimraf tsconfig.tsbuildinfo",prepublish:"npm run clean && npm run build",test:"npm run test:unit","test:coverage":"npm run build:test && webpack --config test/webpack-cov.conf.js && karma start test/karma-cov.conf.js","test:unit":"npm run test:unit:firefox && npm run test:unit:chrome","test:unit:chrome":"npm run test:unit:default -- --browsers=Chrome","test:unit:default":"npm run build:test && karma start test/karma.conf.js --log-level debug","test:unit:firefox":"npm run test:unit:default -- --browsers=Firefox","test:unit:firefox:headless":"npm run test:unit:default -- --browsers=FirefoxHeadless","test:unit:ie":"npm run test:unit:default -- --browsers=IE"},dependencies:{"@jupyter-widgets/base":"^6.0.11","@lumino/algorithm":"^1 || ^2","@lumino/domutils":"^1 || ^2","@lumino/messaging":"^1 || ^2","@lumino/signaling":"^1 || ^2","@lumino/widgets":"^1 || ^2","d3-color":"^3.0.1","d3-format":"^3.0.1",jquery:"^3.1.1",nouislider:"15.4.0"},devDependencies:{"@jupyterlab/services":"^6.0.0 || ^7.0.0","@types/d3-color":"^3.0.2","@types/d3-format":"^3.0.1","@types/expect.js":"^0.3.29","@types/jquery":"^3.5.16","@types/mathjax":"^0.0.37","@types/mocha":"^9.0.0","@types/node":"^17.0.2",chai:"^4.0.0","css-loader":"^6.5.1","expect.js":"^0.3.1","istanbul-instrumenter-loader":"^3.0.1",karma:"^6.3.3","karma-chrome-launcher":"^3.1.0","karma-coverage":"^2.0.3","karma-firefox-launcher":"^2.1.1","karma-ie-launcher":"^1.0.0","karma-mocha":"^2.0.1","karma-mocha-reporter":"^2.2.5","karma-webpack":"^5.0.0",less:"^4.1.2",mocha:"^9.0.0","npm-run-all":"^4.1.5",postcss:"^8.3.2","postcss-cli":"^9.1.0","postcss-cssnext":"^3.1.0","postcss-import":"^14.0.2","postcss-loader":"^6.1.0",rimraf:"^3.0.2",sinon:"^12.0.1","sinon-chai":"^3.3.0","style-loader":"^3.3.1",typescript:"~4.9.4",webpack:"^5.65.0"},gitHead:"ace1a8fe516699b06914ff59d8a26f33a6911239"}});var k4={};qo(k4,{AccordionModel:()=>uw,AccordionView:()=>hw,AudioModel:()=>K7,AudioView:()=>vx,BaseIntSliderView:()=>Mu,BoolModel:()=>k2,BoundedFloatModel:()=>Su,BoundedFloatTextModel:()=>Wx,BoundedIntModel:()=>yu,BoundedIntTextModel:()=>Nx,BoxModel:()=>Rl,BoxView:()=>to,ButtonModel:()=>ax,ButtonStyleModel:()=>U7,ButtonView:()=>xu,CheckboxModel:()=>ix,CheckboxStyleModel:()=>Z7,CheckboxView:()=>rx,ColorPickerModel:()=>_x,ColorPickerView:()=>bx,ColorsInputModel:()=>bw,ColorsInputView:()=>Cw,ComboboxModel:()=>Dw,ComboboxView:()=>Hw,ControllerAxisModel:()=>Xx,ControllerAxisView:()=>Kx,ControllerButtonModel:()=>Ux,ControllerButtonView:()=>Gx,ControllerModel:()=>u4,ControllerView:()=>Yx,DatePickerModel:()=>Y7,DatePickerView:()=>Cx,DatetimeModel:()=>T2,DatetimeView:()=>yx,DescriptionModel:()=>zf,DescriptionStyleModel:()=>Fi,DescriptionView:()=>ui,DirectionalLinkModel:()=>I2,DropdownModel:()=>Jx,DropdownView:()=>Qx,FileUploadModel:()=>I4,FileUploadView:()=>Ru,FloatLogSliderModel:()=>Bx,FloatLogSliderView:()=>$x,FloatModel:()=>B2,FloatProgressModel:()=>qx,FloatRangeSliderModel:()=>Px,FloatRangeSliderView:()=>Vx,FloatSliderModel:()=>d4,FloatSliderView:()=>jx,FloatTextModel:()=>Fx,FloatTextView:()=>Zx,FloatsInputModel:()=>xw,FloatsInputView:()=>ww,GridBoxModel:()=>fx,GridBoxView:()=>hx,HBoxModel:()=>lx,HBoxView:()=>dx,HTMLMathModel:()=>Ew,HTMLMathStyleModel:()=>S4,HTMLMathView:()=>Rw,HTMLModel:()=>Lw,HTMLStyleModel:()=>L4,HTMLView:()=>Sw,ImageModel:()=>G7,ImageView:()=>px,IntModel:()=>O2,IntProgressModel:()=>Ox,IntRangeSliderModel:()=>Tx,IntRangeSliderView:()=>D2,IntSliderModel:()=>l4,IntSliderView:()=>H2,IntTextModel:()=>Ax,IntTextView:()=>z2,IntsInputModel:()=>yw,IntsInputView:()=>Mw,JUPYTER_CONTROLS_VERSION:()=>Vi,JupyterLuminoAccordionWidget:()=>_4,JupyterLuminoTabPanelWidget:()=>b4,LabelModel:()=>Iw,LabelStyleModel:()=>E4,LabelView:()=>kw,LabeledDOMWidgetModel:()=>QC,LabeledDOMWidgetView:()=>ex,LinkModel:()=>tx,MultipleSelectionModel:()=>j2,NaiveDatetimeModel:()=>i4,PasswordModel:()=>Nw,PasswordView:()=>Ow,PlayModel:()=>Dx,PlayView:()=>Hx,ProgressStyleModel:()=>c4,ProgressView:()=>Lu,RadioButtonsModel:()=>tw,RadioButtonsView:()=>iw,SelectModel:()=>ew,SelectMultipleModel:()=>sw,SelectMultipleView:()=>ow,SelectView:()=>h4,SelectionContainerModel:()=>Bf,SelectionModel:()=>Tl,SelectionRangeSliderModel:()=>aw,SelectionRangeSliderView:()=>lw,SelectionSliderModel:()=>nw,SelectionSliderView:()=>m4,SelectionView:()=>P2,SliderStyleModel:()=>a4,StackModel:()=>pw,StackView:()=>gw,StringModel:()=>Wc,StringView:()=>Zc,TabModel:()=>fw,TabView:()=>mw,TagsInputModel:()=>w4,TagsInputView:()=>Eu,TextModel:()=>$2,TextStyleModel:()=>R4,TextView:()=>V2,TextareaModel:()=>Tw,TextareaView:()=>Aw,TimeModel:()=>Il,TimeView:()=>xx,ToggleButtonModel:()=>nx,ToggleButtonStyleModel:()=>q7,ToggleButtonView:()=>Cu,ToggleButtonsModel:()=>rw,ToggleButtonsStyleModel:()=>f4,ToggleButtonsView:()=>kl,VBoxModel:()=>cx,VBoxView:()=>ux,ValidModel:()=>sx,ValidView:()=>ox,VideoModel:()=>X7,VideoView:()=>gx,datetime_serializers:()=>e4,deserialize_date:()=>Hz,deserialize_datetime:()=>jz,deserialize_naive:()=>Vz,deserialize_time:()=>Bz,escape_html:()=>JC,naive_serializers:()=>t4,reject:()=>Zte,resolvePromisesDict:()=>_a,serialize_date:()=>Dz,serialize_datetime:()=>Pz,serialize_naive:()=>$z,serialize_time:()=>Q7,time_serializers:()=>J7,typeset:()=>YC,uuid:()=>ri,version:()=>oie});var oie,IB=P(()=>{eo();Hf();Sz();Ez();Rz();mx();kz();Tz();Az();Oz();zz();Fz();wx();zx();fB();pB();vB();yB();LB();SB();Oo();EB();oie=RB().version});var kB=P(()=>{});var aie,lie,TB,AB=P(()=>{kB();aie=i=>crypto.getRandomValues(new Uint8Array(i)),lie=(i,e,t)=>{let r=(2<<Math.log(i.length-1)/Math.LN2)-1,n=-~(1.6*r*e/i.length);return(s=e)=>{let o="";for(;;){let a=t(n),l=n|0;for(;l--;)if(o+=i[a[l]&r]||"",o.length===s)return o}}},TB=(i,e=21)=>lie(i,e,aie)});function Jn(){return cie()}function Pf(i){return Array.isArray(i)?i.join(`
`):i}function NB({output_type:i}){return i==="display_data"||i==="execute_result"}function OB(i){return`
<div class="thebe-ipywidgets-placeholder">
  <div class="thebe-ipywidgets-placeholder-image"></div>
  <div class="thebe-ipywidgets-placeholder-message"><code>ipywidgets</code> - a Jupyter kernel connection is required to fully display this output.</div>
  ${i&&`<pre>${i}</pre>`}
</div>
`}function die(i,e=!0,t=OB){return i.map(r=>{if(!NB(r))return r;let n=r.data,s=F2,o=n[s],a=n1(n,[typeof s=="symbol"?s:s+""]);if(!o)return r;let l=r.data;return e&&(l=Object.assign({},a)),t&&!("text/html"in l)&&(l["text/html"]=t(Pf(l["text/plain"]))),Object.assign(Object.assign({},r),{data:l})})}var cie,qc=P(()=>{Hi();AB();T4();cie=TB("1234567890abcdef",8)});function fie(i){return dt(this,void 0,void 0,function*(){if(typeof document>"u")throw new Error("Cannot load requirejs outside of the browser");let e=yield fetch(hie);if(!e.ok)throw new Error(`Could not fetch requirejs ${e.status} ${e.statusText}`);let t=yield e.text();return new Promise((r,n)=>{let s=document.createElement("iframe");s.style.display="none",s.onload=()=>{let o=s.contentWindow;if(!o)return n("Cannot load in isolated: no contentWindow, origin error?");o.window.eval(t);let a={require:o.window.require,define:o.window.define};if(!a.require||!a.define)return n("Require.js loading did not result in `require` and `define` objects attachment to window");a.require.config({baseUrl:i}),r(a),s.onload=null},document.body.appendChild(s)})})}var uie,hie,A4,DB=P(()=>{Hi();uie="https://cdn.jsdelivr.net/npm/",hie="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js";A4=class{constructor(e){this.baseUrl=e??uie,this.requested=!1,this.resolveFn=()=>({}),this.ready=new Promise(t=>this.resolveFn=t)}load(e){return dt(this,void 0,void 0,function*(){return this.requested||(this.requested=!0,this.requirejs=yield fie(this.baseUrl),yield e?.(this.requirejs.require,this.requirejs.define),this.resolveFn(this.requirejs)),this.ready})}}});function BB(i,e){return new Promise((t,r)=>i.require([`${e}`],t,r))}function mie(i,e){let t=i,r="index",n=i.indexOf("/");return n!==-1&&i[0]==="@"&&(n=i.indexOf("/",n+1)),n!==-1&&(r=i.substr(n+1),t=i.substr(0,n)),`${zB}${t}@${e}/dist/${r}`}function HB(i,e,t){return dt(this,void 0,void 0,function*(){let r=mie(e,t),n={paths:{}};n.paths[e]=r,i.require.config(n);try{return yield BB(i,e)}catch(s){throw console.error("thebe:loader requirejs error on cdn require",s),s}})}function PB(i,e,t,r=!1){return dt(this,void 0,void 0,function*(){return console.debug(`thebe:loader loading ${e}@${t}`),r?HB(i,e,t):i.require.defined(e)?BB(i,e):(console.debug(`thebe:loader falling back to ${zB} for ${e}@${t}`),HB(i,e,t))})}var zB,jB=P(()=>{Hi();zB="https://cdn.jsdelivr.net/npm/"});var F2,W2,T4=P(()=>{Hi();o_();j5();Mz();$i();IB();qc();DB();jB();F2="application/vnd.jupyter.widget-view+json",W2=class extends S2{constructor(e,t){super(e,t),this.id=Jn(),this.addWidgetFactories(),this._registerWidgets(),this._loader=new A4}addWidgetFactories(){this.rendermime.addFactory({safe:!1,mimeTypes:[F2],createRenderer:e=>new Om(e,this)},1)}removeWidgetFactories(){this.rendermime.removeMimeType(F2)}build_widgets(){return dt(this,void 0,void 0,function*(){throw new Error("ThebeManager:build_widgets not implmented")})}display_view(e,t,r){return dt(this,void 0,void 0,function*(){return r.el&&me.attach(t.luminoWidget,r.el),t.el&&(t.el.setAttribute("data-thebe-jupyter-widget",""),t.el.addEventListener("jupyterWidgetResize",()=>{ke.postMessage(t.luminoWidget,me.ResizeMessage.UnknownSize)})),t.luminoWidget})}loadClass(e,t,r){let n=Object.create(null,{loadClass:{get:()=>super.loadClass}});return dt(this,void 0,void 0,function*(){this._loader.requested||(console.debug(`thebe:manager:loadClass initial requirejs load ${this.id}`),this._loader.load((o,a)=>{a("@jupyter-widgets/base",g2),a("@jupyter-widgets/controls",k4),a("@jupyter-widgets/output",Df)})),console.debug(`thebe:manager:loadClass ${t}@${r}`);let s=yield this._loader.ready;if(t==="@jupyter-widgets/base"||t==="@jupyter-widgets/controls"||t==="@jupyter-widgets/output")return n.loadClass.call(this,e,t,r);{let o;try{o=yield PB(s,t,r)}catch(a){throw console.error("thebe:manager:loadClass loader error",a),a}if(o[e])return o[e];throw console.error(`thebe:manager:loadClass ${e} not found in module ${t}@${r}`),new Error(`Class ${e} not found in module ${t}@${r}`)}})}_registerWidgets(){this.register({name:"@jupyter-widgets/base",version:Sl,exports:g2}),this.register({name:"@jupyter-widgets/controls",version:Vi,exports:k4}),this.register({name:"@jupyter-widgets/output",version:Df.OUTPUT_WIDGET_VERSION,exports:Df})}}});var Ma,Z2=P(()=>{rl();Ma=class{constructor(e,t,r,n){this._id=e,this._config=t,this._subject=r,this._object=n}triggerStatus({status:e,message:t}){console.debug(`${e} ${t}`),this._config.events.trigger(Dh.status,{subject:this._subject,id:this._id,object:this._object,status:e,message:t})}triggerError({status:e,message:t}){console.debug(`Error [${this._subject}][${this._id}] ${t}`),this._config.events.trigger(Dh.error,{subject:this._subject,id:this._id,object:this._object,status:e,message:t})}}});var zw,q2,Bw=P(()=>{Hi();rl();T4();Z2();zw=class{constructor(e,t,r){var n;if(this.server=e,this.connection=t,this.events=new Ma(this.connection.id,e.config,Lo.session,this),this.connection.kernel==null)throw Error("ThebeSession - kernel is null");this.manager=new W2(this.connection.kernel,r),this.connection.statusChanged.connect((s,o)=>{let a;switch(o){case"starting":case"restarting":case"autorestarting":a=Ws.starting;break;case"idle":case"busy":a=Ws.ready;break;case"terminating":case"dead":default:a=Ws.shutdown;break}this.events.triggerStatus({status:a,message:`kernel ${this.connection.name} status changed to ${a}[${o}]`}),o==="dead"&&(this.events.triggerError({status:Ur.session,message:`kernel ${this.connection.name} is dead`}),this.dispose())}),this.connection.disposed.connect(()=>{this.events.triggerStatus({status:Ws.shutdown,message:`kernel ${this.connection.name} disposed`})}),this.events.triggerStatus({status:Ws.ready,message:`ThebeSession created, kernel '${(n=this.connection.kernel)===null||n===void 0?void 0:n.name}' available`})}get id(){return this.connection.id}get kernel(){var e;return(e=this.connection)===null||e===void 0?void 0:e.kernel}get path(){return this.connection.path}get name(){return this.connection.name}restart(){var e,t;return dt(this,void 0,void 0,function*(){console.debug(`requesting restart for kernel ${this.id}`);let r=(e=this.connection.kernel)===null||e===void 0?void 0:e.restart();this.events.triggerStatus({status:Ws.starting,message:"Kernel restart requested"}),yield r,this.events.triggerStatus({status:Ws.ready,message:`session restarted, kernel '${(t=this.connection.kernel)===null||t===void 0?void 0:t.name}' available`})})}shutdown(){return dt(this,void 0,void 0,function*(){this.connection.isDisposed||(yield this.connection.shutdown(),this.events.triggerStatus({status:Ws.shutdown,message:`session ${this.name}`}),this.dispose())})}dispose(){this.connection.isDisposed||this.connection.dispose()}},q2=zw});function U2(i){return dt(this,void 0,void 0,function*(){if(!i.ok)throw Error(`${i.status} - ${i.statusText}`);return yield i.json()})}function Pw(i){return typeof i=="string"?i:i.message?i.message:i.status&&i.statusText?`${i.status} - ${i.statusText}`:JSON.stringify(i)}var Kr,jf,Iu,jw=P(()=>{Hi();HT();Kv();Kr=N(Tg());Bw();qc();rl();Z2();jf=class{constructor(e){this.id=Jn(),this.config=e,this.events=new Ma(this.id,e,Lo.server,this),this.ready=new Promise((t,r)=>{this.resolveReadyFn=t,this.rejectReadyFn=r}),this._isDisposed=!1}get isBinder(){return!!this.binderUrls}get isReady(){var e,t;return(t=(e=this.sessionManager)===null||e===void 0?void 0:e.isReady)!==null&&t!==void 0?t:!1}get isDisposed(){return this._isDisposed}get settings(){var e;return(e=this.sessionManager)===null||e===void 0?void 0:e.serverSettings}shutdownSession(e){var t;return dt(this,void 0,void 0,function*(){return(t=this.sessionManager)===null||t===void 0?void 0:t.shutdown(e)})}shutdownAllSessions(){var e;return dt(this,void 0,void 0,function*(){return(e=this.sessionManager)===null||e===void 0?void 0:e.shutdownAll()})}check(){var e,t;return dt(this,void 0,void 0,function*(){return(yield jf.status((t=(e=this.sessionManager)===null||e===void 0?void 0:e.serverSettings)!==null&&t!==void 0?t:this.config.serverSettings)).ok})}dispose(){var e,t,r,n;this._isDisposed||(!((e=this.serviceManager)===null||e===void 0)&&e.isDisposed||(t=this.serviceManager)===null||t===void 0||t.dispose(),!((r=this.sessionManager)===null||r===void 0)&&r.isDisposed||(n=this.sessionManager)===null||n===void 0||n.dispose(),this._isDisposed=!0)}startNewSession(e,t){var r,n,s;return dt(this,void 0,void 0,function*(){if(yield this.ready,!this.sessionManager)throw Error("Requesting session from a server, with no SessionManager available");yield this.sessionManager.ready;let o=(r=t?.path)!==null&&r!==void 0?r:this.config.kernels.path,a="thebe.ipynb",l=o.match(/\/*([a-zA-Z0-9-]+.ipynb)$/);l&&(a=l[1]);let c=(n=t?.kernelName)!==null&&n!==void 0?n:this.config.kernels.kernelName;console.debug("thebe:api:startNewSession server",this),console.debug("thebe:api:startNewSession",{name:a,path:o,kernelName:c}),this.serviceManager&&(o=o.slice(1).replace(/\//g,"-"));let u=yield(s=this.sessionManager)===null||s===void 0?void 0:s.startNew({name:a,path:o,type:"notebook",kernel:{name:c}});return new q2(this,u,e)})}listRunningSessions(){var e;return dt(this,void 0,void 0,function*(){yield this.ready;let t=(e=this.sessionManager)===null||e===void 0?void 0:e.running(),r=[],n=t?.next();for(;n&&!n.done;)r.push(n.value),n=t?.next();return r})}refreshRunningSessions(){var e;return dt(this,void 0,void 0,function*(){return yield this.ready,yield(e=this.sessionManager)===null||e===void 0?void 0:e.refreshRunning(),this.listRunningSessions()})}connectToExistingSession(e,t){var r;return dt(this,void 0,void 0,function*(){if(yield this.ready,!this.sessionManager)throw Error("Requesting session from a server, with no SessionManager available");yield this.sessionManager.ready;let n=(r=this.sessionManager)===null||r===void 0?void 0:r.connectTo({model:e});return new q2(this,n,t)})}clearSavedBinderSessions(){return dt(this,void 0,void 0,function*(){let e=this.makeBinderUrls();window.localStorage.removeItem(e.storageKey)})}connectToJupyterServer(){var e;return dt(this,void 0,void 0,function*(){console.debug("thebe:api:connectToJupyterServer:serverSettings:",this.config.serverSettings);let t=Kr.ServerConnection.makeSettings(this.config.serverSettings);try{this.events.triggerStatus({status:Xi.launching,message:"Checking server url"}),yield jf.status(t),this.events.triggerStatus({status:Xi.launching,message:"Server reachable"})}catch(n){let s=`Server not reachable (${t.baseUrl}) - ${n}`;this.events.triggerError({status:Ur.error,message:s}),(e=this.rejectReadyFn)===null||e===void 0||e.call(this,s);return}let r=new Kr.KernelManager({serverSettings:t});return this.events.triggerStatus({status:Xi.launching,message:"Created KernelManager"}),this.sessionManager=new Kr.SessionManager({kernelManager:r,serverSettings:t}),this.sessionManager.connectionFailure.connect((n,s)=>{this.events.triggerError({status:Ur.server,message:`connection failure: ${s}`})}),this.sessionManager.runningChanged.connect((n,s)=>{this.events.triggerStatus({status:Xi.ready,message:`${s.length} running sessions changed: ${s.map(o=>o.name).join(",")}`})}),this.events.triggerStatus({status:Xi.ready,message:"Created SessionManager"}),this.sessionManager.ready.then(()=>{var n;this.userServerUrl=`${t.baseUrl}?token=${t.token}`,this.events.triggerStatus({status:Xi.ready,message:"Server connection ready"}),(n=this.resolveReadyFn)===null||n===void 0||n.call(this,this)},n=>{var s;return(s=this.rejectReadyFn)===null||s===void 0?void 0:s.call(this,Pw(n))})})}connectToJupyterLiteServer(e){var t;return dt(this,void 0,void 0,function*(){if(this.events.triggerStatus({status:Xi.launching,message:"Connecting to JupyterLite"}),!window.thebeLite)throw new Error("thebe-lite is not available at window.thebeLite - load this onto your page before loading thebe or thebe-core.");return this.serviceManager=yield window.thebeLite.startJupyterLiteServer(e),this.events.triggerStatus({status:Xi.launching,message:"Started JupyterLite server"}),console.debug("thebe:api:connectToJupyterLiteServer:serverSettings:",this.serviceManager.serverSettings),this.sessionManager=this.serviceManager.sessions,this.events.triggerStatus({status:Xi.launching,message:"Received SessionMananger from JupyterLite"}),(t=this.sessionManager)===null||t===void 0?void 0:t.ready.then(()=>{var r;this.userServerUrl="/",this.events.triggerStatus({status:Xi.ready,message:"Server connection established"}),(r=this.resolveReadyFn)===null||r===void 0||r.call(this,this)},r=>{var n;return(n=this.rejectReadyFn)===null||n===void 0?void 0:n.call(this,Pw(r))})})}makeBinderUrls(){var e;return z5(this.config,(e=this.repoProviders)!==null&&e!==void 0?e:H5)}checkForSavedBinderSession(){var e;return dt(this,void 0,void 0,function*(){try{let{storageKey:t}=z5(this.config,(e=this.repoProviders)!==null&&e!==void 0?e:H5);return BT(this.config.savedSessions,t)}catch(t){return this.events.triggerError({status:Ur.error,message:`${t} - Failed to check for saved session.`}),null}})}connectToServerViaBinder(e){return dt(this,void 0,void 0,function*(){this.events.triggerStatus({status:Xi.launching,message:`Connecting to binderhub at ${this.config.binder.binderUrl}`}),this.repoProviders=[...H5,...e??[]];try{this.binderUrls=z5(this.config,this.repoProviders)}catch(s){this.events.triggerError({status:Ur.error,message:`${s} - Failed to connect to binderhub at ${this.config.binder.binderUrl}`});return}let t=this.binderUrls;if(this.events.triggerStatus({status:Xi.launching,message:`Binder build url is ${t.build}`}),this.config.savedSessions.enabled){console.debug("thebe:server:connectToServerViaBinder Checking for saved session...");let s=yield this.checkForSavedBinderSession();if(s){let o=Kr.ServerConnection.makeSettings(s),a=new Kr.KernelManager({serverSettings:o});return this.events.triggerStatus({status:Xi.launching,message:"Created KernelManager"}),this.sessionManager=new Kr.SessionManager({kernelManager:a,serverSettings:o}),this.events.triggerStatus({status:Xi.launching,message:"Created KernelManager"}),this.sessionManager.ready.then(()=>{var l;this.userServerUrl=`${o.baseUrl}?token=${o.token}`,this.events.triggerStatus({status:Xi.ready,message:"Re-connected to binder server"}),(l=this.resolveReadyFn)===null||l===void 0||l.call(this,this)},l=>{var c;return(c=this.rejectReadyFn)===null||c===void 0?void 0:c.call(this,Pw(l))})}}let r={status:Xi.launching},n=new EventSource(t.build);this.events.triggerStatus({status:r.status,message:`Opened connection to binder: ${t.build}`}),n.onerror=s=>{var o;console.error(`Lost connection to binder: ${t.build}`,s),n?.close(),r.status=Ur.error;let a=s?.data,l=a?a.phase:"unknown",c=`Lost connection to binder: ${t.build}
phase: ${l} - ${a?a.message:"no message"}`;this.events.triggerError({status:Ur.error,message:c}),(o=this.rejectReadyFn)===null||o===void 0||o.call(this,c)},n.onmessage=s=>dt(this,void 0,void 0,function*(){var o,a,l,c;let u=JSON.parse(s.data),d=(a=(o=u.phase)===null||o===void 0?void 0:o.toLowerCase())!==null&&a!==void 0?a:"";switch(d){case"failed":n?.close(),r.status=Ur.error,this.events.triggerError({status:Ur.error,message:`Binder: failed to build - ${t.build} - ${u.message}`}),(l=this.rejectReadyFn)===null||l===void 0||l.call(this,u.message);break;case"ready":{n?.close();let f={baseUrl:u.url,wsUrl:"ws"+u.url.slice(4),token:u.token,appendToken:!0},h=Kr.ServerConnection.makeSettings(f),m=new Kr.KernelManager({serverSettings:h});this.sessionManager=new Kr.SessionManager({kernelManager:m,serverSettings:h}),this.config.savedSessions.enabled&&(zT(t.storageKey,this.id,h),console.debug(`thebe:server:connectToServerViaBinder Saved session for ${this.id} at ${t.build}`)),yield this.sessionManager.ready,this.userServerUrl=`${u.url}?token=${u.token}`,r.status=Xi.ready,this.events.triggerStatus({status:r.status,message:`Binder server is ready: ${u.message}`}),(c=this.resolveReadyFn)===null||c===void 0||c.call(this,this)}break;default:this.events.triggerStatus({status:r.status,message:`Binder is: ${d} - ${u.message}`})}})})}getFetchUrl(e){var t,r;if(!this.sessionManager)throw new Error("Must connect to a server before requesting KernelSpecs");if(!(!((t=this.sessionManager)===null||t===void 0)&&t.serverSettings))throw new Error("No server settings available in session manager");let n=(r=this.sessionManager)===null||r===void 0?void 0:r.serverSettings,s=new URL(n.baseUrl),o=new URL(`${s.pathname}${e}`.replace("//","/"),s.origin);return o.searchParams.append("token",n.token),o}static status(e){return Kr.ServerConnection.makeRequest(`${e.baseUrl}api/status`,{},Kr.ServerConnection.makeSettings(e))}getKernelSpecs(){var e;return dt(this,void 0,void 0,function*(){if(!this.sessionManager)throw new Error("Must connect to a server before requesting KernelSpecs");return Kr.KernelSpecAPI.getSpecs(Kr.ServerConnection.makeSettings((e=this.sessionManager)===null||e===void 0?void 0:e.serverSettings))})}getContents(e){return dt(this,void 0,void 0,function*(){let t=this.getFetchUrl(`/api/contents/${e.path}`);return e.type&&t.searchParams.append("type",e.type),e.format&&t.searchParams.append("format",e.format),t.searchParams.append("content",e.returnContent?"1":"0"),U2(yield fetch(t))})}duplicateFile(e){return dt(this,void 0,void 0,function*(){let t=this.getFetchUrl(`/api/contents/${e.path}`),{copy_from:r,ext:n,type:s}=e;return U2(yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({copy_from:r,ext:n,type:s})}))})}createDirectory(e){return dt(this,void 0,void 0,function*(){let t=this.getFetchUrl(`/api/contents/${e.path}`);return U2(yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"directory"})}))})}renameContents(e){return dt(this,void 0,void 0,function*(){let{path:t,newPath:r}=e,n=this.getFetchUrl(`/api/contents/${t}`);return U2(yield fetch(n,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:r})}))})}uploadFile(e){return dt(this,void 0,void 0,function*(){let{path:t,content:r,format:n,type:s}=e,o=this.getFetchUrl(`/api/contents/${t}`);return console.debug("thebe:api:server:uploadFile",o),U2(yield fetch(o,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:t,content:r,format:n??"json",type:s??"notebook"})}))})}},Iu=jf});var VB=je((N4,$B)=>{(function(i,e){typeof N4=="object"&&typeof $B<"u"?e(N4):typeof define=="function"&&define.amd?define(["exports"],e):(i=typeof globalThis<"u"?globalThis:i||self,e(i.lumino_coreutils={}))})(N4,function(i){"use strict";i.JSONExt=void 0,function(o){o.emptyObject=Object.freeze({}),o.emptyArray=Object.freeze([]);function a(v){return v===null||typeof v=="boolean"||typeof v=="number"||typeof v=="string"}o.isPrimitive=a;function l(v){return Array.isArray(v)}o.isArray=l;function c(v){return!a(v)&&!l(v)}o.isObject=c;function u(v,x){if(v===x)return!0;if(a(v)||a(x))return!1;var C=l(v),y=l(x);return C!==y?!1:C&&y?f(v,x):h(v,x)}o.deepEqual=u;function d(v){return a(v)?v:l(v)?m(v):p(v)}o.deepCopy=d;function f(v,x){if(v===x)return!0;if(v.length!==x.length)return!1;for(var C=0,y=v.length;C<y;++C)if(!u(v[C],x[C]))return!1;return!0}function h(v,x){if(v===x)return!0;for(var C in v)if(v[C]!==void 0&&!(C in x))return!1;for(var C in x)if(x[C]!==void 0&&!(C in v))return!1;for(var C in v){var y=v[C],S=x[C];if(!(y===void 0&&S===void 0)&&(y===void 0||S===void 0||!u(y,S)))return!1}return!0}function m(v){for(var x=new Array(v.length),C=0,y=v.length;C<y;++C)x[C]=d(v[C]);return x}function p(v){var x={};for(var C in v){var y=v[C];y!==void 0&&(x[C]=d(y))}return x}}(i.JSONExt||(i.JSONExt={}));var e=function(){function o(){this._types=[],this._values=[]}return o.prototype.types=function(){return this._types.slice()},o.prototype.hasData=function(a){return this._types.indexOf(a)!==-1},o.prototype.getData=function(a){var l=this._types.indexOf(a);return l!==-1?this._values[l]:void 0},o.prototype.setData=function(a,l){this.clearData(a),this._types.push(a),this._values.push(l)},o.prototype.clearData=function(a){var l=this._types.indexOf(a);l!==-1&&(this._types.splice(l,1),this._values.splice(l,1))},o.prototype.clear=function(){this._types.length=0,this._values.length=0},o}(),t=function(){function o(){var a=this;this.promise=new Promise(function(l,c){a._resolve=l,a._reject=c})}return o.prototype.resolve=function(a){var l=this._resolve;l(a)},o.prototype.reject=function(a){var l=this._reject;l(a)},o}(),r=function(){function o(a){this.name=a,this._tokenStructuralPropertyT=null}return o}();function n(o){for(var a=0,l=0,c=o.length;l<c;++l)l%4===0&&(a=Math.random()*4294967295>>>0),o[l]=a&255,a>>>=8}i.Random=void 0,function(o){o.getRandomValues=function(){var a=typeof window<"u"&&(window.crypto||window.msCrypto)||null;return a&&typeof a.getRandomValues=="function"?function(c){return a.getRandomValues(c)}:n}()}(i.Random||(i.Random={}));function s(o){for(var a=new Uint8Array(16),l=new Array(256),c=0;c<16;++c)l[c]="0"+c.toString(16);for(var c=16;c<256;++c)l[c]=c.toString(16);return function(){return o(a),a[6]=64|a[6]&15,a[8]=128|a[8]&63,l[a[0]]+l[a[1]]+l[a[2]]+l[a[3]]+"-"+l[a[4]]+l[a[5]]+"-"+l[a[6]]+l[a[7]]+"-"+l[a[8]]+l[a[9]]+"-"+l[a[10]]+l[a[11]]+l[a[12]]+l[a[13]]+l[a[14]]+l[a[15]]}}i.UUID=void 0,function(o){o.uuid4=s(i.Random.getRandomValues)}(i.UUID||(i.UUID={})),i.MimeData=e,i.PromiseDelegate=t,i.Token=r,Object.defineProperty(i,"__esModule",{value:!0})})});var FB,O4,WB=P(()=>{FB=N(VB()),O4=class{constructor(e){this._initPromise=new FB.PromiseDelegate,this._initialized=!1,this._url=e.url,this._config=e.config}typeset(e){this._initialized||this._init(),this._initPromise.promise.then(()=>{MathJax.Hub.Queue(["Typeset",MathJax.Hub,e]);try{MathJax.Hub.Queue(["Require",MathJax.Ajax,"[MathJax]/extensions/TeX/AMSmath.js"],()=>{MathJax.InputJax.TeX.resetEquationNumbers()})}catch(t){console.error("Error queueing resetEquationNumbers:",t)}})}_init(){let e=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.src=`${this._url}?config=${this._config}&amp;delayStartupUntil=configured`,t.charset="utf-8",e.appendChild(t),t.addEventListener("load",()=>{this._onLoad()}),this._initialized=!0}_onLoad(){MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},displayAlign:"center",CommonHTML:{linebreaks:{automatic:!0}},"HTML-CSS":{availableFonts:[],imageFont:null,preferredFont:null,webFont:"STIX-Web",styles:{".MathJax_Display":{margin:0}},linebreaks:{automatic:!0}},skipStartupTypeset:!0,messageStyle:"none"}),MathJax.Hub.Register.StartupHook("End Config",()=>{var e,t,r,n,s,o;(r=(t=(e=MathJax.Hub)===null||e===void 0?void 0:e.config)===null||t===void 0?void 0:t.MathEvents)===null||r===void 0||delete r.styles[".MathJax_Hover_Arrow:hover span"],(o=(s=(n=MathJax.Hub)===null||n===void 0?void 0:n.config)===null||s===void 0?void 0:s.MathMenu)===null||o===void 0||delete o.styles[".MathJax_MenuClose:hover span"]}),MathJax.Hub.Configured(),this._initPromise.resolve(void 0)}}});function vie(code,element,document,window){return eval(code)}var pie,gie,$w,Vw,_ie,hEe,ZB=P(()=>{c3();pie="text/javascript",gie="application/javascript";$w=class extends Rm{render(e){let t=this.translator.load("jupyterlab"),r=()=>{try{let n=e.data[this.mimeType];return n&&vie(n,this.node,document,window),Promise.resolve()}catch(n){return Promise.reject(n)}};if(!e.trusted){let n=document.createElement("pre");n.textContent=t.__("Are you sure that you want to run arbitrary Javascript within your JupyterLab session?");let s=document.createElement("button");return s.textContent=t.__("Run"),this.node.appendChild(n),this.node.appendChild(s),s.onclick=o=>{this.node.textContent="",r()},Promise.resolve()}return r()}},Vw={safe:!1,mimeTypes:[pie,gie],createRenderer:i=>new $w(i)},_ie={id:"@jupyterlab/javascript-extension:factory",description:"Adds renderer for JavaScript content.",rendererFactory:Vw,rank:0,dataType:"string"},hEe=_ie});var $f,Nl,qB=P(()=>{$f=class{constructor(){this._first=null,this._last=null,this._size=0}get isEmpty(){return this._size===0}get size(){return this._size}get length(){return this._size}get first(){return this._first?this._first.value:void 0}get last(){return this._last?this._last.value:void 0}get firstNode(){return this._first}get lastNode(){return this._last}*[Symbol.iterator](){let e=this._first;for(;e;)yield e.value,e=e.next}*retro(){let e=this._last;for(;e;)yield e.value,e=e.prev}*nodes(){let e=this._first;for(;e;)yield e,e=e.next}*retroNodes(){let e=this._last;for(;e;)yield e,e=e.prev}assign(e){this.clear();for(let t of e)this.addLast(t)}push(e){this.addLast(e)}pop(){return this.removeLast()}shift(e){this.addFirst(e)}unshift(){return this.removeFirst()}addFirst(e){let t=new Nl.LinkedListNode(this,e);return this._first?(t.next=this._first,this._first.prev=t,this._first=t):(this._first=t,this._last=t),this._size++,t}addLast(e){let t=new Nl.LinkedListNode(this,e);return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._first=t,this._last=t),this._size++,t}insertBefore(e,t){if(!t||t===this._first)return this.addFirst(e);if(!(t instanceof Nl.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");let r=new Nl.LinkedListNode(this,e),n=t,s=n.prev;return r.next=n,r.prev=s,n.prev=r,s.next=r,this._size++,r}insertAfter(e,t){if(!t||t===this._last)return this.addLast(e);if(!(t instanceof Nl.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");let r=new Nl.LinkedListNode(this,e),n=t,s=n.next;return r.next=s,r.prev=n,n.next=r,s.prev=r,this._size++,r}removeFirst(){let e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeLast(){let e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeNode(e){if(!(e instanceof Nl.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");let t=e;t===this._first&&t===this._last?(this._first=null,this._last=null):t===this._first?(this._first=t.next,this._first.prev=null):t===this._last?(this._last=t.prev,this._last.next=null):(t.next.prev=t.prev,t.prev.next=t.next),t.list=null,t.next=null,t.prev=null,this._size--}clear(){let e=this._first;for(;e;){let t=e.next;e.list=null,e.prev=null,e.next=null,e=t}this._first=null,this._last=null,this._size=0}};(function(i){function e(t){let r=new i;return r.assign(t),r}i.from=e})($f||($f={}));(function(i){class e{constructor(r,n){this.list=null,this.next=null,this.prev=null,this.list=r,this.value=n}}i.LinkedListNode=e})(Nl||(Nl={}))});var Nn,Uc,Oe,UB=P(()=>{Bn();qB();Nn=class{constructor(e){this.type=e}get isConflatable(){return!1}conflate(e){return!1}},Uc=class extends Nn{get isConflatable(){return!0}conflate(e){return!0}};(function(i){let e=null,t=(R=>A=>{let H=!1;return R.then(()=>!H&&A()),()=>{H=!0}})(Promise.resolve());function r(R,A){let H=f.get(R);if(!H||H.length===0){x(R,A);return}Kl(Jl(H),X=>X?v(X,R,A):!0)&&x(R,A)}i.sendMessage=r;function n(R,A){if(!A.isConflatable){C(R,A);return}Yl(d,$=>$.handler!==R||!$.msg||$.msg.type!==A.type||!$.msg.isConflatable?!1:$.msg.conflate(A))||C(R,A)}i.postMessage=n;function s(R,A){let H=f.get(R);H&&H.indexOf(A)!==-1||(H?H.push(A):f.set(R,[A]))}i.installMessageHook=s;function o(R,A){let H=f.get(R);if(!H)return;let $=H.indexOf(A);$!==-1&&(H[$]=null,S(H))}i.removeMessageHook=o;function a(R){let A=f.get(R);A&&A.length>0&&(z.fill(A,null),S(A));for(let H of d)H.handler===R&&(H.handler=null,H.msg=null)}i.clearData=a;function l(){p||e===null||(e(),e=null,p=!0,y(),p=!1)}i.flush=l;function c(){return m}i.getExceptionHandler=c;function u(R){let A=m;return m=R,A}i.setExceptionHandler=u;let d=new $f,f=new WeakMap,h=new Set,m=R=>{console.error(R)},p=!1;function v(R,A,H){let $=!0;try{typeof R=="function"?$=R(A,H):$=R.messageHook(A,H)}catch(X){m(X)}return $}function x(R,A){try{R.processMessage(A)}catch(H){m(H)}}function C(R,A){d.addLast({handler:R,msg:A}),e===null&&(e=t(y))}function y(){if(e=null,d.isEmpty)return;let R={handler:null,msg:null};for(d.addLast(R);;){let A=d.removeFirst();if(A===R)return;A.handler&&A.msg&&r(A.handler,A.msg)}}function S(R){h.size===0&&t(M),h.add(R)}function M(){h.forEach(_),h.clear()}function _(R){z.removeAllWhere(R,E)}function E(R){return R===null}})(Oe||(Oe={}))});var dr,pn,GB=P(()=>{Ql();dr=class{constructor(e){this._onScrollFrame=()=>{if(!this._scrollTarget)return;let{element:t,edge:r,distance:n}=this._scrollTarget,s=pn.SCROLL_EDGE_SIZE-n,o=Math.pow(s/pn.SCROLL_EDGE_SIZE,2),a=Math.max(1,Math.round(o*pn.SCROLL_EDGE_SIZE));switch(r){case"top":t.scrollTop-=a;break;case"left":t.scrollLeft-=a;break;case"right":t.scrollLeft+=a;break;case"bottom":t.scrollTop+=a;break}requestAnimationFrame(this._onScrollFrame)},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.document=e.document||document,this.mimeData=e.mimeData,this.dragImage=e.dragImage||null,this.proposedAction=e.proposedAction||"copy",this.supportedActions=e.supportedActions||"all",this.source=e.source||null}dispose(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){let e=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:-1,clientY:-1});pn.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")}}get isDisposed(){return this._disposed}start(e,t){if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(e,t),this._promise=new Promise(n=>{this._resolve=n});let r=new PointerEvent("pointermove",{bubbles:!0,cancelable:!0,clientX:e,clientY:t});return document.dispatchEvent(r),this._promise}handleEvent(e){switch(e.type){case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault(),e.stopPropagation();break}}moveDragImage(e,t){if(!this.dragImage)return;let r=this.dragImage.style;r.transform=`translate(${e}px, ${t}px)`}_evtPointerMove(e){e.preventDefault(),e.stopPropagation(),this._updateCurrentTarget(e),this._updateDragScroll(e),this.moveDragImage(e.clientX,e.clientY)}_evtPointerUp(e){if(e.preventDefault(),e.stopPropagation(),e.button!==0)return;if(this._updateCurrentTarget(e),!this._currentTarget){this._finalize("none");return}if(this._dropAction==="none"){pn.dispatchDragLeave(this,this._currentTarget,null,e),this._finalize("none");return}let t=pn.dispatchDrop(this,this._currentTarget,e);this._finalize(t)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&this.dispose()}_addListeners(){document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)}_removeListeners(){document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)}_updateDragScroll(e){let t=pn.findScrollTarget(e);!this._scrollTarget&&!t||(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=t)}_updateCurrentTarget(e){let t=this._currentTarget,r=this._currentTarget,n=this._currentElement,s=pn.findElementBehindBackdrop(e,this.document);this._currentElement=s,s!==n&&s!==r&&pn.dispatchDragExit(this,r,s,e),s!==n&&s!==r&&(r=pn.dispatchDragEnter(this,s,r,e)),r!==t&&(this._currentTarget=r,pn.dispatchDragLeave(this,t,r,e));let o=pn.dispatchDragOver(this,r,e);this._setDropAction(o)}_attachDragImage(e,t){if(!this.dragImage)return;this.dragImage.classList.add("lm-mod-drag-image");let r=this.dragImage.style;r.pointerEvents="none",r.position="fixed",r.transform=`translate(${e}px, ${t}px)`,(this.document instanceof Document?this.document.body:this.document.firstElementChild).appendChild(this.dragImage)}_detachDragImage(){if(!this.dragImage)return;let e=this.dragImage.parentNode;e&&e.removeChild(this.dragImage)}_setDropAction(e){if(e=pn.validateAction(e,this.supportedActions),!(this._override&&this._dropAction===e))switch(e){case"none":this._dropAction=e,this._override=dr.overrideCursor("no-drop",this.document);break;case"copy":this._dropAction=e,this._override=dr.overrideCursor("copy",this.document);break;case"link":this._dropAction=e,this._override=dr.overrideCursor("alias",this.document);break;case"move":this._dropAction=e,this._override=dr.overrideCursor("move",this.document);break}}_finalize(e){let t=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,t&&t(e)}};(function(i){class e extends DragEvent{constructor(n,s){super(s.type,{bubbles:!0,cancelable:!0,altKey:n.altKey,button:n.button,clientX:n.clientX,clientY:n.clientY,ctrlKey:n.ctrlKey,detail:0,metaKey:n.metaKey,relatedTarget:s.related,screenX:n.screenX,screenY:n.screenY,shiftKey:n.shiftKey,view:window});let{drag:o}=s;this.dropAction="none",this.mimeData=o.mimeData,this.proposedAction=o.proposedAction,this.supportedActions=o.supportedActions,this.source=o.source}}i.Event=e;function t(r,n=document){return pn.overrideCursor(r,n)}i.overrideCursor=t})(dr||(dr={}));(function(i){i.SCROLL_EDGE_SIZE=20;function e(S,M){return d[S]&f[M]?S:"none"}i.validateAction=e;function t(S,M=document){if(S){if(r&&S==r.event)return r.element;i.cursorBackdrop.style.zIndex="-1000";let _=M.elementFromPoint(S.clientX,S.clientY);return i.cursorBackdrop.style.zIndex="",r={event:S,element:_},_}else{let _=i.cursorBackdrop.style.transform;if(n&&_===n.transform)return n.element;let E=i.cursorBackdrop.getBoundingClientRect();i.cursorBackdrop.style.zIndex="-1000";let R=M.elementFromPoint(E.left+E.width/2,E.top+E.height/2);return i.cursorBackdrop.style.zIndex="",n={transform:_,element:R},R}}i.findElementBehindBackdrop=t;let r=null,n=null;function s(S){let M=S.clientX,_=S.clientY,E=t(S);for(;E;E=E.parentElement){if(!E.hasAttribute("data-lm-dragscroll"))continue;let R=0,A=0;E===document.body&&(R=window.pageXOffset,A=window.pageYOffset);let H=E.getBoundingClientRect(),$=H.top+A,X=H.left+R,ue=X+H.width,he=$+H.height;if(M<X||M>=ue||_<$||_>=he)continue;let Y=M-X+1,ee=_-$+1,ie=ue-M,pe=he-_,we=Math.min(Y,ee,ie,pe);if(we>i.SCROLL_EDGE_SIZE)continue;let Ve;switch(we){case pe:Ve="bottom";break;case ee:Ve="top";break;case ie:Ve="right";break;case Y:Ve="left";break;default:throw"unreachable"}let lt=E.scrollWidth-E.clientWidth,gt=E.scrollHeight-E.clientHeight,De;switch(Ve){case"top":De=gt>0&&E.scrollTop>0;break;case"left":De=lt>0&&E.scrollLeft>0;break;case"right":De=lt>0&&E.scrollLeft<lt;break;case"bottom":De=gt>0&&E.scrollTop<gt;break;default:throw"unreachable"}if(De)return{element:E,edge:Ve,distance:we}}return null}i.findScrollTarget=s;function o(S,M,_,E){if(!M)return null;let R=new dr.Event(E,{drag:S,related:_,type:"lm-dragenter"});if(!M.dispatchEvent(R))return M;let H=S.document instanceof Document?S.document.body:S.document.firstElementChild;return M===H?_:(R=new dr.Event(E,{drag:S,related:_,type:"lm-dragenter"}),H.dispatchEvent(R),H)}i.dispatchDragEnter=o;function a(S,M,_,E){if(!M)return;let R=new dr.Event(E,{drag:S,related:_,type:"lm-dragexit"});M.dispatchEvent(R)}i.dispatchDragExit=a;function l(S,M,_,E){if(!M)return;let R=new dr.Event(E,{drag:S,related:_,type:"lm-dragleave"});M.dispatchEvent(R)}i.dispatchDragLeave=l;function c(S,M,_){if(!M)return"none";let E=new dr.Event(_,{drag:S,related:null,type:"lm-dragover"});return M.dispatchEvent(E)?"none":E.dropAction}i.dispatchDragOver=c;function u(S,M,_){if(!M)return"none";let E=new dr.Event(_,{drag:S,related:null,type:"lm-drop"});return M.dispatchEvent(E)?"none":E.dropAction}i.dispatchDrop=u;let d={none:0,copy:1,link:2,move:4},f={none:d.none,copy:d.copy,link:d.link,move:d.move,"copy-link":d.copy|d.link,"copy-move":d.copy|d.move,"link-move":d.link|d.move,all:d.copy|d.link|d.move};function h(S,M=document){let _=++y,E=M instanceof Document?M.body:M.firstElementChild;return i.cursorBackdrop.isConnected||(i.cursorBackdrop.style.transform="scale(0)",E.appendChild(i.cursorBackdrop),v(),document.addEventListener("pointermove",m,{capture:!0,passive:!0}),i.cursorBackdrop.addEventListener("scroll",p,{capture:!0,passive:!0})),i.cursorBackdrop.style.cursor=S,new ks(()=>{_===y&&i.cursorBackdrop.isConnected&&(document.removeEventListener("pointermove",m,!0),i.cursorBackdrop.removeEventListener("scroll",p,!0),E.removeChild(i.cursorBackdrop))})}i.overrideCursor=h;function m(S){i.cursorBackdrop&&(i.cursorBackdrop.style.transform=`translate(${S.clientX}px, ${S.clientY}px)`)}function p(S){if(!i.cursorBackdrop)return;let M=t();if(!M)return;let _=M.closest("[data-lm-dragscroll]");_&&(_.scrollTop+=i.cursorBackdrop.scrollTop-x,_.scrollLeft+=i.cursorBackdrop.scrollLeft-x,v())}function v(){i.cursorBackdrop.scrollTop=x,i.cursorBackdrop.scrollLeft=x}let x=500;function C(){let S=document.createElement("div");return S.classList.add("lm-cursor-backdrop"),S}let y=0;i.cursorBackdrop=C()})(pn||(pn={}))});var zl,La,gs,G2,_e,D4,Ea,Tu,Vf,Ff,X2,K2,Do,Dl,Fw,H4,z4,Ww,Au,Zw,Y2,qw,vs,ku,B4,Uw,Wf,Ol,Sa,On,XB,bie,Gc,io,Gw,Qi,Nu,Wi,Hl,Mr,Zf,P4,KB,YB,Xw,JB,QB,eP=P(()=>{Bn();zl=N(tn());L0();UB();M0();Is();GB();kp();Tp();Ql();Ip();La=class{constructor(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}};(function(i){function e(s,o){let a=s.length;if(a===0)return o;let l=0,c=0,u=0,d=0,f=0;for(let p=0;p<a;++p){let v=s[p],x=v.minSize,C=v.maxSize,y=v.sizeHint;v.done=!1,v.size=Math.max(x,Math.min(y,C)),u+=v.size,l+=x,c+=C,v.stretch>0&&(d+=v.stretch,f++)}if(o===u)return 0;if(o<=l){for(let p=0;p<a;++p){let v=s[p];v.size=v.minSize}return o-l}if(o>=c){for(let p=0;p<a;++p){let v=s[p];v.size=v.maxSize}return o-c}let h=.01,m=a;if(o<u){let p=u-o;for(;f>0&&p>h;){let v=p,x=d;for(let C=0;C<a;++C){let y=s[C];if(y.done||y.stretch===0)continue;let S=y.stretch*v/x;y.size-S<=y.minSize?(p-=y.size-y.minSize,d-=y.stretch,y.size=y.minSize,y.done=!0,m--,f--):(p-=S,y.size-=S)}}for(;m>0&&p>h;){let v=p/m;for(let x=0;x<a;++x){let C=s[x];C.done||(C.size-v<=C.minSize?(p-=C.size-C.minSize,C.size=C.minSize,C.done=!0,m--):(p-=v,C.size-=v))}}}else{let p=o-u;for(;f>0&&p>h;){let v=p,x=d;for(let C=0;C<a;++C){let y=s[C];if(y.done||y.stretch===0)continue;let S=y.stretch*v/x;y.size+S>=y.maxSize?(p-=y.maxSize-y.size,d-=y.stretch,y.size=y.maxSize,y.done=!0,m--,f--):(p-=S,y.size+=S)}}for(;m>0&&p>h;){let v=p/m;for(let x=0;x<a;++x){let C=s[x];C.done||(C.size+v>=C.maxSize?(p-=C.maxSize-C.size,C.size=C.maxSize,C.done=!0,m--):(p-=v,C.size+=v))}}}return 0}i.calc=e;function t(s,o,a){s.length===0||a===0||(a>0?r(s,o,a):n(s,o,-a))}i.adjust=t;function r(s,o,a){let l=0;for(let f=0;f<=o;++f){let h=s[f];l+=h.maxSize-h.size}let c=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];c+=m.size-m.minSize}a=Math.min(a,l,c);let u=a;for(let f=o;f>=0&&u>0;--f){let h=s[f],m=h.maxSize-h.size;m>=u?(h.sizeHint=h.size+u,u=0):(h.sizeHint=h.size+m,u-=m)}let d=a;for(let f=o+1,h=s.length;f<h&&d>0;++f){let m=s[f],p=m.size-m.minSize;p>=d?(m.sizeHint=m.size-d,d=0):(m.sizeHint=m.size-p,d-=p)}}function n(s,o,a){let l=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];l+=m.maxSize-m.size}let c=0;for(let f=0;f<=o;++f){let h=s[f];c+=h.size-h.minSize}a=Math.min(a,l,c);let u=a;for(let f=o+1,h=s.length;f<h&&u>0;++f){let m=s[f],p=m.maxSize-m.size;p>=u?(m.sizeHint=m.size+u,u=0):(m.sizeHint=m.size+p,u-=p)}let d=a;for(let f=o;f>=0&&d>0;--f){let h=s[f],m=h.size-h.minSize;m>=d?(h.sizeHint=h.size-d,d=0):(h.sizeHint=h.size-m,d-=m)}}})(gs||(gs={}));G2=class{constructor(e){this._label="",this._caption="",this._mnemonic=-1,this._icon=void 0,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new Re(this),this._isDisposed=!1,this.owner=e.owner,e.label!==void 0&&(this._label=e.label),e.mnemonic!==void 0&&(this._mnemonic=e.mnemonic),e.icon!==void 0&&(this._icon=e.icon),e.iconClass!==void 0&&(this._iconClass=e.iconClass),e.iconLabel!==void 0&&(this._iconLabel=e.iconLabel),e.caption!==void 0&&(this._caption=e.caption),e.className!==void 0&&(this._className=e.className),e.closable!==void 0&&(this._closable=e.closable),this._dataset=e.dataset||{}}get changed(){return this._changed}get label(){return this._label}set label(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))}get mnemonic(){return this._mnemonic}set mnemonic(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))}get icon(){return this._icon}set icon(e){this._icon!==e&&(this._icon=e,this._changed.emit(void 0))}get iconClass(){return this._iconClass}set iconClass(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))}get iconLabel(){return this._iconLabel}set iconLabel(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))}get caption(){return this._caption}set caption(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))}get className(){return this._className}set className(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))}get closable(){return this._closable}set closable(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))}get dataset(){return this._dataset}set dataset(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Re.clearData(this))}},_e=class{constructor(e={}){this._flags=0,this._layout=null,this._parent=null,this._disposed=new Re(this),this._hiddenMode=_e.HiddenMode.Display,this.node=D4.createNode(e),this.addClass("lm-Widget")}dispose(){this.isDisposed||(this.setFlag(_e.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&_e.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),Re.clearData(this),Oe.clearData(this),ut.clearData(this))}get disposed(){return this._disposed}get isDisposed(){return this.testFlag(_e.Flag.IsDisposed)}get isAttached(){return this.testFlag(_e.Flag.IsAttached)}get isHidden(){return this.testFlag(_e.Flag.IsHidden)}get isVisible(){let e=this;do{if(e.isHidden||!e.isAttached)return!1;e=e.parent}while(e!=null);return!0}get title(){return D4.titleProperty.get(this)}get id(){return this.node.id}set id(e){this.node.id=e}get dataset(){return this.node.dataset}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this.isHidden&&this._toggleHidden(!1),e==_e.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=e,this.isHidden&&this._toggleHidden(!0))}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){let t=new _e.ChildMessage("child-removed",this);Oe.sendMessage(this._parent,t)}if(this._parent=e,this._parent&&!this._parent.isDisposed){let t=new _e.ChildMessage("child-added",this);Oe.sendMessage(this._parent,t)}this.isDisposed||Oe.sendMessage(this,_e.Msg.ParentChanged)}}get layout(){return this._layout}set layout(e){if(this._layout!==e){if(this.testFlag(_e.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}}*children(){this._layout&&(yield*this._layout)}contains(e){for(let t=e;t;t=t._parent)if(t===this)return!0;return!1}hasClass(e){return this.node.classList.contains(e)}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e,t){return t===!0?(this.node.classList.add(e),!0):t===!1?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)}update(){Oe.postMessage(this,_e.Msg.UpdateRequest)}fit(){Oe.postMessage(this,_e.Msg.FitRequest)}activate(){Oe.postMessage(this,_e.Msg.ActivateRequest)}close(){Oe.sendMessage(this,_e.Msg.CloseRequest)}show(){if(this.testFlag(_e.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&Oe.sendMessage(this,_e.Msg.BeforeShow),this.clearFlag(_e.Flag.IsHidden),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&Oe.sendMessage(this,_e.Msg.AfterShow),this.parent)){let e=new _e.ChildMessage("child-shown",this);Oe.sendMessage(this.parent,e)}}hide(){if(!this.testFlag(_e.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&Oe.sendMessage(this,_e.Msg.BeforeHide),this.setFlag(_e.Flag.IsHidden),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&Oe.sendMessage(this,_e.Msg.AfterHide),this.parent)){let e=new _e.ChildMessage("child-hidden",this);Oe.sendMessage(this.parent,e)}}setHidden(e){e?this.hide():this.show()}testFlag(e){return(this._flags&e)!==0}setFlag(e){this._flags|=e}clearFlag(e){this._flags&=~e}processMessage(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(_e.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(_e.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(_e.Flag.IsVisible),this.setFlag(_e.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(_e.Flag.IsVisible),this.clearFlag(_e.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e);break}}notifyLayout(e){this._layout&&this._layout.processParentMessage(e)}onCloseRequest(e){this.parent?this.parent=null:this.isAttached&&_e.detach(this)}onResize(e){}onUpdateRequest(e){}onFitRequest(e){}onActivateRequest(e){}onBeforeShow(e){}onAfterShow(e){}onBeforeHide(e){}onAfterHide(e){}onBeforeAttach(e){}onAfterAttach(e){}onBeforeDetach(e){}onAfterDetach(e){}onChildAdded(e){}onChildRemoved(e){}_toggleHidden(e){if(e)switch(this._hiddenMode){case _e.HiddenMode.Display:this.addClass("lm-mod-hidden");break;case _e.HiddenMode.Scale:this.node.style.transform="scale(0)",this.node.setAttribute("aria-hidden","true");break;case _e.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case _e.HiddenMode.Display:this.removeClass("lm-mod-hidden");break;case _e.HiddenMode.Scale:this.node.style.transform="",this.node.removeAttribute("aria-hidden");break;case _e.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}}};(function(i){(function(s){s[s.Display=0]="Display",s[s.Scale=1]="Scale",s[s.ContentVisibility=2]="ContentVisibility"})(i.HiddenMode||(i.HiddenMode={})),function(s){s[s.IsDisposed=1]="IsDisposed",s[s.IsAttached=2]="IsAttached",s[s.IsHidden=4]="IsHidden",s[s.IsVisible=8]="IsVisible",s[s.DisallowLayout=16]="DisallowLayout"}(i.Flag||(i.Flag={})),function(s){s.BeforeShow=new Nn("before-show"),s.AfterShow=new Nn("after-show"),s.BeforeHide=new Nn("before-hide"),s.AfterHide=new Nn("after-hide"),s.BeforeAttach=new Nn("before-attach"),s.AfterAttach=new Nn("after-attach"),s.BeforeDetach=new Nn("before-detach"),s.AfterDetach=new Nn("after-detach"),s.ParentChanged=new Nn("parent-changed"),s.UpdateRequest=new Uc("update-request"),s.FitRequest=new Uc("fit-request"),s.ActivateRequest=new Uc("activate-request"),s.CloseRequest=new Uc("close-request")}(i.Msg||(i.Msg={}));class e extends Nn{constructor(o,a){super(o),this.child=a}}i.ChildMessage=e;class t extends Nn{constructor(o,a){super("resize"),this.width=o,this.height=a}}i.ResizeMessage=t,function(s){s.UnknownSize=new s(-1,-1)}(t=i.ResizeMessage||(i.ResizeMessage={}));function r(s,o,a=null){if(s.parent)throw new Error("Cannot attach a child widget.");if(s.isAttached||s.node.isConnected)throw new Error("Widget is already attached.");if(!o.isConnected)throw new Error("Host is not attached.");Oe.sendMessage(s,i.Msg.BeforeAttach),o.insertBefore(s.node,a),Oe.sendMessage(s,i.Msg.AfterAttach)}i.attach=r;function n(s){if(s.parent)throw new Error("Cannot detach a child widget.");if(!s.isAttached||!s.node.isConnected)throw new Error("Widget is not attached.");Oe.sendMessage(s,i.Msg.BeforeDetach),s.node.parentNode.removeChild(s.node),Oe.sendMessage(s,i.Msg.AfterDetach)}i.detach=n})(_e||(_e={}));(function(i){i.titleProperty=new ut({name:"title",create:t=>new G2({owner:t})});function e(t){return t.node||document.createElement(t.tag||"div")}i.createNode=e})(D4||(D4={}));Ea=class{constructor(e={}){this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}dispose(){this._parent=null,this._disposed=!0,Re.clearData(this),ut.clearData(this)}get isDisposed(){return this._disposed}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}}get fitPolicy(){return this._fitPolicy}set fitPolicy(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){let t=this._parent.node.style;t.minWidth="",t.minHeight="",t.maxWidth="",t.maxHeight="",this._parent.fit()}}processParentMessage(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}}init(){for(let e of this)e.parent=this.parent}onResize(e){for(let t of this)Oe.sendMessage(t,_e.ResizeMessage.UnknownSize)}onUpdateRequest(e){for(let t of this)Oe.sendMessage(t,_e.ResizeMessage.UnknownSize)}onBeforeAttach(e){for(let t of this)Oe.sendMessage(t,e)}onAfterAttach(e){for(let t of this)Oe.sendMessage(t,e)}onBeforeDetach(e){for(let t of this)Oe.sendMessage(t,e)}onAfterDetach(e){for(let t of this)Oe.sendMessage(t,e)}onBeforeShow(e){for(let t of this)t.isHidden||Oe.sendMessage(t,e)}onAfterShow(e){for(let t of this)t.isHidden||Oe.sendMessage(t,e)}onBeforeHide(e){for(let t of this)t.isHidden||Oe.sendMessage(t,e)}onAfterHide(e){for(let t of this)t.isHidden||Oe.sendMessage(t,e)}onChildRemoved(e){this.removeWidget(e.child)}onFitRequest(e){}onChildShown(e){}onChildHidden(e){}};(function(i){function e(s){return Vf.horizontalAlignmentProperty.get(s)}i.getHorizontalAlignment=e;function t(s,o){Vf.horizontalAlignmentProperty.set(s,o)}i.setHorizontalAlignment=t;function r(s){return Vf.verticalAlignmentProperty.get(s)}i.getVerticalAlignment=r;function n(s,o){Vf.verticalAlignmentProperty.set(s,o)}i.setVerticalAlignment=n})(Ea||(Ea={}));Tu=class{constructor(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute",this.widget.node.style.contain="strict"}dispose(){if(this._disposed)return;this._disposed=!0;let e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height="",e.contain=""}get minWidth(){return this._minWidth}get minHeight(){return this._minHeight}get maxWidth(){return this._maxWidth}get maxHeight(){return this._maxHeight}get isDisposed(){return this._disposed}get isHidden(){return this.widget.isHidden}get isVisible(){return this.widget.isVisible}get isAttached(){return this.widget.isAttached}fit(){let e=Me.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight}update(e,t,r,n){let s=Math.max(this._minWidth,Math.min(r,this._maxWidth)),o=Math.max(this._minHeight,Math.min(n,this._maxHeight));if(s<r)switch(Ea.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(r-s)/2;break;case"right":e+=r-s;break;default:throw"unreachable"}if(o<n)switch(Ea.getVerticalAlignment(this.widget)){case"top":break;case"center":t+=(n-o)/2;break;case"bottom":t+=n-o;break;default:throw"unreachable"}let a=!1,l=this.widget.node.style;if(this._top!==t&&(this._top=t,l.top=`${t}px`),this._left!==e&&(this._left=e,l.left=`${e}px`),this._width!==s&&(a=!0,this._width=s,l.width=`${s}px`),this._height!==o&&(a=!0,this._height=o,l.height=`${o}px`),a){let c=new _e.ResizeMessage(s,o);Oe.sendMessage(this.widget,c)}}};(function(i){i.horizontalAlignmentProperty=new ut({name:"horizontalAlignment",create:()=>"center",changed:e}),i.verticalAlignmentProperty=new ut({name:"verticalAlignment",create:()=>"top",changed:e});function e(t){t.parent&&t.parent.layout&&t.parent.update()}})(Vf||(Vf={}));Ff=class extends Ea{constructor(){super(...arguments),this._widgets=[]}dispose(){for(;this._widgets.length>0;)this._widgets.pop().dispose();super.dispose()}get widgets(){return this._widgets}*[Symbol.iterator](){yield*this._widgets}addWidget(e){this.insertWidget(this._widgets.length,e)}insertWidget(e,t){t.parent=this.parent;let r=this._widgets.indexOf(t),n=Math.max(0,Math.min(e,this._widgets.length));if(r===-1){z.insert(this._widgets,n,t),this.parent&&this.attachWidget(n,t);return}n===this._widgets.length&&n--,r!==n&&(z.move(this._widgets,r,n),this.parent&&this.moveWidget(r,n,t))}removeWidget(e){this.removeWidgetAt(this._widgets.indexOf(e))}removeWidgetAt(e){let t=z.removeAt(this._widgets,e);t&&this.parent&&this.detachWidget(e,t)}init(){super.init();let e=0;for(let t of this)this.attachWidget(e++,t)}attachWidget(e,t){let r=this.parent.node.children[e];this.parent.isAttached&&Oe.sendMessage(t,_e.Msg.BeforeAttach),this.parent.node.insertBefore(t.node,r),this.parent.isAttached&&Oe.sendMessage(t,_e.Msg.AfterAttach)}moveWidget(e,t,r){this.parent.isAttached&&Oe.sendMessage(r,_e.Msg.BeforeDetach),this.parent.node.removeChild(r.node),this.parent.isAttached&&Oe.sendMessage(r,_e.Msg.AfterDetach);let n=this.parent.node.children[t];this.parent.isAttached&&Oe.sendMessage(r,_e.Msg.BeforeAttach),this.parent.node.insertBefore(r.node,n),this.parent.isAttached&&Oe.sendMessage(r,_e.Msg.AfterAttach)}detachWidget(e,t){this.parent.isAttached&&Oe.sendMessage(t,_e.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&Oe.sendMessage(t,_e.Msg.AfterDetach)}};(function(i){function e(t){return Math.max(0,Math.floor(t))}i.clampDimension=e})(X2||(X2={}));K2=X2,Do=class extends Ff{constructor(e){super(),this.widgetOffset=0,this._fixed=0,this._spacing=4,this._dirty=!1,this._hasNormedSizes=!1,this._sizers=[],this._items=[],this._handles=[],this._box=null,this._alignment="start",this._orientation="horizontal",this.renderer=e.renderer,e.orientation!==void 0&&(this._orientation=e.orientation),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=X2.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,super.dispose()}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=X2.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get handles(){return this._handles}absoluteSizes(){return this._sizers.map(e=>e.size)}relativeSizes(){return Dl.normalize(this._sizers.map(e=>e.size))}setRelativeSizes(e,t=!0){let r=this._sizers.length,n=e.slice(0,r);for(;n.length<r;)n.push(0);let s=Dl.normalize(n);for(let o=0;o<r;++o){let a=this._sizers[o];a.sizeHint=s[o],a.size=s[o]}this._hasNormedSizes=!0,t&&this.parent&&this.parent.update()}moveHandle(e,t){let r=this._handles[e];if(!r||r.classList.contains("lm-mod-hidden"))return;let n;if(this._orientation==="horizontal"?n=t-r.offsetLeft:n=t-r.offsetTop,n!==0){for(let s of this._sizers)s.size>0&&(s.sizeHint=s.size);gs.adjust(this._sizers,e,n),this.parent&&this.parent.update()}}init(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,t){let r=new Tu(t),n=Dl.createHandle(this.renderer),s=Dl.averageSize(this._sizers),o=Dl.createSizer(s);z.insert(this._items,e,r),z.insert(this._sizers,e,o),z.insert(this._handles,e,n),this.parent.isAttached&&Oe.sendMessage(t,_e.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.node.appendChild(n),this.parent.isAttached&&Oe.sendMessage(t,_e.Msg.AfterAttach),this.parent.fit()}moveWidget(e,t,r){z.move(this._items,e,t),z.move(this._sizers,e,t),z.move(this._handles,e,t),this.parent.fit()}detachWidget(e,t){let r=z.removeAt(this._items,e),n=z.removeAt(this._handles,e);z.removeAt(this._sizers,e),this.parent.isAttached&&Oe.sendMessage(t,_e.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.node.removeChild(n),this.parent.isAttached&&Oe.sendMessage(t,_e.Msg.AfterDetach),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}updateItemPosition(e,t,r,n,s,o,a){let l=this._items[e];if(l.isHidden)return;let c=this._handles[e].style;t?(r+=this.widgetOffset,l.update(r,n,a,s),r+=a,c.top=`${n}px`,c.left=`${r}px`,c.width=`${this._spacing}px`,c.height=`${s}px`):(n+=this.widgetOffset,l.update(r,n,o,a),n+=a,c.top=`${n}px`,c.left=`${r}px`,c.width=`${o}px`,c.height=`${this._spacing}px`)}_fit(){let e=0,t=-1;for(let l=0,c=this._items.length;l<c;++l)this._items[l].isHidden?this._handles[l].classList.add("lm-mod-hidden"):(this._handles[l].classList.remove("lm-mod-hidden"),t=l,e++);t!==-1&&this._handles[t].classList.add("lm-mod-hidden"),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;let r=this._orientation==="horizontal",n=r?this._fixed:0,s=r?0:this._fixed;for(let l=0,c=this._items.length;l<c;++l){let u=this._items[l],d=this._sizers[l];if(d.size>0&&(d.sizeHint=d.size),u.isHidden){d.minSize=0,d.maxSize=0;continue}u.fit(),d.stretch=Do.getStretch(u.widget),r?(d.minSize=u.minWidth,d.maxSize=u.maxWidth,n+=u.minWidth,s=Math.max(s,u.minHeight)):(d.minSize=u.minHeight,d.maxSize=u.maxHeight,s+=u.minHeight,n=Math.max(n,u.minWidth))}let o=this._box=Me.boxSizing(this.parent.node);n+=o.horizontalSum,s+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${n}px`,a.minHeight=`${s}px`,this._dirty=!0,this.parent.parent&&Oe.sendMessage(this.parent.parent,_e.Msg.FitRequest),this._dirty&&Oe.sendMessage(this.parent,_e.Msg.UpdateRequest)}_update(e,t){this._dirty=!1;let r=0;for(let d=0,f=this._items.length;d<f;++d)r+=+!this._items[d].isHidden;if(r===0&&this.widgetOffset===0)return;e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=Me.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=t-this._box.verticalSum,l=0,c=0,u=this._orientation==="horizontal";if(r>0){let d;if(u?d=Math.max(0,o-this._fixed):d=Math.max(0,a-this._fixed),this._hasNormedSizes){for(let h of this._sizers)h.sizeHint*=d;this._hasNormedSizes=!1}let f=gs.calc(this._sizers,d);if(f>0)switch(this._alignment){case"start":break;case"center":l=0,c=f/2;break;case"end":l=0,c=f;break;case"justify":l=f/r,c=0;break;default:throw"unreachable"}}for(let d=0,f=this._items.length;d<f;++d){let m=this._items[d].isHidden?0:this._sizers[d].size+l;this.updateItemPosition(d,u,u?s+c:s,u?n:n+c,a,o,m);let p=this.widgetOffset+(this._handles[d].classList.contains("lm-mod-hidden")?0:this._spacing);u?s+=m+p:n+=m+p}}};(function(i){function e(r){return Dl.stretchProperty.get(r)}i.getStretch=e;function t(r,n){Dl.stretchProperty.set(r,n)}i.setStretch=t})(Do||(Do={}));(function(i){i.stretchProperty=new ut({name:"stretch",create:()=>0,coerce:(o,a)=>Math.max(0,Math.floor(a)),changed:s});function e(o){let a=new La;return a.sizeHint=Math.floor(o),a}i.createSizer=e;function t(o){let a=o.createHandle();return a.style.position="absolute",a.style.contain="style",a}i.createHandle=t;function r(o){return o.reduce((a,l)=>a+l.size,0)/o.length||0}i.averageSize=r;function n(o){let a=o.length;if(a===0)return[];let l=o.reduce((c,u)=>c+Math.abs(u),0);return l===0?o.map(c=>1/a):o.map(c=>c/l)}i.normalize=n;function s(o){o.parent&&o.parent.layout instanceof Do&&o.parent.fit()}})(Dl||(Dl={}));Fw=class extends Do{constructor(e){super({...e,orientation:e.orientation||"vertical"}),this._titles=[],this.titleSpace=e.titleSpace||22}get titleSpace(){return this.widgetOffset}set titleSpace(e){e=K2.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())}get titles(){return this._titles}dispose(){this.isDisposed||(this._titles.length=0,super.dispose())}updateTitle(e,t){let r=this._titles[e],n=r.classList.contains("lm-mod-expanded"),s=H4.createTitle(this.renderer,t.title,n);this._titles[e]=s,this.parent.node.replaceChild(s,r)}insertWidget(e,t){t.id||(t.id=`id-${zl.UUID.uuid4()}`),super.insertWidget(e,t)}attachWidget(e,t){let r=H4.createTitle(this.renderer,t.title);z.insert(this._titles,e,r),this.parent.node.appendChild(r),t.node.setAttribute("role","region"),t.node.setAttribute("aria-labelledby",r.id),super.attachWidget(e,t)}moveWidget(e,t,r){z.move(this._titles,e,t),super.moveWidget(e,t,r)}detachWidget(e,t){let r=z.removeAt(this._titles,e);this.parent.node.removeChild(r),super.detachWidget(e,t)}updateItemPosition(e,t,r,n,s,o,a){let l=this._titles[e].style;l.top=`${n}px`,l.left=`${r}px`,l.height=`${this.widgetOffset}px`,t?l.width=`${s}px`:l.width=`${o}px`,super.updateItemPosition(e,t,r,n,s,o,a)}};(function(i){function e(t,r,n=!0){let s=t.createSectionTitle(r);return s.style.position="absolute",s.style.contain="strict",s.setAttribute("aria-label",`${r.label} Section`),s.setAttribute("aria-expanded",n?"true":"false"),s.setAttribute("aria-controls",r.owner.id),n&&s.classList.add("lm-mod-expanded"),s}i.createTitle=e})(H4||(H4={}));z4=class extends _e{constructor(e={}){super(),this.addClass("lm-Panel"),this.layout=Ww.createLayout(e)}get widgets(){return this.layout.widgets}addWidget(e){this.layout.addWidget(e)}insertWidget(e,t){this.layout.insertWidget(e,t)}};(function(i){function e(t){return t.layout||new Ff}i.createLayout=e})(Ww||(Ww={}));Au=class extends z4{constructor(e={}){super({layout:Zw.createLayout(e)}),this._handleMoved=new Re(this),this._pressData=null,this.addClass("lm-SplitPanel")}dispose(){this._releaseMouse(),super.dispose()}get orientation(){return this.layout.orientation}set orientation(e){this.layout.orientation=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get renderer(){return this.layout.renderer}get handleMoved(){return this._handleMoved}get handles(){return this.layout.handles}relativeSizes(){return this.layout.relativeSizes()}setRelativeSizes(e,t=!0){this.layout.setRelativeSizes(e,t)}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){e.child.addClass("lm-SplitPanel-child"),this._releaseMouse()}onChildRemoved(e){e.child.removeClass("lm-SplitPanel-child"),this._releaseMouse()}_evtKeyDown(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),e.keyCode===27&&this._releaseMouse()}_evtPointerDown(e){if(e.button!==0)return;let t=this.layout,r=z.findFirstIndex(t.handles,c=>c.contains(e.target));if(r===-1)return;e.preventDefault(),e.stopPropagation(),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);let n,s=t.handles[r],o=s.getBoundingClientRect();t.orientation==="horizontal"?n=e.clientX-o.left:n=e.clientY-o.top;let a=window.getComputedStyle(s),l=dr.overrideCursor(a.cursor);this._pressData={index:r,delta:n,override:l}}_evtPointerMove(e){e.preventDefault(),e.stopPropagation();let t,r=this.layout,n=this.node.getBoundingClientRect();r.orientation==="horizontal"?t=e.clientX-n.left-this._pressData.delta:t=e.clientY-n.top-this._pressData.delta,r.moveHandle(this._pressData.index,t)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))}};(function(i){class e{createHandle(){let s=document.createElement("div");return s.className="lm-SplitPanel-handle",s}}i.Renderer=e,i.defaultRenderer=new e;function t(n){return Do.getStretch(n)}i.getStretch=t;function r(n,s){Do.setStretch(n,s)}i.setStretch=r})(Au||(Au={}));(function(i){function e(t){return t.layout||new Do({renderer:t.renderer||Au.defaultRenderer,orientation:t.orientation,alignment:t.alignment,spacing:t.spacing})}i.createLayout=e})(Zw||(Zw={}));Y2=class extends Au{constructor(e={}){super({...e,layout:qw.createLayout(e)}),this._widgetSizesCache=new WeakMap,this._expansionToggled=new Re(this),this.addClass("lm-AccordionPanel")}get renderer(){return this.layout.renderer}get titleSpace(){return this.layout.titleSpace}set titleSpace(e){this.layout.titleSpace=e}get titles(){return this.layout.titles}get expansionToggled(){return this._expansionToggled}addWidget(e){super.addWidget(e),e.title.changed.connect(this._onTitleChanged,this)}collapse(e){let t=this.layout.widgets[e];t&&!t.isHidden&&this._toggleExpansion(e)}expand(e){let t=this.layout.widgets[e];t&&t.isHidden&&this._toggleExpansion(e)}insertWidget(e,t){super.insertWidget(e,t),t.title.changed.connect(this._onTitleChanged,this)}handleEvent(e){switch(super.handleEvent(e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),super.onBeforeAttach(e)}onAfterDetach(e){super.onAfterDetach(e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)}_onTitleChanged(e){let t=z.findFirstIndex(this.widgets,r=>r.contains(e.owner));t>=0&&(this.layout.updateTitle(t,e.owner),this.update())}_computeWidgetSize(e){let t=this.layout,r=t.widgets[e];if(!r)return;let n=r.isHidden,s=t.absoluteSizes(),o=(n?-1:1)*this.spacing,a=s.reduce((c,u)=>c+u),l=[...s];if(n){let c=this._widgetSizesCache.get(r);if(!c)return;l[e]+=c;let u=l.map(d=>d-c>0).lastIndexOf(!0);u===-1?l.forEach((d,f)=>{f!==e&&(l[f]-=s[f]/a*(c-o))}):l[u]-=c-o}else{let c=s[e];this._widgetSizesCache.set(r,c),l[e]=0;let u=l.map(d=>d>0).lastIndexOf(!0);if(u===-1)return;l[u]=s[u]+c+o}return l.map(c=>c/(a+o))}_evtClick(e){let t=e.target;if(t){let r=z.findFirstIndex(this.titles,n=>n.contains(t));r>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(r))}}_eventKeyDown(e){if(e.defaultPrevented)return;let t=e.target,r=!1;if(t){let n=z.findFirstIndex(this.titles,s=>s.contains(t));if(n>=0){let s=e.keyCode.toString();if(e.key.match(/Space|Enter/)||s.match(/13|32/))t.click(),r=!0;else if(this.orientation==="horizontal"?e.key.match(/ArrowLeft|ArrowRight/)||s.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||s.match(/38|40/)){let o=e.key.match(/ArrowLeft|ArrowUp/)||s.match(/37|38/)?-1:1,a=this.titles.length,l=(n+a+o)%a;this.titles[l].focus(),r=!0}else e.key==="End"||s==="35"?(this.titles[this.titles.length-1].focus(),r=!0):(e.key==="Home"||s==="36")&&(this.titles[0].focus(),r=!0)}r&&e.preventDefault()}}_toggleExpansion(e){let t=this.titles[e],r=this.layout.widgets[e],n=this._computeWidgetSize(e);n&&this.setRelativeSizes(n,!1),r.isHidden?(t.classList.add("lm-mod-expanded"),t.setAttribute("aria-expanded","true"),r.show()):(t.classList.remove("lm-mod-expanded"),t.setAttribute("aria-expanded","false"),r.hide()),this._expansionToggled.emit(e)}};(function(i){class e extends Au.Renderer{constructor(){super(),this.titleClassName="lm-AccordionPanel-title",this._titleID=0,this._titleKeys=new WeakMap,this._uuid=++e._nInstance}createCollapseIcon(r){return document.createElement("span")}createSectionTitle(r){let n=document.createElement("h3");n.setAttribute("tabindex","0"),n.id=this.createTitleKey(r),n.className=this.titleClassName;for(let a in r.dataset)n.dataset[a]=r.dataset[a];let s=n.appendChild(this.createCollapseIcon(r));s.className="lm-AccordionPanel-titleCollapser";let o=n.appendChild(document.createElement("span"));return o.className="lm-AccordionPanel-titleLabel",o.textContent=r.label,o.title=r.caption||r.label,n}createTitleKey(r){let n=this._titleKeys.get(r);return n===void 0&&(n=`title-key-${this._uuid}-${this._titleID++}`,this._titleKeys.set(r,n)),n}}e._nInstance=0,i.Renderer=e,i.defaultRenderer=new e})(Y2||(Y2={}));(function(i){function e(t){return t.layout||new Fw({renderer:t.renderer||Y2.defaultRenderer,orientation:t.orientation,alignment:t.alignment,spacing:t.spacing,titleSpace:t.titleSpace})}i.createLayout=e})(qw||(qw={}));vs=class extends Ff{constructor(e={}){super(),this._fixed=0,this._spacing=4,this._dirty=!1,this._sizers=[],this._items=[],this._box=null,this._alignment="start",this._direction="top-to-bottom",e.direction!==void 0&&(this._direction=e.direction),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=K2.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,super.dispose()}get direction(){return this._direction}set direction(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=K2.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}init(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,t){z.insert(this._items,e,new Tu(t)),z.insert(this._sizers,e,new La),this.parent.isAttached&&Oe.sendMessage(t,_e.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&Oe.sendMessage(t,_e.Msg.AfterAttach),this.parent.fit()}moveWidget(e,t,r){z.move(this._items,e,t),z.move(this._sizers,e,t),this.parent.update()}detachWidget(e,t){let r=z.removeAt(this._items,e);z.removeAt(this._sizers,e),this.parent.isAttached&&Oe.sendMessage(t,_e.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&Oe.sendMessage(t,_e.Msg.AfterDetach),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0;for(let a=0,l=this._items.length;a<l;++a)e+=+!this._items[a].isHidden;this._fixed=this._spacing*Math.max(0,e-1);let t=ku.isHorizontal(this._direction),r=t?this._fixed:0,n=t?0:this._fixed;for(let a=0,l=this._items.length;a<l;++a){let c=this._items[a],u=this._sizers[a];if(c.isHidden){u.minSize=0,u.maxSize=0;continue}c.fit(),u.sizeHint=vs.getSizeBasis(c.widget),u.stretch=vs.getStretch(c.widget),t?(u.minSize=c.minWidth,u.maxSize=c.maxWidth,r+=c.minWidth,n=Math.max(n,c.minHeight)):(u.minSize=c.minHeight,u.maxSize=c.maxHeight,n+=c.minHeight,r=Math.max(r,c.minWidth))}let s=this._box=Me.boxSizing(this.parent.node);r+=s.horizontalSum,n+=s.verticalSum;let o=this.parent.node.style;o.minWidth=`${r}px`,o.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&Oe.sendMessage(this.parent.parent,_e.Msg.FitRequest),this._dirty&&Oe.sendMessage(this.parent,_e.Msg.UpdateRequest)}_update(e,t){this._dirty=!1;let r=0;for(let d=0,f=this._items.length;d<f;++d)r+=+!this._items[d].isHidden;if(r===0)return;e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=Me.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=t-this._box.verticalSum,l;switch(this._direction){case"left-to-right":l=gs.calc(this._sizers,Math.max(0,o-this._fixed));break;case"top-to-bottom":l=gs.calc(this._sizers,Math.max(0,a-this._fixed));break;case"right-to-left":l=gs.calc(this._sizers,Math.max(0,o-this._fixed)),s+=o;break;case"bottom-to-top":l=gs.calc(this._sizers,Math.max(0,a-this._fixed)),n+=a;break;default:throw"unreachable"}let c=0,u=0;if(l>0)switch(this._alignment){case"start":break;case"center":c=0,u=l/2;break;case"end":c=0,u=l;break;case"justify":c=l/r,u=0;break;default:throw"unreachable"}for(let d=0,f=this._items.length;d<f;++d){let h=this._items[d];if(h.isHidden)continue;let m=this._sizers[d].size;switch(this._direction){case"left-to-right":h.update(s+u,n,m+c,a),s+=m+c+this._spacing;break;case"top-to-bottom":h.update(s,n+u,o,m+c),n+=m+c+this._spacing;break;case"right-to-left":h.update(s-u-m-c,n,m+c,a),s-=m+c+this._spacing;break;case"bottom-to-top":h.update(s,n-u-m-c,o,m+c),n-=m+c+this._spacing;break;default:throw"unreachable"}}}};(function(i){function e(s){return ku.stretchProperty.get(s)}i.getStretch=e;function t(s,o){ku.stretchProperty.set(s,o)}i.setStretch=t;function r(s){return ku.sizeBasisProperty.get(s)}i.getSizeBasis=r;function n(s,o){ku.sizeBasisProperty.set(s,o)}i.setSizeBasis=n})(vs||(vs={}));(function(i){i.stretchProperty=new ut({name:"stretch",create:()=>0,coerce:(n,s)=>Math.max(0,Math.floor(s)),changed:r}),i.sizeBasisProperty=new ut({name:"sizeBasis",create:()=>0,coerce:(n,s)=>Math.max(0,Math.floor(s)),changed:r});function e(n){return n==="left-to-right"||n==="right-to-left"}i.isHorizontal=e;function t(n){return Math.max(0,Math.floor(n))}i.clampSpacing=t;function r(n){n.parent&&n.parent.layout instanceof vs&&n.parent.fit()}})(ku||(ku={}));B4=class extends z4{constructor(e={}){super({layout:Uw.createLayout(e)}),this.addClass("lm-BoxPanel")}get direction(){return this.layout.direction}set direction(e){this.layout.direction=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}onChildAdded(e){e.child.addClass("lm-BoxPanel-child")}onChildRemoved(e){e.child.removeClass("lm-BoxPanel-child")}};(function(i){function e(s){return vs.getStretch(s)}i.getStretch=e;function t(s,o){vs.setStretch(s,o)}i.setStretch=t;function r(s){return vs.getSizeBasis(s)}i.getSizeBasis=r;function n(s,o){vs.setSizeBasis(s,o)}i.setSizeBasis=n})(B4||(B4={}));(function(i){function e(t){return t.layout||new vs(t)}i.createLayout=e})(Uw||(Uw={}));Wf=class extends _e{constructor(e){super({node:Ol.createNode()}),this._activeIndex=-1,this._items=[],this._results=null,this.addClass("lm-CommandPalette"),this.setFlag(_e.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||Wf.defaultRenderer,this.commands.commandChanged.connect(this._onGenericChange,this),this.commands.keyBindingChanged.connect(this._onGenericChange,this)}dispose(){this._items.length=0,this._results=null,super.dispose()}get searchNode(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]}get inputNode(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]}get contentNode(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]}get items(){return this._items}addItem(e){let t=Ol.createItem(this.commands,e);return this._items.push(t),this.refresh(),t}addItems(e){let t=e.map(r=>Ol.createItem(this.commands,r));return t.forEach(r=>this._items.push(r)),this.refresh(),t}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){z.removeAt(this._items,e)&&this.refresh()}clearItems(){this._items.length!==0&&(this._items.length=0,this.refresh())}refresh(){if(this._results=null,this.inputNode.value!==""){let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)}onAfterDetach(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)}onAfterShow(e){this.update(),super.onAfterShow(e)}onActivateRequest(e){if(this.isAttached){let t=this.inputNode;t.focus(),t.select()}}onUpdateRequest(e){if(!this.isVisible){Bt.render(null,this.contentNode);return}let t=this.inputNode.value,r=this.contentNode,n=this._results;if(n||(n=this._results=Ol.search(this._items,t),this._activeIndex=t?z.findFirstIndex(n,Ol.canActivate):-1),!t&&n.length===0){Bt.render(null,r);return}if(t&&n.length===0){let l=this.renderer.renderEmptyMessage({query:t});Bt.render(l,r);return}let s=this.renderer,o=this._activeIndex,a=new Array(n.length);for(let l=0,c=n.length;l<c;++l){let u=n[l];if(u.type==="header"){let d=u.indices,f=u.category;a[l]=s.renderHeader({category:f,indices:d})}else{let d=u.item,f=u.indices,h=l===o;a[l]=s.renderItem({item:d,indices:f,active:h})}}if(Bt.render(a,r),o<0||o>=n.length)r.scrollTop=0;else{let l=r.children[o];Me.scrollIntoViewIfNeeded(r,l)}}_evtClick(e){if(e.button!==0)return;if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}let t=z.findFirstIndex(this.contentNode.children,r=>r.contains(e.target));t!==-1&&(e.preventDefault(),e.stopPropagation(),this._execute(t))}_evtKeyDown(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}}_activateNextItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,t=this._results.length,r=e<t-1?e+1:0,n=r===0?t-1:r-1;this._activeIndex=z.findFirstIndex(this._results,Ol.canActivate,r,n),this.update()}_activatePreviousItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,t=this._results.length,r=e<=0?t-1:e-1,n=r===t-1?0:r+1;this._activeIndex=z.findLastIndex(this._results,Ol.canActivate,r,n),this.update()}_execute(e){if(!this._results)return;let t=this._results[e];if(t){if(t.type==="header"){let r=this.inputNode;r.value=`${t.category.toLowerCase()} `,r.focus(),this.refresh();return}t.item.isEnabled&&(this.commands.execute(t.item.command,t.item.args),this.inputNode.value="",this.refresh())}}_toggleFocused(){let e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e)}_onGenericChange(){this.refresh()}};(function(i){class e{renderHeader(r){let n=this.formatHeader(r);return xe.li({className:"lm-CommandPalette-header"},n)}renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r);return r.item.isToggleable?xe.li({className:n,dataset:s,role:"menuitemcheckbox","aria-checked":`${r.item.isToggled}`},this.renderItemIcon(r),this.renderItemContent(r),this.renderItemShortcut(r)):xe.li({className:n,dataset:s,role:"menuitem"},this.renderItemIcon(r),this.renderItemContent(r),this.renderItemShortcut(r))}renderEmptyMessage(r){let n=this.formatEmptyMessage(r);return xe.li({className:"lm-CommandPalette-emptyMessage"},n)}renderItemIcon(r){let n=this.createIconClass(r);return xe.div({className:n},r.item.icon,r.item.iconLabel)}renderItemContent(r){return xe.div({className:"lm-CommandPalette-itemContent"},this.renderItemLabel(r),this.renderItemCaption(r))}renderItemLabel(r){let n=this.formatItemLabel(r);return xe.div({className:"lm-CommandPalette-itemLabel"},n)}renderItemCaption(r){let n=this.formatItemCaption(r);return xe.div({className:"lm-CommandPalette-itemCaption"},n)}renderItemShortcut(r){let n=this.formatItemShortcut(r);return xe.div({className:"lm-CommandPalette-itemShortcut"},n)}createItemClass(r){let n="lm-CommandPalette-item";r.item.isEnabled||(n+=" lm-mod-disabled"),r.item.isToggled&&(n+=" lm-mod-toggled"),r.active&&(n+=" lm-mod-active");let s=r.item.className;return s&&(n+=` ${s}`),n}createItemDataset(r){return{...r.item.dataset,command:r.item.command}}createIconClass(r){let n="lm-CommandPalette-itemIcon",s=r.item.iconClass;return s?`${n} ${s}`:n}formatHeader(r){return!r.indices||r.indices.length===0?r.category:en.highlight(r.category,r.indices,xe.mark)}formatEmptyMessage(r){return`No commands found that match '${r.query}'`}formatItemShortcut(r){let n=r.item.keyBinding;return n?rn.formatKeystroke(n.keys):null}formatItemLabel(r){return!r.indices||r.indices.length===0?r.item.label:en.highlight(r.item.label,r.indices,xe.mark)}formatItemCaption(r){return r.item.caption}}i.Renderer=e,i.defaultRenderer=new e})(Wf||(Wf={}));(function(i){function e(){let f=document.createElement("div"),h=document.createElement("div"),m=document.createElement("div"),p=document.createElement("input"),v=document.createElement("ul"),x=document.createElement("button");return h.className="lm-CommandPalette-search",m.className="lm-CommandPalette-wrapper",p.className="lm-CommandPalette-input",x.className="lm-close-icon",v.className="lm-CommandPalette-content",v.setAttribute("role","menu"),p.spellcheck=!1,m.appendChild(p),m.appendChild(x),h.appendChild(m),f.appendChild(h),f.appendChild(v),f}i.createNode=e;function t(f,h){return new d(f,h)}i.createItem=t;function r(f,h){let m=a(f,h);return m.sort(c),u(m)}i.search=r;function n(f){return f.type==="item"&&f.item.isEnabled}i.canActivate=n;function s(f){return f.trim().replace(/\s+/g," ")}function o(f){return f.replace(/\s+/g,"").toLowerCase()}function a(f,h){h=o(h);let m=[];for(let p=0,v=f.length;p<v;++p){let x=f[p];if(!x.isVisible)continue;if(!h){m.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:x});continue}let C=l(x,h);C&&(x.isEnabled||(C.score+=1e3),m.push(C))}return m}function l(f,h){let m=f.category.toLowerCase(),p=f.label.toLowerCase(),v=`${m} ${p}`,x=1/0,C=null,y=/\b\w/g;for(;;){let R=y.exec(v);if(!R)break;let A=en.matchSumOfDeltas(v,h,R.index);if(!A)break;A.score<=x&&(x=A.score,C=A.indices)}if(!C||x===1/0)return null;let S=m.length+1,M=z.lowerBound(C,S,(R,A)=>R-A),_=C.slice(0,M),E=C.slice(M);for(let R=0,A=E.length;R<A;++R)E[R]-=S;return _.length===0?{matchType:0,categoryIndices:null,labelIndices:E,score:x,item:f}:E.length===0?{matchType:1,categoryIndices:_,labelIndices:null,score:x,item:f}:{matchType:2,categoryIndices:_,labelIndices:E,score:x,item:f}}function c(f,h){let m=f.matchType-h.matchType;if(m!==0)return m;let p=f.score-h.score;if(p!==0)return p;let v=0,x=0;switch(f.matchType){case 0:v=f.labelIndices[0],x=h.labelIndices[0];break;case 1:case 2:v=f.categoryIndices[0],x=h.categoryIndices[0];break}if(v!==x)return v-x;let C=f.item.category.localeCompare(h.item.category);if(C!==0)return C;let y=f.item.rank,S=h.item.rank;return y!==S?y<S?-1:1:f.item.label.localeCompare(h.item.label)}function u(f){let h=[];for(let m=0,p=f.length;m<p;++m){let{item:v,categoryIndices:x,labelIndices:C}=f[m],y=v.category;(m===0||y!==f[m-1].item.category)&&h.push({type:"header",category:y,indices:x}),h.push({type:"item",item:v,indices:C})}return h}class d{constructor(h,m){this._commands=h,this.category=s(m.category),this.command=m.command,this.args=m.args||zl.JSONExt.emptyObject,this.rank=m.rank!==void 0?m.rank:1/0}get label(){return this._commands.label(this.command,this.args)}get icon(){return this._commands.icon(this.command,this.args)}get iconClass(){return this._commands.iconClass(this.command,this.args)}get iconLabel(){return this._commands.iconLabel(this.command,this.args)}get caption(){return this._commands.caption(this.command,this.args)}get className(){return this._commands.className(this.command,this.args)}get dataset(){return this._commands.dataset(this.command,this.args)}get isEnabled(){return this._commands.isEnabled(this.command,this.args)}get isToggled(){return this._commands.isToggled(this.command,this.args)}get isToggleable(){return this._commands.isToggleable(this.command,this.args)}get isVisible(){return this._commands.isVisible(this.command,this.args)}get keyBinding(){let{command:h,args:m}=this;return z.findLastValue(this._commands.keyBindings,p=>p.command===h&&zl.JSONExt.deepEqual(p.args,m))||null}}})(Ol||(Ol={}));Sa=class extends _e{constructor(e){super({node:On.createNode()}),this._childIndex=-1,this._activeIndex=-1,this._openTimerID=0,this._closeTimerID=0,this._items=[],this._childMenu=null,this._parentMenu=null,this._aboutToClose=new Re(this),this._menuRequested=new Re(this),this.addClass("lm-Menu"),this.setFlag(_e.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||Sa.defaultRenderer}dispose(){this.close(),this._items.length=0,super.dispose()}get aboutToClose(){return this._aboutToClose}get menuRequested(){return this._menuRequested}get parentMenu(){return this._parentMenu}get childMenu(){return this._childMenu}get rootMenu(){let e=this;for(;e._parentMenu;)e=e._parentMenu;return e}get leafMenu(){let e=this;for(;e._childMenu;)e=e._childMenu;return e}get contentNode(){return this.node.getElementsByClassName("lm-Menu-content")[0]}get activeItem(){return this._items[this._activeIndex]||null}set activeItem(e){this.activeIndex=e?this._items.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._items.length)&&(e=-1),e!==-1&&!On.canActivate(this._items[e])&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())}get items(){return this._items}activateNextItem(){let e=this._items.length,t=this._activeIndex,r=t<e-1?t+1:0,n=r===0?e-1:r-1;this.activeIndex=z.findFirstIndex(this._items,On.canActivate,r,n)}activatePreviousItem(){let e=this._items.length,t=this._activeIndex,r=t<=0?e-1:t-1,n=r===e-1?0:r+1;this.activeIndex=z.findLastIndex(this._items,On.canActivate,r,n)}triggerActiveItem(){if(!this.isAttached)return;let e=this.activeItem;if(!e)return;if(this._cancelOpenTimer(),this._cancelCloseTimer(),e.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();let{command:t,args:r}=e;this.commands.isEnabled(t,r)?this.commands.execute(t,r):console.log(`Command '${t}' is disabled.`)}addItem(e){return this.insertItem(this._items.length,e)}insertItem(e,t){this.isAttached&&this.close(),this.activeIndex=-1;let r=Math.max(0,Math.min(e,this._items.length)),n=On.createItem(this,t);return z.insert(this._items,r,n),this.update(),n}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){this.isAttached&&this.close(),this.activeIndex=-1,z.removeAt(this._items,e)&&this.update()}clearItems(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())}open(e,t,r={}){var n,s,o;if(this.isAttached)return;let a=r.forceX||!1,l=r.forceY||!1,c=(n=r.host)!==null&&n!==void 0?n:null,u=(s=r.ref)!==null&&s!==void 0?s:null,d=(o=r.horizontalAlignment)!==null&&o!==void 0?o:document.documentElement.dir==="rtl"?"right":"left";On.openRootMenu(this,e,t,a,l,d,c,u),this.activate()}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)}onActivateRequest(e){this.isAttached&&this.node.focus()}onUpdateRequest(e){let t=this._items,r=this.renderer,n=this._activeIndex,s=On.computeCollapsed(t),o=new Array(t.length);for(let a=0,l=t.length;a<l;++a){let c=t[a],u=a===n,d=s[a];o[a]=r.renderItem({item:c,active:u,collapsed:d,onfocus:()=>{this.activeIndex=a}})}Bt.render(o,this.contentNode)}onCloseRequest(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;let t=this._childMenu;t&&(this._childIndex=-1,this._childMenu=null,t._parentMenu=null,t.close());let r=this._parentMenu;r&&(this._parentMenu=null,r._childIndex=-1,r._childMenu=null,r.activate()),this.isAttached&&this._aboutToClose.emit(void 0),super.onCloseRequest(e)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation();let t=e.keyCode;if(t===13){this.triggerActiveItem();return}if(t===27){this.close();return}if(t===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(t===38){this.activatePreviousItem();return}if(t===39){let o=this.activeItem;o&&o.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(t===40){this.activateNextItem();return}let r=Ts().keyForKeydownEvent(e);if(!r)return;let n=this._activeIndex+1,s=On.findMnemonic(this._items,r,n);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.triggerActiveItem()):s.index!==-1?this.activeIndex=s.index:s.auto!==-1&&(this.activeIndex=s.auto)}_evtMouseUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())}_evtMouseMove(e){let t=z.findFirstIndex(this.contentNode.children,n=>Me.hitTest(n,e.clientX,e.clientY));if(t===this._activeIndex)return;if(this.activeIndex=t,t=this.activeIndex,t===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();let r=this.activeItem;!r||r.type!=="submenu"||!r.submenu||this._startOpenTimer()}_evtMouseEnter(e){for(let t=this._parentMenu;t;t=t._parentMenu)t._cancelOpenTimer(),t._cancelCloseTimer(),t.activeIndex=t._childIndex}_evtMouseLeave(e){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}let{clientX:t,clientY:r}=e;if(Me.hitTest(this._childMenu.node,t,r)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()}_evtMouseDown(e){this._parentMenu||(On.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())}_openChildMenu(e=!1){let t=this.activeItem;if(!t||t.type!=="submenu"||!t.submenu){this._closeChildMenu();return}let r=t.submenu;if(r===this._childMenu)return;Sa.saveWindowData(),this._closeChildMenu(),this._childMenu=r,this._childIndex=this._activeIndex,r._parentMenu=this,Oe.sendMessage(this,_e.Msg.UpdateRequest);let n=this.contentNode.children[this._activeIndex];On.openSubmenu(r,n),e&&(r.activeIndex=-1,r.activateNextItem()),r.activate()}_closeChildMenu(){this._childMenu&&this._childMenu.close()}_startOpenTimer(){this._openTimerID===0&&(this._openTimerID=window.setTimeout(()=>{this._openTimerID=0,this._openChildMenu()},On.TIMER_DELAY))}_startCloseTimer(){this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(()=>{this._closeTimerID=0,this._closeChildMenu()},On.TIMER_DELAY))}_cancelOpenTimer(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)}_cancelCloseTimer(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)}static saveWindowData(){On.saveWindowData()}};(function(i){class e{renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r),o=this.createItemARIA(r);return xe.li({className:n,dataset:s,tabindex:"0",onfocus:r.onfocus,...o},this.renderIcon(r),this.renderLabel(r),this.renderShortcut(r),this.renderSubmenu(r))}renderIcon(r){let n=this.createIconClass(r);return xe.div({className:n},r.item.icon,r.item.iconLabel)}renderLabel(r){let n=this.formatLabel(r);return xe.div({className:"lm-Menu-itemLabel"},n)}renderShortcut(r){let n=this.formatShortcut(r);return xe.div({className:"lm-Menu-itemShortcut"},n)}renderSubmenu(r){return xe.div({className:"lm-Menu-itemSubmenuIcon"})}createItemClass(r){let n="lm-Menu-item";r.item.isEnabled||(n+=" lm-mod-disabled"),r.item.isToggled&&(n+=" lm-mod-toggled"),r.item.isVisible||(n+=" lm-mod-hidden"),r.active&&(n+=" lm-mod-active"),r.collapsed&&(n+=" lm-mod-collapsed");let s=r.item.className;return s&&(n+=` ${s}`),n}createItemDataset(r){let n,{type:s,command:o,dataset:a}=r.item;return s==="command"?n={...a,type:s,command:o}:n={...a,type:s},n}createIconClass(r){let n="lm-Menu-itemIcon",s=r.item.iconClass;return s?`${n} ${s}`:n}createItemARIA(r){let n={};switch(r.item.type){case"separator":n.role="presentation";break;case"submenu":n["aria-haspopup"]="true",r.item.isEnabled||(n["aria-disabled"]="true");break;default:r.item.isEnabled||(n["aria-disabled"]="true"),r.item.isToggled?(n.role="menuitemcheckbox",n["aria-checked"]="true"):n.role="menuitem"}return n}formatLabel(r){let{label:n,mnemonic:s}=r.item;if(s<0||s>=n.length)return n;let o=n.slice(0,s),a=n.slice(s+1),l=n[s],c=xe.span({className:"lm-Menu-itemMnemonic"},l);return[o,c,a]}formatShortcut(r){let n=r.item.keyBinding;return n?rn.formatKeystroke(n.keys):null}}i.Renderer=e,i.defaultRenderer=new e})(Sa||(Sa={}));(function(i){i.TIMER_DELAY=300,i.SUBMENU_OVERLAP=3;let e=null,t=0;function r(){return t>0?(t--,e):u()}function n(){e=u(),t++}i.saveWindowData=n;function s(){let p=document.createElement("div"),v=document.createElement("ul");return v.className="lm-Menu-content",p.appendChild(v),v.setAttribute("role","menu"),p.tabIndex=0,p}i.createNode=s;function o(p){return p.type!=="separator"&&p.isEnabled&&p.isVisible}i.canActivate=o;function a(p,v){return new m(p.commands,v)}i.createItem=a;function l(p,v,x){for(let C=p;C;C=C.childMenu)if(Me.hitTest(C.node,v,x))return!0;return!1}i.hitTestMenus=l;function c(p){let v=new Array(p.length);z.fill(v,!1);let x=0,C=p.length;for(;x<C;++x){let M=p[x];if(M.isVisible){if(M.type!=="separator")break;v[x]=!0}}let y=C-1;for(;y>=0;--y){let M=p[y];if(M.isVisible){if(M.type!=="separator")break;v[y]=!0}}let S=!1;for(;++x<y;){let M=p[x];M.isVisible&&(M.type!=="separator"?S=!1:S?v[x]=!0:S=!0)}return v}i.computeCollapsed=c;function u(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function d(p,v,x,C,y,S,M,_){let E=r(),R=E.pageXOffset,A=E.pageYOffset,H=E.clientWidth,$=E.clientHeight;Oe.sendMessage(p,_e.Msg.UpdateRequest);let X=$-(y?x:0),ue=p.node,he=ue.style;he.opacity="0",he.maxHeight=`${X}px`,_e.attach(p,M||document.body,_);let{width:Y,height:ee}=ue.getBoundingClientRect();S==="right"&&(v-=Y),!C&&v+Y>R+H&&(v=R+H-Y),!y&&x+ee>A+$&&(x>A+$?x=A+$-ee:x=x-ee),he.transform=`translate(${Math.max(0,v)}px, ${Math.max(0,x)}px`,he.opacity="1"}i.openRootMenu=d;function f(p,v){let x=r(),C=x.pageXOffset,y=x.pageYOffset,S=x.clientWidth,M=x.clientHeight;Oe.sendMessage(p,_e.Msg.UpdateRequest);let _=M,E=p.node,R=E.style;R.opacity="0",R.maxHeight=`${_}px`,_e.attach(p,document.body);let{width:A,height:H}=E.getBoundingClientRect(),$=Me.boxSizing(p.node),X=v.getBoundingClientRect(),ue=X.right-i.SUBMENU_OVERLAP;ue+A>C+S&&(ue=X.left+i.SUBMENU_OVERLAP-A);let he=X.top-$.borderTop-$.paddingTop;he+H>y+M&&(he=X.bottom+$.borderBottom+$.paddingBottom-H),R.transform=`translate(${Math.max(0,ue)}px, ${Math.max(0,he)}px`,R.opacity="1"}i.openSubmenu=f;function h(p,v,x){let C=-1,y=-1,S=!1,M=v.toUpperCase();for(let _=0,E=p.length;_<E;++_){let R=(_+x)%E,A=p[R];if(!o(A))continue;let H=A.label;if(H.length===0)continue;let $=A.mnemonic;if($>=0&&$<H.length){H[$].toUpperCase()===M&&(C===-1?C=R:S=!0);continue}y===-1&&H[0].toUpperCase()===M&&(y=R)}return{index:C,multiple:S,auto:y}}i.findMnemonic=h;class m{constructor(v,x){this._commands=v,this.type=x.type||"command",this.command=x.command||"",this.args=x.args||zl.JSONExt.emptyObject,this.submenu=x.submenu||null}get label(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""}get mnemonic(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1}get icon(){if(this.type==="command")return this._commands.icon(this.command,this.args);if(this.type==="submenu"&&this.submenu)return this.submenu.title.icon}get iconClass(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""}get iconLabel(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""}get caption(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""}get className(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""}get dataset(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}}get isEnabled(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get isToggled(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1}get isVisible(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get keyBinding(){if(this.type==="command"){let{command:v,args:x}=this;return z.findLastValue(this._commands.keyBindings,C=>C.command===v&&zl.JSONExt.deepEqual(C.args,x))||null}return null}}})(On||(On={}));(function(i){function e(o,a){let l=r(o.selector),c=o.rank!==void 0?o.rank:1/0;return{...o,selector:l,rank:c,id:a}}i.createItem=e;function t(o,a,l,c){let u=a.target;if(!u)return null;let d=a.currentTarget;if(!d||!d.contains(u)&&(u=document.elementFromPoint(a.clientX,a.clientY),!u||!d.contains(u)))return null;let f=[],h=o.slice();for(;u!==null;){let m=[];for(let p=0,v=h.length;p<v;++p){let x=h[p];x&&tr.matches(u,x.selector)&&(m.push(x),h[p]=null)}if(m.length!==0&&(l&&m.sort(c?s:n),f.push(...m)),u===d)break;u=u.parentElement}return l||f.sort(c?s:n),f}i.matchItems=t;function r(o){if(o.indexOf(",")!==-1)throw new Error(`Selector cannot contain commas: ${o}`);if(!tr.isValid(o))throw new Error(`Invalid selector: ${o}`);return o}function n(o,a){let l=o.rank,c=a.rank;return l!==c?l<c?-1:1:o.id-a.id}function s(o,a){let l=tr.calculateSpecificity(o.selector),c=tr.calculateSpecificity(a.selector);return l!==c?c-l:n(o,a)}})(XB||(XB={}));bie=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"],Gc=class extends _e{constructor(e={}){super({node:io.createNode()}),this._currentIndex=-1,this._titles=[],this._titlesEditable=!1,this._previousTitle=null,this._dragData=null,this._addButtonEnabled=!1,this._tabMoved=new Re(this),this._currentChanged=new Re(this),this._addRequested=new Re(this),this._tabCloseRequested=new Re(this),this._tabDetachRequested=new Re(this),this._tabActivateRequested=new Re(this),this.addClass("lm-TabBar"),this.contentNode.setAttribute("role","tablist"),this.setFlag(_e.Flag.DisallowLayout),this._document=e.document||document,this.tabsMovable=e.tabsMovable||!1,this.titlesEditable=e.titlesEditable||!1,this.allowDeselect=e.allowDeselect||!1,this.addButtonEnabled=e.addButtonEnabled||!1,this.insertBehavior=e.insertBehavior||"select-tab-if-needed",this.name=e.name||"",this.orientation=e.orientation||"horizontal",this.removeBehavior=e.removeBehavior||"select-tab-after",this.renderer=e.renderer||Gc.defaultRenderer}dispose(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,super.dispose()}get currentChanged(){return this._currentChanged}get tabMoved(){return this._tabMoved}get tabActivateRequested(){return this._tabActivateRequested}get addRequested(){return this._addRequested}get tabCloseRequested(){return this._tabCloseRequested}get tabDetachRequested(){return this._tabDetachRequested}get document(){return this._document}get titlesEditable(){return this._titlesEditable}set titlesEditable(e){this._titlesEditable=e}get currentTitle(){return this._titles[this._currentIndex]||null}set currentTitle(e){this.currentIndex=e?this._titles.indexOf(e):-1}get currentIndex(){return this._currentIndex}set currentIndex(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex===e)return;let t=this._currentIndex,r=this._titles[t]||null,n=e,s=this._titles[n]||null;this._currentIndex=n,this._previousTitle=r,this.update(),this._currentChanged.emit({previousIndex:t,previousTitle:r,currentIndex:n,currentTitle:s})}get name(){return this._name}set name(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))}get titles(){return this._titles}get contentNode(){return this.node.getElementsByClassName("lm-TabBar-content")[0]}get addButtonNode(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]}addTab(e){return this.insertTab(this._titles.length,e)}insertTab(e,t){this._releaseMouse();let r=io.asTitle(t),n=this._titles.indexOf(r),s=Math.max(0,Math.min(e,this._titles.length));return n===-1?(z.insert(this._titles,s,r),r.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(s,r),r):(s===this._titles.length&&s--,n===s||(z.move(this._titles,n,s),this.update(),this._adjustCurrentForMove(n,s)),r)}removeTab(e){this.removeTabAt(this._titles.indexOf(e))}removeTabAt(e){this._releaseMouse();let t=z.removeAt(this._titles,e);t&&(t.changed.disconnect(this._onTitleChanged,this),t===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,t))}clearTabs(){if(this._titles.length===0)return;this._releaseMouse();for(let r of this._titles)r.changed.disconnect(this._onTitleChanged,this);let e=this.currentIndex,t=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),e!==-1&&this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null})}releaseMouse(){this._releaseMouse()}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":e.eventPhase===Event.CAPTURING_PHASE?this._evtKeyDownCapturing(e):this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this),this.node.addEventListener("keydown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this.node.removeEventListener("keydown",this),this._releaseMouse()}onUpdateRequest(e){var t;let r=this._titles,n=this.renderer,s=this.currentTitle,o=new Array(r.length),a=(t=this._getCurrentTabindex())!==null&&t!==void 0?t:this._currentIndex>-1?this._currentIndex:0;for(let l=0,c=r.length;l<c;++l){let u=r[l],d=u===s,f=d?c:c-l-1,h=a===l?0:-1;o[l]=n.renderTab({title:u,current:d,zIndex:f,tabIndex:h})}Bt.render(o,this.contentNode)}_getCurrentTabindex(){let e=null,t=this.contentNode.querySelector('li[tabindex="0"]');return t?e=[...this.contentNode.children].indexOf(t):this._addButtonEnabled&&this.addButtonNode.getAttribute("tabindex")==="0"&&(e=-1),e}_evtDblClick(e){if(!this.titlesEditable)return;let t=this.contentNode.children,r=z.findFirstIndex(t,o=>Me.hitTest(o,e.clientX,e.clientY));if(r===-1)return;let n=this.titles[r],s=t[r].querySelector(".lm-TabBar-tabLabel");if(s&&s.contains(e.target)){let o=n.label||"",a=s.innerHTML;s.innerHTML="";let l=document.createElement("input");l.classList.add("lm-TabBar-tabInput"),l.value=o,s.appendChild(l);let c=()=>{l.removeEventListener("blur",c),s.innerHTML=a,this.node.addEventListener("keydown",this)};l.addEventListener("dblclick",u=>u.stopPropagation()),l.addEventListener("blur",c),l.addEventListener("keydown",u=>{u.key==="Enter"?(l.value!==""&&(n.label=n.caption=l.value),c()):u.key==="Escape"&&c()}),this.node.removeEventListener("keydown",this),l.select(),l.focus(),s.children.length>0&&s.children[0].focus()}}_evtKeyDownCapturing(e){e.eventPhase===Event.CAPTURING_PHASE&&(e.preventDefault(),e.stopPropagation(),e.key==="Escape"&&this._releaseMouse())}_evtKeyDown(e){var t,r,n;if(!(e.key==="Tab"||e.eventPhase===Event.CAPTURING_PHASE)){if(e.key==="Enter"||e.key==="Spacebar"||e.key===" "){let s=document.activeElement;if(this.addButtonEnabled&&this.addButtonNode.contains(s))e.preventDefault(),e.stopPropagation(),this._addRequested.emit();else{let o=z.findFirstIndex(this.contentNode.children,a=>a.contains(s));o>=0&&(e.preventDefault(),e.stopPropagation(),this.currentIndex=o)}}else if(bie.includes(e.key)){let s=[...this.contentNode.children];if(this.addButtonEnabled&&s.push(this.addButtonNode),s.length<=1)return;e.preventDefault(),e.stopPropagation();let o=s.indexOf(document.activeElement);o===-1&&(o=this._currentIndex);let a;e.key==="ArrowRight"&&this._orientation==="horizontal"||e.key==="ArrowDown"&&this._orientation==="vertical"?a=(t=s[o+1])!==null&&t!==void 0?t:s[0]:e.key==="ArrowLeft"&&this._orientation==="horizontal"||e.key==="ArrowUp"&&this._orientation==="vertical"?a=(r=s[o-1])!==null&&r!==void 0?r:s[s.length-1]:e.key==="Home"?a=s[0]:e.key==="End"&&(a=s[s.length-1]),a&&((n=s[o])===null||n===void 0||n.setAttribute("tabindex","-1"),a?.setAttribute("tabindex","0"),a.focus())}}}_evtPointerDown(e){if(e.button!==0&&e.button!==1||this._dragData||e.target.classList.contains("lm-TabBar-tabInput"))return;let t=this.addButtonEnabled&&this.addButtonNode.contains(e.target),r=this.contentNode.children,n=z.findFirstIndex(r,o=>Me.hitTest(o,e.clientX,e.clientY));if(n===-1&&!t||(e.preventDefault(),e.stopPropagation(),this._dragData={tab:r[n],index:n,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("pointerup",this,!0),e.button===1||t))return;let s=r[n].querySelector(this.renderer.closeIconSelector);s&&s.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===n?this.currentIndex=-1:this.currentIndex=n,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}_evtPointerMove(e){let t=this._dragData;if(!t)return;e.preventDefault(),e.stopPropagation();let r=this.contentNode.children;if(!(!t.dragActive&&!io.dragExceeded(t,e))){if(!t.dragActive){let n=t.tab.getBoundingClientRect();this._orientation==="horizontal"?(t.tabPos=t.tab.offsetLeft,t.tabSize=n.width,t.tabPressPos=t.pressX-n.left):(t.tabPos=t.tab.offsetTop,t.tabSize=n.height,t.tabPressPos=t.pressY-n.top),t.tabPressOffset={x:t.pressX-n.left,y:t.pressY-n.top},t.tabLayout=io.snapTabLayout(r,this._orientation),t.contentRect=this.contentNode.getBoundingClientRect(),t.override=dr.overrideCursor("default"),t.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),t.dragActive=!0}if(!t.detachRequested&&io.detachExceeded(t,e)){t.detachRequested=!0;let n=t.index,s=e.clientX,o=e.clientY,a=r[n],l=this._titles[n];if(this._tabDetachRequested.emit({index:n,title:l,tab:a,clientX:s,clientY:o,offset:t.tabPressOffset}),t.dragAborted)return}io.layoutTabs(r,t,e,this._orientation)}}_evtPointerUp(e){if(e.button!==0&&e.button!==1)return;let t=this._dragData;if(!t)return;if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!t.dragActive){if(this._dragData=null,this.addButtonEnabled&&this.addButtonNode.contains(e.target)){this._addRequested.emit(void 0);return}let s=this.contentNode.children,o=z.findFirstIndex(s,c=>Me.hitTest(c,e.clientX,e.clientY));if(o!==t.index)return;let a=this._titles[o];if(!a.closable)return;if(e.button===1){this._tabCloseRequested.emit({index:o,title:a});return}let l=s[o].querySelector(this.renderer.closeIconSelector);if(l&&l.contains(e.target)){this._tabCloseRequested.emit({index:o,title:a});return}return}if(e.button!==0)return;io.finalizeTabPosition(t,this._orientation),t.tab.classList.remove("lm-mod-dragging");let r=io.parseTransitionDuration(t.tab);setTimeout(()=>{if(t.dragAborted)return;this._dragData=null,io.resetTabPositions(this.contentNode.children,this._orientation),t.override.dispose(),this.removeClass("lm-mod-dragging");let n=t.index,s=t.targetIndex;s===-1||n===s||(z.move(this._titles,n,s),this._adjustCurrentForMove(n,s),this._tabMoved.emit({fromIndex:n,toIndex:s,title:this._titles[s]}),Oe.sendMessage(this,_e.Msg.UpdateRequest))},r)}_releaseMouse(){let e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(io.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging")))}_adjustCurrentForInsert(e,t){let r=this.currentTitle,n=this._currentIndex,s=this.insertBehavior;if(s==="select-tab"||s==="select-tab-if-needed"&&n===-1){this._currentIndex=e,this._previousTitle=r,this._currentChanged.emit({previousIndex:n,previousTitle:r,currentIndex:e,currentTitle:t});return}n>=e&&this._currentIndex++}_adjustCurrentForMove(e,t){this._currentIndex===e?this._currentIndex=t:this._currentIndex<e&&this._currentIndex>=t?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=t&&this._currentIndex--}_adjustCurrentForRemove(e,t){let r=this._currentIndex,n=this.removeBehavior;if(r!==e){r>e&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null});return}if(n==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(n==="select-tab-before"){this._currentIndex=Math.max(0,e-1),this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(n==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null})}_onTitleChanged(e){this.update()}};(function(i){class e{constructor(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++e._nInstance}renderTab(r){let n=r.title.caption,s=this.createTabKey(r),o=s,a=this.createTabStyle(r),l=this.createTabClass(r),c=this.createTabDataset(r),u=this.createTabARIA(r);return r.title.closable?xe.li({id:o,key:s,className:l,title:n,style:a,dataset:c,...u},this.renderIcon(r),this.renderLabel(r),this.renderCloseIcon(r)):xe.li({id:o,key:s,className:l,title:n,style:a,dataset:c,...u},this.renderIcon(r),this.renderLabel(r))}renderIcon(r){let{title:n}=r,s=this.createIconClass(r);return xe.div({className:s},n.icon,n.iconLabel)}renderLabel(r){return xe.div({className:"lm-TabBar-tabLabel"},r.title.label)}renderCloseIcon(r){return xe.div({className:"lm-TabBar-tabCloseIcon"})}createTabKey(r){let n=this._tabKeys.get(r.title);return n===void 0&&(n=`tab-key-${this._uuid}-${this._tabID++}`,this._tabKeys.set(r.title,n)),n}createTabStyle(r){return{zIndex:`${r.zIndex}`}}createTabClass(r){let n="lm-TabBar-tab";return r.title.className&&(n+=` ${r.title.className}`),r.title.closable&&(n+=" lm-mod-closable"),r.current&&(n+=" lm-mod-current"),n}createTabDataset(r){return r.title.dataset}createTabARIA(r){var n;return{role:"tab","aria-selected":r.current.toString(),tabindex:`${(n=r.tabIndex)!==null&&n!==void 0?n:"-1"}`}}createIconClass(r){let n="lm-TabBar-tabIcon",s=r.title.iconClass;return s?`${n} ${s}`:n}}e._nInstance=0,i.Renderer=e,i.defaultRenderer=new e,i.addButtonSelector=".lm-TabBar-addButton"})(Gc||(Gc={}));(function(i){i.DRAG_THRESHOLD=5,i.DETACH_THRESHOLD=20;function e(){let u=document.createElement("div"),d=document.createElement("ul");d.setAttribute("role","tablist"),d.className="lm-TabBar-content",u.appendChild(d);let f=document.createElement("div");return f.className="lm-TabBar-addButton lm-mod-hidden",f.setAttribute("tabindex","-1"),f.setAttribute("role","button"),u.appendChild(f),u}i.createNode=e;function t(u){return u instanceof G2?u:new G2(u)}i.asTitle=t;function r(u){let d=window.getComputedStyle(u);return 1e3*(parseFloat(d.transitionDuration)||0)}i.parseTransitionDuration=r;function n(u,d){let f=new Array(u.length);for(let h=0,m=u.length;h<m;++h){let p=u[h],v=window.getComputedStyle(p);d==="horizontal"?f[h]={pos:p.offsetLeft,size:p.offsetWidth,margin:parseFloat(v.marginLeft)||0}:f[h]={pos:p.offsetTop,size:p.offsetHeight,margin:parseFloat(v.marginTop)||0}}return f}i.snapTabLayout=n;function s(u,d){let f=Math.abs(d.clientX-u.pressX),h=Math.abs(d.clientY-u.pressY);return f>=i.DRAG_THRESHOLD||h>=i.DRAG_THRESHOLD}i.dragExceeded=s;function o(u,d){let f=u.contentRect;return d.clientX<f.left-i.DETACH_THRESHOLD||d.clientX>=f.right+i.DETACH_THRESHOLD||d.clientY<f.top-i.DETACH_THRESHOLD||d.clientY>=f.bottom+i.DETACH_THRESHOLD}i.detachExceeded=o;function a(u,d,f,h){let m,p,v,x;h==="horizontal"?(m=d.pressX,p=f.clientX-d.contentRect.left,v=f.clientX,x=d.contentRect.width):(m=d.pressY,p=f.clientY-d.contentRect.top,v=f.clientY,x=d.contentRect.height);let C=d.index,y=p-d.tabPressPos,S=y+d.tabSize;for(let M=0,_=u.length;M<_;++M){let E,R=d.tabLayout[M],A=R.pos+(R.size>>1);if(M<d.index&&y<A)E=`${d.tabSize+d.tabLayout[M+1].margin}px`,C=Math.min(C,M);else if(M>d.index&&S>A)E=`${-d.tabSize-R.margin}px`,C=Math.max(C,M);else if(M===d.index){let H=v-m,$=x-(d.tabPos+d.tabSize);E=`${Math.max(-d.tabPos,Math.min(H,$))}px`}else E="";h==="horizontal"?u[M].style.left=E:u[M].style.top=E}d.targetIndex=C}i.layoutTabs=a;function l(u,d){let f;d==="horizontal"?f=u.contentRect.width:f=u.contentRect.height;let h;if(u.targetIndex===u.index)h=0;else if(u.targetIndex>u.index){let v=u.tabLayout[u.targetIndex];h=v.pos+v.size-u.tabSize-u.tabPos}else h=u.tabLayout[u.targetIndex].pos-u.tabPos;let m=f-(u.tabPos+u.tabSize),p=Math.max(-u.tabPos,Math.min(h,m));d==="horizontal"?u.tab.style.left=`${p}px`:u.tab.style.top=`${p}px`}i.finalizeTabPosition=l;function c(u,d){for(let f of u)d==="horizontal"?f.style.left="":f.style.top=""}i.resetTabPositions=c})(io||(io={}));Gw=class extends Ea{constructor(e){super(),this._spacing=4,this._dirty=!1,this._root=null,this._box=null,this._items=new Map,this.renderer=e.renderer,e.spacing!==void 0&&(this._spacing=K2.clampDimension(e.spacing)),this._document=e.document||document,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:_e.HiddenMode.Display}dispose(){let e=this[Symbol.iterator]();this._items.forEach(t=>{t.dispose()}),this._box=null,this._root=null,this._items.clear();for(let t of e)t.dispose();super.dispose()}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){if(this._hiddenMode!==e){this._hiddenMode=e;for(let t of this.tabBars())if(t.titles.length>1)for(let r of t.titles)r.owner.hiddenMode=this._hiddenMode}}get spacing(){return this._spacing}set spacing(e){e=K2.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get isEmpty(){return this._root===null}[Symbol.iterator](){return this._root?this._root.iterAllWidgets():wi()}widgets(){return this._root?this._root.iterUserWidgets():wi()}selectedWidgets(){return this._root?this._root.iterSelectedWidgets():wi()}tabBars(){return this._root?this._root.iterTabBars():wi()}handles(){return this._root?this._root.iterHandles():wi()}moveHandle(e,t,r){let n=e.classList.contains("lm-mod-hidden");if(!this._root||n)return;let s=this._root.findSplitNode(e);if(!s)return;let o;s.node.orientation==="horizontal"?o=t-e.offsetLeft:o=r-e.offsetTop,o!==0&&(s.node.holdSizes(),gs.adjust(s.node.sizers,s.index,o),this.parent&&this.parent.update())}saveLayout(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}}restoreLayout(e){let t=new Set,r;e.main?r=Qi.normalizeAreaConfig(e.main,t):r=null;let n=this.widgets(),s=this.tabBars(),o=this.handles();this._root=null;for(let a of n)t.has(a)||(a.parent=null);for(let a of s)a.dispose();for(let a of o)a.parentNode&&a.parentNode.removeChild(a);for(let a of t)a.parent=this.parent;r?this._root=Qi.realizeAreaConfig(r,{createTabBar:a=>this._createTabBar(),createHandle:()=>this._createHandle()},this._document):this._root=null,this.parent&&(t.forEach(a=>{this.attachWidget(a)}),this.parent.fit())}addWidget(e,t={}){let r=t.ref||null,n=t.mode||"tab-after",s=null;if(this._root&&r&&(s=this._root.findTabNode(r)),r&&!s)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,n){case"tab-after":this._insertTab(e,r,s,!0);break;case"tab-before":this._insertTab(e,r,s,!1);break;case"split-top":this._insertSplit(e,r,s,"vertical",!1);break;case"split-left":this._insertSplit(e,r,s,"horizontal",!1);break;case"split-right":this._insertSplit(e,r,s,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,r,s,"vertical",!0);break;case"merge-top":this._insertSplit(e,r,s,"vertical",!1,!0);break;case"merge-left":this._insertSplit(e,r,s,"horizontal",!1,!0);break;case"merge-right":this._insertSplit(e,r,s,"horizontal",!0,!0);break;case"merge-bottom":this._insertSplit(e,r,s,"vertical",!0,!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())}removeWidget(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())}hitTestTabAreas(e,t){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=Me.boxSizing(this.parent.node));let r=this.parent.node.getBoundingClientRect(),n=e-r.left-this._box.borderLeft,s=t-r.top-this._box.borderTop,o=this._root.hitTestTabNodes(n,s);if(!o)return null;let{tabBar:a,top:l,left:c,width:u,height:d}=o,f=this._box.borderLeft+this._box.borderRight,h=this._box.borderTop+this._box.borderBottom,m=r.width-f-(c+u),p=r.height-h-(l+d);return{tabBar:a,x:n,y:s,top:l,left:c,right:m,bottom:p,width:u,height:d}}init(){super.init();for(let e of this)this.attachWidget(e);for(let e of this.handles())this.parent.node.appendChild(e);this.parent.fit()}attachWidget(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new Tu(e)),this.parent.isAttached&&Oe.sendMessage(e,_e.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Oe.sendMessage(e,_e.Msg.AfterAttach))}detachWidget(e){if(this.parent.node!==e.node.parentNode)return;this.parent.isAttached&&Oe.sendMessage(e,_e.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Oe.sendMessage(e,_e.Msg.AfterDetach);let t=this._items.get(e);t&&(this._items.delete(e),t.dispose())}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_removeWidget(e){if(!this._root)return;let t=this._root.findTabNode(e);if(!t)return;if(Qi.removeAria(e),t.tabBar.titles.length>1){if(t.tabBar.removeTab(e.title),this._hiddenMode===_e.HiddenMode.Scale&&t.tabBar.titles.length==1){let f=t.tabBar.titles[0].owner;f.hiddenMode=_e.HiddenMode.Display}return}if(t.tabBar.dispose(),this._root===t){this._root=null;return}this._root.holdAllSizes();let r=t.parent;t.parent=null;let n=z.removeFirstOf(r.children,t),s=z.removeAt(r.handles,n);if(z.removeAt(r.sizers,n),s.parentNode&&s.parentNode.removeChild(s),r.children.length>1){r.syncHandles();return}let o=r.parent;r.parent=null;let a=r.children[0],l=r.handles[0];if(r.children.length=0,r.handles.length=0,r.sizers.length=0,l.parentNode&&l.parentNode.removeChild(l),this._root===r){a.parent=null,this._root=a;return}let c=o,u=c.children.indexOf(r);if(a instanceof Qi.TabLayoutNode){a.parent=c,c.children[u]=a;return}let d=z.removeAt(c.handles,u);z.removeAt(c.children,u),z.removeAt(c.sizers,u),d.parentNode&&d.parentNode.removeChild(d);for(let f=0,h=a.children.length;f<h;++f){let m=a.children[f],p=a.handles[f],v=a.sizers[f];z.insert(c.children,u+f,m),z.insert(c.handles,u+f,p),z.insert(c.sizers,u+f,v),m.parent=c}a.children.length=0,a.handles.length=0,a.sizers.length=0,a.parent=null,c.syncHandles()}_createTabNode(e){let t=new Qi.TabLayoutNode(this._createTabBar());return t.tabBar.addTab(e.title),Qi.addAria(e,t.tabBar),t}_insertTab(e,t,r,n){if(e===t)return;if(!this._root){let o=new Qi.TabLayoutNode(this._createTabBar());o.tabBar.addTab(e.title),this._root=o,Qi.addAria(e,o.tabBar);return}r||(r=this._root.findFirstTabNode()),r.tabBar.titles.indexOf(e.title)===-1&&(this._removeWidget(e),e.hide());let s;if(t?s=r.tabBar.titles.indexOf(t.title):s=r.tabBar.currentIndex,this._hiddenMode===_e.HiddenMode.Scale)if(r.tabBar.titles.length===0)e.hiddenMode=_e.HiddenMode.Display;else if(r.tabBar.titles.length==1){let o=r.tabBar.titles[0].owner;o.hiddenMode=_e.HiddenMode.Scale}else e.hiddenMode=_e.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;r.tabBar.insertTab(s+(n?1:0),e.title),Qi.addAria(e,r.tabBar)}_insertSplit(e,t,r,n,s,o=!1){if(e===t&&r&&r.tabBar.titles.length===1)return;if(this._removeWidget(e),!this._root){this._root=this._createTabNode(e);return}if(!r||!r.parent){let f=this._splitRoot(n),h=s?f.children.length:0;f.normalizeSizes();let m=Qi.createSizer(r?1:Qi.GOLDEN_RATIO),p=this._createTabNode(e);z.insert(f.children,h,p),z.insert(f.sizers,h,m),z.insert(f.handles,h,this._createHandle()),p.parent=f,f.normalizeSizes(),f.syncHandles();return}let a=r.parent;if(a.orientation===n){let f=a.children.indexOf(r);if(o){let v=f+(s?1:-1),x=a.children[v];if(x instanceof Qi.TabLayoutNode){this._insertTab(e,null,x,!0),++x.tabBar.currentIndex;return}}a.normalizeSizes();let h=a.sizers[f].sizeHint/=2,m=f+(s?1:0),p=this._createTabNode(e);z.insert(a.children,m,p),z.insert(a.sizers,m,Qi.createSizer(h)),z.insert(a.handles,m,this._createHandle()),p.parent=a,a.syncHandles();return}let l=z.removeFirstOf(a.children,r),c=new Qi.SplitLayoutNode(n);c.normalized=!0,c.children.push(r),c.sizers.push(Qi.createSizer(.5)),c.handles.push(this._createHandle()),r.parent=c;let u=s?1:0,d=this._createTabNode(e);z.insert(c.children,u,d),z.insert(c.sizers,u,Qi.createSizer(.5)),z.insert(c.handles,u,this._createHandle()),d.parent=c,c.syncHandles(),z.insert(a.children,l,c),c.parent=a}_splitRoot(e){let t=this._root;if(t instanceof Qi.SplitLayoutNode&&t.orientation===e)return t;let r=this._root=new Qi.SplitLayoutNode(e);return t&&(r.children.push(t),r.sizers.push(Qi.createSizer(0)),r.handles.push(this._createHandle()),t.parent=r),r}_fit(){let e=0,t=0;if(this._root){let s=this._root.fit(this._spacing,this._items);e=s.minWidth,t=s.minHeight}let r=this._box=Me.boxSizing(this.parent.node);e+=r.horizontalSum,t+=r.verticalSum;let n=this.parent.node.style;n.minWidth=`${e}px`,n.minHeight=`${t}px`,this._dirty=!0,this.parent.parent&&Oe.sendMessage(this.parent.parent,_e.Msg.FitRequest),this._dirty&&Oe.sendMessage(this.parent,_e.Msg.UpdateRequest)}_update(e,t){if(this._dirty=!1,!this._root)return;e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=Me.boxSizing(this.parent.node));let r=this._box.paddingTop,n=this._box.paddingLeft,s=e-this._box.horizontalSum,o=t-this._box.verticalSum;this._root.update(r,n,s,o,this._spacing,this._items)}_createTabBar(){let e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&this.attachWidget(e),e}_createHandle(){let e=this.renderer.createHandle(),t=e.style;return t.position="absolute",t.contain="strict",t.top="0",t.left="0",t.width="0",t.height="0",this.parent&&this.parent.node.appendChild(e),e}};(function(i){i.GOLDEN_RATIO=.618;function e(f){let h=new La;return h.sizeHint=f,h.size=f,h}i.createSizer=e;function t(f,h){let m;return f.type==="tab-area"?m=l(f,h):m=c(f,h),m}i.normalizeAreaConfig=t;function r(f,h,m){let p;return f.type==="tab-area"?p=u(f,h,m):p=d(f,h,m),p}i.realizeAreaConfig=r;class n{constructor(h){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;let m=new La,p=new La;m.stretch=0,p.stretch=1,this.tabBar=h,this.sizers=[m,p]}get top(){return this._top}get left(){return this._left}get width(){return this._width}get height(){return this._height}*iterAllWidgets(){yield this.tabBar,yield*this.iterUserWidgets()}*iterUserWidgets(){for(let h of this.tabBar.titles)yield h.owner}*iterSelectedWidgets(){let h=this.tabBar.currentTitle;h&&(yield h.owner)}*iterTabBars(){yield this.tabBar}*iterHandles(){}findTabNode(h){return this.tabBar.titles.indexOf(h.title)!==-1?this:null}findSplitNode(h){return null}findFirstTabNode(){return this}hitTestTabNodes(h,m){return h<this._left||h>=this._left+this._width||m<this._top||m>=this._top+this._height?null:this}createConfig(){let h=this.tabBar.titles.map(p=>p.owner),m=this.tabBar.currentIndex;return{type:"tab-area",widgets:h,currentIndex:m}}holdAllSizes(){}fit(h,m){let p=0,v=0,x=1/0,C=1/0,y=m.get(this.tabBar),S=this.tabBar.currentTitle,M=S?m.get(S.owner):void 0,[_,E]=this.sizers;return y&&y.fit(),M&&M.fit(),y&&!y.isHidden?(p=Math.max(p,y.minWidth),v+=y.minHeight,_.minSize=y.minHeight,_.maxSize=y.maxHeight):(_.minSize=0,_.maxSize=0),M&&!M.isHidden?(p=Math.max(p,M.minWidth),v+=M.minHeight,E.minSize=M.minHeight,E.maxSize=1/0):(E.minSize=0,E.maxSize=1/0),{minWidth:p,minHeight:v,maxWidth:x,maxHeight:C}}update(h,m,p,v,x,C){this._top=m,this._left=h,this._width=p,this._height=v;let y=C.get(this.tabBar),S=this.tabBar.currentTitle,M=S?C.get(S.owner):void 0;if(gs.calc(this.sizers,v),y&&!y.isHidden){let _=this.sizers[0].size;y.update(h,m,p,_),m+=_}if(M&&!M.isHidden){let _=this.sizers[1].size;M.update(h,m,p,_)}}}i.TabLayoutNode=n;class s{constructor(h){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=h}*iterAllWidgets(){for(let h of this.children)yield*h.iterAllWidgets()}*iterUserWidgets(){for(let h of this.children)yield*h.iterUserWidgets()}*iterSelectedWidgets(){for(let h of this.children)yield*h.iterSelectedWidgets()}*iterTabBars(){for(let h of this.children)yield*h.iterTabBars()}*iterHandles(){yield*this.handles;for(let h of this.children)yield*h.iterHandles()}findTabNode(h){for(let m=0,p=this.children.length;m<p;++m){let v=this.children[m].findTabNode(h);if(v)return v}return null}findSplitNode(h){let m=this.handles.indexOf(h);if(m!==-1)return{index:m,node:this};for(let p=0,v=this.children.length;p<v;++p){let x=this.children[p].findSplitNode(h);if(x)return x}return null}findFirstTabNode(){return this.children.length===0?null:this.children[0].findFirstTabNode()}hitTestTabNodes(h,m){for(let p=0,v=this.children.length;p<v;++p){let x=this.children[p].hitTestTabNodes(h,m);if(x)return x}return null}createConfig(){let h=this.orientation,m=this.createNormalizedSizes(),p=this.children.map(v=>v.createConfig());return{type:"split-area",orientation:h,children:p,sizes:m}}syncHandles(){this.handles.forEach((h,m)=>{h.setAttribute("data-orientation",this.orientation),m===this.handles.length-1?h.classList.add("lm-mod-hidden"):h.classList.remove("lm-mod-hidden")})}holdSizes(){for(let h of this.sizers)h.sizeHint=h.size}holdAllSizes(){for(let h of this.children)h.holdAllSizes();this.holdSizes()}normalizeSizes(){let h=this.sizers.length;if(h===0)return;this.holdSizes();let m=this.sizers.reduce((p,v)=>p+v.sizeHint,0);if(m===0)for(let p of this.sizers)p.size=p.sizeHint=1/h;else for(let p of this.sizers)p.size=p.sizeHint/=m;this.normalized=!0}createNormalizedSizes(){let h=this.sizers.length;if(h===0)return[];let m=this.sizers.map(v=>v.size),p=m.reduce((v,x)=>v+x,0);if(p===0)for(let v=m.length-1;v>-1;v--)m[v]=1/h;else for(let v=m.length-1;v>-1;v--)m[v]/=p;return m}fit(h,m){let p=this.orientation==="horizontal",v=Math.max(0,this.children.length-1)*h,x=p?v:0,C=p?0:v,y=1/0,S=1/0;for(let M=0,_=this.children.length;M<_;++M){let E=this.children[M].fit(h,m);p?(C=Math.max(C,E.minHeight),x+=E.minWidth,this.sizers[M].minSize=E.minWidth):(x=Math.max(x,E.minWidth),C+=E.minHeight,this.sizers[M].minSize=E.minHeight)}return{minWidth:x,minHeight:C,maxWidth:y,maxHeight:S}}update(h,m,p,v,x,C){let y=this.orientation==="horizontal",S=Math.max(0,this.children.length-1)*x,M=Math.max(0,(y?p:v)-S);if(this.normalized){for(let _ of this.sizers)_.sizeHint*=M;this.normalized=!1}gs.calc(this.sizers,M);for(let _=0,E=this.children.length;_<E;++_){let R=this.children[_],A=this.sizers[_].size,H=this.handles[_].style;y?(R.update(h,m,A,v,x,C),h+=A,H.top=`${m}px`,H.left=`${h}px`,H.width=`${x}px`,H.height=`${v}px`,h+=x):(R.update(h,m,p,A,x,C),m+=A,H.top=`${m}px`,H.left=`${h}px`,H.width=`${p}px`,H.height=`${x}px`,m+=x)}}}i.SplitLayoutNode=s;function o(f,h){f.node.setAttribute("role","tabpanel");let m=h.renderer;if(m instanceof Gc.Renderer){let p=m.createTabKey({title:f.title,current:!1,zIndex:0});f.node.setAttribute("aria-labelledby",p)}}i.addAria=o;function a(f){f.node.removeAttribute("role"),f.node.removeAttribute("aria-labelledby")}i.removeAria=a;function l(f,h){if(f.widgets.length===0)return null;let m=[];for(let v of f.widgets)h.has(v)||(h.add(v),m.push(v));if(m.length===0)return null;let p=f.currentIndex;return p!==-1&&(p<0||p>=m.length)&&(p=0),{type:"tab-area",widgets:m,currentIndex:p}}function c(f,h){let m=f.orientation,p=[],v=[];for(let x=0,C=f.children.length;x<C;++x){let y=t(f.children[x],h);y&&(y.type==="tab-area"||y.orientation!==m?(p.push(y),v.push(Math.abs(f.sizes[x]||0))):(p.push(...y.children),v.push(...y.sizes)))}return p.length===0?null:p.length===1?p[0]:{type:"split-area",orientation:m,children:p,sizes:v}}function u(f,h,m){let p=h.createTabBar(m);for(let v of f.widgets)v.hide(),p.addTab(v.title),i.addAria(v,p);return p.currentIndex=f.currentIndex,new n(p)}function d(f,h,m){let p=new s(f.orientation);return f.children.forEach((v,x)=>{let C=r(v,h,m),y=e(f.sizes[x]),S=h.createHandle();p.children.push(C),p.handles.push(S),p.sizers.push(y),C.parent=p}),p.syncHandles(),p.normalizeSizes(),p}})(Qi||(Qi={}));Nu=class extends _e{constructor(e={}){super(),this._drag=null,this._tabsMovable=!0,this._tabsConstrained=!1,this._addButtonEnabled=!1,this._pressData=null,this._layoutModified=new Re(this),this._addRequested=new Re(this),this.addClass("lm-DockPanel"),this._document=e.document||document,this._mode=e.mode||"multiple-document",this._renderer=e.renderer||Nu.defaultRenderer,this._edges=e.edges||Wi.DEFAULT_EDGES,e.tabsMovable!==void 0&&(this._tabsMovable=e.tabsMovable),e.tabsConstrained!==void 0&&(this._tabsConstrained=e.tabsConstrained),e.addButtonEnabled!==void 0&&(this._addButtonEnabled=e.addButtonEnabled),this.dataset.mode=this._mode;let t={createTabBar:()=>this._createTabBar(),createHandle:()=>this._createHandle()};this.layout=new Gw({document:this._document,renderer:t,spacing:e.spacing,hiddenMode:e.hiddenMode}),this.overlay=e.overlay||new Nu.Overlay,this.node.appendChild(this.overlay.node)}dispose(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),super.dispose()}get hiddenMode(){return this.layout.hiddenMode}set hiddenMode(e){this.layout.hiddenMode=e}get layoutModified(){return this._layoutModified}get addRequested(){return this._addRequested}get renderer(){return this.layout.renderer}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get mode(){return this._mode}set mode(e){if(this._mode===e)return;this._mode=e,this.dataset.mode=e;let t=this.layout;switch(e){case"multiple-document":for(let r of t.tabBars())r.show();break;case"single-document":t.restoreLayout(Wi.createSingleDocumentConfig(this));break;default:throw"unreachable"}Oe.postMessage(this,Wi.LayoutModified)}get tabsMovable(){return this._tabsMovable}set tabsMovable(e){this._tabsMovable=e;for(let t of this.tabBars())t.tabsMovable=e}get tabsConstrained(){return this._tabsConstrained}set tabsConstrained(e){this._tabsConstrained=e}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled=e;for(let t of this.tabBars())t.addButtonEnabled=e}get isEmpty(){return this.layout.isEmpty}*widgets(){yield*this.layout.widgets()}*selectedWidgets(){yield*this.layout.selectedWidgets()}*tabBars(){yield*this.layout.tabBars()}*handles(){yield*this.layout.handles()}selectWidget(e){let t=Rs(this.tabBars(),r=>r.titles.indexOf(e.title)!==-1);if(!t)throw new Error("Widget is not contained in the dock panel.");t.currentTitle=e.title}activateWidget(e){this.selectWidget(e),e.activate()}saveLayout(){return this.layout.saveLayout()}restoreLayout(e){this._mode="multiple-document",this.layout.restoreLayout(e),(Ei.IS_EDGE||Ei.IS_IE)&&Oe.flush(),Oe.postMessage(this,Wi.LayoutModified)}addWidget(e,t={}){this._mode==="single-document"?this.layout.addWidget(e):this.layout.addWidget(e,t),Oe.postMessage(this,Wi.LayoutModified)}processMessage(e){e.type==="layout-modified"?this._layoutModified.emit(void 0):super.processMessage(e)}handleEvent(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){Wi.isGeneratedTabBarProperty.get(e.child)||e.child.addClass("lm-DockPanel-widget")}onChildRemoved(e){Wi.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),Oe.postMessage(this,Wi.LayoutModified))}_evtDragEnter(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())}_evtDragLeave(e){e.preventDefault(),!(this._tabsConstrained&&e.source!==this)&&(e.stopPropagation(),this.overlay.hide(1))}_evtDragOver(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)}_evtDrop(e){if(e.preventDefault(),this.overlay.hide(0),e.proposedAction==="none"){e.dropAction="none";return}let{clientX:t,clientY:r}=e,{zone:n,target:s}=Wi.findDropTarget(this,t,r,this._edges);if(this._tabsConstrained&&e.source!==this||n==="invalid"){e.dropAction="none";return}let a=e.mimeData.getData("application/vnd.lumino.widget-factory");if(typeof a!="function"){e.dropAction="none";return}let l=a();if(!(l instanceof _e)){e.dropAction="none";return}if(l.contains(this)){e.dropAction="none";return}let c=s?Wi.getDropRef(s.tabBar):null;switch(n){case"root-all":this.addWidget(l);break;case"root-top":this.addWidget(l,{mode:"split-top"});break;case"root-left":this.addWidget(l,{mode:"split-left"});break;case"root-right":this.addWidget(l,{mode:"split-right"});break;case"root-bottom":this.addWidget(l,{mode:"split-bottom"});break;case"widget-all":this.addWidget(l,{mode:"tab-after",ref:c});break;case"widget-top":this.addWidget(l,{mode:"split-top",ref:c});break;case"widget-left":this.addWidget(l,{mode:"split-left",ref:c});break;case"widget-right":this.addWidget(l,{mode:"split-right",ref:c});break;case"widget-bottom":this.addWidget(l,{mode:"split-bottom",ref:c});break;case"widget-tab":this.addWidget(l,{mode:"tab-after",ref:c});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(l)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&(this._releaseMouse(),Oe.postMessage(this,Wi.LayoutModified))}_evtPointerDown(e){if(e.button!==0)return;let t=this.layout,r=e.target,n=Rs(t.handles(),u=>u.contains(r));if(!n)return;e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);let s=n.getBoundingClientRect(),o=e.clientX-s.left,a=e.clientY-s.top,l=window.getComputedStyle(n),c=dr.overrideCursor(l.cursor,this._document);this._pressData={handle:n,deltaX:o,deltaY:a,override:c}}_evtPointerMove(e){if(!this._pressData)return;e.preventDefault(),e.stopPropagation();let t=this.node.getBoundingClientRect(),r=e.clientX-t.left-this._pressData.deltaX,n=e.clientY-t.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,r,n)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),Oe.postMessage(this,Wi.LayoutModified))}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))}_showOverlay(e,t){let{zone:r,target:n}=Wi.findDropTarget(this,e,t,this._edges);if(r==="invalid")return this.overlay.hide(100),r;let s,o,a,l,c=Me.boxSizing(this.node),u=this.node.getBoundingClientRect();switch(r){case"root-all":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"root-top":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=u.height*Wi.GOLDEN_RATIO;break;case"root-left":s=c.paddingTop,o=c.paddingLeft,a=u.width*Wi.GOLDEN_RATIO,l=c.paddingBottom;break;case"root-right":s=c.paddingTop,o=u.width*Wi.GOLDEN_RATIO,a=c.paddingRight,l=c.paddingBottom;break;case"root-bottom":s=u.height*Wi.GOLDEN_RATIO,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"widget-all":s=n.top,o=n.left,a=n.right,l=n.bottom;break;case"widget-top":s=n.top,o=n.left,a=n.right,l=n.bottom+n.height/2;break;case"widget-left":s=n.top,o=n.left,a=n.right+n.width/2,l=n.bottom;break;case"widget-right":s=n.top,o=n.left+n.width/2,a=n.right,l=n.bottom;break;case"widget-bottom":s=n.top+n.height/2,o=n.left,a=n.right,l=n.bottom;break;case"widget-tab":{let d=n.tabBar.node.getBoundingClientRect().height;s=n.top,o=n.left,a=n.right,l=n.bottom+n.height-d;break}default:throw"unreachable"}return this.overlay.show({top:s,left:o,right:a,bottom:l}),r}_createTabBar(){let e=this._renderer.createTabBar(this._document);return Wi.isGeneratedTabBarProperty.set(e,!0),this._mode==="single-document"&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e}_createHandle(){return this._renderer.createHandle()}_onTabMoved(){Oe.postMessage(this,Wi.LayoutModified)}_onCurrentChanged(e,t){let{previousTitle:r,currentTitle:n}=t;r&&r.owner.hide(),n&&n.owner.show(),(Ei.IS_EDGE||Ei.IS_IE)&&Oe.flush(),Oe.postMessage(this,Wi.LayoutModified)}_onTabAddRequested(e){this._addRequested.emit(e)}_onTabActivateRequested(e,t){t.title.owner.activate()}_onTabCloseRequested(e,t){t.title.owner.close()}_onTabDetachRequested(e,t){if(this._drag)return;e.releaseMouse();let{title:r,tab:n,clientX:s,clientY:o,offset:a}=t,l=new zl.MimeData,c=()=>r.owner;l.setData("application/vnd.lumino.widget-factory",c);let u=n.cloneNode(!0);a&&(u.style.top=`-${a.y}px`,u.style.left=`-${a.x}px`),this._drag=new dr({document:this._document,mimeData:l,dragImage:u,proposedAction:"move",supportedActions:"move",source:this}),n.classList.add("lm-mod-hidden");let d=()=>{this._drag=null,n.classList.remove("lm-mod-hidden")};this._drag.start(s,o).then(d)}};(function(i){class e{constructor(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.style.position="absolute",this.node.style.contain="strict"}show(n){let s=this.node.style;s.top=`${n.top}px`,s.left=`${n.left}px`,s.right=`${n.right}px`,s.bottom=`${n.bottom}px`,clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"))}hide(n){if(!this._hidden){if(n<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(()=>{this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden")},n))}}}i.Overlay=e;class t{createTabBar(n){let s=new Gc({document:n});return s.addClass("lm-DockPanel-tabBar"),s}createHandle(){let n=document.createElement("div");return n.className="lm-DockPanel-handle",n}}i.Renderer=t,i.defaultRenderer=new t})(Nu||(Nu={}));(function(i){i.GOLDEN_RATIO=.618,i.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},i.LayoutModified=new Uc("layout-modified"),i.isGeneratedTabBarProperty=new ut({name:"isGeneratedTabBar",create:()=>!1});function e(n){if(n.isEmpty)return{main:null};let s=Array.from(n.widgets()),o=n.selectedWidgets().next().value,a=o?s.indexOf(o):-1;return{main:{type:"tab-area",widgets:s,currentIndex:a}}}i.createSingleDocumentConfig=e;function t(n,s,o,a){if(!Me.hitTest(n.node,s,o))return{zone:"invalid",target:null};let l=n.layout;if(l.isEmpty)return{zone:"root-all",target:null};if(n.mode==="multiple-document"){let y=n.node.getBoundingClientRect(),S=s-y.left+1,M=o-y.top+1,_=y.right-s,E=y.bottom-o;switch(Math.min(M,_,E,S)){case M:if(M<a.top)return{zone:"root-top",target:null};break;case _:if(_<a.right)return{zone:"root-right",target:null};break;case E:if(E<a.bottom)return{zone:"root-bottom",target:null};break;case S:if(S<a.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}let c=l.hitTestTabAreas(s,o);if(!c)return{zone:"invalid",target:null};if(n.mode==="single-document")return{zone:"widget-all",target:c};let u=c.x-c.left+1,d=c.y-c.top+1,f=c.left+c.width-c.x,h=c.top+c.height-c.y,m=c.tabBar.node.getBoundingClientRect().height;if(d<m)return{zone:"widget-tab",target:c};let p=Math.round(c.width/3),v=Math.round(c.height/3);if(u>p&&f>p&&d>v&&h>v)return{zone:"widget-all",target:c};u/=p,d/=v,f/=p,h/=v;let x=Math.min(u,d,f,h),C;switch(x){case u:C="widget-left";break;case d:C="widget-top";break;case f:C="widget-right";break;case h:C="widget-bottom";break;default:throw"unreachable"}return{zone:C,target:c}}i.findDropTarget=t;function r(n){return n.titles.length===0?null:n.currentTitle?n.currentTitle.owner:n.titles[n.titles.length-1].owner}i.getDropRef=r})(Wi||(Wi={}));Hl=class extends Ea{constructor(e={}){super(e),this._dirty=!1,this._rowSpacing=4,this._columnSpacing=4,this._items=[],this._rowStarts=[],this._columnStarts=[],this._rowSizers=[new La],this._columnSizers=[new La],this._box=null,e.rowCount!==void 0&&Mr.reallocSizers(this._rowSizers,e.rowCount),e.columnCount!==void 0&&Mr.reallocSizers(this._columnSizers,e.columnCount),e.rowSpacing!==void 0&&(this._rowSpacing=Mr.clampValue(e.rowSpacing)),e.columnSpacing!==void 0&&(this._columnSpacing=Mr.clampValue(e.columnSpacing))}dispose(){for(let e of this._items){let t=e.widget;e.dispose(),t.dispose()}this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,super.dispose()}get rowCount(){return this._rowSizers.length}set rowCount(e){e!==this.rowCount&&(Mr.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())}get columnCount(){return this._columnSizers.length}set columnCount(e){e!==this.columnCount&&(Mr.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())}get rowSpacing(){return this._rowSpacing}set rowSpacing(e){e=Mr.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())}get columnSpacing(){return this._columnSpacing}set columnSpacing(e){e=Mr.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())}rowStretch(e){let t=this._rowSizers[e];return t?t.stretch:-1}setRowStretch(e,t){let r=this._rowSizers[e];r&&(t=Mr.clampValue(t),r.stretch!==t&&(r.stretch=t,this.parent&&this.parent.update()))}columnStretch(e){let t=this._columnSizers[e];return t?t.stretch:-1}setColumnStretch(e,t){let r=this._columnSizers[e];r&&(t=Mr.clampValue(t),r.stretch!==t&&(r.stretch=t,this.parent&&this.parent.update()))}*[Symbol.iterator](){for(let e of this._items)yield e.widget}addWidget(e){z.findFirstIndex(this._items,r=>r.widget===e)===-1&&(this._items.push(new Tu(e)),this.parent&&this.attachWidget(e))}removeWidget(e){let t=z.findFirstIndex(this._items,n=>n.widget===e);if(t===-1)return;let r=z.removeAt(this._items,t);this.parent&&this.detachWidget(e),r.dispose()}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&Oe.sendMessage(e,_e.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Oe.sendMessage(e,_e.Msg.AfterAttach),this.parent.fit()}detachWidget(e){this.parent.isAttached&&Oe.sendMessage(e,_e.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Oe.sendMessage(e,_e.Msg.AfterDetach),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){for(let l=0,c=this.rowCount;l<c;++l)this._rowSizers[l].minSize=0;for(let l=0,c=this.columnCount;l<c;++l)this._columnSizers[l].minSize=0;let e=this._items.filter(l=>!l.isHidden);for(let l=0,c=e.length;l<c;++l)e[l].fit();let t=this.rowCount-1,r=this.columnCount-1;e.sort(Mr.rowSpanCmp);for(let l=0,c=e.length;l<c;++l){let u=e[l],d=Hl.getCellConfig(u.widget),f=Math.min(d.row,t),h=Math.min(d.row+d.rowSpan-1,t);Mr.distributeMin(this._rowSizers,f,h,u.minHeight)}e.sort(Mr.columnSpanCmp);for(let l=0,c=e.length;l<c;++l){let u=e[l],d=Hl.getCellConfig(u.widget),f=Math.min(d.column,r),h=Math.min(d.column+d.columnSpan-1,r);Mr.distributeMin(this._columnSizers,f,h,u.minWidth)}if(this.fitPolicy==="set-no-constraint"){Oe.sendMessage(this.parent,_e.Msg.UpdateRequest);return}let n=t*this._rowSpacing,s=r*this._columnSpacing;for(let l=0,c=this.rowCount;l<c;++l)n+=this._rowSizers[l].minSize;for(let l=0,c=this.columnCount;l<c;++l)s+=this._columnSizers[l].minSize;let o=this._box=Me.boxSizing(this.parent.node);s+=o.horizontalSum,n+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${s}px`,a.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&Oe.sendMessage(this.parent.parent,_e.Msg.FitRequest),this._dirty&&Oe.sendMessage(this.parent,_e.Msg.UpdateRequest)}_update(e,t){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=Me.boxSizing(this.parent.node));let r=this._box.paddingTop,n=this._box.paddingLeft,s=e-this._box.horizontalSum,o=t-this._box.verticalSum,a=this.rowCount-1,l=this.columnCount-1,c=a*this._rowSpacing,u=l*this._columnSpacing;gs.calc(this._rowSizers,Math.max(0,o-c)),gs.calc(this._columnSizers,Math.max(0,s-u));for(let d=0,f=r,h=this.rowCount;d<h;++d)this._rowStarts[d]=f,f+=this._rowSizers[d].size+this._rowSpacing;for(let d=0,f=n,h=this.columnCount;d<h;++d)this._columnStarts[d]=f,f+=this._columnSizers[d].size+this._columnSpacing;for(let d=0,f=this._items.length;d<f;++d){let h=this._items[d];if(h.isHidden)continue;let m=Hl.getCellConfig(h.widget),p=Math.min(m.row,a),v=Math.min(m.column,l),x=Math.min(m.row+m.rowSpan-1,a),C=Math.min(m.column+m.columnSpan-1,l),y=this._columnStarts[v],S=this._rowStarts[p],M=this._columnStarts[C]+this._columnSizers[C].size-y,_=this._rowStarts[x]+this._rowSizers[x].size-S;h.update(y,S,M,_)}}};(function(i){function e(r){return Mr.cellConfigProperty.get(r)}i.getCellConfig=e;function t(r,n){Mr.cellConfigProperty.set(r,Mr.normalizeConfig(n))}i.setCellConfig=t})(Hl||(Hl={}));(function(i){i.cellConfigProperty=new ut({name:"cellConfig",create:()=>({row:0,column:0,rowSpan:1,columnSpan:1}),changed:a});function e(l){let c=Math.max(0,Math.floor(l.row||0)),u=Math.max(0,Math.floor(l.column||0)),d=Math.max(1,Math.floor(l.rowSpan||0)),f=Math.max(1,Math.floor(l.columnSpan||0));return{row:c,column:u,rowSpan:d,columnSpan:f}}i.normalizeConfig=e;function t(l){return Math.max(0,Math.floor(l))}i.clampValue=t;function r(l,c){let u=i.cellConfigProperty.get(l.widget),d=i.cellConfigProperty.get(c.widget);return u.rowSpan-d.rowSpan}i.rowSpanCmp=r;function n(l,c){let u=i.cellConfigProperty.get(l.widget),d=i.cellConfigProperty.get(c.widget);return u.columnSpan-d.columnSpan}i.columnSpanCmp=n;function s(l,c){for(c=Math.max(1,Math.floor(c));l.length<c;)l.push(new La);l.length>c&&(l.length=c)}i.reallocSizers=s;function o(l,c,u,d){if(u<c)return;if(c===u){let m=l[c];m.minSize=Math.max(m.minSize,d);return}let f=0;for(let m=c;m<=u;++m)f+=l[m].minSize;if(f>=d)return;let h=(d-f)/(u-c+1);for(let m=c;m<=u;++m)l[m].minSize+=h}i.distributeMin=o;function a(l){l.parent&&l.parent.layout instanceof Hl&&l.parent.fit()}})(Mr||(Mr={}));Zf=class extends _e{constructor(e={}){super({node:P4.createNode()}),this._activeIndex=-1,this._tabFocusIndex=0,this._menus=[],this._childMenu=null,this._overflowMenu=null,this._menuItemSizes=[],this._overflowIndex=-1,this.addClass("lm-MenuBar"),this.setFlag(_e.Flag.DisallowLayout),this.renderer=e.renderer||Zf.defaultRenderer,this._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},this._overflowMenuOptions=e.overflowMenuOptions||{isVisible:!0}}dispose(){this._closeChildMenu(),this._menus.length=0,super.dispose()}get childMenu(){return this._childMenu}get overflowIndex(){return this._overflowIndex}get overflowMenu(){return this._overflowMenu}get contentNode(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]}get activeMenu(){return this._menus[this._activeIndex]||null}set activeMenu(e){this.activeIndex=e?this._menus.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._menus.length)&&(e=-1),e>-1&&this._menus[e].items.length===0&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())}get menus(){return this._menus}openActiveMenu(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))}addMenu(e,t=!0){this.insertMenu(this._menus.length,e,t)}insertMenu(e,t,r=!0){this._closeChildMenu();let n=this._menus.indexOf(t),s=Math.max(0,Math.min(e,this._menus.length));if(n===-1){z.insert(this._menus,s,t),t.addClass("lm-MenuBar-menu"),t.aboutToClose.connect(this._onMenuAboutToClose,this),t.menuRequested.connect(this._onMenuMenuRequested,this),t.title.changed.connect(this._onTitleChanged,this),r&&this.update();return}s===this._menus.length&&s--,n!==s&&(z.move(this._menus,n,s),r&&this.update())}removeMenu(e,t=!0){this.removeMenuAt(this._menus.indexOf(e),t)}removeMenuAt(e,t=!0){this._closeChildMenu();let r=z.removeAt(this._menus,e);r&&(r.aboutToClose.disconnect(this._onMenuAboutToClose,this),r.menuRequested.disconnect(this._onMenuMenuRequested,this),r.title.changed.disconnect(this._onTitleChanged,this),r.removeClass("lm-MenuBar-menu"),t&&this.update())}clearMenus(){if(this._menus.length!==0){this._closeChildMenu();for(let e of this._menus)e.aboutToClose.disconnect(this._onMenuAboutToClose,this),e.menuRequested.disconnect(this._onMenuMenuRequested,this),e.title.changed.disconnect(this._onTitleChanged,this),e.removeClass("lm-MenuBar-menu");this._menus.length=0,this.update()}}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":case"mouseleave":this._evtMouseMove(e);break;case"focusout":this._evtFocusOut(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("focusout",this),this.node.addEventListener("contextmenu",this)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("focusout",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()}onActivateRequest(e){this.isAttached&&this._focusItemAt(0)}onResize(e){this.update(),super.onResize(e)}onUpdateRequest(e){var t;let r=this._menus,n=this.renderer,s=this._activeIndex,o=this._tabFocusIndex>=0&&this._tabFocusIndex<r.length?this._tabFocusIndex:0,a=this._overflowIndex>-1?this._overflowIndex:r.length,l=0,c=!1;a=this._overflowMenu!==null?a-1:a;let u=new Array(a);for(let d=0;d<a;++d)u[d]=n.renderItem({title:r[d].title,active:d===s,tabbable:d===o,disabled:r[d].items.length===0,onfocus:()=>{this._tabFocusIndex=d,this.activeIndex=d}}),l+=this._menuItemSizes[d],r[d].title.label===this._overflowMenuOptions.title&&(c=!0,a--);if(this._overflowMenuOptions.isVisible){if(this._overflowIndex>-1&&!c){if(this._overflowMenu===null){let d=(t=this._overflowMenuOptions.title)!==null&&t!==void 0?t:"...";this._overflowMenu=new Sa({commands:new rn}),this._overflowMenu.title.label=d,this._overflowMenu.title.mnemonic=0,this.addMenu(this._overflowMenu,!1)}for(let d=r.length-2;d>=a;d--){let f=this.menus[d];f.title.mnemonic=0,this._overflowMenu.insertItem(0,{type:"submenu",submenu:f}),this.removeMenu(f,!1)}u[a]=n.renderItem({title:this._overflowMenu.title,active:a===s&&r[a].items.length!==0,tabbable:a===o,disabled:r[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}else if(this._overflowMenu!==null){let d=this._overflowMenu.items,f=this.node.offsetWidth,h=this._overflowMenu.items.length;for(let m=0;m<h;++m){let p=r.length-1-m;if(f-l>this._menuItemSizes[p]){let v=d[0].submenu;this._overflowMenu.removeItemAt(0),this.insertMenu(a,v,!1),u[a]=n.renderItem({title:v.title,active:!1,tabbable:a===o,disabled:r[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}}this._overflowMenu.items.length===0&&(this.removeMenu(this._overflowMenu,!1),u.pop(),this._overflowMenu=null,this._overflowIndex=-1)}}Bt.render(u,this.contentNode),this._updateOverflowIndex()}_updateOverflowIndex(){if(!this._overflowMenuOptions.isVisible)return;let e=this.contentNode.childNodes,t=this.node.offsetWidth,r=0,n=-1,s=e.length;if(this._menuItemSizes.length==0)for(let o=0;o<s;o++){let a=e[o];r+=a.offsetWidth,this._menuItemSizes.push(a.offsetWidth),r>t&&n===-1&&(n=o)}else for(let o=0;o<this._menuItemSizes.length;o++)if(r+=this._menuItemSizes[o],r>t){n=o;break}this._overflowIndex=n}_evtKeyDown(e){let t=e.keyCode;if(t===9){this.activeIndex=-1;return}if(e.preventDefault(),e.stopPropagation(),t===13||t===32||t===38||t===40){if(this.activeIndex=this._tabFocusIndex,this.activeIndex!==this._tabFocusIndex)return;this.openActiveMenu();return}if(t===27){this._closeChildMenu(),this._focusItemAt(this.activeIndex);return}if(t===37||t===39){let o=t===37?-1:1,a=this._tabFocusIndex+o,l=this._menus.length;for(let c=0;c<l;c++){let u=(l+a+o*c)%l;if(this._menus[u].items.length){this._focusItemAt(u);return}}return}let r=Ts().keyForKeydownEvent(e);if(!r)return;let n=this._activeIndex+1,s=P4.findMnemonic(this._menus,r,n);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.openActiveMenu()):s.index!==-1?(this.activeIndex=s.index,this._focusItemAt(this.activeIndex)):s.auto!==-1&&(this.activeIndex=s.auto,this._focusItemAt(this.activeIndex))}_evtMouseDown(e){if(!Me.hitTest(this.node,e.clientX,e.clientY))return;e.stopPropagation(),e.stopImmediatePropagation();let t=z.findFirstIndex(this.contentNode.children,r=>Me.hitTest(r,e.clientX,e.clientY));if(t===-1){this._closeChildMenu();return}if(e.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=t;else{e.preventDefault();let r=this._positionForMenu(t);Sa.saveWindowData(),this.activeIndex=t,this._openChildMenu(r)}}_evtMouseMove(e){let t=z.findFirstIndex(this.contentNode.children,n=>Me.hitTest(n,e.clientX,e.clientY));if(t===this._activeIndex||t===-1&&this._childMenu)return;let r=t>=0&&this._childMenu?this._positionForMenu(t):null;Sa.saveWindowData(),this.activeIndex=t,r&&this._openChildMenu(r)}_positionForMenu(e){let t=this.contentNode.children[e],{left:r,bottom:n}=t.getBoundingClientRect();return{top:n,left:r}}_evtFocusOut(e){!this._childMenu&&!this.node.contains(e.relatedTarget)&&(this.activeIndex=-1)}_focusItemAt(e){let t=this.contentNode.childNodes[e];t&&t.focus()}_openChildMenu(e={}){let t=this.activeMenu;if(!t){this._closeChildMenu();return}let r=this._childMenu;if(r===t)return;this._childMenu=t,r?r.close():document.addEventListener("mousedown",this,!0),this._tabFocusIndex=this.activeIndex,Oe.sendMessage(this,_e.Msg.UpdateRequest);let{left:n,top:s}=e;(typeof n>"u"||typeof s>"u")&&({left:n,top:s}=this._positionForMenu(this._activeIndex)),r||this.addClass("lm-mod-active"),t.items.length>0&&t.open(n,s,this._forceItemsPosition)}_closeChildMenu(){if(!this._childMenu)return;this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0);let e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}_onMenuAboutToClose(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)}_onMenuMenuRequested(e,t){if(e!==this._childMenu)return;let r=this._activeIndex,n=this._menus.length;switch(t){case"next":this.activeIndex=r===n-1?0:r+1;break;case"previous":this.activeIndex=r===0?n-1:r-1;break}this.openActiveMenu()}_onTitleChanged(){this.update()}};(function(i){class e{renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r),o=this.createItemARIA(r);return xe.li({className:n,dataset:s,...r.disabled?{}:{tabindex:r.tabbable?"0":"-1"},onfocus:r.onfocus,...o},this.renderIcon(r),this.renderLabel(r))}renderIcon(r){let n=this.createIconClass(r);return xe.div({className:n},r.title.icon,r.title.iconLabel)}renderLabel(r){let n=this.formatLabel(r);return xe.div({className:"lm-MenuBar-itemLabel"},n)}createItemClass(r){let n="lm-MenuBar-item";return r.title.className&&(n+=` ${r.title.className}`),r.active&&!r.disabled&&(n+=" lm-mod-active"),n}createItemDataset(r){return r.title.dataset}createItemARIA(r){return{role:"menuitem","aria-haspopup":"true","aria-disabled":r.disabled?"true":"false"}}createIconClass(r){let n="lm-MenuBar-itemIcon",s=r.title.iconClass;return s?`${n} ${s}`:n}formatLabel(r){let{label:n,mnemonic:s}=r.title;if(s<0||s>=n.length)return n;let o=n.slice(0,s),a=n.slice(s+1),l=n[s],c=xe.span({className:"lm-MenuBar-itemMnemonic"},l);return[o,c,a]}}i.Renderer=e,i.defaultRenderer=new e})(Zf||(Zf={}));(function(i){function e(){let r=document.createElement("div"),n=document.createElement("ul");return n.className="lm-MenuBar-content",r.appendChild(n),n.setAttribute("role","menubar"),r}i.createNode=e;function t(r,n,s){let o=-1,a=-1,l=!1,c=n.toUpperCase();for(let u=0,d=r.length;u<d;++u){let f=(u+s)%d,h=r[f].title;if(h.label.length===0)continue;let m=h.mnemonic;if(m>=0&&m<h.label.length){h.label[m].toUpperCase()===c&&(o===-1?o=f:l=!0);continue}a===-1&&h.label[0].toUpperCase()===c&&(a=f)}return{index:o,multiple:l,auto:a}}i.findMnemonic=t})(P4||(P4={}));(function(i){function e(){let r=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div");return n.className="lm-ScrollBar-button",s.className="lm-ScrollBar-button",n.dataset.action="decrement",s.dataset.action="increment",o.className="lm-ScrollBar-track",a.className="lm-ScrollBar-thumb",o.appendChild(a),r.appendChild(n),r.appendChild(o),r.appendChild(s),r}i.createNode=e;function t(r,n){return r.thumbNode.contains(n)?"thumb":r.trackNode.contains(n)?"track":r.decrementNode.contains(n)?"decrement":r.incrementNode.contains(n)?"increment":null}i.findPart=t})(KB||(KB={}));YB=class extends Ea{constructor(){super(...arguments),this._widget=null}dispose(){if(this._widget){let e=this._widget;this._widget=null,e.dispose()}super.dispose()}get widget(){return this._widget}set widget(e){e&&(e.parent=this.parent),this._widget!==e&&(this._widget&&this._widget.dispose(),this._widget=e,this.parent&&e&&this.attachWidget(e))}*[Symbol.iterator](){this._widget&&(yield this._widget)}removeWidget(e){this._widget===e&&(this._widget=null,this.parent&&this.detachWidget(e))}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&Oe.sendMessage(e,_e.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Oe.sendMessage(e,_e.Msg.AfterAttach)}detachWidget(e){this.parent.isAttached&&Oe.sendMessage(e,_e.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Oe.sendMessage(e,_e.Msg.AfterDetach)}},Xw=class extends Ff{constructor(e={}){super(e),this._dirty=!1,this._items=[],this._box=null,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:_e.HiddenMode.Display}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach(t=>{t.hiddenMode=this._hiddenMode}))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,super.dispose()}attachWidget(e,t){this._hiddenMode===_e.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=_e.HiddenMode.Scale),t.hiddenMode=_e.HiddenMode.Scale):t.hiddenMode=_e.HiddenMode.Display,z.insert(this._items,e,new Tu(t)),this.parent.isAttached&&Oe.sendMessage(t,_e.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&Oe.sendMessage(t,_e.Msg.AfterAttach),this.parent.fit()}moveWidget(e,t,r){z.move(this._items,e,t),this.parent.update()}detachWidget(e,t){let r=z.removeAt(this._items,e);this.parent.isAttached&&Oe.sendMessage(t,_e.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&Oe.sendMessage(t,_e.Msg.AfterDetach),r.widget.node.style.zIndex="",this._hiddenMode===_e.HiddenMode.Scale&&(t.hiddenMode=_e.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=_e.HiddenMode.Display)),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0,t=0;for(let s=0,o=this._items.length;s<o;++s){let a=this._items[s];a.isHidden||(a.fit(),e=Math.max(e,a.minWidth),t=Math.max(t,a.minHeight))}let r=this._box=Me.boxSizing(this.parent.node);e+=r.horizontalSum,t+=r.verticalSum;let n=this.parent.node.style;n.minWidth=`${e}px`,n.minHeight=`${t}px`,this._dirty=!0,this.parent.parent&&Oe.sendMessage(this.parent.parent,_e.Msg.FitRequest),this._dirty&&Oe.sendMessage(this.parent,_e.Msg.UpdateRequest)}_update(e,t){this._dirty=!1;let r=0;for(let l=0,c=this._items.length;l<c;++l)r+=+!this._items[l].isHidden;if(r===0)return;e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=Me.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=t-this._box.verticalSum;for(let l=0,c=this._items.length;l<c;++l){let u=this._items[l];u.isHidden||(u.widget.node.style.zIndex=`${l}`,u.update(s,n,o,a))}}};(function(i){function e(t){return t.layout||new Xw}i.createLayout=e})(JB||(JB={}));(function(i){function e(s){return r[s]}i.orientationFromPlacement=e;function t(s){return n[s]}i.directionFromPlacement=t;let r={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},n={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(QB||(QB={}))});var tP,iP,Cie,xie,rP,Kw,nP,sP=P(()=>{Og();S0();eP();tP=N(te()),iP=N(s$()),Cie="jp-RenderedJSON",xie="application/json",rP=["text/jsonl","application/jsonl","application/json-lines"],Kw=class extends _e{constructor(e){super(),this._rootDOM=null,this.addClass(Cie),this.addClass("CodeMirror"),this._mimeType=e.mimeType,this.translator=e.translator||As}[Ng.symbol](){return()=>Ng.printWidget(this)}async renderModel(e){let{Component:t}=await import("/myst_assets_folder/_shared/component-GIVKHJAB.js"),r;if(rP.indexOf(this._mimeType)>=0){let s=(e.data[this._mimeType]||"").trim().split(/\n/);r=JSON.parse(`[${s.join(",")}]`)}else r=e.data[this._mimeType]||{};let n=e.metadata[this._mimeType]||{};return this._rootDOM===null&&(this._rootDOM=(0,iP.createRoot)(this.node)),new Promise((s,o)=>{this._rootDOM.render(tP.createElement(t,{data:r,metadata:n,translator:this.translator,forwardedRef:()=>s()}))})}onBeforeDetach(e){this._rootDOM&&(this._rootDOM.unmount(),this._rootDOM=null)}},nP={safe:!0,mimeTypes:[xie,...rP],createRenderer:i=>new Kw(i)}});var qf,Yw=P(()=>{Uf();rl();qf=class{constructor(e={},t){var r,n,s,o,a,l,c;this._events=(r=t?.events)!==null&&r!==void 0?r:new Pd,this._options={mathjaxUrl:(n=e.mathjaxUrl)!==null&&n!==void 0?n:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js",mathjaxConfig:(s=e.mathjaxConfig)!==null&&s!==void 0?s:"TeX-AMS_CHTML-full,Safe"},this._binderOptions=Jw((o=e.binderOptions)!==null&&o!==void 0?o:{}),this._savedSessions=Qw((a=e.savedSessionOptions)!==null&&a!==void 0?a:{}),this._kernelOptions=ey((l=e.kernelOptions)!==null&&l!==void 0?l:{}),this._serverSettings=ty((c=e.serverSettings)!==null&&c!==void 0?c:{}),console.debug("thebe:config:constructor",this)}get events(){return this._events}get base(){return this._options}get mathjax(){return{mathjaxUrl:this._options.mathjaxUrl,mathjaxConfig:this._options.mathjaxConfig}}get binder(){return this._binderOptions}get savedSessions(){return this._savedSessions}get kernels(){return this._kernelOptions}get serverSettings(){return this._serverSettings}set serverSettings(e){this._serverSettings=e}}});function Jw(i){return Object.assign({repo:"executablebooks/thebe-binder-base",ref:"HEAD",binderUrl:"https://mybinder.org",repoProvider:"github"},i)}function Qw(i){return Object.assign({enabled:!0,maxAge:86400,storagePrefix:"thebe-binder"},i)}function ey(i){var e,t;return{path:(e=i.path)!==null&&e!==void 0?e:"/",kernelName:(t=i.kernelName)!==null&&t!==void 0?t:"python"}}function ty(i){var e,t;let r=(e=i.baseUrl)!==null&&e!==void 0?e:"http://localhost:8888",n=(t=i.wsUrl)!==null&&t!==void 0?t:r.replace(/^http/,"ws");return Object.assign(Object.assign({token:Jn(),appendToken:!0},i),{wsUrl:n,baseUrl:r})}function J2(i){return Object.assign({mathjaxUrl:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js",mathjaxConfig:"TeX-AMS_CHTML-full,Safe"},i)}function iy(i,e){return new qf(i,{events:e})}function wie(i,e){let t=new qf(i,{events:e});return Object.assign(Object.assign({},t.base),{binderOptions:t.binder,savedSessionOptions:t.savedSessions,kernelOptions:t.kernels,serverSettings:t.serverSettings})}var Uf=P(()=>{Yw();qc()});function oP(i){ry==null&&(ry=yie.filter(t=>t.mimeTypes.indexOf("text/latex")>=0?i.mathjaxUrl?!0:(console.debug("thebe:getRenderers MathJax unavailable"),!1):!0));let e;return i.mathjaxUrl&&i.mathjaxConfig&&(e=new O4({url:i.mathjaxUrl,config:i.mathjaxConfig})),{initialFactories:[...ry],latexTypesetter:e}}function Q2(i){let e=new Sc(oP(i??J2()));return e.addFactory(nP,10),e}var yie,ry,j4=P(()=>{c3();WB();ZB();sP();Uf();yie=[yA,SA,LA,EA,MA,Vw,IA,RA],ry=null});var ny,Gf,$4=P(()=>{j4();z_();Uf();o_();j5();ny=class{constructor(e,t,r){this.id=e,this.rendermime=t??Q2(r??J2()),this.model=new fa({trusted:!0}),this.area=new ds({model:this.model,rendermime:this.rendermime})}get outputs(){return this.model.toJSON()}get isAttachedToDOM(){return this.area.isAttached}attachToDOM(e,t=!1){if(!this.area||!e){console.error(`thebe:renderer:attachToDOM - could not attach to DOM - area: ${this.area}, el: ${e}`);return}if(this.area.isAttached){if(console.debug("thebe:renderer:attachToDOM - already attached"),t)return}else console.debug(`thebe:renderer:attachToDOM ${this.id} - appending existing contents`),e.innerHTML&&this.area.model.add({output_type:"display_data",data:{"text/html":e.innerHTML}});e.textContent="";let r=document.createElement("div");r.style.position="relative",r.className="thebe-output",e.append(r),ke.sendMessage(this.area,me.Msg.BeforeAttach),r.appendChild(this.area.node),ke.sendMessage(this.area,me.Msg.AfterAttach)}setOutputText(e){this.area&&(this.area.model.clear(!0),this.area.model.add({output_type:"stream",name:"stdout",text:e}))}clear(){this.area&&this.area.model.clear()}clearOnError(e){this.area&&(this.area.model.clear(),this.area.model.add({output_type:"stream",name:"stderr",text:`Failed to execute. ${e??""} Please refresh the page.`}))}render(e){this.model.fromJSON(e)}},Gf=ny});var ep,tp,sy=P(()=>{Hi();$4();rl();Z2();qc();ep=class extends Gf{constructor(e,t,r,n,s,o){super(e,o),this.kind="code",this.events=new Ma(e,n,Lo.cell,this),this.notebookId=t,this.source=r,this.metadata=s,this.busy=!1,this.executionCount=null,this.initialOutputs=[],console.debug("thebe:cell constructor",this)}static fromICodeCell(e,t,r,n){var s;let o=new ep((s=e.id)!==null&&s!==void 0?s:Jn(),t,Pf(e.source),r,e.metadata,n);return Object.assign(o.metadata,e.metadata),o}get isBusy(){return this.busy}get isAttached(){return this.session!==void 0}get tags(){var e;return(e=this.metadata.tags)!==null&&e!==void 0?e:[]}attachSession(e){this.session=e,this.events.triggerStatus({status:_c.attached,message:"Attached to session"})}detachSession(){this.session=void 0,this.events.triggerStatus({status:_c.detached,message:"Detached from session"})}setAsBusy(){console.debug(`thebe:renderer:message:busy ${this.id}`),this.busy=!0,this.events.triggerStatus({status:_c.executing,message:"Executing..."})}setAsIdle(){console.debug(`thebe:renderer:message:completed ${this.id}`),this.busy=!1,this.events.triggerStatus({status:_c.idle,message:"Completed"})}initOutputs(e){this.initialOutputs=e,this.render(e),this.executionCount=null}reset(){this.render(this.initialOutputs),this.executionCount=null}execute(e){return dt(this,void 0,void 0,function*(){if(!this.session||!this.session.kernel)return console.warn("Attempting to execute on a cell without an attached kernel"),null;let t=e??this.source;try{console.debug(`thebe:renderer:execute ${this.id}`),this.isBusy||this.setAsBusy(),this.area.future=this.session.kernel.requestExecute({code:t});let r=yield this.area.future.done;this.executionCount=r.content.execution_count;let n;for(let s=0;s<this.model.length;s++){let o=this.model.get(s);if(console.debug("thebecell:execute:output",{out:o.toJSON()}),o.type==="error"){let a=o.toJSON();a.ename==="stderr"?this.events.triggerError({status:Ur.warning,message:P5(a)}):(n?n?.push(a):n=[a],this.events.triggerError({status:Ur.executeError,message:P5(a)}))}}return this.setAsIdle(),{id:this.id,height:this.area.node.offsetHeight,width:this.area.node.offsetWidth,error:n}}catch(r){return console.error("thebe:renderer:execute Error:",r),this.clearOnError(r),this.events.triggerError(r.message),null}})}},tp=ep});var Bl,oy=P(()=>{Hi();$4();qc();Bl=class extends Gf{constructor(e,t,r,n,s){super(e,s),this.kind="markdown",this.id=e,this.notebookId=t,this.source=r,this.busy=!1,this.metadata=n}static fromICell(e,t,r){return new Bl(typeof e.id=="string"?e.id:Jn(),t,Pf(e.source),e.metadata,r)}get isAttachedToDOM(){return!1}get isBusy(){return!1}get isAttached(){return!1}get executionCount(){return null}setAsBusy(){}setAsIdle(){}initOutputs(e){}reset(){}attachToDOM(e){}attachSession(e){}detachSession(){}setOutputText(e){}clear(){}clearOnError(e){}messageBusy(){}messageCompleted(){}messageError(e){}render(e){}get tags(){return[]}get outputs(){return[]}execute(e){return dt(this,void 0,void 0,function*(){return{id:this.id,height:0,width:0}})}}});var Xf,ip,ay=P(()=>{Hi();sy();qc();rl();Z2();oy();Xf=class{constructor(e,t,r){this.id=e,this.events=new Ma(e,t,Lo.notebook,this),this.cells=[],this.metadata={},this.rendermime=r,console.debug("thebe:notebook constructor",this)}static fromCodeBlocks(e,t,r){let n=Jn(),s=new Xf(n,t,r);return s.cells=e.map(o=>{let a={},l=new tp(o.id,n,o.source,t,a,s.rendermime);return console.debug(`thebe:notebook:fromCodeBlocks Initializing cell ${o.id}`),l}),s}static fromIpynb(e,t,r){let n=new Xf(Jn(),t,r);return Object.assign(n.metadata,e.metadata),n.cells=e.cells.map(s=>s.cell_type==="code"?tp.fromICodeCell(s,n.id,t,n.rendermime):Bl.fromICell(s,n.id,n.rendermime)),n}get parameters(){let e=this.findCells("parameters");if(!(!e||e?.length===0))return e.length>1&&console.warn(`Mulitple parameter cells found in notebook ${this.id}`),e}get widgets(){var e;return(e=this.findCells("widget"))!==null&&e!==void 0?e:[]}get last(){if(this.cells.length===0)throw new Error("empty notebook");return this.cells[this.cells.length-1]}get markdown(){return this.cells.filter(e=>e.kind==="markdown")}get code(){return this.cells.filter(e=>e.kind==="code")}reset(){this.cells.forEach(e=>e.reset())}numCells(){var e,t;return(t=(e=this.cells)===null||e===void 0?void 0:e.length)!==null&&t!==void 0?t:0}findCells(e){let t=this.cells.filter(r=>r.tags.includes(e));return t.length>0?t:void 0}getCell(e){if(!this.cells)throw Error("Dag not initialized");if(e>=this.cells.length)throw Error(`Notebook.cells index out of range: ${e}:${this.cells.length}`);return this.cells[e]}getCellById(e){var t;return(t=this.cells)===null||t===void 0?void 0:t.find(n=>n.id===e)}lastCell(){if(!this.cells)throw Error("Notebook not initialized");return this.cells[this.cells.length-1]}updateParameters(e,t=!1){if(t)throw new Error("Not implemented yet");this.parameters&&(this.parameters[0].source=e)}waitForKernel(e){return dt(this,void 0,void 0,function*(){return e.then(t=>(this.attachSession(t),t))})}attachSession(e){var t;if(!e.kernel)throw Error("ThebeNotebook - cannot connect to session, no kernel");this.session=e,(t=this.cells)===null||t===void 0||t.forEach(r=>r.session=e),this.events.triggerStatus({status:qn.attached,message:"Attached to session"})}detachSession(){var e;(e=this.cells)===null||e===void 0||e.map(t=>t.session=void 0),this.session=void 0,this.events.triggerStatus({status:qn.detached,message:"Detached from session"})}clear(){this.cells.forEach(e=>e.clear())}executeUpTo(e,t=!1,r){return dt(this,void 0,void 0,function*(){if(!this.cells)return[];this.events.triggerStatus({status:qn.executing,message:`executeUpTo ${e}`});let n=this.cells.findIndex(a=>a.id===e);if(n===-1)return[];let s=this.cells.slice(0,n+1);s.map(a=>a.setAsBusy());let o=yield this.executeCells(s.map(a=>a.id),t,r);return this.events.triggerStatus({status:qn.idle,message:`executeUpTo ${e}`}),o})}executeOnly(e,t){return dt(this,void 0,void 0,function*(){if(!this.cells)return null;this.events.triggerStatus({status:qn.executing,message:`executeOnly ${e}`});let r=yield this.executeCells([e],!1,t);return this.events.triggerStatus({status:qn.idle,message:`executeUpTo ${e}`}),r[0]})}executeCells(e,t=!1,r){return dt(this,void 0,void 0,function*(){if(!this.cells)return[];this.events.triggerStatus({status:qn.executing,message:`executeCells ${e.length} cells`});let n=this.cells.filter(o=>{let a=e.find(l=>l===o.id);return a||console.warn(`Cell ${o.id} not found in notebook`),Boolean(a)}),s=[];if(t){let o=!1;for(let a of n){if(o)continue;let l=yield a.execute(r?r(a.source):a.source);(l==null||l.error)&&(o=!0),s.push(l)}}else s=yield Promise.all(n.map(o=>o.execute(r?r(o.source):o.source)));return this.events.triggerStatus({status:qn.idle,message:`executeCells executed ${e.length} cells`}),s})}executeAll(e=!1,t){return dt(this,void 0,void 0,function*(){if(!this.cells)return[];this.events.triggerStatus({status:qn.executing,message:"executeAll"}),this.cells.map(n=>n.setAsBusy());let r=yield this.executeCells(this.cells.map(n=>n.id),e,t);return this.events.triggerStatus({status:qn.idle,message:"executeAll"}),r})}},ip=Xf});var Mie,rp,ly=P(()=>{Mie="0.5.0",rp=Mie});function aP(i){let e=new Iu(i);return console.debug("thebe:api:connect binder \u{1F4E1}",i.binder),e.connectToServerViaBinder(),e}function lP(i){let e=new Iu(i);return console.debug("thebe:api:connect direct \u{1F50C}",i.serverSettings),e.connectToJupyterServer(),e}function cP(i){let e=new Iu(i);return console.debug("thebe:api:connect JupyterLite \u{1F918}"),e.connectToJupyterLiteServer(),e}function dP(){return new Pd}function uP(i){return new Iu(i)}function hP(i,e,t){return ip.fromCodeBlocks(i,e,t)}function fP(i,e,t){return ip.fromIpynb(i,e,t)}function cy(){var i;console.debug(`thebe-core (v${rp})`,{coreModule:np}),window.thebeCore=Object.assign((i=window.thebeCore)!==null&&i!==void 0?i:{},{module:np,api:{makeConfiguration:iy,makeEvents:dP,makeServer:uP,makeRenderMimeRegistry:Q2,connectToBinder:aP,connectToJupyter:lP,connectToJupyterLite:cP,setupNotebookFromBlocks:hP,setupNotebookFromIpynb:fP},version:rp})}var dy=P(()=>{jw();ay();rl();Uf();j4();uy();ly()});var mP=P(()=>{dy();typeof window<"u"&&cy()});var pP=P(()=>{});var np={};qo(np,{CellStatusEvent:()=>_c,Config:()=>qf,ErrorStatusEvent:()=>Ur,EventSubject:()=>Lo,KernelStatusEvent:()=>Yv,NotebookStatusEvent:()=>qn,PassiveCellRenderer:()=>Gf,ServerStatusEvent:()=>Xi,SessionStatusEvent:()=>Ws,ThebeCodeCell:()=>tp,ThebeEventType:()=>Dh,ThebeEvents:()=>Pd,ThebeManager:()=>W2,ThebeMarkdownCell:()=>Bl,ThebeNotebook:()=>ip,ThebeServer:()=>Iu,ThebeSession:()=>q2,WIDGET_MIMETYPE:()=>F2,clearAllSavedSessions:()=>PT,clearSavedSession:()=>jT,connectToBinder:()=>aP,connectToJupyter:()=>lP,connectToJupyterLite:()=>cP,ensureCoreOptions:()=>wie,ensureString:()=>Pf,errorToMessage:()=>P5,getRenderers:()=>oP,isMimeBundle:()=>NB,makeBinderOptions:()=>Jw,makeConfiguration:()=>iy,makeEvents:()=>dP,makeKernelOptions:()=>ey,makeMathjaxOptions:()=>J2,makeRenderMimeRegistry:()=>Q2,makeSavedSessionOptions:()=>Qw,makeServer:()=>uP,makeServerSettings:()=>ty,placeholder:()=>OB,setupNotebookFromBlocks:()=>hP,setupNotebookFromIpynb:()=>fP,setupThebeCore:()=>cy,shortId:()=>Jn,stripWidgets:()=>die,version:()=>rp});var uy=P(()=>{jw();Bw();ay();sy();oy();$4();ly();Uf();rl();dy();mP();qc();T4();j4();pP();Yw();Kv()});var Yf=je(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.useThebeLoader=Xc.ThebeBundleLoaderProvider=Xc.ThebeLoaderProvider=void 0;var hy=(Hi(),Pa(ad)),Kf=de(),ro=hy.__importStar(te()),gP=hy.__importDefault(Xv()),fy=ro.default.createContext(void 0);function Lie({start:i,children:e}){let[t,r]=(0,ro.useState)(i),[n,s]=(0,ro.useState)(!1),[o,a]=(0,ro.useState)(),[l,c]=(0,ro.useState)();return(0,ro.useEffect)(()=>{!t||o||(s(!0),console.debug(`thebe-react (v${gP.default}) importing thebe-core...`),Promise.resolve().then(()=>hy.__importStar((uy(),Pa(np)))).then(u=>{console.debug(`thebe-core (v${u.version}) loaded`),a(u),s(!1)}).catch(({message:u})=>{console.debug(`thebe-core load failed ${u}`),c(u),s(!1)}))},[t]),(0,Kf.jsx)(fy.Provider,Object.assign({value:{core:o,error:l,loading:n,load:()=>r(!0)}},{children:(0,Kf.jsx)(Kf.Fragment,{children:e})}))}Xc.ThebeLoaderProvider=Lie;function Sie({start:i,loadThebeLite:e,publicPath:t,children:r,options:n={}}){let[s,o]=(0,ro.useState)(i),[a,l]=(0,ro.useState)(!1),[c,u]=(0,ro.useState)(),[d,f]=(0,ro.useState)();return(0,ro.useEffect)(()=>{var h;if(!(!s||c)&&(l(!0),console.debug(`thebe-react (v${gP.default}) importing thebe-core...`),typeof document<"u"&&typeof window<"u"))try{if(!window.thebeCore){let v=document.createElement("script");v.setAttribute("src",`${t??""}/thebe-core.min.js`),v.setAttribute("async","true"),v.setAttribute("type","text/javascript"),document.head.appendChild(v)}if(e){let v=document.createElement("script");v.setAttribute("src",`${t??""}/thebe-lite.min.js`),v.setAttribute("async","true"),v.setAttribute("type","text/javascript"),document.head.appendChild(v)}let m=0,p=setInterval(()=>{var v,x,C,y,S,M;window.thebeCore&&(window.thebeLite||!e)&&(l(!1),u((v=window.thebeCore)===null||v===void 0?void 0:v.module),console.debug(`thebe-core (v${(C=(x=window.thebeCore)===null||x===void 0?void 0:x.version)!==null&&C!==void 0?C:"0"}) loaded`),window.thebeLite&&console.debug(`thebe-lite (v${(S=(y=window.thebeLite)===null||y===void 0?void 0:y.version)!==null&&S!==void 0?S:"0"}) loaded`),clearInterval(p)),m>((M=n?.attempts)!==null&&M!==void 0?M:50)&&(f("thebe-core load failed"),l(!1),clearInterval(p),console.warn("thebe load timed out"),window.thebeCore||console.debug("thebe-core failed to load"),window.thebeLite||console.debug("thebe-lite failed to load")),m+=1},(h=n?.delay)!==null&&h!==void 0?h:300)}catch(m){f(m),l(!1)}},[s]),(0,Kf.jsx)(fy.Provider,Object.assign({value:{core:c,error:d,loading:a,load:()=>o(!0)}},{children:(0,Kf.jsx)(Kf.Fragment,{children:r})}))}Xc.ThebeBundleLoaderProvider=Sie;function Eie(){let i=ro.default.useContext(fy);return i??{loading:!1,load:()=>({})}}Xc.useThebeLoader=Eie});var sp=je(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.useThebeServer=gn.useDisposeThebeServer=gn.useThebeConfig=gn.ThebeServerProvider=gn.ThebeServerContext=void 0;var my=(Hi(),Pa(ad)),Rie=de(),zr=my.__importStar(te()),vP=Yf();gn.ThebeServerContext=zr.default.createContext(void 0);function Iie({connect:i=!0,config:e,options:t,useBinder:r,useJupyterLite:n,customConnectFn:s,customRepoProviders:o,events:a,children:l}){var c;let{core:u}=(0,vP.useThebeLoader)(),[d,f]=(0,zr.useState)(i),[h,m]=(0,zr.useState)(!1),[p,v]=(0,zr.useState)(),[x,C]=(0,zr.useState)(!1),[y,S]=(0,zr.useState)(),M=(0,zr.useRef)(),_=(0,zr.useMemo)(()=>e??u?.makeConfiguration(t??{},a),[u,e,t]);(0,zr.useEffect)(()=>{if(!u||!_)return;if(_===M.current&&p)return;let R=new u.ThebeServer(_),A=(H,$)=>{let X=[u.EventSubject.server,u.EventSubject.session,u.EventSubject.kernel];$.subject&&X.includes($.subject)&&S(`${$.status} - ${$.message}`)};_.events.on(u.ThebeEventType.error,A),M.current=_,v(R)},[u,_,p]);let E=()=>{if(p)return m(!0),s?s(p):r?p.connectToServerViaBinder(o):n?p.connectToJupyterLiteServer():p.connectToJupyterServer(),p.ready.then(()=>{m(!1),C(!0)},()=>{m(!1),C(!1)}),p.ready};return(0,zr.useEffect)(()=>{!p||!d||p.isReady&&p.userServerUrl||E()},[p,d]),(0,Rie.jsx)(gn.ThebeServerContext.Provider,Object.assign({value:{config:_,events:a??_?.events,server:p,connecting:h,ready:((c=p?.isReady)!==null&&c!==void 0?c:!1)&&x,connect:E,disconnect:()=>my.__awaiter(this,void 0,void 0,function*(){u&&_&&p&&(p.dispose(),v(new u.ThebeServer(_))),C(!1),f(!1),m(!1),S(void 0)}),error:y}},{children:l}))}gn.ThebeServerProvider=Iie;function kie(){let i=(0,zr.useContext)(gn.ThebeServerContext);if(i===void 0)throw new Error("useThebeServer must be used inside a ThebeServerProvider");return{config:i.config}}gn.useThebeConfig=kie;function Tie(){let[i,e]=(0,zr.useState)(!1),t=(0,zr.useContext)(gn.ThebeServerContext);if(t===void 0)throw new Error("useThebeServer must be used inside a ThebeServerProvider");let{server:r,ready:n}=t;return(0,zr.useEffect)(()=>{!r||!n||Promise.resolve().then(()=>my.__awaiter(this,void 0,void 0,function*(){yield r.shutdownAllSessions(),r.dispose(),e(!0)}))},[n,r]),i}gn.useDisposeThebeServer=Tie;function Aie(){let i=(0,vP.useThebeLoader)(),{core:e}=i??{},t=(0,zr.useContext)(gn.ThebeServerContext),{config:r,events:n,server:s,connecting:o,ready:a,connect:l,disconnect:c,error:u}=t??{ready:!1,connecting:!1},[d,f]=(0,zr.useState)([]),h=(0,zr.useCallback)(p=>{if(!e||!r||!s)return;let v=(x,C)=>{let y=[e.EventSubject.server,e.EventSubject.session,e.EventSubject.kernel];C.subject&&y.includes(C.subject)&&p(C)};r?.events.on(e.ThebeEventType.status,v),f([...d,v])},[r,s]),m=(0,zr.useCallback)(()=>{e&&(d.forEach(p=>{r?.events.off(e.ThebeEventType.status,p)}),f([]))},[r,s]);return t?{config:r,events:n,server:s,connecting:o,ready:a,error:u,connect:l,disconnect:c,subscribe:h,unsubAll:m}:{connecting:!1,ready:!1}}gn.useThebeServer=Aie});var V4=je(Jf=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0});Jf.useRenderMimeRegistry=Jf.ThebeRenderMimeRegistryProvider=void 0;var Nie=(Hi(),Pa(ad)),Oie=de(),py=Nie.__importDefault(te()),Die=Yf(),Hie=sp(),_P=py.default.createContext(void 0);function zie({children:i}){let{core:e}=(0,Die.useThebeLoader)(),{config:t}=(0,Hie.useThebeConfig)(),r=py.default.useMemo(()=>e?.makeRenderMimeRegistry(t?.mathjax),[e,t]);return(0,Oie.jsx)(_P.Provider,Object.assign({value:{rendermime:r}},{children:i}))}Jf.ThebeRenderMimeRegistryProvider=zie;function Bie(){let i=py.default.useContext(_P);return i?.rendermime}Jf.useRenderMimeRegistry=Bie});var vy=je(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.useThebeSession=Ra.ThebeSessionProvider=Ra.ThebeSessionContext=void 0;var gy=(Hi(),Pa(ad)),Pie=de(),Ho=gy.__importStar(te()),jie=sp(),$ie=V4(),Vie=Yf();Ra.ThebeSessionContext=Ho.default.createContext(void 0);function Fie({start:i=!0,path:e,shutdownOnUnmount:t=!1,children:r}){let{core:n}=(0,Vie.useThebeLoader)(),{config:s,server:o,ready:a}=(0,jie.useThebeServer)(),l=(0,$ie.useRenderMimeRegistry)(),[c,u]=(0,Ho.useState)(i),[d,f]=(0,Ho.useState)(!1),[h,m]=(0,Ho.useState)(),[p,v]=(0,Ho.useState)(!1),[x,C]=(0,Ho.useState)(),[y,S]=(0,Ho.useState)();(0,Ho.useEffect)(()=>{!o||!a||!c||d||p||M()},[p,c,d,o,a]),(0,Ho.useEffect)(()=>{if(!n||!s||!h)return;let _=(E,R)=>{let A=[n.EventSubject.session,n.EventSubject.kernel];R.subject&&A.includes(R.subject)&&R.status==="shutdown"&&R.id===h.id&&C(`session ${h.path} - ${R.status} - ${R.message}`)};S(s.events.on(n.ThebeEventType.status,_))},[n,s,h]);let M=()=>{if(!l)throw new Error("ThebeSessionProvider requires a RenderMimeRegistryProvider");f(!0),o?.startNewSession(l,{path:e}).then(_=>{if(f(!1),_==null){o?.getKernelSpecs().then(E=>{C(`Could not start a session - available kernels: ${Object.keys(E.kernelspecs)}`)});return}m(_),v(!0)},_=>{C(typeof _=="object"?_.message:JSON.stringify(_)),v(!1),u(!1),f(!1)})};return(0,Ho.useEffect)(()=>()=>{t&&(y?.(),S(void 0),h?.shutdown().then(()=>{v(!1),f(!1),C(void 0)}))},[h]),(0,Pie.jsx)(Ra.ThebeSessionContext.Provider,Object.assign({value:{path:e,starting:d,ready:p,session:h,start:()=>gy.__awaiter(this,void 0,void 0,function*(){h&&p?yield h.restart():M()}),shutdown:()=>gy.__awaiter(this,void 0,void 0,function*(){h&&(y?.(),S(void 0),yield h.shutdown(),m(void 0),v(!1),f(!1),C(void 0))}),error:x}},{children:r}))}Ra.ThebeSessionProvider=Fie;function Wie(){let i=(0,Ho.useContext)(Ra.ThebeSessionContext);return i??{starting:!1,ready:!1}}Ra.useThebeSession=Wie});var bP=je(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.useNotebookfromSourceLegacy=no.useNotebookFromSource=no.useNotebook=no.useNotebookBase=no.findErrors=void 0;var Yr=te(),by=sp(),Cy=Yf(),Zie=vy(),xy=V4();function _y(i){return i.reduce((e,t,r)=>t?.error?e==null?[Object.assign(Object.assign({},t),{index:r})]:[...e,Object.assign(Object.assign({},t),{index:r})]:e,null)}no.findErrors=_y;function wy(){let{session:i,ready:e}=(0,Zie.useThebeSession)(),[t,r]=(0,Yr.useState)(),[n,s]=(0,Yr.useState)([]),[o,a]=(0,Yr.useState)(!1),[l,c]=(0,Yr.useState)(!1),[u,d]=(0,Yr.useState)(!1),[f,h]=(0,Yr.useState)(null);return(0,Yr.useEffect)(()=>{!t||!i||!e||(console.debug("thebe-react: attaching notebook to session",{notebook:t,session:i}),t.attachSession(i),a(!0))},[t,i,e]),{ready:!!t&&o,attached:o,executing:l,executed:u,errors:f,notebook:t,setNotebook:r,refs:n,setRefs:s,executeAll:x=>{var C,y;if(!t)throw new Error("executeAll called before notebook available");if(!i)throw new Error("executeAll called before session available");return(C=x?.before)===null||C===void 0||C.call(x),c(!0),t.executeAll((y=x?.stopOnError)!==null&&y!==void 0?y:!0,x?.preprocessor).then(S=>{var M;(M=x?.after)===null||M===void 0||M.call(x);let _=_y(S);return _!=null&&h(_),d(!0),c(!1),S})},executeSome:(x,C)=>{var y,S;if(!t)throw new Error("executeSome called before notebook available");if(!i)throw new Error("executeAll called before session available");(y=C?.before)===null||y===void 0||y.call(C),c(!0);let M=t.cells.filter(x).map(_=>_.id);return t.executeCells(M,(S=C?.stopOnError)!==null&&S!==void 0?S:!0,C?.preprocessor).then(_=>{var E;(E=C?.after)===null||E===void 0||E.call(C);let R=_y(_);return R!=null&&h(R),d(!0),c(!1),_})},clear:()=>{if(!t)throw new Error("clear called before notebook available");t.clear(),d(!1)},session:i}}no.useNotebookBase=wy;function qie(i,e,t={refsForWidgetsOnly:!0}){var r,n;let{core:s}=(0,Cy.useThebeLoader)(),{config:o}=(0,by.useThebeConfig)(),a=(0,xy.useRenderMimeRegistry)(),[l,c]=(0,Yr.useState)(!1);if(!a)throw new Error("ThebeSessionProvider requires a RenderMimeRegistryProvider");let{ready:u,attached:d,executing:f,executed:h,errors:m,notebook:p,setNotebook:v,refs:x,setRefs:C,executeAll:y,executeSome:S,clear:M,session:_}=wy();return(0,Yr.useEffect)(()=>{!s||!o||(c(!0),e(i).then(E=>s?.ThebeNotebook.fromIpynb(E,o,a)).then(E=>{var R,A;let H=t?.refsForWidgetsOnly?(R=E?.widgets)!==null&&R!==void 0?R:[]:(A=E?.cells)!==null&&A!==void 0?A:[];C(Array(H.length).fill(null).map(($,X)=>ue=>{console.debug(`new ref[${X}] - attaching to dom...`,ue),ue!=null&&H[X].attachToDOM(ue)})),v(E),c(!1)}))},[s,o]),{ready:u,loading:l,attached:d,executing:f,executed:h,errors:m,notebook:p,cellRefs:x,cellIds:(t.refsForWidgetsOnly?(r=p?.widgets)!==null&&r!==void 0?r:[]:(n=p?.cells)!==null&&n!==void 0?n:[]).map(E=>E.id),executeAll:y,executeSome:S,clear:M,session:_}}no.useNotebook=qie;function Uie(i,e={refsForWidgetsOnly:!0}){var t,r;let{core:n}=(0,Cy.useThebeLoader)(),{config:s}=(0,by.useThebeConfig)(),o=(0,xy.useRenderMimeRegistry)(),[a,l]=(0,Yr.useState)(!1);if(!o)throw new Error("ThebeSessionProvider requires a RenderMimeRegistryProvider");let{ready:c,attached:u,executing:d,executed:f,errors:h,notebook:m,setNotebook:p,refs:v,setRefs:x,executeAll:C,executeSome:y,clear:S,session:M}=wy();return(0,Yr.useEffect)(()=>{var _,E;if(!n||!s||a||m)return;l(!0);let R=n.ThebeNotebook.fromCodeBlocks(i.map(H=>({id:n?.shortId(),source:H})),s,o),A=e?.refsForWidgetsOnly?(_=R?.widgets)!==null&&_!==void 0?_:[]:(E=R?.cells)!==null&&E!==void 0?E:[];x(Array(A.length).fill(null).map((H,$)=>X=>{console.debug(`new ref[${$}] - attaching to dom...`,X),X!=null&&A[$].attachToDOM(X)})),p(R),l(!1)},[n,m,a]),{ready:c,loading:a,attached:u,executing:d,executed:f,errors:h,notebook:m,cellRefs:v,cellIds:(e.refsForWidgetsOnly?(t=m?.widgets)!==null&&t!==void 0?t:[]:(r=m?.cells)!==null&&r!==void 0?r:[]).map(_=>_.id),executeAll:C,executeSome:y,clear:S,session:M}}no.useNotebookFromSource=Uie;function Gie(i){let{core:e}=(0,Cy.useThebeLoader)(),{config:t}=(0,by.useThebeConfig)(),r=(0,xy.useRenderMimeRegistry)();if(!r)throw new Error("ThebeSessionProvider requires a RenderMimeRegistryProvider");let[n,s]=(0,Yr.useState)(!1),[o,a]=(0,Yr.useState)(),[l,c]=(0,Yr.useState)({}),[u]=(0,Yr.useState)(Array(i.length).fill(void 0).map(()=>(0,Yr.createRef)()));return(0,Yr.useEffect)(()=>{!e||!t||o||a(e.ThebeNotebook.fromCodeBlocks(i.map(h=>({id:e?.shortId(),source:h})),t,r))},[e,o]),{notebook:o,busy:n,execute:()=>{if(!o)throw new Error("execute called before notebook available");s(!0),o.executeAll().then(()=>{s(!1)})},attach:h=>{if(h.kernel!=null){if(!o){console.warn("attach called before notebook available");return}o?.detachSession(),o?.attachSession(h),o?.cells.forEach((m,p)=>{var v;u[p].current&&m.attachToDOM((v=u[p].current)!==null&&v!==void 0?v:void 0)})}},cellRefs:u,rerender:()=>c({})}}no.useNotebookfromSourceLegacy=Gie});var CP=je(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.interpolatorFactoryFn=Kc.PYTHON_PARAM=void 0;Kc.PYTHON_PARAM=/^(.*)=([^;]*);*\s*#\|*\s*@param\s*(.*)$/;function Xie(i){return e=>{let t=new Set(Object.keys(i));return e.split(`
`).map(s=>{if(Kc.PYTHON_PARAM.test(s)){let o=s.match(Kc.PYTHON_PARAM);if(o!=null){let[a,l,c,u]=o,d={};try{u!==""&&(d=JSON.parse(u))}catch(f){console.error("Could not parse schema from",s,f)}if(t.has(l.trim()))return`${l}= ${i[l.trim()]} #| @param${d?` ${JSON.stringify(Object.assign(Object.assign({},d),{last:c}))}`:""}`}}return s}).join(`
`)}}Kc.interpolatorFactoryFn=Xie});var wP=je(F4=>{"use strict";Object.defineProperty(F4,"__esModule",{value:!0});var xP=(Hi(),Pa(ad));xP.__exportStar(bP(),F4);xP.__exportStar(CP(),F4)});var zo=je(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.version=void 0;var Ou=(Hi(),Pa(ad));Ou.__exportStar(DT(),Ia);Ou.__exportStar(Yf(),Ia);Ou.__exportStar(sp(),Ia);Ou.__exportStar(vy(),Ia);Ou.__exportStar(V4(),Ia);Ou.__exportStar(wP(),Ia);var Kie=Xv();Object.defineProperty(Ia,"version",{enumerable:!0,get:function(){return Ou.__importDefault(Kie).default}})});var xj=je((Eke,Cj)=>{"use strict";var bj=function(){function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}}();function mre(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}var Jc=[[{color:"0, 0, 0",class:"ansi-black"},{color:"187, 0, 0",class:"ansi-red"},{color:"0, 187, 0",class:"ansi-green"},{color:"187, 187, 0",class:"ansi-yellow"},{color:"0, 0, 187",class:"ansi-blue"},{color:"187, 0, 187",class:"ansi-magenta"},{color:"0, 187, 187",class:"ansi-cyan"},{color:"255,255,255",class:"ansi-white"}],[{color:"85, 85, 85",class:"ansi-bright-black"},{color:"255, 85, 85",class:"ansi-bright-red"},{color:"0, 255, 0",class:"ansi-bright-green"},{color:"255, 255, 85",class:"ansi-bright-yellow"},{color:"85, 85, 255",class:"ansi-bright-blue"},{color:"255, 85, 255",class:"ansi-bright-magenta"},{color:"85, 255, 255",class:"ansi-bright-cyan"},{color:"255, 255, 255",class:"ansi-bright-white"}]],pre=/(https?:\/\/(?:[A-Za-z0-9#;/?:@=+$',_.!~*()[\]-]|&amp;|%[A-Fa-f0-9]{2})+)/gm,gre=function(){bj(i,null,[{key:"escapeForHtml",value:function(t){return new i().escapeForHtml(t)}},{key:"linkify",value:function(t){return new i().linkify(t)}},{key:"ansiToHtml",value:function(t,r){return new i().ansiToHtml(t,r)}},{key:"ansiToJson",value:function(t,r){return new i().ansiToJson(t,r)}},{key:"ansiToText",value:function(t){return new i().ansiToText(t)}}]);function i(){mre(this,i),this.fg=this.bg=this.fg_truecolor=this.bg_truecolor=null,this.bright=0,this.decorations=[]}return bj(i,[{key:"setupPalette",value:function(){this.PALETTE_COLORS=[];for(var t=0;t<2;++t)for(var r=0;r<8;++r)this.PALETTE_COLORS.push(Jc[t][r].color);for(var n=[0,95,135,175,215,255],s=function(p,v,x){return n[p]+", "+n[v]+", "+n[x]},o=void 0,a=void 0,l=void 0,c=0;c<6;++c)for(var u=0;u<6;++u)for(var d=0;d<6;++d)this.PALETTE_COLORS.push(s(c,u,d));for(var f=8,h=0;h<24;++h,f+=10)this.PALETTE_COLORS.push(s(f,f,f))}},{key:"escapeForHtml",value:function(t){return t.replace(/[&<>\"]/gm,function(r){return r=="&"?"&amp;":r=='"'?"&quot;":r=="<"?"&lt;":r==">"?"&gt;":""})}},{key:"linkify",value:function(t){return t.replace(pre,function(r){return'<a href="'+r+'">'+r+"</a>"})}},{key:"ansiToHtml",value:function(t,r){return this.process(t,r,!0)}},{key:"ansiToJson",value:function(t,r){return r=r||{},r.json=!0,r.clearLine=!1,this.process(t,r,!0)}},{key:"ansiToText",value:function(t){return this.process(t,{},!1)}},{key:"process",value:function(t,r,n){var s=this,o=this,a=t.split(/\033\[/),l=a.shift();r==null&&(r={}),r.clearLine=/\r/.test(t);var c=a.map(function(d){return s.processChunk(d,r,n)});if(r&&r.json){var u=o.processChunkJson("");return u.content=l,u.clearLine=r.clearLine,c.unshift(u),r.remove_empty&&(c=c.filter(function(d){return!d.isEmpty()})),c}else c.unshift(l);return c.join("")}},{key:"processChunkJson",value:function(t,r,n){r=typeof r>"u"?{}:r;var s=r.use_classes=typeof r.use_classes<"u"&&r.use_classes,o=r.key=s?"class":"color",a={content:t,fg:null,bg:null,fg_truecolor:null,bg_truecolor:null,isInverted:!1,clearLine:r.clearLine,decoration:null,decorations:[],was_processed:!1,isEmpty:function(){return!a.content}},l=t.match(/^([!\x3c-\x3f]*)([\d;]*)([\x20-\x2c]*[\x40-\x7e])([\s\S]*)/m);if(!l)return a;var c=a.content=l[4],u=l[2].split(";");if(l[1]!==""||l[3]!=="m"||!n)return a;for(var d=this;u.length>0;){var f=u.shift(),h=parseInt(f);if(isNaN(h)||h===0)d.fg=d.bg=null,d.decorations=[];else if(h===1)d.decorations.push("bold");else if(h===2)d.decorations.push("dim");else if(h===3)d.decorations.push("italic");else if(h===4)d.decorations.push("underline");else if(h===5)d.decorations.push("blink");else if(h===7)d.decorations.push("reverse");else if(h===8)d.decorations.push("hidden");else if(h===9)d.decorations.push("strikethrough");else if(h===21)d.removeDecoration("bold");else if(h===22)d.removeDecoration("bold"),d.removeDecoration("dim");else if(h===23)d.removeDecoration("italic");else if(h===24)d.removeDecoration("underline");else if(h===25)d.removeDecoration("blink");else if(h===27)d.removeDecoration("reverse");else if(h===28)d.removeDecoration("hidden");else if(h===29)d.removeDecoration("strikethrough");else if(h===39)d.fg=null;else if(h===49)d.bg=null;else if(h>=30&&h<38)d.fg=Jc[0][h%10][o];else if(h>=90&&h<98)d.fg=Jc[1][h%10][o];else if(h>=40&&h<48)d.bg=Jc[0][h%10][o];else if(h>=100&&h<108)d.bg=Jc[1][h%10][o];else if(h===38||h===48){var m=h===38;if(u.length>=1){var p=u.shift();if(p==="5"&&u.length>=1){var v=parseInt(u.shift());if(v>=0&&v<=255)if(!s)this.PALETTE_COLORS||d.setupPalette(),m?d.fg=this.PALETTE_COLORS[v]:d.bg=this.PALETTE_COLORS[v];else{var x=v>=16?"ansi-palette-"+v:Jc[v>7?1:0][v%8].class;m?d.fg=x:d.bg=x}}else if(p==="2"&&u.length>=3){var C=parseInt(u.shift()),y=parseInt(u.shift()),S=parseInt(u.shift());if(C>=0&&C<=255&&y>=0&&y<=255&&S>=0&&S<=255){var M=C+", "+y+", "+S;s?m?(d.fg="ansi-truecolor",d.fg_truecolor=M):(d.bg="ansi-truecolor",d.bg_truecolor=M):m?d.fg=M:d.bg=M}}}}}if(d.fg===null&&d.bg===null&&d.decorations.length===0)return a;var _=[],E=[],R={};return a.fg=d.fg,a.bg=d.bg,a.fg_truecolor=d.fg_truecolor,a.bg_truecolor=d.bg_truecolor,a.decorations=d.decorations,a.decoration=d.decorations.slice(-1).pop()||null,a.was_processed=!0,a}},{key:"processChunk",value:function(t,r,n){var s=this;r=r||{};var o=this.processChunkJson(t,r,n),a=r.use_classes;if(o.decorations=o.decorations.filter(function(h){if(h==="reverse"){o.fg||(o.fg=Jc[0][7][a?"class":"color"]),o.bg||(o.bg=Jc[0][0][a?"class":"color"]);var m=o.fg;o.fg=o.bg,o.bg=m;var p=o.fg_truecolor;return o.fg_truecolor=o.bg_truecolor,o.bg_truecolor=p,o.isInverted=!0,!1}return!0}),r.json)return o;if(o.isEmpty())return"";if(!o.was_processed)return o.content;var l=[],c=[],u=[],d={},f=function(m){var p=[],v=void 0;for(v in m)m.hasOwnProperty(v)&&p.push("data-"+v+'="'+s.escapeForHtml(m[v])+'"');return p.length>0?" "+p.join(" "):""};return o.isInverted&&(d["ansi-is-inverted"]="true"),o.fg&&(a?(l.push(o.fg+"-fg"),o.fg_truecolor!==null&&(d["ansi-truecolor-fg"]=o.fg_truecolor,o.fg_truecolor=null)):l.push("color:rgb("+o.fg+")")),o.bg&&(a?(l.push(o.bg+"-bg"),o.bg_truecolor!==null&&(d["ansi-truecolor-bg"]=o.bg_truecolor,o.bg_truecolor=null)):l.push("background-color:rgb("+o.bg+")")),o.decorations.forEach(function(h){if(a){c.push("ansi-"+h);return}h==="bold"?c.push("font-weight:bold"):h==="dim"?c.push("opacity:0.5"):h==="italic"?c.push("font-style:italic"):h==="hidden"?c.push("visibility:hidden"):h==="strikethrough"?u.push("line-through"):u.push(h)}),u.length&&c.push("text-decoration:"+u.join(" ")),a?'<span class="'+l.concat(c).join(" ")+'"'+f(d)+">"+o.content+"</span>":'<span style="'+l.concat(c).join(";")+'"'+f(d)+">"+o.content+"</span>"}},{key:"removeDecoration",value:function(t){var r=this.decorations.indexOf(t);r>=0&&this.decorations.splice(r,1)}}]),i}();Cj.exports=gre});var yj=je((Rke,ig)=>{function Iy(i){if(!i)return"";if(!/\r/.test(i))return i;for(i=i.replace(/\r+\n/gm,`
`);/\r./.test(i);)i=i.replace(/^([^\r\n]*)\r+([^\r\n]+)/gm,function(e,t,r){return r+t.slice(r.length)});return i}function vre(i){for(var e=0,t=0;t<i.length;t++)i[e].length<=i[t].length&&(e=t);return e}function wj(i){if(!/\r/.test(i))return i;for(var e=i.split("\r"),t=[];e.length>0;){var r=vre(e);t.push(e[r]),e=e.slice(r+1)}return t.join("\r")}function _re(i){if(!i)return"";if(!/\r/.test(i))return i;if(!/\n/.test(i))return wj(i);i=i.replace(/\r+\n/gm,`
`);var e=i.lastIndexOf(`
`);return Iy(i.slice(0,e))+`
`+wj(i.slice(e+1))}ig.exports=Iy;ig.exports.escapeCarriageReturn=Iy;ig.exports.escapeCarriageReturnSafe=_re});var Dp=N(te(),1);function pM(i){let e=typeof document=="undefined",t=o=>e?!1:window.matchMedia(o).matches,[r,n]=(0,Dp.useState)(t(i));function s(){n(t(i))}return(0,Dp.useEffect)(()=>{if(e)return;let o=window.matchMedia(i);return s(),o.addEventListener("change",s),()=>{o.removeEventListener("change",s)}},[i]),r}var zp=N(de(),1),ec=N(te(),1);function Dg(i){if(!i)return{};let e={};for(let t in i){let r=i[t];if(typeof r=="function")e[t]={base:r};else if(typeof r=="object"&&"base"in r)e[t]=r;else throw new Error(`Renderer for "${t}" must be either a function or an object containing a "base" renderer.`)}return e}function Hp(i,e){let t={};for(let r of i)for(let n in r){let s=typeof r[n]=="function"?{base:r[n]}:r[n];t[n]=Object.assign(Object.assign({},t[n]),s)}return e?Dg(t):t}function gM(i,e){i.forEach(t=>{"data"in t&&t.data?Object.entries(t.data).forEach(([,r])=>{e(r)}):e(t)})}function s1(i,e=""){return i?typeof i=="string"?i:i.join?i.join(e):i:""}var vM=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(t[r[n]]=i[r[n]]);return t};function E0(i,e){return i.map(t=>{switch(t.output_type){case"stream":{let{hash:r}=t,n=vM(t,["hash"]);return r&&e[r]?Object.assign(Object.assign({},n),{text:e[r][0]}):n}case"error":{let{hash:r,traceback:n}=t,s=vM(t,["hash","traceback"]);return r&&e[r]?Object.assign(Object.assign({},s),{traceback:[e[r][0]]}):Object.assign(Object.assign({},s),{traceback:[n]})}default:return Object.assign(Object.assign({},t),{data:Object.entries(t.data).reduce((r,[n,s])=>{let{content:o}=s,{hash:a}=s;if(a&&e[a]&&([o]=e[a]),o&&n!=="application/javascript"&&n.startsWith("application/"))try{o=JSON.parse(o)}catch{console.debug(`${n} is not json parsable, leaving as is`)}if(o&&n.startsWith("image/")&&!n.startsWith("image/svg")&&o.startsWith("data:")&&o.includes(";base64,")){let[l]=o.split(";base64,").reverse();o=l}return o?Object.assign(Object.assign({},r),{[n]:o}):r},{})})}})}var Pn;(function(i){i.TextPlain="text/plain",i.TextHtml="text/html",i.TextLatex="text/latex",i.ImagePng="image/png",i.ImageBmp="image/bmp",i.ImageJpeg="image/jpeg",i.ImageSvg="image/svg+xml",i.ImageGif="image/gif",i.AppJson="application/json",i.AppGeoJson="application/geo+json",i.AppPlotly="application/vnd.plotly.v1+json",i.AppVega="application/vnd.vega.v5+json",i.AppVegaLite="application/vnd.vegalite.v3+json",i.AppVirtualDom="application/vdom.v1+json",i.AppJavascript="application/javascript",i.AppWidgetView="application/vnd.jupyter.widget-view+json",i.AppWidgetState="application/vnd.jupyter.widget-state+json",i.AppBokehLoad="application/vnd.bokehjs_load.v0+json",i.AppBokehExec="application/vnd.bokehjs_exec.v0+json"})(Pn||(Pn={}));var _M;(function(i){i.raw="raw",i.markdown="markdown",i.code="code"})(_M||(_M={}));var jr;(function(i){i.light="light",i.dark="dark"})(jr||(jr={}));var bM;(function(i){i.noSite="Site was not found",i.noArticle="Article was not found"})(bM||(bM={}));var CM=3;var xM=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(t[r[n]]=i[r[n]]);return t};function _$(i){var{to:e,className:t,children:r,prefetch:n}=i,s=xM(i,["to","className","children","prefetch"]);return(0,zp.jsx)("a",Object.assign({href:e,className:t},s,{children:r}))}function b$(i){var{to:e,className:t,children:r,prefetch:n}=i,s=xM(i,["to","className","children","prefetch"]);let o=typeof t=="function"?t({isActive:!1}):t;return(0,zp.jsx)("a",Object.assign({href:e,className:o},s,{children:r}))}function Bp(i){return typeof i=="string"&&Object.values(jr).includes(i)}var cd=ec.default.createContext(void 0);cd.displayName="ThemeContext";function wM({theme:i,setTheme:e,children:t,renderers:r,Link:n,NavLink:s,navigate:o,top:a}){let l=Dg(r);return(0,zp.jsx)(cd.Provider,{value:{theme:i,setTheme:e,renderers:l,Link:n,NavLink:s,navigate:o,top:a},children:t})}function Pp(){let i=ec.default.useContext(cd);if(i===void 0){let o="useThemeSwitcher should be used within a ThemeProvider",a=()=>{throw new Error(o)};return console.error(o),{theme:jr.light,isLight:!0,isDark:!1,setTheme:a,nextTheme:a}}let{theme:e,setTheme:t}=i,r=e===jr.dark,n=e===jr.light,s=ec.default.useCallback(()=>{let o=e===jr.light?jr.dark:jr.light;t(o)},[e]);return{theme:e,isLight:n,isDark:r,setTheme:t,nextTheme:s}}function yM(){let i=ec.default.useContext(cd),{renderers:e}=i!=null?i:{};return e!=null?e:{}}function Os(){let i=ec.default.useContext(cd),{Link:e}=i!=null?i:{};return e!=null?e:_$}function Hg(){let i=ec.default.useContext(cd),{NavLink:e}=i!=null?i:{};return e!=null?e:b$}function jp(){let i=ec.default.useContext(cd),{top:e}=i!=null?i:{};return e||0}var MM=N(de(),1),zg=N(te(),1),Bg=zg.default.createContext(void 0);Bg.displayName="GridSystemContext";function LM({children:i,gridSystem:e}){return(0,MM.jsx)(Bg.Provider,{value:{gridSystem:e},children:i})}function o1(){let i=zg.default.useContext(Bg),{gridSystem:e}=i!=null?i:{};return e||"article-grid"}var SM=N(de(),1),a1=N(te(),1);var $p=a1.default.createContext({});function EM({kind:i,references:e,frontmatter:t,children:r}){return(0,SM.jsx)($p.Provider,{value:{kind:i,references:e,frontmatter:t},children:r})}function co(){let i=(0,a1.useContext)($p);return i==null?void 0:i.references}function RM(){let i=(0,a1.useContext)($p);return i==null?void 0:i.frontmatter}function IM(){var i;let e=(0,a1.useContext)($p);return(i=e==null?void 0:e.kind)!==null&&i!==void 0?i:si.Article}var kM=N(de(),1),Vp=N(te(),1),TM=Vp.default.createContext({});function AM({baseurl:i,children:e}){return(0,kM.jsx)(TM.Provider,{value:{baseurl:i},children:e})}function nn(){let i=(0,Vp.useContext)(TM);return i==null?void 0:i.baseurl}function Pg(i){return/^(?:[a-zA-Z][a-zA-Z0-9+.-]*:|\/\/)/.test(i||"")}function pr(i,e){return!e||Pg(i)?i:e+i}var NM=N(de(),1),dd=N(te(),1);var C$=(0,dd.createContext)(void 0);function Lne({children:i}){let e=pM("(min-width: 1280px)"),[t,r]=(0,dd.useState)({isNavOpen:!1});return(0,dd.useEffect)(()=>{r(n=>({isWide:e,isNavOpen:e?!1:n.isNavOpen}))},[e]),(0,NM.jsx)(C$.Provider,{value:[t,r],children:i})}var OM=N(de(),1),Fp=N(te(),1),DM=Fp.default.createContext(void 0);function HM({config:i,children:e}){return(0,OM.jsx)(DM.Provider,{value:i,children:e})}function ja(){return(0,Fp.useContext)(DM)}var x$=N(de(),1),jg=N(te(),1),Rne=jg.default.createContext(void 0);var zM=N(de(),1),l1=N(te(),1),BM=(0,l1.createContext)(void 0);function kne({children:i}){let[e,t]=(0,l1.useState)("");return(0,zM.jsx)(BM.Provider,{value:[e,t],children:i})}function PM(){return(0,l1.useContext)(BM)}var jM=N(de(),1),Wp=N(te(),1),$M=(0,Wp.createContext)(void 0);function Go(){var i;return(i=(0,Wp.useContext)($M))!==null&&i!==void 0?i:{inCrossRef:!1,remote:!1}}function Zp({remote:i,url:e,dataUrl:t,remoteBaseUrl:r,children:n}){let s=Go(),o={inCrossRef:!0,remote:i!=null?i:s.remote,url:e!=null?e:s.url,dataUrl:t!=null?t:s.dataUrl,remoteBaseUrl:r!=null?r:s.remoteBaseUrl};return o.remote&&!o.url&&(o.remote=!1),(0,jM.jsx)($M.Provider,{value:o,children:n})}var VM=N(de(),1),qp=N(te(),1);var FM=qp.default.createContext(void 0);function One({project:i,children:e}){var t;let r=ja();return(0,VM.jsx)(FM.Provider,{value:i!=null?i:(t=r==null?void 0:r.projects)===null||t===void 0?void 0:t[0],children:e})}function WM(){return(0,qp.useContext)(FM)}var w$=N(de(),1),R0=N(te(),1),Hne=(0,R0.createContext)(void 0);var He=N(de(),1),BS=N(te(),1);var $g=N(de(),1);var Vg=N(Qe(),1);function ZM(i){i&&(i.nodeName==="DETAILS"&&(i.open=!0),ZM(i.parentElement))}function Up(i,{htmlId:e=i==null?void 0:i.id,scrollBehavior:t="smooth",historyState:r="replace",focusTarget:n=!0}={}){i&&(ZM(i),i.scrollIntoView({behavior:t}),r==="push"?history.pushState(void 0,"",`#${e}`):r==="replace"&&history.replaceState(void 0,"",`#${e}`),n&&(i.tabIndex===-1&&(i.tabIndex=-1),i.focus({preventScroll:!0})))}function mi({id:i,kind:e,title:t=`Link to this ${e}`,children:r="\xB6",canSelectText:n=!1,hover:s,className:o="font-normal",hideInPopup:a,scrollBehavior:l,historyState:c,focusTarget:u,noWidth:d}){let{inCrossRef:f}=Go();if(f||!i)return a?null:(0,$g.jsx)("span",{className:(0,Vg.default)("select-none",o),children:r});let h=m=>{m.preventDefault();let p=document.getElementById(i);Up(p,{scrollBehavior:l,historyState:c,focusTarget:u})};return(0,$g.jsx)("a",{className:(0,Vg.default)("no-underline text-inherit hover:text-inherit",{"inline-block w-0 px-0 translate-x-[10px]":d===!0},o,{"select-none":!n,"transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70":s===!0,"[@media(hover:hover)]:transition-opacity [@media(hover:hover)]:opacity-0 [@media(hover:hover)]:focus:opacity-100 [@media(hover:hover)]:group-hover:opacity-70":s==="desktop","hover:underline":!s}),onClick:h,href:`#${i}`,title:t,"aria-label":t,children:r})}var Ir=N(Qe(),1);var Gp=N(de(),1);var c1=N(te(),1);function y$({title:i,titleId:e,...t},r){return c1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?c1.createElement("title",{id:e},i):null,c1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}var M$=c1.forwardRef(y$),ud=M$;var d1=N(te(),1);function L$({title:i,titleId:e,...t},r){return d1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?d1.createElement("title",{id:e},i):null,d1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}var S$=d1.forwardRef(L$),Fg=S$;var u1=N(te(),1);function E$({title:i,titleId:e,...t},r){return u1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?u1.createElement("title",{id:e},i):null,u1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}var R$=u1.forwardRef(E$),Wg=R$;var h1=N(te(),1);function I$({title:i,titleId:e,...t},r){return h1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?h1.createElement("title",{id:e},i):null,h1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}var k$=h1.forwardRef(I$),Zg=k$;var f1=N(te(),1);function T$({title:i,titleId:e,...t},r){return f1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?f1.createElement("title",{id:e},i):null,f1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}var A$=f1.forwardRef(T$),$r=A$;var m1=N(te(),1);function N$({title:i,titleId:e,...t},r){return m1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?m1.createElement("title",{id:e},i):null,m1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}var O$=m1.forwardRef(N$),qg=O$;var p1=N(te(),1);function D$({title:i,titleId:e,...t},r){return p1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?p1.createElement("title",{id:e},i):null,p1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}var H$=p1.forwardRef(D$),Ug=H$;var g1=N(te(),1);function z$({title:i,titleId:e,...t},r){return g1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?g1.createElement("title",{id:e},i):null,g1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}var B$=g1.forwardRef(z$),Gg=B$;var v1=N(te(),1);function P$({title:i,titleId:e,...t},r){return v1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?v1.createElement("title",{id:e},i):null,v1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}var j$=v1.forwardRef(P$),Xg=j$;var _1=N(te(),1);function $$({title:i,titleId:e,...t},r){return _1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?_1.createElement("title",{id:e},i):null,_1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}var V$=_1.forwardRef($$),Kg=V$;var b1=N(te(),1);function F$({title:i,titleId:e,...t},r){return b1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?b1.createElement("title",{id:e},i):null,b1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}var W$=b1.forwardRef(F$),Yg=W$;var C1=N(te(),1);function Z$({title:i,titleId:e,...t},r){return C1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?C1.createElement("title",{id:e},i):null,C1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"}))}var q$=C1.forwardRef(Z$),Jg=q$;var x1=N(te(),1);function U$({title:i,titleId:e,...t},r){return x1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?x1.createElement("title",{id:e},i):null,x1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}var G$=x1.forwardRef(U$),Qg=G$;var w1=N(te(),1);function X$({title:i,titleId:e,...t},r){return w1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?w1.createElement("title",{id:e},i):null,w1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}var K$=w1.forwardRef(X$),e8=K$;var y1=N(te(),1);function Y$({title:i,titleId:e,...t},r){return y1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?y1.createElement("title",{id:e},i):null,y1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}var J$=y1.forwardRef(Y$),I0=J$;var M1=N(te(),1);function Q$({title:i,titleId:e,...t},r){return M1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?M1.createElement("title",{id:e},i):null,M1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}var eV=M1.forwardRef(Q$),uo=eV;var L1=N(te(),1);function tV({title:i,titleId:e,...t},r){return L1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?L1.createElement("title",{id:e},i):null,L1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}var iV=L1.forwardRef(tV),$a=iV;var S1=N(te(),1);function rV({title:i,titleId:e,...t},r){return S1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?S1.createElement("title",{id:e},i):null,S1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}var nV=S1.forwardRef(rV),E1=nV;var R1=N(te(),1);function sV({title:i,titleId:e,...t},r){return R1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?R1.createElement("title",{id:e},i):null,R1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}var oV=R1.forwardRef(sV),t8=oV;var I1=N(te(),1);function aV({title:i,titleId:e,...t},r){return I1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?I1.createElement("title",{id:e},i):null,I1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}var lV=I1.forwardRef(aV),i8=lV;var k1=N(te(),1);function cV({title:i,titleId:e,...t},r){return k1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?k1.createElement("title",{id:e},i):null,k1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"}))}var dV=k1.forwardRef(cV),r8=dV;var T1=N(te(),1);function uV({title:i,titleId:e,...t},r){return T1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?T1.createElement("title",{id:e},i):null,T1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}var hV=T1.forwardRef(uV),n8=hV;var A1=N(te(),1);function fV({title:i,titleId:e,...t},r){return A1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?A1.createElement("title",{id:e},i):null,A1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"}))}var mV=A1.forwardRef(fV),s8=mV;var N1=N(te(),1);function pV({title:i,titleId:e,...t},r){return N1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?N1.createElement("title",{id:e},i):null,N1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}var gV=N1.forwardRef(pV),k0=gV;var hd=N(te(),1);function vV({title:i,titleId:e,...t},r){return hd.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?hd.createElement("title",{id:e},i):null,hd.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),hd.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"}))}var _V=hd.forwardRef(vV),o8=_V;var O1=N(te(),1);function bV({title:i,titleId:e,...t},r){return O1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?O1.createElement("title",{id:e},i):null,O1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}var CV=O1.forwardRef(bV),a8=CV;var D1=N(te(),1);function xV({title:i,titleId:e,...t},r){return D1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?D1.createElement("title",{id:e},i):null,D1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 5.636a9 9 0 1 0 12.728 0M12 3v9"}))}var wV=D1.forwardRef(xV),T0=wV;var H1=N(te(),1);function yV({title:i,titleId:e,...t},r){return H1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?H1.createElement("title",{id:e},i):null,H1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"}))}var MV=H1.forwardRef(yV),l8=MV;var z1=N(te(),1);function LV({title:i,titleId:e,...t},r){return z1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?z1.createElement("title",{id:e},i):null,z1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}var SV=z1.forwardRef(LV),c8=SV;var B1=N(te(),1);function EV({title:i,titleId:e,...t},r){return B1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?B1.createElement("title",{id:e},i):null,B1.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}var RV=B1.forwardRef(EV),d8=RV;var qM=N(te(),1),UM=N(Qe(),1);function P1({text:i,className:e}){let[t,r]=(0,qM.useState)(!1),n=()=>{t||navigator.clipboard.writeText(i).then(()=>{r(!0),setTimeout(()=>r(!1),3e3)})};return(0,Gp.jsx)("button",{title:t?"Copied!!":"Copy to Clipboard",className:(0,UM.default)("inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2","transition-color duration-200 ease-in-out",{"text-blue-400 hover:text-blue-500":!t,"text-green-500 hover:text-green-500":t},e),onClick:n,"aria-pressed":t?"true":"false","aria-label":"Copy code to clipboard",children:t?(0,Gp.jsx)(Xg,{width:24,height:24,className:"text-success"}):(0,Gp.jsx)(Qg,{width:24,height:24})})}var Za=N(de(),1),DS=N(te(),1);var zi=N(te(),1);var coe=!!(typeof window<"u"&&window.document&&window.document.createElement);function ei(i,e,{checkForDefaultPrevented:t=!0}={}){return function(n){if(i?.(n),t===!1||!n.defaultPrevented)return e?.(n)}}var Va=N(te(),1),GM=N(de(),1);function Xo(i,e=[]){let t=[];function r(s,o){let a=Va.createContext(o),l=t.length;t=[...t,o];let c=d=>{let{scope:f,children:h,...m}=d,p=f?.[i]?.[l]||a,v=Va.useMemo(()=>m,Object.values(m));return(0,GM.jsx)(p.Provider,{value:v,children:h})};c.displayName=s+"Provider";function u(d,f){let h=f?.[i]?.[l]||a,m=Va.useContext(h);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}let n=()=>{let s=t.map(o=>Va.createContext(o));return function(a){let l=a?.[i]||s;return Va.useMemo(()=>({[`__scope${i}`]:{...a,[i]:l}}),[a,l])}};return n.scopeName=i,[r,IV(n,...e)]}function IV(...i){let e=i[0];if(i.length===1)return e;let t=()=>{let r=i.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(s){let o=r.reduce((a,{useScope:l,scopeName:c})=>{let d=l(s)[`__scope${c}`];return{...a,...d}},{});return Va.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var Ds=N(te(),1);var XM=N(te(),1),sn=globalThis?.document?XM.useLayoutEffect:()=>{};var Xp=N(te(),1);var kV=Ds[" useInsertionEffect ".trim().toString()]||sn;function j1({prop:i,defaultProp:e,onChange:t=()=>{},caller:r}){let[n,s,o]=TV({defaultProp:e,onChange:t}),a=i!==void 0,l=a?i:n;{let u=Ds.useRef(i!==void 0);Ds.useEffect(()=>{let d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}let c=Ds.useCallback(u=>{if(a){let d=AV(u)?u(i):u;d!==i&&o.current?.(d)}else s(u)},[a,i,s,o]);return[l,c]}function TV({defaultProp:i,onChange:e}){let[t,r]=Ds.useState(i),n=Ds.useRef(t),s=Ds.useRef(e);return kV(()=>{s.current=e},[e]),Ds.useEffect(()=>{n.current!==t&&(s.current?.(t),n.current=t)},[t,n]),[t,r,s]}function AV(i){return typeof i=="function"}var moe=Symbol("RADIX:SYNC_STATE");var YM=N(te(),1);function KM(i,e){if(typeof i=="function")return i(e);i!=null&&(i.current=e)}function u8(...i){return e=>{let t=!1,r=i.map(n=>{let s=KM(n,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let n=0;n<r.length;n++){let s=r[n];typeof s=="function"?s():KM(i[n],null)}}}}function Ui(...i){return YM.useCallback(u8(...i),i)}var $n=N(te(),1);var eL=["top","right","bottom","left"];var Ko=Math.min,Cn=Math.max,N0=Math.round,O0=Math.floor,ho=i=>({x:i,y:i}),NV={left:"right",right:"left",bottom:"top",top:"bottom"},OV={start:"end",end:"start"};function Yp(i,e,t){return Cn(i,Ko(e,t))}function Yo(i,e){return typeof i=="function"?i(e):i}function Jo(i){return i.split("-")[0]}function fd(i){return i.split("-")[1]}function Jp(i){return i==="x"?"y":"x"}function Qp(i){return i==="y"?"height":"width"}var DV=new Set(["top","bottom"]);function fo(i){return DV.has(Jo(i))?"y":"x"}function e9(i){return Jp(fo(i))}function tL(i,e,t){t===void 0&&(t=!1);let r=fd(i),n=e9(i),s=Qp(n),o=n==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=A0(o)),[o,A0(o)]}function iL(i){let e=A0(i);return[Kp(i),e,Kp(e)]}function Kp(i){return i.replace(/start|end/g,e=>OV[e])}var JM=["left","right"],QM=["right","left"],HV=["top","bottom"],zV=["bottom","top"];function BV(i,e,t){switch(i){case"top":case"bottom":return t?e?QM:JM:e?JM:QM;case"left":case"right":return e?HV:zV;default:return[]}}function rL(i,e,t,r){let n=fd(i),s=BV(Jo(i),t==="start",r);return n&&(s=s.map(o=>o+"-"+n),e&&(s=s.concat(s.map(Kp)))),s}function A0(i){return i.replace(/left|right|bottom|top/g,e=>NV[e])}function PV(i){return{top:0,right:0,bottom:0,left:0,...i}}function h8(i){return typeof i!="number"?PV(i):{top:i,right:i,bottom:i,left:i}}function md(i){let{x:e,y:t,width:r,height:n}=i;return{width:r,height:n,top:t,left:e,right:e+r,bottom:t+n,x:e,y:t}}function nL(i,e,t){let{reference:r,floating:n}=i,s=fo(e),o=e9(e),a=Qp(o),l=Jo(e),c=s==="y",u=r.x+r.width/2-n.width/2,d=r.y+r.height/2-n.height/2,f=r[a]/2-n[a]/2,h;switch(l){case"top":h={x:u,y:r.y-n.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-n.width,y:d};break;default:h={x:r.x,y:r.y}}switch(fd(e)){case"start":h[o]-=f*(t&&c?-1:1);break;case"end":h[o]+=f*(t&&c?-1:1);break}return h}var aL=async(i,e,t)=>{let{placement:r="bottom",strategy:n="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e)),c=await o.getElementRects({reference:i,floating:e,strategy:n}),{x:u,y:d}=nL(c,r,l),f=r,h={},m=0;for(let p=0;p<a.length;p++){let{name:v,fn:x}=a[p],{x:C,y,data:S,reset:M}=await x({x:u,y:d,initialPlacement:r,placement:f,strategy:n,middlewareData:h,rects:c,platform:o,elements:{reference:i,floating:e}});u=C??u,d=y??d,h={...h,[v]:{...h[v],...S}},M&&m<=50&&(m++,typeof M=="object"&&(M.placement&&(f=M.placement),M.rects&&(c=M.rects===!0?await o.getElementRects({reference:i,floating:e,strategy:n}):M.rects),{x:u,y:d}=nL(c,f,l)),p=-1)}return{x:u,y:d,placement:f,strategy:n,middlewareData:h}};async function $1(i,e){var t;e===void 0&&(e={});let{x:r,y:n,platform:s,rects:o,elements:a,strategy:l}=i,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Yo(e,i),m=h8(h),v=a[f?d==="floating"?"reference":"floating":d],x=md(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(v)))==null||t?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),C=d==="floating"?{x:r,y:n,width:o.floating.width,height:o.floating.height}:o.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},M=md(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:C,offsetParent:y,strategy:l}):C);return{top:(x.top-M.top+m.top)/S.y,bottom:(M.bottom-x.bottom+m.bottom)/S.y,left:(x.left-M.left+m.left)/S.x,right:(M.right-x.right+m.right)/S.x}}var lL=i=>({name:"arrow",options:i,async fn(e){let{x:t,y:r,placement:n,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Yo(i,e)||{};if(c==null)return{};let d=h8(u),f={x:t,y:r},h=e9(n),m=Qp(h),p=await o.getDimensions(c),v=h==="y",x=v?"top":"left",C=v?"bottom":"right",y=v?"clientHeight":"clientWidth",S=s.reference[m]+s.reference[h]-f[h]-s.floating[m],M=f[h]-s.reference[h],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c)),E=_?_[y]:0;(!E||!await(o.isElement==null?void 0:o.isElement(_)))&&(E=a.floating[y]||s.floating[m]);let R=S/2-M/2,A=E/2-p[m]/2-1,H=Ko(d[x],A),$=Ko(d[C],A),X=H,ue=E-p[m]-$,he=E/2-p[m]/2+R,Y=Yp(X,he,ue),ee=!l.arrow&&fd(n)!=null&&he!==Y&&s.reference[m]/2-(he<X?H:$)-p[m]/2<0,ie=ee?he<X?he-X:he-ue:0;return{[h]:f[h]+ie,data:{[h]:Y,centerOffset:he-Y-ie,...ee&&{alignmentOffset:ie}},reset:ee}}});var cL=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(e){var t,r;let{placement:n,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...v}=Yo(i,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};let x=Jo(n),C=fo(a),y=Jo(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),M=f||(y||!p?[A0(a)]:iL(a)),_=m!=="none";!f&&_&&M.push(...rL(a,p,m,S));let E=[a,...M],R=await $1(e,v),A=[],H=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&A.push(R[x]),d){let he=tL(n,o,S);A.push(R[he[0]],R[he[1]])}if(H=[...H,{placement:n,overflows:A}],!A.every(he=>he<=0)){var $,X;let he=((($=s.flip)==null?void 0:$.index)||0)+1,Y=E[he];if(Y&&(!(d==="alignment"?C!==fo(Y):!1)||H.every(pe=>fo(pe.placement)===C?pe.overflows[0]>0:!0)))return{data:{index:he,overflows:H},reset:{placement:Y}};let ee=(X=H.filter(ie=>ie.overflows[0]<=0).sort((ie,pe)=>ie.overflows[1]-pe.overflows[1])[0])==null?void 0:X.placement;if(!ee)switch(h){case"bestFit":{var ue;let ie=(ue=H.filter(pe=>{if(_){let we=fo(pe.placement);return we===C||we==="y"}return!0}).map(pe=>[pe.placement,pe.overflows.filter(we=>we>0).reduce((we,Ve)=>we+Ve,0)]).sort((pe,we)=>pe[1]-we[1])[0])==null?void 0:ue[0];ie&&(ee=ie);break}case"initialPlacement":ee=a;break}if(n!==ee)return{reset:{placement:ee}}}return{}}}};function sL(i,e){return{top:i.top-e.height,right:i.right-e.width,bottom:i.bottom-e.height,left:i.left-e.width}}function oL(i){return eL.some(e=>i[e]>=0)}var dL=function(i){return i===void 0&&(i={}),{name:"hide",options:i,async fn(e){let{rects:t}=e,{strategy:r="referenceHidden",...n}=Yo(i,e);switch(r){case"referenceHidden":{let s=await $1(e,{...n,elementContext:"reference"}),o=sL(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:oL(o)}}}case"escaped":{let s=await $1(e,{...n,altBoundary:!0}),o=sL(s,t.floating);return{data:{escapedOffsets:o,escaped:oL(o)}}}default:return{}}}}};var uL=new Set(["left","top"]);async function jV(i,e){let{placement:t,platform:r,elements:n}=i,s=await(r.isRTL==null?void 0:r.isRTL(n.floating)),o=Jo(t),a=fd(t),l=fo(t)==="y",c=uL.has(o)?-1:1,u=s&&l?-1:1,d=Yo(e,i),{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}var hL=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(e){var t,r;let{x:n,y:s,placement:o,middlewareData:a}=e,l=await jV(e,i);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:n+l.x,y:s+l.y,data:{...l,placement:o}}}}},fL=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(e){let{x:t,y:r,placement:n}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x,y:C}=v;return{x,y:C}}},...l}=Yo(i,e),c={x:t,y:r},u=await $1(e,l),d=fo(Jo(n)),f=Jp(d),h=c[f],m=c[d];if(s){let v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",C=h+u[v],y=h-u[x];h=Yp(C,h,y)}if(o){let v=d==="y"?"top":"left",x=d==="y"?"bottom":"right",C=m+u[v],y=m-u[x];m=Yp(C,m,y)}let p=a.fn({...e,[f]:h,[d]:m});return{...p,data:{x:p.x-t,y:p.y-r,enabled:{[f]:s,[d]:o}}}}}},mL=function(i){return i===void 0&&(i={}),{options:i,fn(e){let{x:t,y:r,placement:n,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Yo(i,e),u={x:t,y:r},d=fo(n),f=Jp(d),h=u[f],m=u[d],p=Yo(a,e),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){let y=f==="y"?"height":"width",S=s.reference[f]-s.floating[y]+v.mainAxis,M=s.reference[f]+s.reference[y]-v.mainAxis;h<S?h=S:h>M&&(h=M)}if(c){var x,C;let y=f==="y"?"width":"height",S=uL.has(Jo(n)),M=s.reference[d]-s.floating[y]+(S&&((x=o.offset)==null?void 0:x[d])||0)+(S?0:v.crossAxis),_=s.reference[d]+s.reference[y]+(S?0:((C=o.offset)==null?void 0:C[d])||0)-(S?v.crossAxis:0);m<M?m=M:m>_&&(m=_)}return{[f]:h,[d]:m}}}},pL=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(e){var t,r;let{placement:n,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Yo(i,e),u=await $1(e,c),d=Jo(n),f=fd(n),h=fo(n)==="y",{width:m,height:p}=s.floating,v,x;d==="top"||d==="bottom"?(v=d,x=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=d,v=f==="end"?"top":"bottom");let C=p-u.top-u.bottom,y=m-u.left-u.right,S=Ko(p-u[v],C),M=Ko(m-u[x],y),_=!e.middlewareData.shift,E=S,R=M;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(R=y),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=C),_&&!f){let H=Cn(u.left,0),$=Cn(u.right,0),X=Cn(u.top,0),ue=Cn(u.bottom,0);h?R=m-2*(H!==0||$!==0?H+$:Cn(u.left,u.right)):E=p-2*(X!==0||ue!==0?X+ue:Cn(u.top,u.bottom))}await l({...e,availableWidth:R,availableHeight:E});let A=await o.getDimensions(a.floating);return m!==A.width||p!==A.height?{reset:{rects:!0}}:{}}}};function t9(){return typeof window<"u"}function gd(i){return vL(i)?(i.nodeName||"").toLowerCase():"#document"}function jn(i){var e;return(i==null||(e=i.ownerDocument)==null?void 0:e.defaultView)||window}function mo(i){var e;return(e=(vL(i)?i.ownerDocument:i.document)||window.document)==null?void 0:e.documentElement}function vL(i){return t9()?i instanceof Node||i instanceof jn(i).Node:!1}function Hs(i){return t9()?i instanceof Element||i instanceof jn(i).Element:!1}function po(i){return t9()?i instanceof HTMLElement||i instanceof jn(i).HTMLElement:!1}function gL(i){return!t9()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof jn(i).ShadowRoot}var $V=new Set(["inline","contents"]);function V1(i){let{overflow:e,overflowX:t,overflowY:r,display:n}=zs(i);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!$V.has(n)}var VV=new Set(["table","td","th"]);function _L(i){return VV.has(gd(i))}var FV=[":popover-open",":modal"];function D0(i){return FV.some(e=>{try{return i.matches(e)}catch{return!1}})}var WV=["transform","translate","scale","rotate","perspective"],ZV=["transform","translate","scale","rotate","perspective","filter"],qV=["paint","layout","strict","content"];function i9(i){let e=r9(),t=Hs(i)?zs(i):i;return WV.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||ZV.some(r=>(t.willChange||"").includes(r))||qV.some(r=>(t.contain||"").includes(r))}function bL(i){let e=Fa(i);for(;po(e)&&!vd(e);){if(i9(e))return e;if(D0(e))return null;e=Fa(e)}return null}function r9(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}var UV=new Set(["html","body","#document"]);function vd(i){return UV.has(gd(i))}function zs(i){return jn(i).getComputedStyle(i)}function H0(i){return Hs(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function Fa(i){if(gd(i)==="html")return i;let e=i.assignedSlot||i.parentNode||gL(i)&&i.host||mo(i);return gL(e)?e.host:e}function CL(i){let e=Fa(i);return vd(e)?i.ownerDocument?i.ownerDocument.body:i.body:po(e)&&V1(e)?e:CL(e)}function pd(i,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);let n=CL(i),s=n===((r=i.ownerDocument)==null?void 0:r.body),o=jn(n);if(s){let a=n9(o);return e.concat(o,o.visualViewport||[],V1(n)?n:[],a&&t?pd(a):[])}return e.concat(n,pd(n,[],t))}function n9(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function ML(i){let e=zs(i),t=parseFloat(e.width)||0,r=parseFloat(e.height)||0,n=po(i),s=n?i.offsetWidth:t,o=n?i.offsetHeight:r,a=N0(t)!==s||N0(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function m8(i){return Hs(i)?i:i.contextElement}function F1(i){let e=m8(i);if(!po(e))return ho(1);let t=e.getBoundingClientRect(),{width:r,height:n,$:s}=ML(e),o=(s?N0(t.width):t.width)/r,a=(s?N0(t.height):t.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}var GV=ho(0);function LL(i){let e=jn(i);return!r9()||!e.visualViewport?GV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function XV(i,e,t){return e===void 0&&(e=!1),!t||e&&t!==jn(i)?!1:e}function _d(i,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);let n=i.getBoundingClientRect(),s=m8(i),o=ho(1);e&&(r?Hs(r)&&(o=F1(r)):o=F1(i));let a=XV(s,t,r)?LL(s):ho(0),l=(n.left+a.x)/o.x,c=(n.top+a.y)/o.y,u=n.width/o.x,d=n.height/o.y;if(s){let f=jn(s),h=r&&Hs(r)?jn(r):r,m=f,p=n9(m);for(;p&&r&&h!==m;){let v=F1(p),x=p.getBoundingClientRect(),C=zs(p),y=x.left+(p.clientLeft+parseFloat(C.paddingLeft))*v.x,S=x.top+(p.clientTop+parseFloat(C.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=y,c+=S,m=jn(p),p=n9(m)}}return md({width:u,height:d,x:l,y:c})}function s9(i,e){let t=H0(i).scrollLeft;return e?e.left+t:_d(mo(i)).left+t}function SL(i,e){let t=i.getBoundingClientRect(),r=t.left+e.scrollLeft-s9(i,t),n=t.top+e.scrollTop;return{x:r,y:n}}function KV(i){let{elements:e,rect:t,offsetParent:r,strategy:n}=i,s=n==="fixed",o=mo(r),a=e?D0(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=ho(1),u=ho(0),d=po(r);if((d||!d&&!s)&&((gd(r)!=="body"||V1(o))&&(l=H0(r)),po(r))){let h=_d(r);c=F1(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}let f=o&&!d&&!s?SL(o,l):ho(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:t.y*c.y-l.scrollTop*c.y+u.y+f.y}}function YV(i){return Array.from(i.getClientRects())}function JV(i){let e=mo(i),t=H0(i),r=i.ownerDocument.body,n=Cn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Cn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight),o=-t.scrollLeft+s9(i),a=-t.scrollTop;return zs(r).direction==="rtl"&&(o+=Cn(e.clientWidth,r.clientWidth)-n),{width:n,height:s,x:o,y:a}}var xL=25;function QV(i,e){let t=jn(i),r=mo(i),n=t.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(n){s=n.width,o=n.height;let u=r9();(!u||u&&e==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}let c=s9(r);if(c<=0){let u=r.ownerDocument,d=u.body,f=getComputedStyle(d),h=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,m=Math.abs(r.clientWidth-d.clientWidth-h);m<=xL&&(s-=m)}else c<=xL&&(s+=c);return{width:s,height:o,x:a,y:l}}var eF=new Set(["absolute","fixed"]);function tF(i,e){let t=_d(i,!0,e==="fixed"),r=t.top+i.clientTop,n=t.left+i.clientLeft,s=po(i)?F1(i):ho(1),o=i.clientWidth*s.x,a=i.clientHeight*s.y,l=n*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function wL(i,e,t){let r;if(e==="viewport")r=QV(i,t);else if(e==="document")r=JV(mo(i));else if(Hs(e))r=tF(e,t);else{let n=LL(i);r={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return md(r)}function EL(i,e){let t=Fa(i);return t===e||!Hs(t)||vd(t)?!1:zs(t).position==="fixed"||EL(t,e)}function iF(i,e){let t=e.get(i);if(t)return t;let r=pd(i,[],!1).filter(a=>Hs(a)&&gd(a)!=="body"),n=null,s=zs(i).position==="fixed",o=s?Fa(i):i;for(;Hs(o)&&!vd(o);){let a=zs(o),l=i9(o);!l&&a.position==="fixed"&&(n=null),(s?!l&&!n:!l&&a.position==="static"&&!!n&&eF.has(n.position)||V1(o)&&!l&&EL(i,o))?r=r.filter(u=>u!==o):n=a,o=Fa(o)}return e.set(i,r),r}function rF(i){let{element:e,boundary:t,rootBoundary:r,strategy:n}=i,o=[...t==="clippingAncestors"?D0(e)?[]:iF(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{let d=wL(e,u,n);return c.top=Cn(d.top,c.top),c.right=Ko(d.right,c.right),c.bottom=Ko(d.bottom,c.bottom),c.left=Cn(d.left,c.left),c},wL(e,a,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function nF(i){let{width:e,height:t}=ML(i);return{width:e,height:t}}function sF(i,e,t){let r=po(e),n=mo(e),s=t==="fixed",o=_d(i,!0,s,e),a={scrollLeft:0,scrollTop:0},l=ho(0);function c(){l.x=s9(n)}if(r||!r&&!s)if((gd(e)!=="body"||V1(n))&&(a=H0(e)),r){let h=_d(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else n&&c();s&&!r&&n&&c();let u=n&&!r&&!s?SL(n,a):ho(0),d=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function f8(i){return zs(i).position==="static"}function yL(i,e){if(!po(i)||zs(i).position==="fixed")return null;if(e)return e(i);let t=i.offsetParent;return mo(i)===t&&(t=t.ownerDocument.body),t}function RL(i,e){let t=jn(i);if(D0(i))return t;if(!po(i)){let n=Fa(i);for(;n&&!vd(n);){if(Hs(n)&&!f8(n))return n;n=Fa(n)}return t}let r=yL(i,e);for(;r&&_L(r)&&f8(r);)r=yL(r,e);return r&&vd(r)&&f8(r)&&!i9(r)?t:r||bL(i)||t}var oF=async function(i){let e=this.getOffsetParent||RL,t=this.getDimensions,r=await t(i.floating);return{reference:sF(i.reference,await e(i.floating),i.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function aF(i){return zs(i).direction==="rtl"}var IL={convertOffsetParentRelativeRectToViewportRelativeRect:KV,getDocumentElement:mo,getClippingRect:rF,getOffsetParent:RL,getElementRects:oF,getClientRects:YV,getDimensions:nF,getScale:F1,isElement:Hs,isRTL:aF};function kL(i,e){return i.x===e.x&&i.y===e.y&&i.width===e.width&&i.height===e.height}function lF(i,e){let t=null,r,n=mo(i);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();let c=i.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=c;if(a||e(),!f||!h)return;let m=O0(d),p=O0(n.clientWidth-(u+f)),v=O0(n.clientHeight-(d+h)),x=O0(u),y={rootMargin:-m+"px "+-p+"px "+-v+"px "+-x+"px",threshold:Cn(0,Ko(1,l))||1},S=!0;function M(_){let E=_[0].intersectionRatio;if(E!==l){if(!S)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!kL(c,i.getBoundingClientRect())&&o(),S=!1}try{t=new IntersectionObserver(M,{...y,root:n.ownerDocument})}catch{t=new IntersectionObserver(M,y)}t.observe(i)}return o(!0),s}function p8(i,e,t,r){r===void 0&&(r={});let{ancestorScroll:n=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=m8(i),u=n||s?[...c?pd(c):[],...pd(e)]:[];u.forEach(x=>{n&&x.addEventListener("scroll",t,{passive:!0}),s&&x.addEventListener("resize",t)});let d=c&&a?lF(c,t):null,f=-1,h=null;o&&(h=new ResizeObserver(x=>{let[C]=x;C&&C.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=h)==null||y.observe(e)})),t()}),c&&!l&&h.observe(c),h.observe(e));let m,p=l?_d(i):null;l&&v();function v(){let x=_d(i);p&&!kL(p,x)&&t(),p=x,m=requestAnimationFrame(v)}return t(),()=>{var x;u.forEach(C=>{n&&C.removeEventListener("scroll",t),s&&C.removeEventListener("resize",t)}),d?.(),(x=h)==null||x.disconnect(),h=null,l&&cancelAnimationFrame(m)}}var TL=hL;var AL=fL,NL=cL,OL=pL,DL=dL,g8=lL;var HL=mL,v8=(i,e,t)=>{let r=new Map,n={platform:IL,...t},s={...n.platform,_c:r};return aL(i,e,{...n,platform:s})};var ir=N(te(),1),BL=N(te(),1),PL=N(Ig(),1),cF=typeof document<"u",dF=function(){},o9=cF?BL.useLayoutEffect:dF;function a9(i,e){if(i===e)return!0;if(typeof i!=typeof e)return!1;if(typeof i=="function"&&i.toString()===e.toString())return!0;let t,r,n;if(i&&e&&typeof i=="object"){if(Array.isArray(i)){if(t=i.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!a9(i[r],e[r]))return!1;return!0}if(n=Object.keys(i),t=n.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,n[r]))return!1;for(r=t;r--!==0;){let s=n[r];if(!(s==="_owner"&&i.$$typeof)&&!a9(i[s],e[s]))return!1}return!0}return i!==i&&e!==e}function jL(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function zL(i,e){let t=jL(i);return Math.round(e*t)/t}function _8(i){let e=ir.useRef(i);return o9(()=>{e.current=i}),e}function $L(i){i===void 0&&(i={});let{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:n,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=i,[u,d]=ir.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=ir.useState(r);a9(f,r)||h(r);let[m,p]=ir.useState(null),[v,x]=ir.useState(null),C=ir.useCallback(pe=>{pe!==_.current&&(_.current=pe,p(pe))},[]),y=ir.useCallback(pe=>{pe!==E.current&&(E.current=pe,x(pe))},[]),S=s||m,M=o||v,_=ir.useRef(null),E=ir.useRef(null),R=ir.useRef(u),A=l!=null,H=_8(l),$=_8(n),X=_8(c),ue=ir.useCallback(()=>{if(!_.current||!E.current)return;let pe={placement:e,strategy:t,middleware:f};$.current&&(pe.platform=$.current),v8(_.current,E.current,pe).then(we=>{let Ve={...we,isPositioned:X.current!==!1};he.current&&!a9(R.current,Ve)&&(R.current=Ve,PL.flushSync(()=>{d(Ve)}))})},[f,e,t,$,X]);o9(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,d(pe=>({...pe,isPositioned:!1})))},[c]);let he=ir.useRef(!1);o9(()=>(he.current=!0,()=>{he.current=!1}),[]),o9(()=>{if(S&&(_.current=S),M&&(E.current=M),S&&M){if(H.current)return H.current(S,M,ue);ue()}},[S,M,ue,H,A]);let Y=ir.useMemo(()=>({reference:_,floating:E,setReference:C,setFloating:y}),[C,y]),ee=ir.useMemo(()=>({reference:S,floating:M}),[S,M]),ie=ir.useMemo(()=>{let pe={position:t,left:0,top:0};if(!ee.floating)return pe;let we=zL(ee.floating,u.x),Ve=zL(ee.floating,u.y);return a?{...pe,transform:"translate("+we+"px, "+Ve+"px)",...jL(ee.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:we,top:Ve}},[t,a,ee.floating,u.x,u.y]);return ir.useMemo(()=>({...u,update:ue,refs:Y,elements:ee,floatingStyles:ie}),[u,ue,Y,ee,ie])}var uF=i=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:i,fn(t){let{element:r,padding:n}=typeof i=="function"?i(t):i;return r&&e(r)?r.current!=null?g8({element:r.current,padding:n}).fn(t):{}:r?g8({element:r,padding:n}).fn(t):{}}}},VL=(i,e)=>({...TL(i),options:[i,e]}),FL=(i,e)=>({...AL(i),options:[i,e]}),WL=(i,e)=>({...HL(i),options:[i,e]}),ZL=(i,e)=>({...NL(i),options:[i,e]}),qL=(i,e)=>({...OL(i),options:[i,e]});var UL=(i,e)=>({...DL(i),options:[i,e]});var GL=(i,e)=>({...uF(i),options:[i,e]});var QL=N(te(),1);var XL=N(te(),1),KL=N(Ig(),1);var gr=N(te(),1);var l9=N(de(),1);function c9(i){let e=hF(i),t=gr.forwardRef((r,n)=>{let{children:s,...o}=r,a=gr.Children.toArray(s),l=a.find(mF);if(l){let c=l.props.children,u=a.map(d=>d===l?gr.Children.count(c)>1?gr.Children.only(null):gr.isValidElement(c)?c.props.children:null:d);return(0,l9.jsx)(e,{...o,ref:n,children:gr.isValidElement(c)?gr.cloneElement(c,void 0,u):null})}return(0,l9.jsx)(e,{...o,ref:n,children:s})});return t.displayName=`${i}.Slot`,t}function hF(i){let e=gr.forwardRef((t,r)=>{let{children:n,...s}=t;if(gr.isValidElement(n)){let o=gF(n),a=pF(s,n.props);return n.type!==gr.Fragment&&(a.ref=r?u8(r,o):o),gr.cloneElement(n,a)}return gr.Children.count(n)>1?gr.Children.only(null):null});return e.displayName=`${i}.SlotClone`,e}var fF=Symbol("radix.slottable");function mF(i){return gr.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===fF}function pF(i,e){let t={...e};for(let r in e){let n=i[r],s=e[r];/^on[A-Z]/.test(r)?n&&s?t[r]=(...a)=>{let l=s(...a);return n(...a),l}:n&&(t[r]=n):r==="style"?t[r]={...n,...s}:r==="className"&&(t[r]=[n,s].filter(Boolean).join(" "))}return{...i,...t}}function gF(i){let e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}var YL=N(de(),1),vF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ut=vF.reduce((i,e)=>{let t=c9(`Primitive.${e}`),r=XL.forwardRef((n,s)=>{let{asChild:o,...a}=n,l=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,YL.jsx)(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...i,[e]:r}},{});function JL(i,e){i&&KL.flushSync(()=>i.dispatchEvent(e))}var b8=N(de(),1),_F="Arrow",eS=QL.forwardRef((i,e)=>{let{children:t,width:r=10,height:n=5,...s}=i;return(0,b8.jsx)(Ut.svg,{...s,ref:e,width:r,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:i.asChild?t:(0,b8.jsx)("polygon",{points:"0,0 30,0 15,10"})})});eS.displayName=_F;var tS=eS;var W1=N(te(),1);function Qo(i){let e=W1.useRef(i);return W1.useEffect(()=>{e.current=i}),W1.useMemo(()=>(...t)=>e.current?.(...t),[])}var iS=N(te(),1);function rS(i){let[e,t]=iS.useState(void 0);return sn(()=>{if(i){t({width:i.offsetWidth,height:i.offsetHeight});let r=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;let s=n[0],o,a;if("borderBoxSize"in s){let l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=i.offsetWidth,a=i.offsetHeight;t({width:o,height:a})});return r.observe(i,{box:"border-box"}),()=>r.unobserve(i)}else t(void 0)},[i]),e}var tc=N(de(),1);var C8="Popper",[nS,Z1]=Xo(C8),[CF,sS]=nS(C8),oS=i=>{let{__scopePopper:e,children:t}=i,[r,n]=$n.useState(null);return(0,tc.jsx)(CF,{scope:e,anchor:r,onAnchorChange:n,children:t})};oS.displayName=C8;var aS="PopperAnchor",lS=$n.forwardRef((i,e)=>{let{__scopePopper:t,virtualRef:r,...n}=i,s=sS(aS,t),o=$n.useRef(null),a=Ui(e,o),l=$n.useRef(null);return $n.useEffect(()=>{let c=l.current;l.current=r?.current||o.current,c!==l.current&&s.onAnchorChange(l.current)}),r?null:(0,tc.jsx)(Ut.div,{...n,ref:a})});lS.displayName=aS;var x8="PopperContent",[xF,wF]=nS(x8),cS=$n.forwardRef((i,e)=>{let{__scopePopper:t,side:r="bottom",sideOffset:n=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:m,...p}=i,v=sS(x8,t),[x,C]=$n.useState(null),y=Ui(e,Ye=>C(Ye)),[S,M]=$n.useState(null),_=rS(S),E=_?.width??0,R=_?.height??0,A=r+(s!=="center"?"-"+s:""),H=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},$=Array.isArray(c)?c:[c],X=$.length>0,ue={padding:H,boundary:$.filter(MF),altBoundary:X},{refs:he,floatingStyles:Y,placement:ee,isPositioned:ie,middlewareData:pe}=$L({strategy:"fixed",placement:A,whileElementsMounted:(...Ye)=>p8(...Ye,{animationFrame:h==="always"}),elements:{reference:v.anchor},middleware:[VL({mainAxis:n+R,alignmentAxis:o}),l&&FL({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?WL():void 0,...ue}),l&&ZL({...ue}),qL({...ue,apply:({elements:Ye,rects:fi,availableWidth:yt,availableHeight:oi})=>{let{width:Ai,height:Ue}=fi.reference,T=Ye.floating.style;T.setProperty("--radix-popper-available-width",`${yt}px`),T.setProperty("--radix-popper-available-height",`${oi}px`),T.setProperty("--radix-popper-anchor-width",`${Ai}px`),T.setProperty("--radix-popper-anchor-height",`${Ue}px`)}}),S&&GL({element:S,padding:a}),LF({arrowWidth:E,arrowHeight:R}),f&&UL({strategy:"referenceHidden",...ue})]}),[we,Ve]=hS(ee),lt=Qo(m);sn(()=>{ie&&lt?.()},[ie,lt]);let gt=pe.arrow?.x,De=pe.arrow?.y,rt=pe.arrow?.centerOffset!==0,[Jt,Ke]=$n.useState();return sn(()=>{x&&Ke(window.getComputedStyle(x).zIndex)},[x]),(0,tc.jsx)("div",{ref:he.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:ie?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Jt,["--radix-popper-transform-origin"]:[pe.transformOrigin?.x,pe.transformOrigin?.y].join(" "),...pe.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:i.dir,children:(0,tc.jsx)(xF,{scope:t,placedSide:we,onArrowChange:M,arrowX:gt,arrowY:De,shouldHideArrow:rt,children:(0,tc.jsx)(Ut.div,{"data-side":we,"data-align":Ve,...p,ref:y,style:{...p.style,animation:ie?void 0:"none"}})})})});cS.displayName=x8;var dS="PopperArrow",yF={top:"bottom",right:"left",bottom:"top",left:"right"},uS=$n.forwardRef(function(e,t){let{__scopePopper:r,...n}=e,s=wF(dS,r),o=yF[s.placedSide];return(0,tc.jsx)("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:(0,tc.jsx)(tS,{...n,ref:t,style:{...n.style,display:"block"}})})});uS.displayName=dS;function MF(i){return i!==null}var LF=i=>({name:"transformOrigin",options:i,fn(e){let{placement:t,rects:r,middlewareData:n}=e,o=n.arrow?.centerOffset!==0,a=o?0:i.arrowWidth,l=o?0:i.arrowHeight,[c,u]=hS(t),d={start:"0%",center:"50%",end:"100%"}[u],f=(n.arrow?.x??0)+a/2,h=(n.arrow?.y??0)+l/2,m="",p="";return c==="bottom"?(m=o?d:`${f}px`,p=`${-l}px`):c==="top"?(m=o?d:`${f}px`,p=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,p=o?d:`${h}px`):c==="left"&&(m=`${r.floating.width+l}px`,p=o?d:`${h}px`),{data:{x:m,y:p}}}});function hS(i){let[e,t="center"]=i.split("-");return[e,t]}var d9=oS,z0=lS,u9=cS,h9=uS;var f9=N(te(),1),mS=N(Ig(),1);var pS=N(de(),1),SF="Portal",B0=f9.forwardRef((i,e)=>{let{container:t,...r}=i,[n,s]=f9.useState(!1);sn(()=>s(!0),[]);let o=t||n&&globalThis?.document?.body;return o?mS.default.createPortal((0,pS.jsx)(Ut.div,{...r,ref:e}),o):null});B0.displayName=SF;var Vn=N(te(),1);var gS=N(te(),1);function EF(i,e){return gS.useReducer((t,r)=>e[t][r]??t,i)}var Wa=i=>{let{present:e,children:t}=i,r=RF(e),n=typeof t=="function"?t({present:r.isPresent}):Vn.Children.only(t),s=Ui(r.ref,IF(n));return typeof t=="function"||r.isPresent?Vn.cloneElement(n,{ref:s}):null};Wa.displayName="Presence";function RF(i){let[e,t]=Vn.useState(),r=Vn.useRef(null),n=Vn.useRef(i),s=Vn.useRef("none"),o=i?"mounted":"unmounted",[a,l]=EF(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Vn.useEffect(()=>{let c=m9(r.current);s.current=a==="mounted"?c:"none"},[a]),sn(()=>{let c=r.current,u=n.current;if(u!==i){let f=s.current,h=m9(c);i?l("MOUNT"):h==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),n.current=i}},[i,l]),sn(()=>{if(e){let c,u=e.ownerDocument.defaultView??window,d=h=>{let p=m9(r.current).includes(CSS.escape(h.animationName));if(h.target===e&&p&&(l("ANIMATION_END"),!n.current)){let v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=h=>{h.target===e&&(s.current=m9(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:Vn.useCallback(c=>{r.current=c?getComputedStyle(c):null,t(c)},[])}}function m9(i){return i?.animationName||"none"}function IF(i){let e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}var Ri=N(te(),1);var vS=N(te(),1);function _S(i,e=globalThis?.document){let t=Qo(i);vS.useEffect(()=>{let r=n=>{n.key==="Escape"&&t(n)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var y8=N(de(),1),kF="DismissableLayer",w8="dismissableLayer.update",TF="dismissableLayer.pointerDownOutside",AF="dismissableLayer.focusOutside",bS,xS=Ri.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),P0=Ri.forwardRef((i,e)=>{let{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:n,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=i,c=Ri.useContext(xS),[u,d]=Ri.useState(null),f=u?.ownerDocument??globalThis?.document,[,h]=Ri.useState({}),m=Ui(e,E=>d(E)),p=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(v),C=u?p.indexOf(u):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,S=C>=x,M=DF(E=>{let R=E.target,A=[...c.branches].some(H=>H.contains(R));!S||A||(n?.(E),o?.(E),E.defaultPrevented||a?.())},f),_=HF(E=>{let R=E.target;[...c.branches].some(H=>H.contains(R))||(s?.(E),o?.(E),E.defaultPrevented||a?.())},f);return _S(E=>{C===c.layers.size-1&&(r?.(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},f),Ri.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(bS=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),CS(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=bS)}},[u,f,t,c]),Ri.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),CS())},[u,c]),Ri.useEffect(()=>{let E=()=>h({});return document.addEventListener(w8,E),()=>document.removeEventListener(w8,E)},[]),(0,y8.jsx)(Ut.div,{...l,ref:m,style:{pointerEvents:y?S?"auto":"none":void 0,...i.style},onFocusCapture:ei(i.onFocusCapture,_.onFocusCapture),onBlurCapture:ei(i.onBlurCapture,_.onBlurCapture),onPointerDownCapture:ei(i.onPointerDownCapture,M.onPointerDownCapture)})});P0.displayName=kF;var NF="DismissableLayerBranch",OF=Ri.forwardRef((i,e)=>{let t=Ri.useContext(xS),r=Ri.useRef(null),n=Ui(e,r);return Ri.useEffect(()=>{let s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),(0,y8.jsx)(Ut.div,{...i,ref:n})});OF.displayName=NF;function DF(i,e=globalThis?.document){let t=Qo(i),r=Ri.useRef(!1),n=Ri.useRef(()=>{});return Ri.useEffect(()=>{let s=a=>{if(a.target&&!r.current){let c=function(){wS(TF,t,u,{discrete:!0})};var l=c;let u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",n.current),n.current=c,e.addEventListener("click",n.current,{once:!0})):c()}else e.removeEventListener("click",n.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",n.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function HF(i,e=globalThis?.document){let t=Qo(i),r=Ri.useRef(!1);return Ri.useEffect(()=>{let n=s=>{s.target&&!r.current&&wS(AF,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",n),()=>e.removeEventListener("focusin",n)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function CS(){let i=new CustomEvent(w8);document.dispatchEvent(i)}function wS(i,e,t,{discrete:r}){let n=t.originalEvent.target,s=new CustomEvent(i,{bubbles:!1,cancelable:!0,detail:t});e&&n.addEventListener(i,e,{once:!0}),r?JL(n,s):n.dispatchEvent(s)}var es=N(de(),1),M8,v9="HoverCard",[yS,bae]=Xo(v9,[Z1]),_9=Z1(),[zF,b9]=yS(v9),MS=i=>{let{__scopeHoverCard:e,children:t,open:r,defaultOpen:n,onOpenChange:s,openDelay:o=700,closeDelay:a=300}=i,l=_9(e),c=zi.useRef(0),u=zi.useRef(0),d=zi.useRef(!1),f=zi.useRef(!1),[h,m]=j1({prop:r,defaultProp:n??!1,onChange:s,caller:v9}),p=zi.useCallback(()=>{clearTimeout(u.current),c.current=window.setTimeout(()=>m(!0),o)},[o,m]),v=zi.useCallback(()=>{clearTimeout(c.current),!d.current&&!f.current&&(u.current=window.setTimeout(()=>m(!1),a))},[a,m]),x=zi.useCallback(()=>m(!1),[m]);return zi.useEffect(()=>()=>{clearTimeout(c.current),clearTimeout(u.current)},[]),(0,es.jsx)(zF,{scope:e,open:h,onOpenChange:m,onOpen:p,onClose:v,onDismiss:x,hasSelectionRef:d,isPointerDownOnContentRef:f,children:(0,es.jsx)(d9,{...l,children:t})})};MS.displayName=v9;var LS="HoverCardTrigger",SS=zi.forwardRef((i,e)=>{let{__scopeHoverCard:t,...r}=i,n=b9(LS,t),s=_9(t);return(0,es.jsx)(z0,{asChild:!0,...s,children:(0,es.jsx)(Ut.a,{"data-state":n.open?"open":"closed",...r,ref:e,onPointerEnter:ei(i.onPointerEnter,g9(n.onOpen)),onPointerLeave:ei(i.onPointerLeave,g9(n.onClose)),onFocus:ei(i.onFocus,n.onOpen),onBlur:ei(i.onBlur,n.onClose),onTouchStart:ei(i.onTouchStart,o=>o.preventDefault())})})});SS.displayName=LS;var L8="HoverCardPortal",[BF,PF]=yS(L8,{forceMount:void 0}),ES=i=>{let{__scopeHoverCard:e,forceMount:t,children:r,container:n}=i,s=b9(L8,e);return(0,es.jsx)(BF,{scope:e,forceMount:t,children:(0,es.jsx)(Wa,{present:t||s.open,children:(0,es.jsx)(B0,{asChild:!0,container:n,children:r})})})};ES.displayName=L8;var p9="HoverCardContent",RS=zi.forwardRef((i,e)=>{let t=PF(p9,i.__scopeHoverCard),{forceMount:r=t.forceMount,...n}=i,s=b9(p9,i.__scopeHoverCard);return(0,es.jsx)(Wa,{present:r||s.open,children:(0,es.jsx)(jF,{"data-state":s.open?"open":"closed",...n,onPointerEnter:ei(i.onPointerEnter,g9(s.onOpen)),onPointerLeave:ei(i.onPointerLeave,g9(s.onClose)),ref:e})})});RS.displayName=p9;var jF=zi.forwardRef((i,e)=>{let{__scopeHoverCard:t,onEscapeKeyDown:r,onPointerDownOutside:n,onFocusOutside:s,onInteractOutside:o,...a}=i,l=b9(p9,t),c=_9(t),u=zi.useRef(null),d=Ui(e,u),[f,h]=zi.useState(!1);return zi.useEffect(()=>{if(f){let m=document.body;return M8=m.style.userSelect||m.style.webkitUserSelect,m.style.userSelect="none",m.style.webkitUserSelect="none",()=>{m.style.userSelect=M8,m.style.webkitUserSelect=M8}}},[f]),zi.useEffect(()=>{if(u.current){let m=()=>{h(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",m),()=>{document.removeEventListener("pointerup",m),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),zi.useEffect(()=>{u.current&&VF(u.current).forEach(p=>p.setAttribute("tabindex","-1"))}),(0,es.jsx)(P0,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:r,onPointerDownOutside:n,onFocusOutside:ei(s,m=>{m.preventDefault()}),onDismiss:l.onDismiss,children:(0,es.jsx)(u9,{...c,...a,onPointerDown:ei(a.onPointerDown,m=>{m.currentTarget.contains(m.target)&&h(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:d,style:{...a.style,userSelect:f?"text":void 0,WebkitUserSelect:f?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),$F="HoverCardArrow",IS=zi.forwardRef((i,e)=>{let{__scopeHoverCard:t,...r}=i,n=_9(t);return(0,es.jsx)(h9,{...n,...r,ref:e})});IS.displayName=$F;function g9(i){return e=>e.pointerType==="touch"?void 0:i()}function VF(i){let e=[],t=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;t.nextNode();)e.push(t.currentNode);return e}var kS=MS,TS=SS,AS=ES,NS=RS,OS=IS;var HS=N(Qe(),1);function vr({children:i,openDelay:e=400,card:t,side:r,arrowClass:n="fill-white"}){let[s,o]=(0,DS.useState)(!1);return(0,Za.jsxs)(kS,{openDelay:e,children:[(0,Za.jsx)(TS,{asChild:!0,onMouseEnter:()=>o(!0),children:i}),(0,Za.jsx)(AS,{children:(0,Za.jsxs)(NS,{className:"exclude-from-outline hover-card-content",sideOffset:5,side:r,children:[typeof t=="function"?s&&t({load:s}):t,(0,Za.jsx)(OS,{className:n})]})})]})}function q1({title:i,children:e,className:t}){return(0,Za.jsx)(vr,{side:"top",card:(0,Za.jsx)("div",{className:(0,HS.default)("p-1 text-xs text-white bg-blue-900 dark:bg-white dark:text-black",t),children:i}),arrowClass:"fill-blue-900 dark:fill-white",children:e})}var qa=N(de(),1);var zS=N(Qe(),1);function ic({url:i,title:e,internal:t=!1,loading:r=!1,description:n,thumbnail:s,className:o="w-[300px] sm:max-w-[500px] bg-white rounded shadow-md"}){let a=Os(),l=nn(),c=pr(i,l);return(0,qa.jsxs)("div",{className:(0,zS.default)("hover-card-content rounded overflow-hidden",o,{"animate-pulse":r}),children:[!r&&s&&(0,qa.jsx)("img",{src:s,className:"w-full h-[150px] object-cover object-top object-left m-0"}),r&&(0,qa.jsx)("div",{className:"animate-pulse bg-slate-100 dark:bg-slate-800 w-full h-[150px]"}),t&&(0,qa.jsx)(a,{to:c,className:"block px-3 mt-3 text-sm font-semibold text-inherit hover:text-inherit",prefetch:"intent",children:e}),!t&&(0,qa.jsxs)("a",{href:c,className:"block px-3 mt-3 text-sm font-semibold text-inherit hover:text-inherit",target:"_blank",rel:"noreferrer",children:[(0,qa.jsx)($r,{width:"1rem",height:"1rem",className:"float-right"}),e]}),!r&&n&&(0,qa.jsx)("div",{className:"p-3 prose text-sm max-h-[300px] overflow-hidden",children:n})]})}var Ua=N(de(),1);function WF({node:i,className:e}){return i.children?(0,Ua.jsx)("div",{className:e,children:(0,Ua.jsx)(ge,{ast:i.children})}):(0,Ua.jsx)("span",{className:e,children:i.value})}function S8(i,e){var t,r,n;let s=(t=i[e.type])!==null&&t!==void 0?t:i.DefaultComponent,o=(r=Object.entries(s!=null?s:{}).reverse().find(([a])=>a!=="base"&&Uy(a,e)))===null||r===void 0?void 0:r[1];return(n=o!=null?o:s==null?void 0:s.base)!==null&&n!==void 0?n:WF}function ge({ast:i,className:e}){let t=yM();if(!i)return null;if(!Array.isArray(i)){let r=S8(t,i);return(0,Ua.jsx)(r,{node:i,className:e},i.key)}return i.length===0?null:(0,Ua.jsx)(Ua.Fragment,{children:i==null?void 0:i.map(r=>{let n=S8(t,r);return(0,Ua.jsx)(n,{node:r,className:e},r.key)})})}function E8(i){if(typeof i=="number")return`${i}%`;let e=i.trim();if(e&&(e.length>=2&&(e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'")&&(e=e.slice(1,-1).trim()),!!e))return/^\d+\.?\d*$/.test(e)?`${e}%`:e}var ZF={text({node:i}){var e;if(!(!((e=i.value)===null||e===void 0)&&e.includes("\u200B")))return(0,He.jsx)(He.Fragment,{children:i.value});let t=i.value.split("\u200B");return(0,He.jsx)(He.Fragment,{children:t.map((r,n)=>(0,He.jsxs)(BS.default.Fragment,{children:[r,n<t.length-1&&(0,He.jsx)("wbr",{})]},n))})},span({node:i,className:e}){return(0,He.jsx)("span",{className:(0,Ir.default)(i.class,e),style:i.style,id:i.html_id,children:(0,He.jsx)(ge,{ast:i.children})})},div({node:i,className:e}){return(0,He.jsx)("div",{className:(0,Ir.default)(i.class,e),style:i.style,id:i.html_id,children:(0,He.jsx)(ge,{ast:i.children})})},delete({node:i,className:e}){return(0,He.jsx)("del",{className:e,children:(0,He.jsx)(ge,{ast:i.children})})},strong({node:i,className:e}){return(0,He.jsx)("strong",{className:e,children:(0,He.jsx)(ge,{ast:i.children})})},emphasis({node:i,className:e}){return(0,He.jsx)("em",{className:e,children:(0,He.jsx)(ge,{ast:i.children})})},underline({node:i,className:e}){return(0,He.jsx)("span",{style:{textDecoration:"underline"},className:e,children:(0,He.jsx)(ge,{ast:i.children})})},smallcaps({node:i,className:e}){return(0,He.jsx)("span",{style:{fontVariant:"small-caps"},className:e,children:(0,He.jsx)(ge,{ast:i.children})})},link({node:i,className:e}){return(0,He.jsx)("a",{target:"_blank",href:i.url,className:(0,Ir.default)(i.class,e),rel:"noreferrer",children:(0,He.jsx)(ge,{ast:i.children})})},paragraph({node:i,className:e}){var t,r,n,s;let o=((t=i.children)===null||t===void 0?void 0:t.length)===1&&i.children[0].type==="image",a=((r=i.children)===null||r===void 0?void 0:r.length)===1&&i.children[0].type==="link"&&((n=i.children[0].children)===null||n===void 0?void 0:n.length)===1&&((s=i.children[0].children[0])===null||s===void 0?void 0:s.type)==="image";return!o&&!a?(0,He.jsx)("p",{id:i.html_id,className:e,children:(0,He.jsx)(ge,{ast:i.children})}):(0,He.jsx)(ge,{ast:i.children})},algorithmLine({node:i,className:e}){var t;let r={paddingLeft:`${((t=i.indent)!==null&&t!==void 0?t:0)+2}rem`};return(0,He.jsx)("p",{className:(0,Ir.default)("line",e),style:r,"data-line-number":i.enumerator,children:(0,He.jsx)(ge,{ast:i.children})})},break({className:i}){return(0,He.jsx)("br",{className:i})},inlineMath({node:i,className:e}){return(0,He.jsx)("code",{className:e,children:i.value})},math({node:i,className:e}){return(0,He.jsx)("code",{className:e,children:i.value})},list({node:i,className:e}){return i.ordered?(0,He.jsx)("ol",{start:i.start||void 0,id:i.html_id,className:e,children:(0,He.jsx)(ge,{ast:i.children})}):(0,He.jsx)("ul",{id:i.html_id,className:e,children:(0,He.jsx)(ge,{ast:i.children})})},listItem({node:i,className:e}){return i.checked==null?(0,He.jsx)("li",{className:e,children:(0,He.jsx)(ge,{ast:i.children})}):(0,He.jsxs)("li",{className:(0,Ir.default)("task-list-item",e),children:[(0,He.jsx)("input",{type:"checkbox",className:"task-list-item-checkbox",defaultChecked:i.checked}),(0,He.jsx)(ge,{ast:i.children})]})},container({node:i,className:e}){let t=`fig-${i.kind}`,r=i.width?E8(i.width):void 0,n=r?Object.assign(Object.assign({},i.style),{width:r}):i.style;return(0,He.jsx)("figure",{id:i.html_id||i.identifier||i.key,className:(0,Ir.default)({[t]:!!i.kind,subcontainer:i.subcontainer},i.class,e),style:n,children:(0,He.jsx)(ge,{ast:i.children})})},caption({node:i,className:e}){return(0,He.jsx)("figcaption",{className:(0,Ir.default)("group",e),children:(0,He.jsx)(ge,{ast:i.children})})},legend({node:i,className:e}){return(0,He.jsx)("figcaption",{className:(0,Ir.default)("text-sm",e),children:(0,He.jsx)(ge,{ast:i.children})})},blockquote({node:i,className:e}){return(0,He.jsx)("blockquote",{id:i.html_id,className:e,children:(0,He.jsx)(ge,{ast:i.children})})},thematicBreak(){return(0,He.jsx)("hr",{className:"py-2 my-5 translate-y-2"})},captionNumber({node:i,className:e}){let t=i.html_id||i.identifier||i.key;return(0,He.jsx)(mi,{id:t,kind:i.kind,className:(0,Ir.default)("mr-1 font-semibold text-inherit hover:text-inherit hover:font-semibold",e),children:(0,He.jsx)(ge,{ast:i.children})})},table({node:i,className:e}){var t,r;let n=(t=i.children)===null||t===void 0?void 0:t[0],s=(r=n==null?void 0:n.children)===null||r===void 0?void 0:r.some(l=>l.width!=null&&l.width!==""&&l.width!==0),o=i.width?E8(i.width):void 0,a=o?Object.assign(Object.assign({},i.style),{width:o}):i.style;return(0,He.jsx)("table",{className:(0,Ir.default)(i.class,{"col-widths":s},e),style:a,children:(0,He.jsx)("tbody",{children:(0,He.jsx)(ge,{ast:i.children})})})},tableRow({node:i,className:e}){return(0,He.jsx)("tr",{className:(0,Ir.default)(i.class,e),style:i.style,children:(0,He.jsx)(ge,{ast:i.children})})},tableCell({node:i,className:e}){let t=a=>a===1?void 0:a,r={rowSpan:t(i.rowspan),colSpan:t(i.colspan)},n={"text-left":i.align==="left","text-right":i.align==="right","text-center":i.align==="center"},s=i.width!=null?E8(i.width):void 0,o=s?Object.assign(Object.assign({},i.style),{width:s}):i.style;return i.header?(0,He.jsx)("th",Object.assign({className:(0,Ir.default)(i.class,n,e),style:o},r,{children:(0,He.jsx)(ge,{ast:i.children})})):(0,He.jsx)("td",Object.assign({className:(0,Ir.default)(i.class,n,e),style:o},r,{children:(0,He.jsx)(ge,{ast:i.children})}))},subscript({node:i,className:e}){return(0,He.jsx)("sub",{className:e,children:(0,He.jsx)(ge,{ast:i.children})})},superscript({node:i,className:e}){return(0,He.jsx)("sup",{className:e,children:(0,He.jsx)(ge,{ast:i.children})})},abbreviation({node:i,className:e}){return(0,He.jsx)(q1,{title:i.title,className:(0,Ir.default)(e),children:(0,He.jsx)("abbr",{"aria-label":i.title,className:"hover-text",children:(0,He.jsx)(ge,{ast:i.children})})})},mystComment(){return null},comment(){return null},definitionList({node:i,className:e}){return(0,He.jsx)("dl",{className:(0,Ir.default)("my-5",e),id:i.html_id||i.identifier||i.key,children:(0,He.jsx)(ge,{ast:i.children})})},definitionTerm({node:i,className:e}){var t,r;let n=new Set(["text","emphasis"]),s=(r=(t=i.children)===null||t===void 0?void 0:t.reduce((o,a)=>o&&n.has(a.type),!0))!==null&&r!==void 0?r:!1;return(0,He.jsx)("dt",{id:i.html_id||i.identifier||i.key,className:e,children:s?(0,He.jsx)("strong",{children:(0,He.jsx)(ge,{ast:i.children})}):(0,He.jsx)(ge,{ast:i.children})})},definitionDescription({node:i,className:e}){return(0,He.jsx)("dd",{className:e,children:(0,He.jsx)(ge,{ast:i.children})})},keyboard({node:i,className:e}){return(0,He.jsx)("kbd",{className:e,children:(0,He.jsx)(ge,{ast:i.children})})},include({node:i,className:e}){return(0,He.jsx)(ge,{ast:i.children,className:e})},glossary({node:i,className:e}){return(0,He.jsx)("div",{id:i.html_id||i.identifier||i.key,className:(0,Ir.default)(i.class,e),children:(0,He.jsx)(ge,{ast:i.children})})},abbreviationList({node:i,className:e}){return(0,He.jsx)("div",{id:i.html_id||i.identifier||i.key,className:(0,Ir.default)(i.class,e),children:(0,He.jsx)(ge,{ast:i.children})})},root({node:i,className:e}){return(0,He.jsx)(ge,{ast:i.children,className:e})}},PS=ZF;var Gt=N(de(),1);var U1=N(te(),1);function qF({title:i,titleId:e,...t},r){return U1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?U1.createElement("title",{id:e},i):null,U1.createElement("path",{fillRule:"evenodd",d:"M14.615 1.595a.75.75 0 0 1 .359.852L12.982 9.75h7.268a.75.75 0 0 1 .548 1.262l-10.5 11.25a.75.75 0 0 1-1.272-.71l1.992-7.302H3.75a.75.75 0 0 1-.548-1.262l10.5-11.25a.75.75 0 0 1 .913-.143Z",clipRule:"evenodd"}))}var UF=U1.forwardRef(qF),j0=UF;var G1=N(te(),1);function GF({title:i,titleId:e,...t},r){return G1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?G1.createElement("title",{id:e},i):null,G1.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}var XF=G1.forwardRef(GF),ts=XF;var X1=N(te(),1);function KF({title:i,titleId:e,...t},r){return X1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?X1.createElement("title",{id:e},i):null,X1.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}var YF=X1.forwardRef(KF),R8=YF;var K1=N(te(),1);function JF({title:i,titleId:e,...t},r){return K1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?K1.createElement("title",{id:e},i):null,K1.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}var QF=K1.forwardRef(JF),I8=QF;var Y1=N(te(),1);function eW({title:i,titleId:e,...t},r){return Y1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?Y1.createElement("title",{id:e},i):null,Y1.createElement("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z",clipRule:"evenodd"}))}var tW=Y1.forwardRef(eW),k8=tW;var J1=N(te(),1);function iW({title:i,titleId:e,...t},r){return J1.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),i?J1.createElement("title",{id:e},i):null,J1.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}var rW=J1.forwardRef(iW),T8=rW;var Ga=N(Qe(),1);var kt;(function(i){i.admonition="admonition",i.attention="attention",i.caution="caution",i.danger="danger",i.error="error",i.important="important",i.hint="hint",i.note="note",i.seealso="seealso",i.tip="tip",i.warning="warning"})(kt||(kt={}));function nW(i){var e;let t=(e=i==null?void 0:i.split(" ").map(r=>r.trim().toLowerCase()).filter(r=>!!r))!==null&&e!==void 0?e:[];return[...new Set(t)]}function sW({kind:i,classes:e=[]}){return i===kt.note||e.includes("note")?{kind:kt.note,color:"blue"}:i===kt.important||e.includes("important")?{kind:kt.important,color:"blue"}:i===kt.hint||e.includes("hint")?{kind:kt.hint,color:"green"}:i===kt.seealso||e.includes("seealso")?{kind:kt.seealso,color:"green"}:i===kt.tip||e.includes("tip")?{kind:kt.tip,color:"green"}:i===kt.attention||e.includes("attention")?{kind:kt.attention,color:"yellow"}:i===kt.warning||e.includes("warning")?{kind:kt.warning,color:"yellow"}:i===kt.caution||e.includes("caution")?{kind:kt.caution,color:"yellow"}:i===kt.danger||e.includes("danger")?{kind:kt.danger,color:"red"}:i===kt.error||e.includes("error")?{kind:kt.error,color:"red"}:{kind:kt.note,color:"blue"}}var jS="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none";function oW({kind:i,className:e}){let r={width:"2rem",height:"2rem",className:(0,Ga.default)(jS,e)};return i===kt.note?(0,Gt.jsx)(E1,Object.assign({},r)):i===kt.caution?(0,Gt.jsx)(uo,Object.assign({},r)):i===kt.warning?(0,Gt.jsx)(I8,Object.assign({},r)):i===kt.danger?(0,Gt.jsx)(R8,Object.assign({},r)):i===kt.error?(0,Gt.jsx)(T8,Object.assign({},r)):i===kt.attention?(0,Gt.jsx)(r8,Object.assign({},r)):i===kt.tip?(0,Gt.jsx)(k0,Object.assign({},r)):i===kt.hint?(0,Gt.jsx)(t8,Object.assign({},r)):i===kt.important?(0,Gt.jsx)(j0,Object.assign({},r)):i===kt.seealso?(0,Gt.jsx)(Wg,Object.assign({},r)):(0,Gt.jsx)(E1,Object.assign({},r))}var aW=({node:i,className:e})=>(0,Gt.jsx)(ge,{ast:i.children,className:e}),lW=({dropdown:i,className:e,children:t,open:r})=>i?(0,Gt.jsx)("details",{className:e,open:r,children:t}):(0,Gt.jsx)("aside",{className:e,children:t}),cW=({dropdown:i,className:e,children:t})=>i?(0,Gt.jsx)("summary",{className:e,children:t}):(0,Gt.jsx)("div",{className:e,children:t});function $S({title:i,kind:e,color:t,simple:r,dropdown:n,children:s,hideIcon:o,className:a,open:l}){return(0,Gt.jsxs)(lW,{dropdown:n,open:l,className:(0,Ga.default)(`myst-admonition myst-admonition-${e} my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900`,"bg-gray-50/10 dark:bg-stone-800","overflow-hidden",{"myst-admonition-default rounded border-l-4":!r,"myst-admonition-simple border-l-2":r,"border-blue-500":!t||t==="blue","border-green-600":t==="green","border-amber-600":t==="yellow","border-red-600":t==="red"},a),children:[i&&(0,Gt.jsxs)(cW,{dropdown:n,className:(0,Ga.default)("myst-admonition-header m-0 font-medium py-1 flex min-w-0",{"text-lg":!r,"text-md":r,"bg-gray-100 dark:bg-stone-700":r,"text-blue-600 bg-blue-50 dark:bg-slate-900":!r&&(!t||t==="blue"),"text-green-600 bg-green-50 dark:bg-slate-900":!r&&t==="green","text-amber-600 bg-amber-50 dark:bg-slate-900":!r&&t==="yellow","text-red-600 bg-red-50 dark:bg-slate-900":!r&&t==="red","cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]":n}),children:[!o&&(0,Gt.jsx)(oW,{kind:e!=null?e:kt.note,className:(0,Ga.default)({"text-blue-600":!t||t==="blue","text-green-600":t==="green","text-amber-600":t==="yellow","text-red-600":t==="red"})}),(0,Gt.jsx)("div",{className:(0,Ga.default)("myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words",{"ml-4":o}),children:i}),n&&(0,Gt.jsx)("div",{className:"self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200",children:(0,Gt.jsx)(ts,{width:"2rem",height:"2rem",className:(0,Ga.default)(jS,"transition-transform details-toggle")})})]}),(0,Gt.jsx)("div",{className:(0,Ga.default)("myst-admonition-body px-4",{"py-1":!r,"details-body":n}),children:s})]})}var dW=({node:i,className:e})=>{let[t,...r]=i.children,n=nW(i.class),{kind:s,color:o}=sW({kind:i.kind,classes:n}),a=n.includes("dropdown"),l=n.includes("simple"),c=i.icon===!1,u=i.open===!0,d=(t==null?void 0:t.type)==="admonitionTitle";return(0,Gt.jsx)($S,{title:d?(0,Gt.jsx)(ge,{ast:[t]}):void 0,kind:s,color:o,dropdown:a,open:u,simple:l,hideIcon:c,className:(0,Ga.default)(n,e),children:d?(0,Gt.jsx)(ge,{ast:r}):(0,Gt.jsx)(ge,{ast:i.children})})},uW={admonition:dW,admonitionTitle:aW},VS=uW;var Bs=N(de(),1);var $0=N(Qe(),1);var hW="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px]",fW=({node:i,className:e})=>(0,Bs.jsx)(ge,{ast:i.children,className:e});function ea({title:i,children:e,open:t,className:r}){return(0,Bs.jsxs)("details",{className:(0,$0.default)("myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden","bg-gray-50 dark:bg-stone-800",r),open:t,children:[(0,Bs.jsx)("summary",{className:(0,$0.default)("myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3","cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]","bg-gray-100 dark:bg-slate-900"),children:(0,Bs.jsxs)("span",{className:"myst-dropdown-header-title text-neutral-900 dark:text-white",children:[(0,Bs.jsx)("span",{className:"block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200",children:(0,Bs.jsx)(ts,{width:"1.5rem",height:"1.5rem",className:(0,$0.default)(hW,"details-toggle","transition-transform")})}),i]})}),(0,Bs.jsx)("div",{className:"myst-dropdown-body px-4 py-1 details-body",children:e})]})}var mW=({node:i,className:e})=>{let[t,...r]=i.children;return(0,Bs.jsx)(ea,{title:(0,Bs.jsx)(ge,{ast:[t]}),open:i.open,className:(0,$0.default)(i.class,e),children:(0,Bs.jsx)(ge,{ast:r})})},pW={details:mW,summary:fW},FS=pW;var V0=N(de(),1);var WS=N(Qe(),1);function ZS({node:i,className:e}){var t,r,n;let s=(0,WS.default)(e,i.class,{[(t=i.data)===null||t===void 0?void 0:t.class]:typeof((r=i.data)===null||r===void 0?void 0:r.class)=="string"});if(i.visibility==="remove")return null;let o=(n=i.html_id)!==null&&n!==void 0?n:i.identifier,a=s||o?(0,V0.jsx)("div",{id:o,className:s,children:(0,V0.jsx)(ge,{ast:i.children})}):(0,V0.jsx)(ge,{ast:i.children});return i.visibility==="hide"?(0,V0.jsx)(ea,{title:"Block",children:a}):a}var gW={block:ZS},qS=gW;var rr=N(de(),1),Q1=N(Qe(),1);var vW=({node:i,className:e})=>(0,rr.jsx)("header",{className:(0,Q1.default)("myst-card-header py-1 pl-3 m-0 border-b border-gray-100 bg-gray-50 dark:bg-slate-900 dark:border-gray-800",e),children:(0,rr.jsx)(ge,{ast:i.children})}),_W=({node:i,className:e})=>(0,rr.jsx)("footer",{className:(0,Q1.default)("myst-card-footer py-1 pl-3 m-0 border-t border-gray-100 bg-gray-50 dark:bg-slate-900 dark:border-gray-800",e),children:(0,rr.jsx)(ge,{ast:i.children})}),bW=({node:i,className:e})=>(0,rr.jsx)("div",{className:(0,Q1.default)("myst-card-title pt-3 font-bold group-hover:underline",e),children:(0,rr.jsx)(ge,{ast:i.children})});function CW(i){var e,t;let r={};if(!Array.isArray(i))return r;let n=[...i];return((e=n[0])===null||e===void 0?void 0:e.type)==="header"&&(r.header=n.splice(0,1)),((t=n[n.length-1])===null||t===void 0?void 0:t.type)==="footer"&&(r.footer=n.splice(-1,1)),r.body=n,r}function xW({to:i,className:e,isStatic:t,prefetch:r="intent",children:n}){let s=Os(),o=nn();return i.startsWith("http")||t?(0,rr.jsx)("a",{href:i,className:e,target:"_blank",rel:"noopener noreferrer",children:n}):(0,rr.jsx)(s,{to:pr(i,o),className:e,prefetch:r,children:n})}var wW=({node:i,className:e})=>{let t=CW(i.children),r=i.url,n=i.static||!1,s=!!r,o="myst-card my-5 rounded shadow dark:shadow-neutral-800 overflow-hidden border border-gray-100 dark:border-gray-800 flex flex-col";return s?(0,rr.jsxs)(xW,{to:r,isStatic:n,className:(0,Q1.default)(o,"text-inherit hover:text-inherit","block font-normal no-underline hover:no-underline cursor-pointer group","hover:border-blue-500 dark:hover:border-blue-400",e),children:[(0,rr.jsx)(ge,{ast:t.header}),(0,rr.jsx)("div",{className:"myst-card-body flex-grow px-4 py-2",children:(0,rr.jsx)(ge,{ast:t.body})}),(0,rr.jsx)(ge,{ast:t.footer})]}):(0,rr.jsxs)("div",{className:(0,Q1.default)(o,e),children:[(0,rr.jsx)(ge,{ast:t.header}),(0,rr.jsx)("div",{className:"myst-card-body flex-grow px-4 py-2",children:(0,rr.jsx)(ge,{ast:t.body})}),(0,rr.jsx)(ge,{ast:t.footer})]})},yW={card:wW,cardTitle:bW,header:vW,footer:_W},US=yW;var C9=N(de(),1),A8=N(Qe(),1);var eh={main:["grid-cols-1","grid-cols-2","grid-cols-3","grid-cols-4","grid-cols-5","grid-cols-6","grid-cols-7","grid-cols-8","grid-cols-9","grid-cols-10","grid-cols-11","grid-cols-12"],sm:["sm:grid-cols-1","sm:grid-cols-2","sm:grid-cols-3","sm:grid-cols-4","sm:grid-cols-5","sm:grid-cols-6","sm:grid-cols-7","sm:grid-cols-8","sm:grid-cols-9","sm:grid-cols-10","sm:grid-cols-11","sm:grid-cols-12"],md:["md:grid-cols-1","md:grid-cols-2","md:grid-cols-3","md:grid-cols-4","md:grid-cols-5","md:grid-cols-6","md:grid-cols-7","md:grid-cols-8","md:grid-cols-9","md:grid-cols-10","md:grid-cols-11","md:grid-cols-12"],lg:["lg:grid-cols-1","lg:grid-cols-2","lg:grid-cols-3","lg:grid-cols-4","lg:grid-cols-5","lg:grid-cols-6","lg:grid-cols-7","lg:grid-cols-8","lg:grid-cols-9","lg:grid-cols-10","lg:grid-cols-11","lg:grid-cols-12"],xl:["xl:grid-cols-1","xl:grid-cols-2","xl:grid-cols-3","xl:grid-cols-4","xl:grid-cols-5","xl:grid-cols-6","xl:grid-cols-7","xl:grid-cols-8","xl:grid-cols-9","xl:grid-cols-10","xl:grid-cols-11","xl:grid-cols-12"]},GS=3;function bd(i,e){var t;let r=Number(e);return!e||Number.isNaN(r)?bd(i,GS):(t=i[r-1])!==null&&t!==void 0?t:i[GS]}function MW(i){return!i||i.length<=1?bd(eh.main,i==null?void 0:i[0]):i.length!==4?bd(eh.main,i[0]):[bd(eh.main,i[0]),bd(eh.md,i[1]),bd(eh.lg,i[2]),bd(eh.xl,i[3])].join(" ")}function LW({columns:i,children:e,className:t}){let r=MW(i);return(0,C9.jsx)("div",{className:(0,A8.default)("myst-grid grid my-5",r,"gap-4",t),children:e})}var SW=({node:i,className:e})=>(0,C9.jsx)(LW,{columns:i.columns,className:(0,A8.default)(e,i.class),children:(0,C9.jsx)(ge,{ast:i.children})}),EW={grid:SW},XS=EW;var Gi=N(de(),1),F0=N(Qe(),1);var x9=N(de(),1);var KS=N(Qe(),1);function go({value:i,message:e,className:t}){return(0,x9.jsxs)("span",{className:(0,KS.default)("text-yellow-600",t),title:e||i,children:[(0,x9.jsx)(uo,{width:"1rem",height:"1rem",className:"inline mr-1"}),i]})}var YS=N(te(),1);function RW(){var i;let e=ja();return!!(!((i=e==null?void 0:e.options)===null||i===void 0)&&i.numbered_references)}function IW({html:i}){return(0,Gi.jsx)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] p-3",dangerouslySetInnerHTML:{__html:i||""}})}var kW=({node:i,className:e})=>{var t,r;let n=(r=(t=i.children)===null||t===void 0?void 0:t.every(s=>s.type==="cite"))!==null&&r!==void 0?r:!1;return(0,Gi.jsx)("span",{className:(0,F0.default)({"cite-group":n,"xref-group":!n,narrative:i.kind==="narrative",parenthetical:i.kind==="parenthetical"},e),children:(0,Gi.jsx)(ge,{ast:i.children})})},TW=({label:i,error:e,children:t,className:r})=>{var n,s;let o=co();if(!i)return(0,Gi.jsx)(go,{value:"cite (no label)",message:"Citation Has No Label",className:r});let{html:a,doi:l,url:c}=(s=(n=o==null?void 0:o.cite)===null||n===void 0?void 0:n.data[i])!==null&&s!==void 0?s:{};if(e)return(0,Gi.jsx)(go,{value:i,message:"Citation Not Found",className:r});let u=l?Xy.buildUrl(l):c,d=(r!=null?r:"").split(" ").includes("button");return(0,Gi.jsx)(vr,{openDelay:300,card:(0,Gi.jsx)(IW,{html:a}),children:(0,Gi.jsxs)("cite",{className:r,children:[u&&(0,Gi.jsx)("a",{href:u,target:"_blank",rel:"noreferrer",className:(0,F0.default)({"hover-link":!d}),children:t}),!u&&(0,Gi.jsx)("span",{className:"hover-link",children:t})]})})},AW=({node:i,className:e})=>{let t=RW();return(0,Gi.jsx)(TW,{label:i.label,error:i.error,className:(0,F0.default)(e,i.class),children:t&&i.kind==="parenthetical"?i.enumerator:(0,Gi.jsx)(ge,{ast:i.children})})},NW=15,OW=({node:i,className:e})=>{var t;let r=co(),{order:n,data:s}=(t=r==null?void 0:r.cite)!==null&&t!==void 0?t:{},o=n==null?void 0:n.filter(d=>d),[a,l]=(0,YS.useState)(!0),c=NW;if(!o||!s||o.length===0)return null;let u=a&&c?o.slice(0,c):o;return(0,Gi.jsxs)("div",{className:(0,F0.default)("myst-bibliography",e,i.class),children:[!!c&&o.length>c&&(0,Gi.jsx)("button",{onClick:()=>l(!a),className:"myst-bibliography-toggle float-right p-1 px-2 text-xs border rounded hover:border-blue-500 dark:hover:border-blue-400",children:a?"Show All":"Collapse"}),(0,Gi.jsx)("div",{className:"myst-bibliography-list pl-3 mb-8 text-xs text-stone-500 dark:text-stone-300",children:(0,Gi.jsxs)("ol",{children:[u.map(d=>{let{html:f}=s[d];return(0,Gi.jsx)("li",{className:"myst-bibliography-item break-words",id:`cite-${d}`,dangerouslySetInnerHTML:{__html:f||""}},d)}),!!c&&o.length>c&&(0,Gi.jsx)("li",{className:"text-center list-none",children:(0,Gi.jsx)("button",{onClick:()=>l(!a),className:"myst-bibliography-toggle p-2 border rounded hover:border-blue-500 dark:hover:border-blue-400",children:a?`Show all ${o.length} references`:"Collapse references"})})]})})]})},DW={citeGroup:kW,cite:AW,bibliography:OW},JS=DW;var ta=N(de(),1);function HW({identifier:i}){var e,t;let r=co(),n=(t=(e=r==null?void 0:r.footnotes)===null||e===void 0?void 0:e[i])!==null&&t!==void 0?t:Gy(`footnoteDefinition[identifier=${i}]`,r==null?void 0:r.article);return(0,ta.jsx)(Zp,{children:(0,ta.jsx)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] px-3 text-sm",children:(0,ta.jsx)(ge,{ast:n==null?void 0:n.children})})})}var zW=({node:i,className:e})=>{var t,r;return(0,ta.jsx)(vr,{openDelay:0,card:(0,ta.jsx)(HW,{identifier:i.identifier}),children:(0,ta.jsx)("span",{id:`fnref-${i.key}`,className:e,children:(0,ta.jsx)("sup",{className:"hover-link",children:(0,ta.jsxs)(mi,{id:`fn-${i.identifier}`,title:"Link to Footnote",scrollBehavior:"instant",canSelectText:!0,children:["[",(r=(t=i.enumerator)!==null&&t!==void 0?t:i.number)!==null&&r!==void 0?r:i.identifier,"]"]})})})})},BW={footnoteReference:zW,footnoteDefinition:()=>null},QS=BW;var xn=N(de(),1);function eE(i,e){if(i==null)return{};var t={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.indexOf(r)!==-1)continue;t[r]=i[r]}return t}function tE(i,e){if(i==null)return{};var t,r,n=eE(i,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(i,t)&&(n[t]=i[t])}return n}o$();function iE(i){if(Array.isArray(i))return Qy(i)}function rE(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}a$();function nE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sE(i){return iE(i)||rE(i)||eM(i)||nE()}kg();var rc=N(te());rM();kg();var lE=N(te());function oE(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function th(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oE(Object(t),!0).forEach(function(r){Ss(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):oE(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function PW(i){var e=i.length;if(e===0||e===1)return i;if(e===2)return[i[0],i[1],"".concat(i[0],".").concat(i[1]),"".concat(i[1],".").concat(i[0])];if(e===3)return[i[0],i[1],i[2],"".concat(i[0],".").concat(i[1]),"".concat(i[0],".").concat(i[2]),"".concat(i[1],".").concat(i[0]),"".concat(i[1],".").concat(i[2]),"".concat(i[2],".").concat(i[0]),"".concat(i[2],".").concat(i[1]),"".concat(i[0],".").concat(i[1],".").concat(i[2]),"".concat(i[0],".").concat(i[2],".").concat(i[1]),"".concat(i[1],".").concat(i[0],".").concat(i[2]),"".concat(i[1],".").concat(i[2],".").concat(i[0]),"".concat(i[2],".").concat(i[0],".").concat(i[1]),"".concat(i[2],".").concat(i[1],".").concat(i[0])];if(e>=4)return[i[0],i[1],i[2],i[3],"".concat(i[0],".").concat(i[1]),"".concat(i[0],".").concat(i[2]),"".concat(i[0],".").concat(i[3]),"".concat(i[1],".").concat(i[0]),"".concat(i[1],".").concat(i[2]),"".concat(i[1],".").concat(i[3]),"".concat(i[2],".").concat(i[0]),"".concat(i[2],".").concat(i[1]),"".concat(i[2],".").concat(i[3]),"".concat(i[3],".").concat(i[0]),"".concat(i[3],".").concat(i[1]),"".concat(i[3],".").concat(i[2]),"".concat(i[0],".").concat(i[1],".").concat(i[2]),"".concat(i[0],".").concat(i[1],".").concat(i[3]),"".concat(i[0],".").concat(i[2],".").concat(i[1]),"".concat(i[0],".").concat(i[2],".").concat(i[3]),"".concat(i[0],".").concat(i[3],".").concat(i[1]),"".concat(i[0],".").concat(i[3],".").concat(i[2]),"".concat(i[1],".").concat(i[0],".").concat(i[2]),"".concat(i[1],".").concat(i[0],".").concat(i[3]),"".concat(i[1],".").concat(i[2],".").concat(i[0]),"".concat(i[1],".").concat(i[2],".").concat(i[3]),"".concat(i[1],".").concat(i[3],".").concat(i[0]),"".concat(i[1],".").concat(i[3],".").concat(i[2]),"".concat(i[2],".").concat(i[0],".").concat(i[1]),"".concat(i[2],".").concat(i[0],".").concat(i[3]),"".concat(i[2],".").concat(i[1],".").concat(i[0]),"".concat(i[2],".").concat(i[1],".").concat(i[3]),"".concat(i[2],".").concat(i[3],".").concat(i[0]),"".concat(i[2],".").concat(i[3],".").concat(i[1]),"".concat(i[3],".").concat(i[0],".").concat(i[1]),"".concat(i[3],".").concat(i[0],".").concat(i[2]),"".concat(i[3],".").concat(i[1],".").concat(i[0]),"".concat(i[3],".").concat(i[1],".").concat(i[2]),"".concat(i[3],".").concat(i[2],".").concat(i[0]),"".concat(i[3],".").concat(i[2],".").concat(i[1]),"".concat(i[0],".").concat(i[1],".").concat(i[2],".").concat(i[3]),"".concat(i[0],".").concat(i[1],".").concat(i[3],".").concat(i[2]),"".concat(i[0],".").concat(i[2],".").concat(i[1],".").concat(i[3]),"".concat(i[0],".").concat(i[2],".").concat(i[3],".").concat(i[1]),"".concat(i[0],".").concat(i[3],".").concat(i[1],".").concat(i[2]),"".concat(i[0],".").concat(i[3],".").concat(i[2],".").concat(i[1]),"".concat(i[1],".").concat(i[0],".").concat(i[2],".").concat(i[3]),"".concat(i[1],".").concat(i[0],".").concat(i[3],".").concat(i[2]),"".concat(i[1],".").concat(i[2],".").concat(i[0],".").concat(i[3]),"".concat(i[1],".").concat(i[2],".").concat(i[3],".").concat(i[0]),"".concat(i[1],".").concat(i[3],".").concat(i[0],".").concat(i[2]),"".concat(i[1],".").concat(i[3],".").concat(i[2],".").concat(i[0]),"".concat(i[2],".").concat(i[0],".").concat(i[1],".").concat(i[3]),"".concat(i[2],".").concat(i[0],".").concat(i[3],".").concat(i[1]),"".concat(i[2],".").concat(i[1],".").concat(i[0],".").concat(i[3]),"".concat(i[2],".").concat(i[1],".").concat(i[3],".").concat(i[0]),"".concat(i[2],".").concat(i[3],".").concat(i[0],".").concat(i[1]),"".concat(i[2],".").concat(i[3],".").concat(i[1],".").concat(i[0]),"".concat(i[3],".").concat(i[0],".").concat(i[1],".").concat(i[2]),"".concat(i[3],".").concat(i[0],".").concat(i[2],".").concat(i[1]),"".concat(i[3],".").concat(i[1],".").concat(i[0],".").concat(i[2]),"".concat(i[3],".").concat(i[1],".").concat(i[2],".").concat(i[0]),"".concat(i[3],".").concat(i[2],".").concat(i[0],".").concat(i[1]),"".concat(i[3],".").concat(i[2],".").concat(i[1],".").concat(i[0])]}var N8={};function jW(i){if(i.length===0||i.length===1)return i;var e=i.join(".");return N8[e]||(N8[e]=PW(i)),N8[e]}function $W(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,r=i.filter(function(s){return s!=="token"}),n=jW(r);return n.reduce(function(s,o){return th(th({},s),t[o])},e)}function aE(i){return i.join(" ")}function VW(i,e){var t=0;return function(r){return t+=1,r.map(function(n,s){return w9({node:n,stylesheet:i,useInlineStyles:e,key:"code-segment-".concat(t,"-").concat(s)})})}}function w9(i){var e=i.node,t=i.stylesheet,r=i.style,n=r===void 0?{}:r,s=i.useInlineStyles,o=i.key,a=e.properties,l=e.type,c=e.tagName,u=e.value;if(l==="text")return u;if(c){var d=VW(t,s),f;if(!s)f=th(th({},a),{},{className:aE(a.className)});else{var h=Object.keys(t).reduce(function(x,C){return C.split(".").forEach(function(y){x.includes(y)||x.push(y)}),x},[]),m=a.className&&a.className.includes("token")?["token"]:[],p=a.className&&m.concat(a.className.filter(function(x){return!h.includes(x)}));f=th(th({},a),{},{className:aE(p)||void 0,style:$W(a.className,Object.assign({},a.style,n),t)})}var v=d(e.children);return lE.default.createElement(c,Ep({key:o},f),v)}}var y9=function(i,e){var t=i.listLanguages();return t.indexOf(e)!==-1};var FW=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function cE(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function ia(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cE(Object(t),!0).forEach(function(r){Ss(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):cE(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var WW=/\n/g;function ZW(i){return i.match(WW)}function qW(i){var e=i.lines,t=i.startingLineNumber,r=i.style;return e.map(function(n,s){var o=s+t;return rc.default.createElement("span",{key:"line-".concat(s),className:"react-syntax-highlighter-line-number",style:typeof r=="function"?r(o):r},"".concat(o,`
`))})}function UW(i){var e=i.codeString,t=i.codeStyle,r=i.containerStyle,n=r===void 0?{float:"left",paddingRight:"10px"}:r,s=i.numberStyle,o=s===void 0?{}:s,a=i.startingLineNumber;return rc.default.createElement("code",{style:Object.assign({},t,n)},qW({lines:e.replace(/\n$/,"").split(`
`),style:o,startingLineNumber:a}))}function GW(i){return"".concat(i.toString().length,".25em")}function dE(i,e){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(i),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:e},children:[{type:"text",value:i}]}}function uE(i,e,t){var r={display:"inline-block",minWidth:GW(t),paddingRight:"1em",textAlign:"right",userSelect:"none"},n=typeof i=="function"?i(e):i,s=ia(ia({},r),n);return s}function M9(i){var e=i.children,t=i.lineNumber,r=i.lineNumberStyle,n=i.largestLineNumber,s=i.showInlineLineNumbers,o=i.lineProps,a=o===void 0?{}:o,l=i.className,c=l===void 0?[]:l,u=i.showLineNumbers,d=i.wrapLongLines,f=typeof a=="function"?a(t):a;if(f.className=c,t&&s){var h=uE(r,t,n);e.unshift(dE(t,h))}return d&u&&(f.style=ia(ia({},f.style),{},{display:"flex"})),{type:"element",tagName:"span",properties:f,children:e}}function hE(i){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=0;r<i.length;r++){var n=i[r];if(n.type==="text")t.push(M9({children:[n],className:sE(new Set(e))}));else if(n.children){var s=e.concat(n.properties.className);hE(n.children,s).forEach(function(o){return t.push(o)})}}return t}function XW(i,e,t,r,n,s,o,a,l){var c,u=hE(i.value),d=[],f=-1,h=0;function m(M,_){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return M9({children:M,lineNumber:_,lineNumberStyle:a,largestLineNumber:o,showInlineLineNumbers:n,lineProps:t,className:E,showLineNumbers:r,wrapLongLines:l})}function p(M,_){if(r&&_&&n){var E=uE(a,_,o);M.unshift(dE(_,E))}return M}function v(M,_){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return e||E.length>0?m(M,_,E):p(M,_)}for(var x=function(){var _=u[h],E=_.children[0].value,R=ZW(E);if(R){var A=E.split(`
`);A.forEach(function(H,$){var X=r&&d.length+s,ue={type:"text",value:"".concat(H,`
`)};if($===0){var he=u.slice(f+1,h).concat(M9({children:[ue],className:_.properties.className})),Y=v(he,X);d.push(Y)}else if($===A.length-1){var ee=u[h+1]&&u[h+1].children&&u[h+1].children[0],ie={type:"text",value:"".concat(H)};if(ee){var pe=M9({children:[ie],className:_.properties.className});u.splice(h+1,0,pe)}else{var we=[ie],Ve=v(we,X,_.properties.className);d.push(Ve)}}else{var lt=[ue],gt=v(lt,X,_.properties.className);d.push(gt)}}),f=h}h++};h<u.length;)x();if(f!==u.length-1){var C=u.slice(f+1,u.length);if(C&&C.length){var y=r&&d.length+s,S=v(C,y);d.push(S)}}return e?d:(c=[]).concat.apply(c,d)}function KW(i){var e=i.rows,t=i.stylesheet,r=i.useInlineStyles;return e.map(function(n,s){return w9({node:n,stylesheet:t,useInlineStyles:r,key:"code-segement".concat(s)})})}function fE(i){return i&&typeof i.highlightAuto<"u"}function YW(i){var e=i.astGenerator,t=i.language,r=i.code,n=i.defaultCodeValue;if(fE(e)){var s=y9(e,t);return t==="text"?{value:n,language:"text"}:s?e.highlight(t,r):e.highlightAuto(r)}try{return t&&t!=="text"?{value:e.highlight(r,t)}:{value:n}}catch{return{value:n}}}function mE(i,e){return function(r){var n=r.language,s=r.children,o=r.style,a=o===void 0?e:o,l=r.customStyle,c=l===void 0?{}:l,u=r.codeTagProps,d=u===void 0?{className:n?"language-".concat(n):void 0,style:ia(ia({},a['code[class*="language-"]']),a['code[class*="language-'.concat(n,'"]')])}:u,f=r.useInlineStyles,h=f===void 0?!0:f,m=r.showLineNumbers,p=m===void 0?!1:m,v=r.showInlineLineNumbers,x=v===void 0?!0:v,C=r.startingLineNumber,y=C===void 0?1:C,S=r.lineNumberContainerStyle,M=r.lineNumberStyle,_=M===void 0?{}:M,E=r.wrapLines,R=r.wrapLongLines,A=R===void 0?!1:R,H=r.lineProps,$=H===void 0?{}:H,X=r.renderer,ue=r.PreTag,he=ue===void 0?"pre":ue,Y=r.CodeTag,ee=Y===void 0?"code":Y,ie=r.code,pe=ie===void 0?(Array.isArray(s)?s[0]:s)||"":ie,we=r.astGenerator,Ve=tE(r,FW);we=we||i;var lt=p?rc.default.createElement(UW,{containerStyle:S,codeStyle:d.style||{},numberStyle:_,startingLineNumber:y,codeString:pe}):null,gt=a.hljs||a['pre[class*="language-"]']||{backgroundColor:"#fff"},De=fE(we)?"hljs":"prismjs",rt=h?Object.assign({},Ve,{style:Object.assign({},gt,c)}):Object.assign({},Ve,{className:Ve.className?"".concat(De," ").concat(Ve.className):De,style:Object.assign({},c)});if(A?d.style=ia(ia({},d.style),{},{whiteSpace:"pre-wrap"}):d.style=ia(ia({},d.style),{},{whiteSpace:"pre"}),!we)return rc.default.createElement(he,rt,lt,rc.default.createElement(ee,d,pe));(E===void 0&&X||A)&&(E=!0),X=X||KW;var Jt=[{type:"text",value:pe}],Ke=YW({astGenerator:we,language:n,code:pe,defaultCodeValue:Jt});Ke.language===null&&(Ke.value=Jt);var Ye=Ke.value.length+y,fi=XW(Ke,E,$,p,x,y,Ye,_,A);return rc.default.createElement(he,rt,rc.default.createElement(ee,d,!x&&lt,X({rows:fi,stylesheet:a,useInlineStyles:h})))}}function pE(i,e,t,r,n,s,o){try{var a=i[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,n)}function L9(i){return function(){var e=this,t=arguments;return new Promise(function(r,n){var s=i.apply(e,t);function o(l){pE(s,r,n,o,a,"next",l)}function a(l){pE(s,r,n,o,a,"throw",l)}o(void 0)})}}rM();function gE(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}c$();function vE(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,iM(r.key),r)}}function _E(i,e,t){return e&&vE(i.prototype,e),t&&vE(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function S9(i,e){return S9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},S9(i,e)}function bE(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&S9(i,e)}l$();function CE(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function xE(i,e){if(e&&(tM(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CE(i)}function W0(i){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},W0(i)}kg();var W8=N(F8()),Z8=N(te());function mZ(i){var e=pZ();return function(){var r=W0(i),n;if(e){var s=W0(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return xE(this,n)}}function pZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var kE=function(i){var e=i.loader,t=i.isLanguageRegistered,r=i.registerLanguage,n=i.languageLoaders,s=i.noAsyncLoadingLanguages,o=function(a){bE(c,a);var l=mZ(c);function c(){return gE(this,c),l.apply(this,arguments)}return _E(c,[{key:"componentDidUpdate",value:function(){!c.isRegistered(this.props.language)&&n&&this.loadLanguage()}},{key:"componentDidMount",value:function(){var d=this;c.astGeneratorPromise||c.loadAstGenerator(),c.astGenerator||c.astGeneratorPromise.then(function(){d.forceUpdate()}),!c.isRegistered(this.props.language)&&n&&this.loadLanguage()}},{key:"loadLanguage",value:function(){var d=this,f=this.props.language;f!=="text"&&c.loadLanguage(f).then(function(){return d.forceUpdate()}).catch(function(){})}},{key:"normalizeLanguage",value:function(d){return c.isSupportedLanguage(d)?d:"text"}},{key:"render",value:function(){return Z8.default.createElement(c.highlightInstance,Ep({},this.props,{language:this.normalizeLanguage(this.props.language),astGenerator:c.astGenerator}))}}],[{key:"preload",value:function(){return c.loadAstGenerator()}},{key:"loadLanguage",value:function(){var u=L9(W8.default.mark(function f(h){var m;return W8.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(m=n[h],typeof m!="function"){v.next=5;break}return v.abrupt("return",m(c.registerLanguage));case 5:throw new Error("Language ".concat(h," not supported"));case 6:case"end":return v.stop()}},f)}));function d(f){return u.apply(this,arguments)}return d}()},{key:"isSupportedLanguage",value:function(d){return c.isRegistered(d)||typeof n[d]=="function"}},{key:"loadAstGenerator",value:function(){return c.astGeneratorPromise=e().then(function(d){c.astGenerator=d,r&&c.languages.forEach(function(f,h){return r(d,h,f)})}),c.astGeneratorPromise}}]),c}(Z8.default.PureComponent);return Ss(o,"astGenerator",null),Ss(o,"highlightInstance",mE(null,{})),Ss(o,"astGeneratorPromise",null),Ss(o,"languages",new Map),Ss(o,"supportedLanguages",i.supportedLanguages||Object.keys(n||{})),Ss(o,"isRegistered",function(a){if(s)return!0;if(!r)throw new Error("Current syntax highlighter doesn't support registration of languages");return o.astGenerator?t(o.astGenerator,a):o.languages.has(a)}),Ss(o,"registerLanguage",function(a,l){if(!r)throw new Error("Current syntax highlighter doesn't support registration of languages");if(o.astGenerator)return r(o.astGenerator,a,l);o.languages.set(a,l)}),o};var q8=N(F8()),K=function(i,e){return function(){var t=L9(q8.default.mark(function r(n){var s;return q8.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e();case 2:s=a.sent,n(i,s.default||s);case 4:case"end":return a.stop()}},r)}));return function(r){return t.apply(this,arguments)}}()};var TE={oneC:K("oneC",function(){return import("/myst_assets_folder/_shared/1c-F2UGQXXO.js")}),abnf:K("abnf",function(){return import("/myst_assets_folder/_shared/abnf-C7FZREB7.js")}),accesslog:K("accesslog",function(){return import("/myst_assets_folder/_shared/accesslog-24665KT7.js")}),actionscript:K("actionscript",function(){return import("/myst_assets_folder/_shared/actionscript-XWY753HR.js")}),ada:K("ada",function(){return import("/myst_assets_folder/_shared/ada-AJ2YWWHW.js")}),angelscript:K("angelscript",function(){return import("/myst_assets_folder/_shared/angelscript-X3F5DTJS.js")}),apache:K("apache",function(){return import("/myst_assets_folder/_shared/apache-Q7NGZMNH.js")}),applescript:K("applescript",function(){return import("/myst_assets_folder/_shared/applescript-PWRRJBMF.js")}),arcade:K("arcade",function(){return import("/myst_assets_folder/_shared/arcade-75OOVXVV.js")}),arduino:K("arduino",function(){return import("/myst_assets_folder/_shared/arduino-2KNPIRKZ.js")}),armasm:K("armasm",function(){return import("/myst_assets_folder/_shared/armasm-F4ZQKLTT.js")}),asciidoc:K("asciidoc",function(){return import("/myst_assets_folder/_shared/asciidoc-MOHQMFQQ.js")}),aspectj:K("aspectj",function(){return import("/myst_assets_folder/_shared/aspectj-6IUL36MF.js")}),autohotkey:K("autohotkey",function(){return import("/myst_assets_folder/_shared/autohotkey-AWXUS5OS.js")}),autoit:K("autoit",function(){return import("/myst_assets_folder/_shared/autoit-22VHHLMX.js")}),avrasm:K("avrasm",function(){return import("/myst_assets_folder/_shared/avrasm-52ANMWJX.js")}),awk:K("awk",function(){return import("/myst_assets_folder/_shared/awk-D56OFTBM.js")}),axapta:K("axapta",function(){return import("/myst_assets_folder/_shared/axapta-S5AYD5NK.js")}),bash:K("bash",function(){return import("/myst_assets_folder/_shared/bash-G5VR5642.js")}),basic:K("basic",function(){return import("/myst_assets_folder/_shared/basic-RFD4FF33.js")}),bnf:K("bnf",function(){return import("/myst_assets_folder/_shared/bnf-ETWB3Q7P.js")}),brainfuck:K("brainfuck",function(){return import("/myst_assets_folder/_shared/brainfuck-4TGC4DRO.js")}),cLike:K("cLike",function(){return import("/myst_assets_folder/_shared/c-like-R5UC5PF7.js")}),c:K("c",function(){return import("/myst_assets_folder/_shared/c-VIKOOS7T.js")}),cal:K("cal",function(){return import("/myst_assets_folder/_shared/cal-Y5P7K5Z2.js")}),capnproto:K("capnproto",function(){return import("/myst_assets_folder/_shared/capnproto-LTSEHCOQ.js")}),ceylon:K("ceylon",function(){return import("/myst_assets_folder/_shared/ceylon-HS6RX4UJ.js")}),clean:K("clean",function(){return import("/myst_assets_folder/_shared/clean-HRWPNMWG.js")}),clojureRepl:K("clojureRepl",function(){return import("/myst_assets_folder/_shared/clojure-repl-GKJM4SYX.js")}),clojure:K("clojure",function(){return import("/myst_assets_folder/_shared/clojure-HUMELG2R.js")}),cmake:K("cmake",function(){return import("/myst_assets_folder/_shared/cmake-EKTFZ2Z3.js")}),coffeescript:K("coffeescript",function(){return import("/myst_assets_folder/_shared/coffeescript-7CCD5W3T.js")}),coq:K("coq",function(){return import("/myst_assets_folder/_shared/coq-SSGIA7RB.js")}),cos:K("cos",function(){return import("/myst_assets_folder/_shared/cos-4VZPZSIX.js")}),cpp:K("cpp",function(){return import("/myst_assets_folder/_shared/cpp-M7NHFIF2.js")}),crmsh:K("crmsh",function(){return import("/myst_assets_folder/_shared/crmsh-EGD5WRXP.js")}),crystal:K("crystal",function(){return import("/myst_assets_folder/_shared/crystal-JBMAHLA2.js")}),csharp:K("csharp",function(){return import("/myst_assets_folder/_shared/csharp-QTRTOJNW.js")}),csp:K("csp",function(){return import("/myst_assets_folder/_shared/csp-BVQUKV6P.js")}),css:K("css",function(){return import("/myst_assets_folder/_shared/css-CWKPTREB.js")}),d:K("d",function(){return import("/myst_assets_folder/_shared/d-UUCVJBWM.js")}),dart:K("dart",function(){return import("/myst_assets_folder/_shared/dart-DHXFTNLQ.js")}),delphi:K("delphi",function(){return import("/myst_assets_folder/_shared/delphi-CHKHQQWU.js")}),diff:K("diff",function(){return import("/myst_assets_folder/_shared/diff-JVKP7ONN.js")}),django:K("django",function(){return import("/myst_assets_folder/_shared/django-5ARH5JVU.js")}),dns:K("dns",function(){return import("/myst_assets_folder/_shared/dns-OIVDBLA6.js")}),dockerfile:K("dockerfile",function(){return import("/myst_assets_folder/_shared/dockerfile-AB75PONM.js")}),dos:K("dos",function(){return import("/myst_assets_folder/_shared/dos-ZEMLAZ22.js")}),dsconfig:K("dsconfig",function(){return import("/myst_assets_folder/_shared/dsconfig-JM775K3C.js")}),dts:K("dts",function(){return import("/myst_assets_folder/_shared/dts-T6Y7WTQ3.js")}),dust:K("dust",function(){return import("/myst_assets_folder/_shared/dust-OBHDZTHF.js")}),ebnf:K("ebnf",function(){return import("/myst_assets_folder/_shared/ebnf-U7YD356G.js")}),elixir:K("elixir",function(){return import("/myst_assets_folder/_shared/elixir-HEXNWGHV.js")}),elm:K("elm",function(){return import("/myst_assets_folder/_shared/elm-F6VZ7Z6U.js")}),erb:K("erb",function(){return import("/myst_assets_folder/_shared/erb-WVVQ56SN.js")}),erlangRepl:K("erlangRepl",function(){return import("/myst_assets_folder/_shared/erlang-repl-TUMBWAHM.js")}),erlang:K("erlang",function(){return import("/myst_assets_folder/_shared/erlang-QDRA7GWK.js")}),excel:K("excel",function(){return import("/myst_assets_folder/_shared/excel-ZFOY7JJY.js")}),fix:K("fix",function(){return import("/myst_assets_folder/_shared/fix-VLSN2XB4.js")}),flix:K("flix",function(){return import("/myst_assets_folder/_shared/flix-QWDR6Y7N.js")}),fortran:K("fortran",function(){return import("/myst_assets_folder/_shared/fortran-UFUDJOFV.js")}),fsharp:K("fsharp",function(){return import("/myst_assets_folder/_shared/fsharp-C7WCETOQ.js")}),gams:K("gams",function(){return import("/myst_assets_folder/_shared/gams-CAZ5IVEN.js")}),gauss:K("gauss",function(){return import("/myst_assets_folder/_shared/gauss-AUQVJTLM.js")}),gcode:K("gcode",function(){return import("/myst_assets_folder/_shared/gcode-HJSESCVE.js")}),gherkin:K("gherkin",function(){return import("/myst_assets_folder/_shared/gherkin-JJ7BQMB5.js")}),glsl:K("glsl",function(){return import("/myst_assets_folder/_shared/glsl-Z6ZBTWEX.js")}),gml:K("gml",function(){return import("/myst_assets_folder/_shared/gml-4KMW655D.js")}),go:K("go",function(){return import("/myst_assets_folder/_shared/go-YEBPIBT2.js")}),golo:K("golo",function(){return import("/myst_assets_folder/_shared/golo-E3CNTALW.js")}),gradle:K("gradle",function(){return import("/myst_assets_folder/_shared/gradle-O4X4IFFN.js")}),groovy:K("groovy",function(){return import("/myst_assets_folder/_shared/groovy-ISNYMFTK.js")}),haml:K("haml",function(){return import("/myst_assets_folder/_shared/haml-IVI4KSSI.js")}),handlebars:K("handlebars",function(){return import("/myst_assets_folder/_shared/handlebars-QEAW2MJW.js")}),haskell:K("haskell",function(){return import("/myst_assets_folder/_shared/haskell-ODJ42HI3.js")}),haxe:K("haxe",function(){return import("/myst_assets_folder/_shared/haxe-LK7PESYS.js")}),hsp:K("hsp",function(){return import("/myst_assets_folder/_shared/hsp-V6H4LLFC.js")}),htmlbars:K("htmlbars",function(){return import("/myst_assets_folder/_shared/htmlbars-TBQG7HBB.js")}),http:K("http",function(){return import("/myst_assets_folder/_shared/http-2VD7KMZ6.js")}),hy:K("hy",function(){return import("/myst_assets_folder/_shared/hy-INK3FXGK.js")}),inform7:K("inform7",function(){return import("/myst_assets_folder/_shared/inform7-O7PU5KJH.js")}),ini:K("ini",function(){return import("/myst_assets_folder/_shared/ini-XZSERPT3.js")}),irpf90:K("irpf90",function(){return import("/myst_assets_folder/_shared/irpf90-IXW5MXPJ.js")}),isbl:K("isbl",function(){return import("/myst_assets_folder/_shared/isbl-GCPQHZWJ.js")}),java:K("java",function(){return import("/myst_assets_folder/_shared/java-PRHILBK3.js")}),javascript:K("javascript",function(){return import("/myst_assets_folder/_shared/javascript-IJR2ZE3X.js")}),jbossCli:K("jbossCli",function(){return import("/myst_assets_folder/_shared/jboss-cli-HEJGJQM3.js")}),json:K("json",function(){return import("/myst_assets_folder/_shared/json-TU3E4FGR.js")}),juliaRepl:K("juliaRepl",function(){return import("/myst_assets_folder/_shared/julia-repl-NMO5BP43.js")}),julia:K("julia",function(){return import("/myst_assets_folder/_shared/julia-NAJS4C73.js")}),kotlin:K("kotlin",function(){return import("/myst_assets_folder/_shared/kotlin-PAEQDVLN.js")}),lasso:K("lasso",function(){return import("/myst_assets_folder/_shared/lasso-OCFBEZLO.js")}),latex:K("latex",function(){return import("/myst_assets_folder/_shared/latex-BIGOV2LU.js")}),ldif:K("ldif",function(){return import("/myst_assets_folder/_shared/ldif-VPUYKXAU.js")}),leaf:K("leaf",function(){return import("/myst_assets_folder/_shared/leaf-XTEKWXNH.js")}),less:K("less",function(){return import("/myst_assets_folder/_shared/less-BCKMWIGE.js")}),lisp:K("lisp",function(){return import("/myst_assets_folder/_shared/lisp-3R5WZQBK.js")}),livecodeserver:K("livecodeserver",function(){return import("/myst_assets_folder/_shared/livecodeserver-QGWLYDJD.js")}),livescript:K("livescript",function(){return import("/myst_assets_folder/_shared/livescript-EAH6E47I.js")}),llvm:K("llvm",function(){return import("/myst_assets_folder/_shared/llvm-U4KDNOC6.js")}),lsl:K("lsl",function(){return import("/myst_assets_folder/_shared/lsl-R5KZFPJQ.js")}),lua:K("lua",function(){return import("/myst_assets_folder/_shared/lua-FRSSEXCF.js")}),makefile:K("makefile",function(){return import("/myst_assets_folder/_shared/makefile-HF22YX7J.js")}),markdown:K("markdown",function(){return import("/myst_assets_folder/_shared/markdown-WP7QQQKL.js")}),mathematica:K("mathematica",function(){return import("/myst_assets_folder/_shared/mathematica-FVIOUIQ4.js")}),matlab:K("matlab",function(){return import("/myst_assets_folder/_shared/matlab-OURGL4QV.js")}),maxima:K("maxima",function(){return import("/myst_assets_folder/_shared/maxima-FE2VJTD2.js")}),mel:K("mel",function(){return import("/myst_assets_folder/_shared/mel-DEF6GFYL.js")}),mercury:K("mercury",function(){return import("/myst_assets_folder/_shared/mercury-SMBTGAND.js")}),mipsasm:K("mipsasm",function(){return import("/myst_assets_folder/_shared/mipsasm-C5CB3WPO.js")}),mizar:K("mizar",function(){return import("/myst_assets_folder/_shared/mizar-PMIAEKSD.js")}),mojolicious:K("mojolicious",function(){return import("/myst_assets_folder/_shared/mojolicious-27MQ6CSC.js")}),monkey:K("monkey",function(){return import("/myst_assets_folder/_shared/monkey-6B7SEVLA.js")}),moonscript:K("moonscript",function(){return import("/myst_assets_folder/_shared/moonscript-MI4HLGY2.js")}),n1ql:K("n1ql",function(){return import("/myst_assets_folder/_shared/n1ql-3K5CKF4R.js")}),nginx:K("nginx",function(){return import("/myst_assets_folder/_shared/nginx-VYP2MXAN.js")}),nim:K("nim",function(){return import("/myst_assets_folder/_shared/nim-R5E7BNBG.js")}),nix:K("nix",function(){return import("/myst_assets_folder/_shared/nix-OAXQOSL4.js")}),nodeRepl:K("nodeRepl",function(){return import("/myst_assets_folder/_shared/node-repl-VCHHCBET.js")}),nsis:K("nsis",function(){return import("/myst_assets_folder/_shared/nsis-DF7ZJJZS.js")}),objectivec:K("objectivec",function(){return import("/myst_assets_folder/_shared/objectivec-7HDMKB4C.js")}),ocaml:K("ocaml",function(){return import("/myst_assets_folder/_shared/ocaml-MZEN5WUT.js")}),openscad:K("openscad",function(){return import("/myst_assets_folder/_shared/openscad-2BN7P6TF.js")}),oxygene:K("oxygene",function(){return import("/myst_assets_folder/_shared/oxygene-NUGGWZCY.js")}),parser3:K("parser3",function(){return import("/myst_assets_folder/_shared/parser3-QQ4Q4FEG.js")}),perl:K("perl",function(){return import("/myst_assets_folder/_shared/perl-K5WOJ7KK.js")}),pf:K("pf",function(){return import("/myst_assets_folder/_shared/pf-WNZIXKYH.js")}),pgsql:K("pgsql",function(){return import("/myst_assets_folder/_shared/pgsql-5NZKCEHO.js")}),phpTemplate:K("phpTemplate",function(){return import("/myst_assets_folder/_shared/php-template-3LFCUAPB.js")}),php:K("php",function(){return import("/myst_assets_folder/_shared/php-GRNE36DY.js")}),plaintext:K("plaintext",function(){return import("/myst_assets_folder/_shared/plaintext-LJMDQYTT.js")}),pony:K("pony",function(){return import("/myst_assets_folder/_shared/pony-ISZS42DM.js")}),powershell:K("powershell",function(){return import("/myst_assets_folder/_shared/powershell-PN6SRREE.js")}),processing:K("processing",function(){return import("/myst_assets_folder/_shared/processing-4NJDQJIP.js")}),profile:K("profile",function(){return import("/myst_assets_folder/_shared/profile-TNKNTM42.js")}),prolog:K("prolog",function(){return import("/myst_assets_folder/_shared/prolog-DMLQVJWB.js")}),properties:K("properties",function(){return import("/myst_assets_folder/_shared/properties-VBIC5XEB.js")}),protobuf:K("protobuf",function(){return import("/myst_assets_folder/_shared/protobuf-XVQUVUY4.js")}),puppet:K("puppet",function(){return import("/myst_assets_folder/_shared/puppet-7ARJDOOQ.js")}),purebasic:K("purebasic",function(){return import("/myst_assets_folder/_shared/purebasic-B7RUP23W.js")}),pythonRepl:K("pythonRepl",function(){return import("/myst_assets_folder/_shared/python-repl-YQNIFV6E.js")}),python:K("python",function(){return import("/myst_assets_folder/_shared/python-P3RTO7TG.js")}),q:K("q",function(){return import("/myst_assets_folder/_shared/q-BRXC3KYH.js")}),qml:K("qml",function(){return import("/myst_assets_folder/_shared/qml-IKFIQGBB.js")}),r:K("r",function(){return import("/myst_assets_folder/_shared/r-QUKTGP6Q.js")}),reasonml:K("reasonml",function(){return import("/myst_assets_folder/_shared/reasonml-7665G6WY.js")}),rib:K("rib",function(){return import("/myst_assets_folder/_shared/rib-5UML5XBV.js")}),roboconf:K("roboconf",function(){return import("/myst_assets_folder/_shared/roboconf-A6VLGAZ3.js")}),routeros:K("routeros",function(){return import("/myst_assets_folder/_shared/routeros-5OGFX7JE.js")}),rsl:K("rsl",function(){return import("/myst_assets_folder/_shared/rsl-VDSHQHQY.js")}),ruby:K("ruby",function(){return import("/myst_assets_folder/_shared/ruby-IAT6DCYF.js")}),ruleslanguage:K("ruleslanguage",function(){return import("/myst_assets_folder/_shared/ruleslanguage-KLW54ML7.js")}),rust:K("rust",function(){return import("/myst_assets_folder/_shared/rust-3ZNIFJOB.js")}),sas:K("sas",function(){return import("/myst_assets_folder/_shared/sas-4AJLPIKE.js")}),scala:K("scala",function(){return import("/myst_assets_folder/_shared/scala-TVRL5LQF.js")}),scheme:K("scheme",function(){return import("/myst_assets_folder/_shared/scheme-PRNX6LGF.js")}),scilab:K("scilab",function(){return import("/myst_assets_folder/_shared/scilab-MBBYE5PQ.js")}),scss:K("scss",function(){return import("/myst_assets_folder/_shared/scss-HBC77LRU.js")}),shell:K("shell",function(){return import("/myst_assets_folder/_shared/shell-ZOQVJJD4.js")}),smali:K("smali",function(){return import("/myst_assets_folder/_shared/smali-4GIKELG4.js")}),smalltalk:K("smalltalk",function(){return import("/myst_assets_folder/_shared/smalltalk-3E76R5A5.js")}),sml:K("sml",function(){return import("/myst_assets_folder/_shared/sml-IE5ALCLA.js")}),sqf:K("sqf",function(){return import("/myst_assets_folder/_shared/sqf-LBQ2ZMJM.js")}),sql:K("sql",function(){return import("/myst_assets_folder/_shared/sql-2YYFMXT7.js")}),sqlMore:K("sqlMore",function(){return import("/myst_assets_folder/_shared/sql_more-W23C5OES.js")}),stan:K("stan",function(){return import("/myst_assets_folder/_shared/stan-HDY5GMXX.js")}),stata:K("stata",function(){return import("/myst_assets_folder/_shared/stata-45GQM72K.js")}),step21:K("step21",function(){return import("/myst_assets_folder/_shared/step21-YOT5HQHG.js")}),stylus:K("stylus",function(){return import("/myst_assets_folder/_shared/stylus-2EVDDOIM.js")}),subunit:K("subunit",function(){return import("/myst_assets_folder/_shared/subunit-HYBHOR3B.js")}),swift:K("swift",function(){return import("/myst_assets_folder/_shared/swift-IKQSOS23.js")}),taggerscript:K("taggerscript",function(){return import("/myst_assets_folder/_shared/taggerscript-UIQ4L7SZ.js")}),tap:K("tap",function(){return import("/myst_assets_folder/_shared/tap-UN5MPUKR.js")}),tcl:K("tcl",function(){return import("/myst_assets_folder/_shared/tcl-QDRWVR3N.js")}),thrift:K("thrift",function(){return import("/myst_assets_folder/_shared/thrift-K3ZPTVYB.js")}),tp:K("tp",function(){return import("/myst_assets_folder/_shared/tp-5DFQWEQG.js")}),twig:K("twig",function(){return import("/myst_assets_folder/_shared/twig-IEBFNWNV.js")}),typescript:K("typescript",function(){return import("/myst_assets_folder/_shared/typescript-V2AM3W26.js")}),vala:K("vala",function(){return import("/myst_assets_folder/_shared/vala-HOQBSM6H.js")}),vbnet:K("vbnet",function(){return import("/myst_assets_folder/_shared/vbnet-JPTPO3AG.js")}),vbscriptHtml:K("vbscriptHtml",function(){return import("/myst_assets_folder/_shared/vbscript-html-7M5TJCVJ.js")}),vbscript:K("vbscript",function(){return import("/myst_assets_folder/_shared/vbscript-Y23GCQNK.js")}),verilog:K("verilog",function(){return import("/myst_assets_folder/_shared/verilog-ITLTZHC5.js")}),vhdl:K("vhdl",function(){return import("/myst_assets_folder/_shared/vhdl-DVHDQ675.js")}),vim:K("vim",function(){return import("/myst_assets_folder/_shared/vim-Y6F2Y35S.js")}),x86asm:K("x86asm",function(){return import("/myst_assets_folder/_shared/x86asm-47AWTPCI.js")}),xl:K("xl",function(){return import("/myst_assets_folder/_shared/xl-CK5ZEAJH.js")}),xml:K("xml",function(){return import("/myst_assets_folder/_shared/xml-JJUBXFPC.js")}),xquery:K("xquery",function(){return import("/myst_assets_folder/_shared/xquery-XE22DZF6.js")}),yaml:K("yaml",function(){return import("/myst_assets_folder/_shared/yaml-KVXXPAP3.js")}),zephir:K("zephir",function(){return import("/myst_assets_folder/_shared/zephir-6GVIMP6K.js")})};var U8=kE({loader:function(){return import("/myst_assets_folder/_shared/core-67LWPJCE.js").then(function(e){return e.default||e})},isLanguageRegistered:function(e,t){return!!y9(e,t)},languageLoaders:TE,registerLanguage:function(e,t,r){return e.registerLanguage(t,r)}});var Y0=N(Qe(),1);var AE=N(te(),1);function gZ(i){switch(i){case"html":return"xml";default:return i}}function na(i){let{value:e,lang:t,identifier:r,emphasizeLines:n,showLineNumbers:s,className:o,showCopy:a=!0,startingLineNumber:l=1,filename:c,shadow:u,background:d,border:f}=i,h=(0,AE.useMemo)(()=>{let m=new Set(n);return{language:gZ(t),startingLineNumber:l,showLineNumbers:s,useInlineStyles:!0,wrapLines:!0,lineNumberContainerStyle:{display:"inline-block",float:"left",minWidth:"1.25em",paddingRight:"1em",textAlign:"right",userSelect:"none",borderLeft:"4px solid transparent"},lineProps:p=>typeof p=="boolean"?{}:m.has(p)?{"data-line-number":`${p}`,"data-highlight":"true"}:{"data-line-number":`${p}`},customStyle:{backgroundColor:"unset"}}},[n]);return(0,xn.jsxs)("div",{id:r,className:(0,Y0.default)("relative myst-code group not-prose",o,{"my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900":u,"bg-stone-200/10":d,"border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800":f}),children:[c&&(0,xn.jsxs)("div",{className:"flex flex-row pl-2 bg-white border-b dark:bg-slate-600 dark:border-slate-300",children:[(0,xn.jsx)(I0,{width:"16px",height:"16px",className:"inline-block flex-none self-center text-gray-500 myst-code-filename-icon dark:text-gray-100"}),(0,xn.jsx)("div",{className:"self-center p-2 text-sm leading-3 myst-code-filename-title prose text-slate-600 dark:text-white",children:c})]}),(0,xn.jsx)(U8,Object.assign({},h,{className:"block overflow-auto p-3 myst-code-body hljs",children:e})),a&&(0,xn.jsx)(P1,{text:e,className:(0,Y0.default)("absolute right-1 myst-code-copy-icon",{"top-[32px]":c,"top-1":!c})})]})}var vZ=({node:i,className:e})=>{let t=(0,xn.jsx)(na,{identifier:i.html_id,"data-mdast-node-type":i.type,"data-mdast-node-id":i.key,value:i.value||"",lang:i.lang,filename:i.filename,emphasizeLines:i.emphasizeLines,showLineNumbers:i.showLineNumbers,startingLineNumber:i.startingLineNumber,shadow:!0,border:i.executable,background:!i.executable,className:(0,Y0.default)({hidden:i.visibility==="remove"},i.class,e)});return i.visibility==="hide"?(0,xn.jsx)(ea,{title:"Source",children:t}):t};function _Z(i){if(!i||i.length>9||!new Set([4,7,9]).has(i.length))return;let e=/^#([0-9A-Fa-f]{3,8})$/.exec(i);return e?e[1]:void 0}var bZ=({node:i,className:e})=>_Z(i.value)?(0,xn.jsxs)("code",{className:(0,Y0.default)("px-1 rounded bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-100",e),children:[i.value,(0,xn.jsx)("span",{style:{backgroundColor:i.value},className:"inline-block w-[10px] h-[10px] rounded-full ml-1"})]}):i.children&&i.children.length>0?(0,xn.jsx)("code",{className:e,children:(0,xn.jsx)(ge,{ast:i.children})}):(0,xn.jsx)("code",{className:e,children:i.value}),CZ={code:vZ,inlineCode:bZ},NE=CZ;var vo=N(de(),1);var DE=N(Qe(),1),OE=({node:i,className:e})=>{if(i.type==="math"){if(i.error||!i.html)return(0,vo.jsxs)("pre",{title:i.message,className:e,children:[(0,vo.jsxs)("span",{className:"text-red-500",children:[(0,vo.jsx)(uo,{width:"1rem",height:"1rem",className:"inline mr-1"}),i.message,`

`]}),i.value]});let t=i.html_id||i.identifier||i.key;return(0,vo.jsxs)("div",{id:t,className:(0,DE.default)("flex my-5 group",e),children:[(0,vo.jsx)("div",{dangerouslySetInnerHTML:{__html:i.html},className:"flex-grow overflow-x-auto overflow-y-hidden"}),i.enumerator&&(0,vo.jsx)("div",{className:"relative self-center flex-none pl-2 m-0 text-right select-none",children:(0,vo.jsxs)(mi,{id:t,kind:"Equation",className:"text-inherit hover:text-inherit",children:["(",i.enumerator,")"]})})]})}return i.error||!i.html?(0,vo.jsx)(go,{value:i.value,message:i.message,className:e}):(0,vo.jsx)("span",{dangerouslySetInnerHTML:{__html:i.html},className:e})},xZ={math:OE,inlineMath:OE},HE=xZ;var J0=N(te(),1),wZ=({node:i,className:e})=>(0,J0.createElement)("r-var",{name:i.name,value:i.value,":value":i.valueFunction,format:i.format,className:e}),yZ=({node:i,className:e})=>(0,J0.createElement)("r-display",{name:i.name,value:i.value,":value":i.valueFunction,format:i.format,className:e}),MZ=({node:i,className:e})=>(0,J0.createElement)("r-dynamic",{name:i.name,value:i.value,":value":i.valueFunction,max:i.max,":max":i.maxFunction,min:i.min,":min":i.minFunction,step:i.step,":step":i.stepFunction,":change":i.changeFunction,format:i.format,className:e}),LZ=({node:i,className:e})=>(0,J0.createElement)("r-range",{name:i.name,value:i.value,":value":i.valueFunction,max:i.max,":max":i.maxFunction,min:i.min,":min":i.minFunction,step:i.step,":step":i.stepFunction,":change":i.changeFunction,className:e}),SZ={"r:var":wZ,"r:display":yZ,"r:dynamic":MZ,"r:range":LZ},zE=SZ;var I9=N(de(),1),BE=N(Qe(),1);function G8(i){if(!(typeof i=="number"&&Number.isNaN(i))){if(typeof i=="string"){if(i.endsWith("%"))return G8(Number(i.replace("%","")));if(i.endsWith("px")){let e=G8(Number(i.replace("px","")));return e?e/750:70}else if(!Number.isNaN(Number(i)))return Number(i);console.log(`Unknown width ${i} in getImageWidth`);return}return i}}var EZ=({node:i,className:e})=>{let t=G8(i.width)||70;return(0,I9.jsx)("div",{id:i.label||void 0,style:{textAlign:i.align||"center"},className:(0,BE.default)("leading-[0]",i.class,e),children:(0,I9.jsx)("div",{className:"relative inline-block",style:{paddingBottom:"60%",width:`min(max(${t}%, 500px), 100%)`},children:(0,I9.jsx)("iframe",{width:"100%",height:"100%",src:i.src,title:i.title,allowFullScreen:!0,allow:"autoplay",style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,border:"none"}})})})},RZ={iframe:EZ},PE=RZ;var nc=N(de(),1),jE=N(Qe(),1);function k9(i){if(!(typeof i=="number"&&Number.isNaN(i))){if(typeof i=="string"){if(i.endsWith("%"))return i;if(i.endsWith("px"))return Number(i.replace("px",""));if(!Number.isNaN(Number(i)))return Number(i);console.log(`Unknown width ${i} in getImageWidth`);return}return i}}function $E(i){switch(i){case"left":return{marginRight:"auto"};case"right":return{marginLeft:"auto"};case"center":return{marginLeft:"auto",marginRight:"auto"};default:return{}}}function IZ({className:i,id:e,src:t,urlSource:r,align:n="center",width:s,height:o}){return(0,nc.jsx)("video",{className:i,id:e,style:Object.assign({width:k9(s),height:k9(o)},$E(n)),src:t,"data-canonical-url":r,autoPlay:!0,muted:!0,"webkit-playsinline":"true",playsInline:!0,loop:!0})}function kZ({className:i,id:e,src:t,srcOptimized:r,urlSource:n,align:s="center",alt:o,width:a,height:l}){if(t.endsWith(".mp4")||n!=null&&n.endsWith(".mp4"))return(0,nc.jsx)(IZ,{className:i,id:e,width:a,height:l,align:s,src:t,urlSource:n});let c=(0,nc.jsx)("img",{id:e,style:Object.assign({width:k9(a),height:k9(l)},$E(s)),src:t,alt:o,"data-canonical-url":n,className:r?void 0:i});return r?(0,nc.jsxs)("picture",{className:i,children:[(0,nc.jsx)("source",{srcSet:r,type:"image/webp"}),c]}):c}var TZ=({node:i,className:e})=>(0,nc.jsx)(kZ,{className:(0,jE.default)(i.class,e),id:i.html_id||i.identifier||i.key,src:i.url,srcOptimized:i.urlOptimized,alt:i.alt||i.title,width:i.width||void 0,height:i.height||void 0,align:i.align,urlSource:i.urlSource||i.sourceUrl}),AZ={image:TZ},VE=AZ;var ti=N(de(),1);var yi=N(de(),1);var kr=N(te(),1),d6=N(qE(),1);var Vr=N(te(),1);var sc={};qo(sc,{ERROR_REVALIDATE_EVENT:()=>VZ,FOCUS_EVENT:()=>UE,MUTATE_EVENT:()=>XE,RECONNECT_EVENT:()=>GE});var UE=0,GE=1,XE=2,VZ=3;var KE=Object.prototype.hasOwnProperty;function T9(i,e){var t,r;if(i===e)return!0;if(i&&e&&(t=i.constructor)===e.constructor){if(t===Date)return i.getTime()===e.getTime();if(t===RegExp)return i.toString()===e.toString();if(t===Array){if((r=i.length)===e.length)for(;r--&&T9(i[r],e[r]););return r===-1}if(!t||typeof i=="object"){r=0;for(t in i)if(KE.call(i,t)&&++r&&!KE.call(e,t)||!(t in e)||!T9(i[t],e[t]))return!1;return Object.keys(e).length===r}}return i!==i&&e!==e}var _o=new WeakMap,bo=()=>{},_r=bo(),rh=Object,Tt=i=>i===_r,is=i=>typeof i=="function",Co=(i,e)=>({...i,...e}),z9=i=>is(i.then),K8={},A9={},r6="undefined",nh=typeof window!=r6,O9=typeof document!=r6,JE=nh&&"Deno"in window,QE=()=>nh&&typeof window.requestAnimationFrame!=r6,B9=(i,e)=>{let t=_o.get(i);return[()=>!Tt(e)&&i.get(e)||K8,r=>{if(!Tt(e)){let n=i.get(e);e in A9||(A9[e]=n),t[5](e,Co(n,r),n||K8)}},t[6],()=>!Tt(e)&&e in A9?A9[e]:!Tt(e)&&i.get(e)||K8]},Q8=!0,FZ=()=>Q8,[e6,t6]=nh&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[bo,bo],WZ=()=>{let i=O9&&document.visibilityState;return Tt(i)||i!=="hidden"},ZZ=i=>(O9&&document.addEventListener("visibilitychange",i),e6("focus",i),()=>{O9&&document.removeEventListener("visibilitychange",i),t6("focus",i)}),qZ=i=>{let e=()=>{Q8=!0,i()},t=()=>{Q8=!1};return e6("online",e),e6("offline",t),()=>{t6("online",e),t6("offline",t)}},eR={isOnline:FZ,isVisible:WZ},tR={initFocus:ZZ,initReconnect:qZ},P9=!Vr.default.useId,oc=!nh||JE,n6=i=>QE()?window.requestAnimationFrame(i):setTimeout(i,1),sh=oc?Vr.useEffect:Vr.useLayoutEffect,Y8=typeof navigator<"u"&&navigator.connection,i6=!oc&&Y8&&(["slow-2g","2g"].includes(Y8.effectiveType)||Y8.saveData),N9=new WeakMap,UZ=i=>rh.prototype.toString.call(i),J8=(i,e)=>i===`[object ${e}]`,GZ=0,D9=i=>{let e=typeof i,t=UZ(i),r=J8(t,"Date"),n=J8(t,"RegExp"),s=J8(t,"Object"),o,a;if(rh(i)===i&&!r&&!n){if(o=N9.get(i),o)return o;if(o=++GZ+"~",N9.set(i,o),Array.isArray(i)){for(o="@",a=0;a<i.length;a++)o+=D9(i[a])+",";N9.set(i,o)}if(s){o="#";let l=rh.keys(i).sort();for(;!Tt(a=l.pop());)Tt(i[a])||(o+=a+":"+D9(i[a])+",");N9.set(i,o)}}else o=r?i.toJSON():e=="symbol"?i.toString():e=="string"?JSON.stringify(i):""+i;return o},em=i=>{if(is(i))try{i=i()}catch{i=""}let e=i;return i=typeof i=="string"?i:(Array.isArray(i)?i.length:i)?D9(i):"",[i,e]},XZ=0,Q0=()=>++XZ;async function j9(...i){let[e,t,r,n]=i,s=Co({populateCache:!0,throwOnError:!0},typeof n=="boolean"?{revalidate:n}:n||{}),o=s.populateCache,a=s.rollbackOnError,l=s.optimisticData,c=f=>typeof a=="function"?a(f):a!==!1,u=s.throwOnError;if(is(t)){let f=t,h=[],m=e.keys();for(let p of m)!/^\$(inf|sub)\$/.test(p)&&f(e.get(p)._k)&&h.push(p);return Promise.all(h.map(d))}return d(t);async function d(f){let[h]=em(f);if(!h)return;let[m,p]=B9(e,h),[v,x,C,y]=_o.get(e),S=()=>{let he=v[h];return(is(s.revalidate)?s.revalidate(m().data,f):s.revalidate!==!1)&&(delete C[h],delete y[h],he&&he[0])?he[0](2).then(()=>m().data):m().data};if(i.length<3)return S();let M=r,_,E=!1,R=Q0();x[h]=[R,0];let A=!Tt(l),H=m(),$=H.data,X=H._c,ue=Tt(X)?$:X;if(A&&(l=is(l)?l(ue,$):l,p({data:l,_c:ue})),is(M))try{M=M(ue)}catch(he){_=he,E=!0}if(M&&z9(M))if(M=await M.catch(he=>{_=he,E=!0}),R!==x[h][0]){if(E)throw _;return M}else E&&A&&c(_)&&(o=!0,p({data:ue,_c:_r}));if(o&&!E)if(is(o)){let he=o(M,ue);p({data:he,error:_r,_c:_r})}else p({data:M,error:_r,_c:_r});if(x[h][1]=Q0(),Promise.resolve(S()).then(()=>{p({_c:_r})}),E){if(u)throw _;return}return M}}var YE=(i,e)=>{for(let t in i)i[t][0]&&i[t][0](e)},s6=(i,e)=>{if(!_o.has(i)){let t=Co(tR,e),r=Object.create(null),n=j9.bind(_r,i),s=bo,o=Object.create(null),a=(u,d)=>{let f=o[u]||[];return o[u]=f,f.push(d),()=>f.splice(f.indexOf(d),1)},l=(u,d,f)=>{i.set(u,d);let h=o[u];if(h)for(let m of h)m(d,f)},c=()=>{if(!_o.has(i)&&(_o.set(i,[r,Object.create(null),Object.create(null),Object.create(null),n,l,a]),!oc)){let u=t.initFocus(setTimeout.bind(_r,YE.bind(_r,r,0))),d=t.initReconnect(setTimeout.bind(_r,YE.bind(_r,r,1)));s=()=>{u&&u(),d&&d(),_o.delete(i)}}};return c(),[i,n,c,s]}return[i,_o.get(i)[4]]},KZ=(i,e,t,r,n)=>{let s=t.errorRetryCount,o=n.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*t.errorRetryInterval;!Tt(s)&&o>s||setTimeout(r,a,n)},iR=T9,[$9,rR]=s6(new Map),V9=Co({onLoadingSlow:bo,onSuccess:bo,onError:bo,onErrorRetry:KZ,onDiscarded:bo,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:i6?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:i6?5e3:3e3,compare:iR,isPaused:()=>!1,cache:$9,mutate:rR,fallback:{}},eR),o6=(i,e)=>{let t=Co(i,e);if(e){let{use:r,fallback:n}=i,{use:s,fallback:o}=e;r&&s&&(t.use=r.concat(s)),n&&o&&(t.fallback=Co(n,o))}return t},H9=(0,Vr.createContext)({}),a6=i=>{let{value:e}=i,t=(0,Vr.useContext)(H9),r=is(e),n=(0,Vr.useMemo)(()=>r?e(t):e,[r,t,e]),s=(0,Vr.useMemo)(()=>r?n:o6(t,n),[r,t,n]),o=n&&n.provider,a=(0,Vr.useRef)(_r);o&&!a.current&&(a.current=s6(o(s.cache||$9),n));let l=a.current;return l&&(s.cache=l[0],s.mutate=l[1]),sh(()=>{if(l)return l[2]&&l[2](),l[3]},[]),(0,Vr.createElement)(H9.Provider,Co(i,{value:s}))};var nR="$inf$";var oh=N(te(),1);var sR=nh&&window.__SWR_DEVTOOLS_USE__,YZ=sR?window.__SWR_DEVTOOLS_USE__:[],JZ=()=>{sR&&(window.__SWR_DEVTOOLS_REACT__=oh.default)},oR=i=>is(i[1])?[i[0],i[1],i[2]||{}]:[i[0],null,(i[1]===null?i[2]:i[1])||{}],QZ=()=>{let i=(0,oh.useContext)(H9);return(0,oh.useMemo)(()=>Co(V9,i),[i])};var eq=i=>(e,t,r)=>i(e,t&&((...s)=>{let[o]=em(e),[,,,a]=_o.get($9);if(o.startsWith(nR))return t(...s);let l=a[o];return Tt(l)?t(...s):(delete a[o],l)}),r),tq=YZ.concat(eq),aR=i=>function(...t){let r=QZ(),[n,s,o]=oR(t),a=o6(r,o),l=i,{use:c}=a,u=(c||[]).concat(tq);for(let d=u.length;d--;)l=u[d](l);return l(n,s||a.fetcher||null,a)},lR=(i,e,t)=>{let r=e[i]||(e[i]=[]);return r.push(t),()=>{let n=r.indexOf(t);n>=0&&(r[n]=r[r.length-1],r.pop())}},cR=(i,e)=>(...t)=>{let[r,n,s]=oR(t),o=(s.use||[]).concat(e);return i(r,n,{...s,use:o})};JZ();var iq=()=>{},sde=iq();var l6=kr.default.use||(i=>{switch(i.status){case"pending":throw i;case"fulfilled":return i.value;case"rejected":throw i.reason;default:throw i.status="pending",i.then(e=>{i.status="fulfilled",i.value=e},e=>{i.status="rejected",i.reason=e}),i}}),c6={dedupe:!0},dR=Promise.resolve(_r),rq=(i,e,t)=>{let{cache:r,compare:n,suspense:s,fallbackData:o,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:c,refreshWhenHidden:u,refreshWhenOffline:d,keepPreviousData:f,strictServerPrefetchWarning:h}=t,[m,p,v,x]=_o.get(r),[C,y]=em(i),S=(0,kr.useRef)(!1),M=(0,kr.useRef)(!1),_=(0,kr.useRef)(C),E=(0,kr.useRef)(e),R=(0,kr.useRef)(t),A=()=>R.current,H=()=>A().isVisible()&&A().isOnline(),[$,X,ue,he]=B9(r,C),Y=(0,kr.useRef)({}).current,ee=Tt(o)?Tt(t.fallback)?_r:t.fallback[C]:o,ie=(U,oe)=>{for(let ae in Y){let ze=ae;if(ze==="data"){if(!n(U[ze],oe[ze])&&(!Tt(U[ze])||!n(Ke,oe[ze])))return!1}else if(oe[ze]!==U[ze])return!1}return!0},pe=(0,kr.useMemo)(()=>{let U=(()=>!C||!e?!1:Tt(a)?A().isPaused()||s?!1:l!==!1:a)(),oe=Ct=>{let Te=Co(Ct);return delete Te._k,U?{isValidating:!0,isLoading:!0,...Te}:Te},ae=$(),ze=he(),nt=oe(ae),vt=ae===ze?nt:oe(ze),bt=nt;return[()=>{let Ct=oe($());return ie(Ct,bt)?(bt.data=Ct.data,bt.isLoading=Ct.isLoading,bt.isValidating=Ct.isValidating,bt.error=Ct.error,bt):(bt=Ct,Ct)},()=>vt]},[r,C]),we=(0,d6.useSyncExternalStore)((0,kr.useCallback)(U=>ue(C,(oe,ae)=>{ie(ae,oe)||U()}),[r,C]),pe[0],pe[1]),Ve=!S.current,lt=m[C]&&m[C].length>0,gt=we.data,De=Tt(gt)?ee&&z9(ee)?l6(ee):ee:gt,rt=we.error,Jt=(0,kr.useRef)(De),Ke=f?Tt(gt)?Tt(Jt.current)?De:Jt.current:gt:De,Ye=C&&Tt(De),fi=!oc&&(0,d6.useSyncExternalStore)(()=>bo,()=>!1,()=>!0);h&&fi&&!s&&Ye&&console.warn(`Missing pre-initiated data for serialized key "${C}" during server-side rendering. Data fethcing should be initiated on the server and provided to SWR via fallback data. You can set "strictServerPrefetchWarning: false" to disable this warning.`);let yt=(()=>lt&&!Tt(rt)?!1:Ve&&!Tt(a)?a:A().isPaused()?!1:s?Tt(De)?!1:l:Tt(De)||l)(),oi=!!(C&&e&&Ve&&yt),Ai=Tt(we.isValidating)?oi:we.isValidating,Ue=Tt(we.isLoading)?oi:we.isLoading,T=(0,kr.useCallback)(async U=>{let oe=E.current;if(!C||!oe||M.current||A().isPaused())return!1;let ae,ze,nt=!0,vt=U||{},bt=!v[C]||!vt.dedupe,Ct=()=>P9?!M.current&&C===_.current&&S.current:C===_.current,Te={isValidating:!1,isLoading:!1},V=()=>{X(Te)},D=()=>{let Le=v[C];Le&&Le[1]===ze&&delete v[C]},Ee={isValidating:!0};Tt($().data)&&(Ee.isLoading=!0);try{if(bt&&(X(Ee),t.loadingTimeout&&Tt($().data)&&setTimeout(()=>{nt&&Ct()&&A().onLoadingSlow(C,t)},t.loadingTimeout),v[C]=[oe(y),Q0()]),[ae,ze]=v[C],ae=await ae,bt&&setTimeout(D,t.dedupingInterval),!v[C]||v[C][1]!==ze)return bt&&Ct()&&A().onDiscarded(C),!1;Te.error=_r;let Le=p[C];if(!Tt(Le)&&(ze<=Le[0]||ze<=Le[1]||Le[1]===0))return V(),bt&&Ct()&&A().onDiscarded(C),!1;let Se=$().data;Te.data=n(Se,ae)?Se:ae,bt&&Ct()&&A().onSuccess(ae,C,t)}catch(Le){D();let Se=A(),{shouldRetryOnError:Je}=Se;Se.isPaused()||(Te.error=Le,bt&&Ct()&&(Se.onError(Le,C,Se),(Je===!0||is(Je)&&Je(Le))&&(!A().revalidateOnFocus||!A().revalidateOnReconnect||H())&&Se.onErrorRetry(Le,C,Se,st=>{let xt=m[C];xt&&xt[0]&&xt[0](sc.ERROR_REVALIDATE_EVENT,st)},{retryCount:(vt.retryCount||0)+1,dedupe:!0})))}return nt=!1,V(),!0},[C,r]),B=(0,kr.useCallback)((...U)=>j9(r,_.current,...U),[]);if(sh(()=>{E.current=e,R.current=t,Tt(gt)||(Jt.current=gt)}),sh(()=>{if(!C)return;let U=T.bind(_r,c6),oe=0;A().revalidateOnFocus&&(oe=Date.now()+A().focusThrottleInterval);let ze=lR(C,m,(nt,vt={})=>{if(nt==sc.FOCUS_EVENT){let bt=Date.now();A().revalidateOnFocus&&bt>oe&&H()&&(oe=bt+A().focusThrottleInterval,U())}else if(nt==sc.RECONNECT_EVENT)A().revalidateOnReconnect&&H()&&U();else{if(nt==sc.MUTATE_EVENT)return T();if(nt==sc.ERROR_REVALIDATE_EVENT)return T(vt)}});return M.current=!1,_.current=C,S.current=!0,X({_k:y}),yt&&(v[C]||(Tt(De)||oc?U():n6(U))),()=>{M.current=!0,ze()}},[C]),sh(()=>{let U;function oe(){let ze=is(c)?c($().data):c;ze&&U!==-1&&(U=setTimeout(ae,ze))}function ae(){!$().error&&(u||A().isVisible())&&(d||A().isOnline())?T(c6).then(oe):oe()}return oe(),()=>{U&&(clearTimeout(U),U=-1)}},[c,u,d,C]),(0,kr.useDebugValue)(Ke),s){if(!P9&&oc&&Ye)throw new Error("Fallback data is required when using Suspense in SSR.");Ye&&(E.current=e,R.current=t,M.current=!1);let U=x[C],oe=!Tt(U)&&Ye?B(U):dR;if(l6(oe),!Tt(rt)&&Ye)throw rt;let ae=Ye?T(c6):dR;!Tt(Ke)&&Ye&&(ae.status="fulfilled",ae.value=!0),l6(ae)}return{mutate:B,get data(){return Y.data=!0,Ke},get error(){return Y.error=!0,rt},get isValidating(){return Y.isValidating=!0,Ai},get isLoading(){return Y.isLoading=!0,Ue}}},ode=rh.defineProperty(a6,"defaultValue",{value:V9}),Ps=aR(rq);var hR=N(Qe(),1),uR=()=>(0,yi.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"svg3400",viewBox:"0 0 500 85",className:"h-4",children:(0,yi.jsxs)("g",{transform:"translate(-357.71336,-784.65111)",children:[(0,yi.jsx)("path",{fill:"currentColor",d:"m 412.98736,806.72288 c 0,0 -1.468,-2.984 -1.968,-3.976 -3.336,-6.612 -3.264,-6.964 -6.636,-7.408 -0.944,-0.124 -1.432,-0.244 -1.432,-0.712 v -2.092 l 0.284,-0.204 c 6.092,-0.008 19.648,-0.008 19.648,-0.008 l 0.52,0.172 v 2.084 c 0,0.476 -0.34,0.72 -1.032,0.72 l -1.424,0.204 c -3.6,0.28 -3.012,1.752 -0.62,6.516 l 22.708,46.46 0.776,0.212 20.16,-47.844 c 0.7,-1.928 0.592,-3.296 -0.308,-4.1 -0.904,-0.784 -1.54,-1.248 -3.876,-1.344 l -1.892,-0.096 c -0.232,0 -0.452,-0.084 -0.664,-0.24 -0.208,-0.148 -0.316,-0.344 -0.316,-0.58 v -1.992 l 0.288,-0.204 c 5.68,0 22.776,0 22.776,0 l 0.232,0.204 v 1.992 c 0,0.54 -0.308,0.812 -0.916,0.812 -2.984,0.132 -5.196,0.78 -6.628,1.936 -1.436,1.164 -2.556,2.768 -3.36,4.852 0,0 -18.54,42.436 -24.884,56.54 -2.428,4.624 -4.816,4.2 -6.916,-0.132 -4.436,-9.136 -16.928,-36.852 -16.928,-36.852 l -7.592,-14.92 z"}),(0,yi.jsx)("path",{fill:"currentColor",d:"m 449.37136,792.29888 c 0,0 -12.812,-0.04 -18.516,0 l -0.284,0.204 v 1.984 c 0,0.244 0.104,0.436 0.312,0.584 0.212,0.156 0.428,0.236 0.66,0.236 l 0.916,0.1 c 2.332,0.096 3.404,0.708 3.724,1.092 0.556,0.68 0.832,1.416 -0.516,4.356 l -23.92,47.708 -0.628,-0.164 c 0,0 -17.132,-36.124 -22.092,-48.208 -0.516,-1.252 -0.748,-2.18 -0.748,-2.752 0,-1.228 1.108,-1.892 3.324,-1.984 l 2.584,-0.108 c 0.684,0 1.032,-0.264 1.032,-0.812 v -1.984 l -0.232,-0.204 c 0,0 -20.52,-0.024 -24.76,0 l -0.232,0.204 v 2.084 c 0,0.376 0.476,0.608 1.432,0.712 2.604,0.14 4.316,0.556 5.14,1.248 0.82,0.7 1.688,2.468 2.84,5.224 6.228,14.96 19.46,41.656 25.904,56.86 1.856,4.152 4.188,4.796 7.02,-0.128 4.904,-9.096 18.2,-36.872 18.2,-36.872 l 10.472,-19.584 c 1.22,-2.068 2.396,-3.912 2.992,-4.772 1.092,-1.572 1.704,-1.868 4.688,-2.008 0.608,0 0.916,-0.272 0.916,-0.82 v -1.984 l -0.228,-0.212 z"}),(0,yi.jsx)("path",{fill:"currentColor",d:"m 488.32736,854.23088 c 0,2.288 1.04,3.64 4.368,3.952 l 2.184,0.212 c 0.312,0 0.624,0.204 0.624,0.62 v 2.184 l -0.104,0.212 c 0,0 -7.904,-0.212 -11.128,-0.212 -2.912,0 -11.024,0.212 -11.024,0.212 l -0.208,-0.212 v -2.184 c 0,-0.416 0.312,-0.62 0.728,-0.62 l 2.08,-0.212 c 3.432,-0.312 4.472,-1.976 4.472,-3.952 v -34.632 c 0,-2.284 -1.252,-2.916 -4.472,-3.22 l -2.08,-0.216 c -0.416,0 -0.728,-0.096 -0.728,-0.416 v -2.396 l 0.104,-0.208 c 0,0 8.216,0.208 11.44,0.208 2.808,0 10.816,-0.208 10.816,-0.208 l 0.104,0.208 v 2.288 c 0,0.312 -0.208,0.52 -0.624,0.52 l -2.184,0.212 c -3.224,0.308 -4.368,1.144 -4.368,3.228 v 34.632 z"}),(0,yi.jsx)("path",{fill:"currentColor",d:"m 519.01936,854.23088 c 0,2.288 1.352,3.432 4.368,3.952 l 1.144,0.212 c 0.312,0.1 0.624,0.204 0.624,0.62 v 2.184 l -0.104,0.212 c 0,0 -6.552,-0.212 -9.672,-0.212 -2.912,0 -11.44,0.212 -11.44,0.212 l -0.208,-0.212 v -2.184 c 0,-0.416 0.312,-0.62 0.728,-0.62 l 2.08,-0.212 c 3.12,-0.312 4.472,-1.976 4.472,-3.952 v -34.632 c 0,-2.284 -1.144,-2.916 -4.472,-3.22 l -2.08,-0.216 c -0.416,0 -0.728,-0.096 -0.728,-0.416 v -2.396 l 0.104,-0.208 c 0,0 8.528,0.208 11.752,0.208 2.916,0 9.464,-0.208 9.464,-0.208 l 0.104,0.208 v 2.288 c 0,0.312 -0.208,0.416 -0.624,0.52 l -1.144,0.212 c -3.224,0.62 -4.368,1.144 -4.368,3.228 v 15.704 c 3.432,0 5.408,-1.764 9.984,-6.656 4.16,-4.58 7.384,-8.42 7.384,-10.4 0,-0.836 -0.936,-1.768 -3.016,-2.084 -0.416,-0.1 -0.624,-0.208 -0.624,-0.52 v -2.396 l 0.104,-0.1 c 0,0 8.424,0.208 11.44,0.208 2.704,0 7.28,-0.208 7.28,-0.208 l 0.312,0.1 v 2.396 c 0,0.312 -0.312,0.52 -0.832,0.52 -4.056,0.312 -6.864,0.52 -10.608,4.784 l -8.944,10.292 c -1.768,1.876 -2.392,3.016 -2.392,3.852 0,0.624 0.416,1.14 0.936,1.764 l 15.704,18.928 c 1.248,1.452 3.744,2.08 5.824,2.492 l 0.52,0.1 c 0.312,0.104 0.728,0.312 0.728,0.624 v 2.184 l -0.312,0.104 c 0,0 -5.512,-0.104 -8.424,-0.104 -2.6,0 -6.344,0.104 -6.344,0.104 l -0.104,-0.104 v -1.248 c 0,-1.356 -0.104,-2.492 -1.56,-4.156 l -11.544,-14.356 c -1.56,-2.084 -3.224,-2.596 -5.512,-2.596 v 15.404 l 0,0 z"}),(0,yi.jsx)("path",{fill:"currentColor",d:"m 575.08736,854.23088 c 0,2.288 1.04,3.64 4.368,3.952 l 2.184,0.212 c 0.312,0 0.624,0.204 0.624,0.62 v 2.184 l -0.104,0.212 c 0,0 -7.904,-0.212 -11.128,-0.212 -2.912,0 -11.024,0.212 -11.024,0.212 l -0.208,-0.212 v -2.184 c 0,-0.416 0.312,-0.62 0.728,-0.62 l 2.08,-0.212 c 3.432,-0.312 4.472,-1.976 4.472,-3.952 v -34.632 c 0,-2.284 -1.248,-2.916 -4.472,-3.22 l -2.08,-0.216 c -0.416,0 -0.728,-0.096 -0.728,-0.416 v -2.396 l 0.104,-0.208 c 0,0 8.216,0.208 11.44,0.208 2.808,0 10.816,-0.208 10.816,-0.208 l 0.104,0.208 v 2.288 c 0,0.312 -0.208,0.52 -0.624,0.52 l -2.184,0.212 c -3.224,0.308 -4.368,1.144 -4.368,3.228 v 34.632 z"}),(0,yi.jsx)("path",{fill:"currentColor",d:"m 597.55936,819.80288 c 0,-3.224 -1.352,-3.328 -6.24,-3.64 -0.624,0 -0.728,-0.308 -0.728,-0.52 v -2.392 l 0.208,-0.104 c 1.56,0 7.696,0.208 10.712,0.208 2.912,0 7.072,-0.208 10.92,-0.208 14.76,0 17.464,7.276 17.464,12.692 0,6.244 -3.016,16.016 -17.776,16.016 -2.6,0 -4.68,-0.212 -6.556,-1.04 v 13.928 c 0,2.288 1.248,2.812 4.58,3.328 l 2.084,0.312 c 0.416,0.104 0.728,0.212 0.728,0.624 v 2.184 l -0.1,0.208 c 0,0 -8.32,-0.208 -11.544,-0.208 -2.912,0 -10.712,0.208 -10.712,0.208 l -0.104,-0.208 v -2.184 c 0,-0.416 0.208,-0.52 0.624,-0.624 l 2.184,-0.312 c 3.224,-0.416 4.264,-1.352 4.264,-3.328 l -0.008,-34.94 0,0 z m 8.008,18.1 c 2.08,0.836 4.68,0.936 6.76,0.936 6.244,0 9.248,-3.752 9.248,-11.752 0,-8.944 -4.056,-10.92 -9.768,-10.92 -4.996,0 -6.244,0.936 -6.244,3.64 l 0.004,18.096 0,0 z"}),(0,yi.jsx)("path",{fill:"currentColor",d:"m 647.80736,861.19888 c -3.12,0 -10.292,0.212 -10.292,0.212 l -0.108,-0.212 v -2.288 c 0,-0.204 0.108,-0.516 0.624,-0.516 l 2.396,-0.212 c 3.228,-0.312 4.164,-2.392 4.164,-4.468 v -34.32 c 0,-2.4 -1.252,-2.812 -4.164,-3.016 l -2.396,-0.216 c -0.624,-0.096 -0.624,-0.308 -0.624,-0.416 v -2.396 l 0.108,-0.208 c 0,0 8.108,0.208 11.228,0.208 h 15.288 c 3.12,0 10.508,-0.208 10.508,-0.208 l 0.212,0.208 c 0.1,4.472 0.828,8.536 1.56,12.484 l -2.596,0.416 c -1.14,-3.852 -3.116,-9.36 -9.772,-9.36 h -8.32 c -1.976,0 -3.016,0.728 -3.016,2.492 v 15.084 h 7.796 c 2.916,0 3.64,-1.248 4.06,-3.328 l 0.62,-2.184 c 0,-0.312 0.212,-0.524 0.624,-0.524 h 1.764 c 0.212,0 0.212,0.108 0.212,0.312 -0.212,2.288 -0.624,5.204 -0.624,7.7 0,2.596 0.416,4.784 0.624,7.176 l -0.212,0.212 h -1.764 c -0.516,0 -0.732,-0.212 -0.732,-0.524 l -0.52,-2.284 c -0.416,-2.084 -1.352,-3.228 -4.064,-3.228 h -7.792 v 15.916 c 0,1.972 1.136,3.948 3.016,3.948 h 9.88 c 5.304,0 8.22,-3.328 9.464,-8.74 l 2.596,0.312 -2.084,11.956 -0.208,0.208 c 0,0 -6.136,-0.208 -9.256,-0.208 l -18.2,0.012 0,0 z"}),(0,yi.jsx)("path",{fill:"currentColor",d:"m 686.91936,858.39488 2.392,-0.212 c 3.124,-0.312 4.164,-1.248 4.164,-4.468 v -34.32 c 0,-2.712 -0.736,-2.712 -4.164,-3.016 l -2.28,-0.216 c -0.416,0 -0.736,-0.208 -0.736,-0.52 v -2.288 l 0.1,-0.208 c 0,0 9.156,0.208 11.032,0.208 1.968,0 11.024,-0.208 13.728,-0.208 17.368,0 25.9,10.816 25.9,24.648 0,18.204 -12.9,23.604 -24.44,23.604 -8.32,0 -11.956,-0.208 -15.18,-0.208 -3.124,0 -11.028,0.208 -11.028,0.208 l -0.104,-0.208 v -2.184 c -0.008,-0.3 0.204,-0.612 0.616,-0.612 z m 23.196,0 c 11.436,0 17.892,-4.26 17.892,-18.828 0,-10.812 -2.396,-23.404 -19.868,-23.404 -4.056,0 -6.656,0.624 -6.656,3.232 v 34.32 c 0,2.904 0.724,4.68 8.632,4.68 z"}),(0,yi.jsx)("path",{fill:"currentColor",d:"m 761.60736,854.23088 c 0,2.288 1.04,3.64 4.368,3.952 l 2.184,0.212 c 0.312,0 0.624,0.204 0.624,0.62 v 2.184 l -0.104,0.212 c 0,0 -7.904,-0.212 -11.124,-0.212 -2.916,0 -11.024,0.212 -11.024,0.212 l -0.212,-0.212 v -2.184 c 0,-0.416 0.312,-0.62 0.728,-0.62 l 2.084,-0.212 c 3.428,-0.312 4.472,-1.976 4.472,-3.952 v -34.632 c 0,-2.284 -1.252,-2.916 -4.472,-3.22 l -2.084,-0.216 c -0.416,0 -0.728,-0.096 -0.728,-0.416 v -2.396 l 0.104,-0.208 c 0,0 8.216,0.208 11.432,0.208 2.808,0 10.82,-0.208 10.82,-0.208 l 0.1,0.208 v 2.288 c 0,0.312 -0.212,0.52 -0.624,0.52 l -2.184,0.212 c -3.224,0.308 -4.368,1.144 -4.368,3.228 l 0.008,34.632 0,0 z"}),(0,yi.jsx)("path",{fill:"currentColor",d:"m 793.64736,858.18288 3.016,0.212 c 0.416,0 0.832,0.312 0.832,0.828 v 1.976 l -0.208,0.212 c 0,0 -11.336,-0.212 -13.832,-0.212 -2.708,0 -9.364,0.212 -9.364,0.212 l -0.212,-0.212 v -1.976 c 0,-0.516 0.312,-0.828 0.836,-0.828 4.58,-0.312 7.172,-1.148 10.084,-7.804 l 23.084,-54.084 c 1.14,-2.704 1.976,-3.748 3.54,-3.748 1.452,0 1.976,1.044 2.804,3.124 l 21.32,56.368 c 1.46,4.06 3.54,5.616 7.7,6.032 l 1.144,0.1 c 0.52,0 1.04,0.312 1.04,0.836 v 1.972 l -0.312,0.208 c 0,0 -8.008,-0.208 -12.064,-0.208 -3.64,0 -13.836,0.208 -13.836,0.208 l -0.1,-0.208 v -1.972 c 0,-0.524 0.208,-0.836 0.736,-0.836 l 2.912,-0.208 c 3.948,-0.308 5.412,-1.564 4.368,-4.472 l -6.344,-17.58 h -21.632 c -2.496,0 -3.12,0.416 -3.636,1.764 l -6.036,15.084 c -1.04,2.608 0.312,4.9 4.16,5.212 z m 25.48,-26.424 -10.088,-27.764 h -0.208 l -10.4,26.416 c -0.416,1.044 0.308,1.352 2.596,1.352 h 18.1 z"})]})}),nq=(...i)=>fetch(...i).then(e=>{if(e.status===200)return e.json();throw new Error(`Content returned with status ${e.status}.`)}),fR="https://en.wikipedia.org/";function sq(i,e){return`${e||fR}wiki/${i}`}function oq(i,e){return`${e||fR}api/rest_v1/page/summary/${i}`}function aq({page:i,wiki:e,load:t}){var r,n;let{data:s,error:o}=Ps(t?oq(i,e):null,nq),{thumbnail:a,extract:l,content_urls:c}=s!=null?s:{},u=(n=(r=c==null?void 0:c.desktop)===null||r===void 0?void 0:r.page)!==null&&n!==void 0?n:sq(i),d=a==null?void 0:a.source;return o?(0,yi.jsxs)("span",{children:[(0,yi.jsxs)("a",{href:u,className:"block text-inherit hover:text-inherit",target:"_blank",rel:"noreferrer",children:[(0,yi.jsx)($r,{width:"1rem",height:"1rem",className:"float-right"}),(0,yi.jsx)(uR,{})]}),(0,yi.jsxs)("div",{className:"mt-2",children:['Error loading "',i,'" from wikipedia.']})]}):(0,yi.jsx)(ic,{loading:!s,url:u,title:(0,yi.jsx)(uR,{}),thumbnail:d,description:l})}function mR({children:i,page:e,url:t,wiki:r,className:n}){return(0,yi.jsx)(vr,{card:({load:s})=>(0,yi.jsx)(aq,{wiki:r,page:e,load:s}),children:(0,yi.jsx)("a",{href:t,className:(0,hR.default)("hover-link",n),target:"_blank",rel:"noreferrer",children:i})})}var Mi=N(de(),1);var pR=N(Qe(),1),lq=(...i)=>fetch(...i).then(e=>{if(e.status===200)return e.json();throw new Error(`Content returned with status ${e.status}.`)});function cq({rrid:i}){var e,t,r,n,s,o,a;let{data:l,error:c}=Ps(`https://scicrunch.org/resolver/${i}.json`,lq);if(!l&&!c)return(0,Mi.jsx)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] animate-pulse",children:"Loading..."});let u=(t=(e=l==null?void 0:l.hits)===null||e===void 0?void 0:e.hits)===null||t===void 0?void 0:t[0];if(c||!u)return(0,Mi.jsxs)("div",{className:"hover-document article w-[500px] sm:max-w-[500px]",children:["Error loading ",i,"."]});let{name:d,curie:f,description:h,supercategory:m,keywords:p,types:v}=(n=(r=u==null?void 0:u._source)===null||r===void 0?void 0:r.item)!==null&&n!==void 0?n:{},x=(s=m==null?void 0:m[0])===null||s===void 0?void 0:s.name,C=(o=v==null?void 0:v.map(({name:S})=>S))!==null&&o!==void 0?o:[],y=(a=p==null?void 0:p.map(({keyword:S})=>S))!==null&&a!==void 0?a:[];return(0,Mi.jsxs)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] p-3",children:[(0,Mi.jsxs)("p",{className:"text-sm font-light",children:["RRID: ",x]}),(0,Mi.jsxs)("div",{className:"mb-4 text-xl font-bold",children:[d," ",(0,Mi.jsx)("code",{children:f})]}),(0,Mi.jsx)("p",{className:"text-md",children:h}),C.length>0&&(0,Mi.jsxs)(Mi.Fragment,{children:[(0,Mi.jsx)("div",{className:"my-2 text-xs font-thin",children:"Categories"}),(0,Mi.jsx)("div",{className:"flex flex-wrap ml-1",children:C==null?void 0:C.map(S=>(0,Mi.jsx)("span",{className:"inline-flex items-center px-3 py-1 ml-1 text-xs uppercase border rounded-full",children:S}))})]}),y.length>0&&(0,Mi.jsxs)(Mi.Fragment,{children:[(0,Mi.jsx)("div",{className:"my-2 text-xs font-thin",children:"Tags"}),(0,Mi.jsx)("div",{className:"flex flex-wrap ml-1",children:y==null?void 0:y.map(S=>(0,Mi.jsx)("span",{className:"inline-flex items-center px-3 py-1 ml-1 text-xs uppercase border rounded-full",children:S}))})]})]})}function gR({rrid:i,className:e}){return(0,Mi.jsx)(vr,{card:(0,Mi.jsx)(cq,{rrid:i}),children:(0,Mi.jsxs)("a",{href:`https://scicrunch.org/resolver/${i}`,target:"_blank",rel:"noopener noreferrer",className:(0,pR.default)("hover-link",e),children:["RRID: ",(0,Mi.jsx)("cite",{className:"italic",children:i})]})})}var Vt=N(de(),1);var ac=N(te(),1);function dq({title:i,titleId:e,...t},r){return ac.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},t),i?ac.createElement("title",{id:e},i):null,ac.createElement("path",{d:"M14.1 10.6c-3 0-5.5 2.5-5.5 5.5s2.5 5.5 5.5 5.5 5.5-2.5 5.5-5.5-2.4-5.5-5.5-5.5zm0 2.3c1.8 0 3.2 1.4 3.2 3.2 0 1.8-1.4 3.2-3.2 3.2-1.8 0-3.2-1.4-3.2-3.2 0-1.8 1.5-3.2 3.2-3.2z"}),ac.createElement("path",{d:"M9.9 6.5c-3 0-5.5 2.5-5.5 5.5s2.5 5.5 5.5 5.5 5.5-2.5 5.5-5.5c-.1-3.1-2.5-5.5-5.5-5.5zm0 2.2c1.8 0 3.2 1.4 3.2 3.2 0 1.8-1.4 3.2-3.2 3.2-1.8 0-3.2-1.4-3.2-3.2-.1-1.7 1.4-3.2 3.2-3.2z"}),ac.createElement("path",{d:"M14.1 2.2c-3 0-5.5 2.5-5.5 5.5s2.5 5.5 5.5 5.5 5.5-2.5 5.5-5.5c0-3.1-2.4-5.5-5.5-5.5zm0 2.2c1.8 0 3.2 1.4 3.2 3.2 0 1.8-1.4 3.2-3.2 3.2-1.8 0-3.2-1.4-3.2-3.2 0-1.8 1.5-3.2 3.2-3.2z"}))}var uq=ac.forwardRef(dq),u6=uq;var ah=N(te(),1);function hq({title:i,titleId:e,...t},r){return ah.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},t),i?ah.createElement("title",{id:e},i):null,ah.createElement("path",{d:"M12 2.2c2.7 0 5 .9 6.9 2.8 1.9 1.9 2.8 4.2 2.8 6.9s-.9 5-2.8 6.8c-2 1.9-4.3 2.9-7 2.9-2.6 0-4.9-1-6.9-2.9-1.8-1.7-2.8-4-2.8-6.7s1-5 2.9-6.9C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.3C4.8 8 4 9.9 4 12c0 2.2.8 4 2.4 5.6C8 19.2 9.8 20 12 20c2.2 0 4.1-.8 5.7-2.4 1.5-1.5 2.3-3.3 2.3-5.6 0-2.2-.8-4.1-2.3-5.7C16.1 4.8 14.2 4 12 4zm2.6 5.6v4h-1.1v4.7h-3v-4.7H9.4v-4c0-.2.1-.3.2-.4.1-.2.2-.2.4-.2h4c.2 0 .3.1.4.2.2.1.2.2.2.4zm-4-2.5c0-.9.5-1.4 1.4-1.4s1.4.5 1.4 1.4c0 .9-.5 1.4-1.4 1.4s-1.4-.5-1.4-1.4z"}))}var fq=ah.forwardRef(hq),h6=fq;var lh=N(te(),1);function mq({title:i,titleId:e,...t},r){return lh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},t),i?lh.createElement("title",{id:e},i):null,lh.createElement("path",{d:"M12 2.2c2.7 0 5 .9 6.9 2.8 1.9 1.9 2.8 4.2 2.8 6.9s-.9 5-2.8 6.8c-2 1.9-4.3 2.9-7 2.9-2.6 0-4.9-1-6.9-2.9-1.9-1.9-2.9-4.2-2.9-6.9s1-5 2.9-6.9c2-1.7 4.3-2.7 7-2.7zM4.4 9.4C4.2 10.2 4 11 4 12c0 2.2.8 4 2.4 5.6C8 19.2 9.8 20 12 20c2.2 0 4.1-.8 5.7-2.4.6-.5 1-1.1 1.3-1.7l-3.7-1.6c-.1.6-.4 1.1-.9 1.5-.5.4-1.1.6-1.8.7V18h-1.1v-1.5c-1.1 0-2.1-.4-3-1.2l1.3-1.4c.6.6 1.4.9 2.2.9.3 0 .6-.1.9-.2.2-.2.4-.4.4-.7 0-.2-.1-.4-.3-.6l-.9-.4-1.1-.6-1.5-.7-5.1-2.2zM12 4c-2.2 0-4.1.8-5.6 2.3-.4.4-.7.9-1.1 1.3L9 9.3c.2-.5.5-.9 1-1.2.5-.3 1-.5 1.6-.5V6.1h1.1v1.5c.9 0 1.7.3 2.4.9l-1.3 1.3c-.5-.4-1.1-.6-1.7-.6-.3 0-.6.1-.8.2-.2.1-.3.3-.3.6 0 .1 0 .2.1.2l1.2.6.9.4 1.6.7 5 2.2c.2-.7.2-1.4.2-2.1 0-2.2-.8-4.1-2.3-5.7C16.1 4.8 14.2 4 12 4z"}))}var pq=lh.forwardRef(mq),f6=pq;var ch=N(te(),1);function gq({title:i,titleId:e,...t},r){return ch.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},t),i?ch.createElement("title",{id:e},i):null,ch.createElement("path",{d:"M12 2.2c2.7 0 5 .9 6.9 2.8 1.9 1.9 2.8 4.2 2.8 6.9s-.9 5-2.8 6.9c-2 1.9-4.3 2.9-7 2.9-2.6 0-4.9-1-6.9-2.9C3.2 17 2.2 14.7 2.2 12s1-5 2.9-6.9C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.4C4.8 8 4 9.9 4 12c0 2.2.8 4 2.4 5.6C8 19.2 9.8 20 12 20c2.2 0 4.1-.8 5.7-2.4 1.5-1.5 2.3-3.3 2.3-5.6 0-2.2-.8-4.1-2.3-5.6C16.1 4.8 14.2 4 12 4zm3.7 5.7v1.7H8.6V9.7h7.1zm0 3.1v1.7H8.6v-1.7h7.1z"}))}var vq=ch.forwardRef(gq),m6=vq;var dh=N(te(),1);function _q({title:i,titleId:e,...t},r){return dh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},t),i?dh.createElement("title",{id:e},i):null,dh.createElement("path",{d:"M12 2.2c2.7 0 5 .9 6.9 2.8 1.9 1.9 2.8 4.2 2.8 6.9s-.9 5-2.8 6.9c-2 1.9-4.3 2.9-7 2.9-2.6 0-4.9-1-6.9-2.9C3.2 17 2.2 14.7 2.2 12s1-5 2.9-6.9C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.4C4.8 8 4 9.9 4 12c0 2.2.8 4 2.4 5.6C8 19.2 9.8 20 12 20c2.2 0 4.1-.8 5.7-2.4 1.5-1.5 2.3-3.3 2.3-5.6 0-2.2-.8-4.1-2.3-5.6C16.1 4.8 14.2 4 12 4zm-4.3 6.6c.2-1.2.7-2.1 1.4-2.8.8-.7 1.7-1 2.8-1 1.5 0 2.8.5 3.7 1.5.9 1 1.4 2.3 1.4 3.8s-.5 2.7-1.4 3.7c-.9 1-2.2 1.5-3.7 1.5-1.1 0-2.1-.3-2.9-1-.8-.7-1.3-1.6-1.4-2.8h2.5c.1 1.2.8 1.8 2.1 1.8.7 0 1.2-.3 1.7-.9.4-.6.6-1.4.6-2.4s-.2-1.8-.6-2.4c-.4-.5-.9-.8-1.7-.8-1.3 0-2 .6-2.2 1.7h.7l-1.9 1.9-1.9-1.9.8.1z"}))}var bq=dh.forwardRef(_q),p6=bq;var Cd=N(te(),1);function Cq({title:i,titleId:e,...t},r){return Cd.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},t),i?Cd.createElement("title",{id:e},i):null,Cd.createElement("path",{d:"M12 6.4c-3.2 0-4 3-4 5.6 0 2.6.8 5.6 4 5.6s4-3 4-5.6c0-2.6-.8-5.6-4-5.6zm0 2.1h.4c.2.2.3.5.1.9l-2.1 3.9c-.1-.5-.1-1-.1-1.4 0-1 0-3.4 1.7-3.4zm1.6 1.8c.1.6.1 1.2.1 1.7 0 1.1-.1 3.5-1.7 3.5h-.4-.1-.1c-.4-.2-.6-.4-.3-.9l2.5-4.3z"}),Cd.createElement("path",{d:"M12 2.2c-2.7 0-5 .9-6.8 2.8-1 1-1.7 2.1-2.2 3.3-.5 1.2-.8 2.4-.8 3.7 0 1.3.2 2.5.7 3.7.5 1.2 1.2 2.2 2.1 3.2.9.9 2 1.6 3.2 2.1 1.2.5 2.4.7 3.7.7 1.3 0 2.5-.3 3.7-.8 1.2-.5 2.3-1.2 3.2-2.2.9-.9 1.6-1.9 2.1-3.1.5-1.2.7-2.4.7-3.8 0-1.3-.2-2.6-.7-3.7-.3-1-1-2.1-1.9-3-2-1.9-4.3-2.9-7-2.9zM12 4c2.2 0 4.1.8 5.7 2.3.7.8 1.3 1.7 1.7 2.6.4 1 .6 2 .6 3.1 0 2.2-.8 4.1-2.3 5.6-.8.8-1.7 1.4-2.7 1.8-1 .4-2 .6-3 .6-1.1 0-2.1-.2-3-.6-1-.4-1.8-1-2.6-1.7C5.6 16.9 5 16 4.6 15c-.4-1-.6-2-.6-3 0-1.1.2-2.1.6-3 .4-1 1-1.9 1.8-2.6C7.9 4.8 9.8 4 12 4z"}))}var xq=Cd.forwardRef(Cq),g6=xq;var uh=N(te(),1);function wq({title:i,titleId:e,...t},r){return uh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},t),i?uh.createElement("title",{id:e},i):null,uh.createElement("path",{d:"M12 2.2c2.7 0 5 1 7 2.9.9.9 1.6 2 2.1 3.1.5 1.2.7 2.4.7 3.8 0 1.3-.2 2.6-.7 3.8-.5 1.2-1.2 2.2-2.1 3.1-1 .9-2 1.7-3.2 2.2-1.2.5-2.5.7-3.7.7s-2.6-.3-3.8-.8c-1.2-.5-2.2-1.2-3.2-2.1s-1.6-2-2.1-3.2-.8-2.4-.8-3.7c0-1.3.2-2.5.7-3.7S4.2 6 5.1 5.1C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.3C5.6 7.1 5 8 4.6 9c-.4 1-.6 2-.6 3s.2 2.1.6 3c.4 1 1 1.8 1.8 2.6S8 19 9 19.4c1 .4 2 .6 3 .6s2.1-.2 3-.6c1-.4 1.9-1 2.7-1.8 1.5-1.5 2.3-3.3 2.3-5.6 0-1.1-.2-2.1-.6-3.1-.4-1-1-1.8-1.7-2.6C16.1 4.8 14.2 4 12 4zm-.1 6.4l-1.3.7c-.1-.3-.3-.5-.5-.6-.2-.1-.4-.2-.6-.2-.9 0-1.3.6-1.3 1.7 0 .5.1.9.3 1.3.2.3.5.5 1 .5.6 0 1-.3 1.2-.8l1.2.6c-.3.5-.6.9-1.1 1.1-.5.3-1 .4-1.5.4-.9 0-1.6-.3-2.1-.8-.5-.6-.8-1.3-.8-2.3 0-.9.3-1.7.8-2.2.6-.6 1.3-.8 2.1-.8 1.2 0 2.1.4 2.6 1.4zm5.6 0l-1.3.7c-.1-.3-.3-.5-.5-.6-.2-.1-.4-.2-.6-.2-.9 0-1.3.6-1.3 1.7 0 .5.1.9.3 1.3.2.3.5.5 1 .5.6 0 1-.3 1.2-.8l1.2.6c-.3.5-.6.9-1.1 1.1-.4.2-.9.3-1.4.3-.9 0-1.6-.3-2.1-.8s-.8-1.3-.8-2.2c0-.9.3-1.7.8-2.2.5-.5 1.2-.8 2-.8 1.2 0 2.1.4 2.6 1.4z"}))}var yq=uh.forwardRef(wq),v6=yq;var xd=N(te(),1);function Mq({title:i,titleId:e,...t},r){return xd.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},t),i?xd.createElement("title",{id:e},i):null,xd.createElement("path",{d:"M21.8 18c0 1.1-.9 2-1.9 2H4.2c-1.1 0-1.9-.9-1.9-2V9.9c0-.5.3-.7.8-.4l7.8 4.7c.7.4 1.7.4 2.4 0L21 9.5c.4-.2.8-.1.8.4V18z"}),xd.createElement("path",{d:"M21.8 6c0-1.1-.9-2-1.9-2H4.2c-1.1 0-2 .9-2 2v.4c0 .5.3 1.1.8 1.3l8.5 5.1c.2.1.7.1.9 0l8.6-5c.4-.3.8-.9.8-1.3-.1-.1-.1-.5 0-.5z"}))}var Lq=xd.forwardRef(Mq),_6=Lq;var hh=N(te(),1);function Sq({title:i,titleId:e,...t},r){return hh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},t),i?hh.createElement("title",{id:e},i):null,hh.createElement("path",{d:"M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"}))}var Eq=hh.forwardRef(Sq),b6=Eq;var fh=N(te(),1);function Rq({title:i,titleId:e,...t},r){return fh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},t),i?fh.createElement("title",{id:e},i):null,fh.createElement("path",{d:"M20.2 1.7c0 .8-.5 1.4-1.3 1.5-.8 0-1.4-.5-1.5-1.3 0-.8.5-1.4 1.3-1.5.8-.1 1.5.5 1.5 1.3zM12 17.9c-3.7 0-7-1.3-8.7-3.3 1.8 4.8 7.1 7.3 11.9 5.5 2.5-.9 4.5-2.9 5.5-5.5-1.7 2-4.9 3.3-8.7 3.3zM12 5.1c3.7 0 7 1.3 8.7 3.3-1.8-4.8-7.1-7.3-11.9-5.5-2.5.9-4.5 2.9-5.5 5.5 1.7-2 5-3.3 8.7-3.3zM6.9 21.8c.1 1-.7 1.8-1.7 1.9-1 .1-1.8-.7-1.9-1.7 0-1 .7-1.8 1.7-1.9 1-.1 1.8.7 1.9 1.7zM3.7 4.6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1c0 .5-.4 1-1 1z"}))}var Iq=fh.forwardRef(Rq),mh=Iq;var lc=N(te(),1);function kq({title:i,titleId:e,...t},r){return lc.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},t),i?lc.createElement("title",{id:e},i):null,lc.createElement("path",{d:"M17.1 12.6h-2V7.5c0-1.7-1.4-3.1-3-3.1-.8 0-1.6.3-2.2.9-.6.5-.9 1.3-.9 2.2v.7H7v-.7c0-1.4.5-2.7 1.5-3.7s2.2-1.5 3.6-1.5 2.6.5 3.6 1.5 1.5 2.3 1.5 3.7v5.1z"}),lc.createElement("path",{d:"M12 21.8c-.8 0-1.6-.2-2.3-.5-.7-.3-1.4-.8-1.9-1.3-.6-.6-1-1.2-1.3-2-.3-.8-.5-1.6-.5-2.4s.2-1.6.5-2.4c.3-.7.7-1.4 1.3-2s1.2-1 1.9-1.3c.7-.3 1.5-.5 2.3-.5.8 0 1.6.2 2.3.5.7.3 1.4.8 1.9 1.3.6.6 1 1.2 1.3 2 .3.8.5 1.6.5 2.4s-.2 1.6-.5 2.4c-.3.7-.7 1.4-1.3 2-.6.6-1.2 1-1.9 1.3-.7.3-1.5.5-2.3.5zm0-10.3c-2.2 0-4 1.8-4 4.1s1.8 4.1 4 4.1 4-1.8 4-4.1-1.8-4.1-4-4.1z"}),lc.createElement("circle",{cx:12,cy:15.6,r:1.7}))}var Tq=lc.forwardRef(kq),C6=Tq;var ph=N(te(),1);function Aq({title:i,titleId:e,...t},r){return ph.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},t),i?ph.createElement("title",{id:e},i):null,ph.createElement("path",{d:"M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"}))}var Nq=ph.forwardRef(Aq),x6=Nq;var gh=N(te(),1);function Oq({title:i,titleId:e,...t},r){return gh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},t),i?gh.createElement("title",{id:e},i):null,gh.createElement("path",{d:"M13.2 15.6c1.4-.5 2.1-1.6 2.1-3.3S13.8 8.9 12 8.9c-1.9 0-3.3 1.6-3.3 3.3 0 1.8.8 3 2.2 3.4l-2.3 5.9c-3.1-.8-6.3-4.6-6.3-9.3 0-5.5 4.3-10 9.7-10s9.8 4.5 9.8 10c0 4.7-3.1 8.5-6.3 9.3l-2.3-5.9z"}))}var Dq=gh.forwardRef(Oq),w6=Dq;var vh=N(te(),1);function Hq({title:i,titleId:e,...t},r){return vh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},t),i?vh.createElement("title",{id:e},i):null,vh.createElement("path",{d:"M10 4.2L8.3 6.8 6.6 4.2H10zM17.1 4.2l-1.7 2.6-1.7-2.6h3.4zM6.6 19.8l1.7-2.6 1.7 2.6H6.6zM13.7 19.8l1.7-2.6 1.7 2.6h-3.4zM20.8 12.5c.6-.1 1.1-.4 1.4-.8.3-.4.5-.9.5-1.5 0-.5-.1-.9-.3-1.2-.2-.3-.4-.6-.7-.8-.3-.2-.6-.3-1-.4-.4-.1-.8-.1-1.2-.1h-3.3v2.6c0-.1-.1-.2-.1-.2-.2-.6-.6-1-1-1.4-.4-.4-.9-.7-1.5-.9-.6-.2-1.2-.3-1.9-.3s-1.3.1-1.9.3c-.5.1-1 .4-1.4.8-.3.4-.6.8-.9 1.3 0-.3-.1-.6-.2-.9-.2-.4-.4-.6-.7-.8-.3-.2-.6-.3-1-.4s-.8-.2-1.3-.2H1v8.5h1.9v-3.4h.9l1.8 3.4h2.3l-2.2-3.6c.6-.1 1.1-.4 1.4-.8v-.1.2c0 .7.1 1.3.3 1.8.2.6.6 1 1 1.4.4.4.9.7 1.5.9.6.2 1.2.3 1.9.3s1.3-.1 1.9-.3c.6-.2 1.1-.5 1.5-.9.4-.4.7-.9 1-1.4 0-.1.1-.2.1-.2V16H18v-3.4h.9l1.8 3.4H23l-2.2-3.5zM5.4 10.7c-.1.2-.2.3-.3.3-.2.1-.3.1-.5.1H2.9V9.2h1.7c.2 0 .3.1.5.1.1.1.3.2.3.3.1.1.1.3.1.5.1.3 0 .5-.1.6zm8.8 2.3c-.1.3-.3.6-.5.9-.2.2-.5.4-.8.6-.3.1-.7.2-1.1.2-.4 0-.8-.1-1.1-.2-.3-.1-.6-.3-.8-.6-.2-.2-.4-.5-.5-.9-.1-.3-.2-.7-.2-1.1 0-.4.1-.8.2-1.1s.3-.6.5-.9c.2-.2.5-.4.8-.6.3-.1.7-.2 1.1-.2.4 0 .8.1 1.1.2.3.1.6.3.8.6.2.2.4.5.5.9.1.3.2.7.2 1.1 0 .4 0 .7-.2 1.1zm6.4-2.3c-.1.1-.2.2-.4.3-.2.1-.3.1-.5.1H18V9.2h1.7c.2 0 .3.1.5.1.1.1.3.2.3.3.1.1.1.3.1.5.1.3.1.5 0 .6z"}))}var zq=vh.forwardRef(Hq),tm=zq;var vR=N(Qe(),1),Bq=(...i)=>fetch(...i).then(e=>{if(e.status===200)return e.json();throw new Error(`Content returned with status ${e.status}.`)});function Pq({ror:i}){var e,t,r,n;let{data:s,error:o}=Ps(`https://api.ror.org/organizations/${i}`,Bq);if(!s&&!o)return(0,Vt.jsx)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] animate-pulse",children:"Loading..."});if(o)return(0,Vt.jsxs)("div",{className:"hover-document article w-[500px] sm:max-w-[500px]",children:["Error loading ",i,"."]});let a=(e=s==null?void 0:s.country)===null||e===void 0?void 0:e.country_name,l=(t=s==null?void 0:s.links.map(d=>({url:d})))!==null&&t!==void 0?t:[],c=s.wikipedia_url?[{text:"Wikipedia",url:s.wikipedia_url}]:[],u=[...l,...c];return(0,Vt.jsxs)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] p-3",children:[(0,Vt.jsxs)("p",{className:"flex items-stretch gap-2 text-sm font-light",children:[(0,Vt.jsx)(tm,{width:"1.25rem",height:"1.25rem",className:"self-center inline-block"}),(0,Vt.jsx)("a",{href:`https://ror.org/${i}`,className:"self-center",target:"_blank",rel:"noopener noreferrer",children:(0,Vt.jsx)("code",{children:i})})]}),(0,Vt.jsx)("div",{className:"mb-4 text-xl font-bold",children:s.name}),(0,Vt.jsxs)("dl",{className:"mb-4 text-sm",children:[(0,Vt.jsx)("dt",{children:"Country"}),(0,Vt.jsx)("dd",{children:a}),u.length>0&&(0,Vt.jsxs)(Vt.Fragment,{children:[(0,Vt.jsx)("dt",{children:"Links"}),u.map(({url:d,text:f})=>(0,Vt.jsx)("dd",{children:(0,Vt.jsx)("a",{href:d,children:f||d})}))]}),((r=s.acronyms)===null||r===void 0?void 0:r.length)>0&&(0,Vt.jsxs)(Vt.Fragment,{children:[(0,Vt.jsx)("dt",{children:"Acronyms"}),s.acronyms.map(d=>(0,Vt.jsx)("dd",{children:d}))]}),((n=s.labels)===null||n===void 0?void 0:n.length)>0&&(0,Vt.jsxs)(Vt.Fragment,{children:[(0,Vt.jsx)("dt",{children:"Labels"}),s.labels.map(({label:d,iso639:f})=>(0,Vt.jsxs)("dd",{children:[d,f?` (${f})`:null]}))]})]})]})}function _R({node:i,ror:e,className:t}){return(0,Vt.jsx)(vr,{card:(0,Vt.jsx)(Pq,{ror:e}),children:(0,Vt.jsx)("a",{href:`https://ror.org/${e}`,target:"_blank",rel:"noopener noreferrer",className:(0,vR.default)("hover-link",t),children:(0,Vt.jsx)(ge,{ast:i.children})})})}var Nt=N(de(),1);var F9=N(te(),1);var xo=N(Qe(),1),jq=(...i)=>fetch(...i).then(e=>{if(e.status===200)return e.text();throw new Error(`Content returned with status ${e.status}.`)}),$q=(...i)=>fetch(...i).then(e=>{if(e.status===200)return e.json();throw new Error(`Content returned with status ${e.status}.`)});function Vq(i){var e;return(e={ts:"typescript",js:"javascript",py:"python",md:"markdown",yml:"yaml"}[i!=null?i:""])!==null&&e!==void 0?e:i}function bR(i,e,t){let[r,n]=(0,F9.useState)(),{data:s,error:o}=Ps(i?e:null,t);return(0,F9.useEffect)(()=>{n(r||s)},[r,e,s]),{data:r,error:o}}function Fq({url:i,raw:e,org:t,repo:r,file:n,from:s,to:o,open:a,className:l}){let{data:c,error:u}=bR(a,e,jq),d=c;if(u)return(0,Nt.jsxs)("div",{className:"hover-document article w-[500px] sm:max-w-[500px]",children:[(0,Nt.jsx)("a",{href:i,className:(0,xo.default)("block text-inherit hover:text-inherit",l),target:"_blank",rel:"noreferrer",children:(0,Nt.jsx)($r,{width:"1rem",height:"1rem",className:"float-right"})}),(0,Nt.jsxs)("div",{className:"mt-2",children:['Error loading "',n,'" from GitHub.']})]});let f=Vq(n==null?void 0:n.split(".").pop()),h=1,m=[],p=5;d&&s&&o?(h=s,d=d==null?void 0:d.split(`
`).slice(s-1,o).join(`
`)):d&&s?(h=s+1-p,m=[s],d=d==null?void 0:d.split(`
`).slice(Math.max(0,s-p),s+p).join(`
`)):d=d==null?void 0:d.split(`
`).slice(0,10).join(`
`);let v=d?(0,Nt.jsx)(Nt.Fragment,{children:(0,Nt.jsx)(na,{value:d,lang:f,filename:n,showLineNumbers:!0,startingLineNumber:h,emphasizeLines:m,showCopy:!1})}):null;return(0,Nt.jsx)(ic,{loading:!d,url:i,title:`GitHub - ${t}/${r}`,description:v,className:"hover-document article max-w-[80vw]"})}function Wq(i){let e=i.charAt(0)==="#"?i.substring(1,7):i,t=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),n=parseInt(e.substring(4,6),16);return t*.299+r*.587+n*.114<=186}function Zq({url:i,org:e,repo:t,issue_number:r,open:n,className:s}){var o,a,l;let{data:c,error:u}=bR(n,`https://api.github.com/repos/${e}/${t}/issues/${r}`,$q);if(!c&&!u)return(0,Nt.jsx)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] animate-pulse",children:"Loading..."});if(u)return(0,Nt.jsxs)("div",{className:"hover-document article",children:[(0,Nt.jsx)("a",{href:i,className:(0,xo.default)("block text-inherit hover:text-inherit",s),target:"_blank",rel:"noreferrer",children:(0,Nt.jsx)($r,{className:"float-right w-4 h-4"})}),(0,Nt.jsx)("div",{className:"mt-2",children:"Error loading from GitHub."})]});let d=c,f=Boolean(d.pull_request),h=d.state,m=h==="open",p=Boolean((o=d.pull_request)===null||o===void 0?void 0:o.merged_at),v=d.state_reason==="completed",x=!f&&h==="closed"&&!v,C=new Date(d.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),y="inline-block mr-2 -translate-y-px h-6 w-6",S=null;return f?m?S=(0,Nt.jsx)(e8,{className:(0,xo.default)(y,"text-green-700 dark:text-green-500")}):S=p?(0,Nt.jsx)(Jg,{className:(0,xo.default)(y,"text-purple-700 dark:text-purple-500")}):(0,Nt.jsx)(d8,{className:(0,xo.default)(y,"text-red-700 dark:text-red-500")}):m?S=(0,Nt.jsx)(a8,{className:(0,xo.default)(y,"text-green-700 dark:text-green-500")}):S=x?(0,Nt.jsx)(s8,{className:(0,xo.default)(y,"text-slate-500 dark:text-slate-400")}):(0,Nt.jsx)(Gg,{className:(0,xo.default)(y,"text-purple-700 dark:text-purple-500")}),(0,Nt.jsxs)("div",{className:"hover-document article w-[400px] sm:max-w-[400px] p-3",children:[(0,Nt.jsxs)("div",{className:"text-xs font-light",children:[e,"/",t]}),(0,Nt.jsxs)("div",{className:"my-2 text-lg font-bold dark:text-white",children:[S,d.title]}),(0,Nt.jsxs)("div",{className:"text-xs font-light",children:["#",r," opened on ",C," by"," ",(0,Nt.jsxs)("span",{className:"font-normal",children:["@",d.user.login]})]}),(0,Nt.jsx)("p",{className:"text-md max-h-[4rem] overflow-hidden",children:d.body}),((a=d.labels)===null||a===void 0?void 0:a.length)>0&&(0,Nt.jsx)("div",{className:"flex flex-wrap",children:(l=d.labels)===null||l===void 0?void 0:l.map(M=>(0,Nt.jsx)("span",{className:(0,xo.default)("mr-1 text-xs inline-flex items-center px-2 py-0.5 rounded-full",{"text-white":Wq(M.color)}),style:{backgroundColor:`#${M.color}`},children:M.name},M.id))})]})}function CR({kind:i,children:e,url:t,org:r,repo:n,raw:s,file:o,from:a,to:l,issue_number:c,className:u}){return(0,Nt.jsx)(vr,{card:({load:d})=>{if(i==="file")return(0,Nt.jsx)(Fq,{url:t,raw:s,file:o,from:a,to:l,open:d,org:r,repo:n,className:u});if(i==="issue")return(0,Nt.jsx)(Zq,{url:t,open:d,org:r,issue_number:c,repo:n,className:u})},children:(0,Nt.jsx)("a",{href:t,className:(0,xo.default)("hover-link",u),target:"_blank",rel:"noreferrer",children:e})})}var wo=N(Qe(),1);function qq(i,e){var t;if(!i)return;let[r,n]=e.replace(/^\//,"").split("/"),s=(t=i.projects)===null||t===void 0?void 0:t.find(o=>o.slug===r||!o.slug&&!n);if(s)return s.pages.find(o=>o.slug===(n||r))}function Uq({url:i,children:e,className:t}){let r=Os(),n=ja(),s=qq(n,i),o=nn(),a=!s||!s.description&&!s.thumbnail;return!s||a?(0,ti.jsx)(r,{to:pr(i,o),prefetch:"intent",className:(0,wo.default)("link",t),children:e}):(0,ti.jsx)(vr,{card:()=>(0,ti.jsx)(ic,{internal:!0,url:i,title:s.title,description:s.description,thumbnail:s.thumbnailOptimized||s.thumbnail}),children:(0,ti.jsx)("span",{children:(0,ti.jsx)(r,{to:pr(i,o),prefetch:"intent",className:(0,wo.default)("hover-link",t),children:e})})})}var xR=({node:i,className:e})=>{var t,r;return(0,ti.jsx)(mR,{url:i.url,page:(t=i.data)===null||t===void 0?void 0:t.page,wiki:(r=i.data)===null||r===void 0?void 0:r.wiki,className:(0,wo.default)(i.class,e),children:(0,ti.jsx)(ge,{ast:i.children})})},wR=({node:i,className:e})=>{var t,r,n,s,o,a,l,c;return(0,ti.jsx)(CR,{kind:(t=i.data)===null||t===void 0?void 0:t.kind,url:i.url,org:(r=i.data)===null||r===void 0?void 0:r.org,repo:(n=i.data)===null||n===void 0?void 0:n.repo,raw:(s=i.data)===null||s===void 0?void 0:s.raw,file:(o=i.data)===null||o===void 0?void 0:o.file,from:(a=i.data)===null||a===void 0?void 0:a.from,to:(l=i.data)===null||l===void 0?void 0:l.to,issue_number:(c=i.data)===null||c===void 0?void 0:c.issue_number,className:(0,wo.default)(i.class,e),children:(0,ti.jsx)(ge,{ast:i.children})})},yR=({node:i,className:e})=>{var t;return(0,ti.jsx)(gR,{rrid:(t=i.data)===null||t===void 0?void 0:t.rrid,className:(0,wo.default)(i.class,e)})},MR=({node:i,className:e})=>{var t;return(0,ti.jsx)(_R,{node:i,ror:(t=i.data)===null||t===void 0?void 0:t.ror,className:(0,wo.default)(i.class,e)})},Gq=({node:i,className:e})=>{var t,r;let n=(t=i.internal)!==null&&t!==void 0?t:!Pg(i.url),s=(r=i.static)!==null&&r!==void 0?r:!1;return n&&!s?(0,ti.jsx)(Uq,{url:i.url,className:(0,wo.default)(i.class,e),children:(0,ti.jsx)(ge,{ast:i.children})}):(0,ti.jsxs)("a",{target:"_blank",rel:"noreferrer",href:i.url,className:(0,wo.default)("link whitespace-nowrap",i.class,e),children:[(0,ti.jsx)("span",{className:"link-text whitespace-normal",children:(0,ti.jsx)(ge,{ast:i.children})}),s&&(0,ti.jsx)(ud,{className:"link-icon"}),!s&&(0,ti.jsx)($r,{className:"link-icon"})]})},Xq=({node:i,className:e})=>{var t;let r="self-center transition-transform flex-none ml-3",n="flex-1 p-4 my-5 block border font-normal hover:border-blue-500 dark:hover:border-blue-400 no-underline hover:text-blue-600 dark:hover:text-blue-400 text-gray-600 dark:text-gray-100 border-gray-200 dark:border-gray-500 rounded shadow-sm hover:shadow-lg dark:shadow-neutral-700",s=(t=i.internal)!==null&&t!==void 0?t:!1,o=(0,ti.jsxs)("div",{className:"flex h-full align-middle",children:[(0,ti.jsxs)("div",{className:"flex-grow",children:[i.title,(0,ti.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:(0,ti.jsx)(ge,{ast:i.children})})]}),s&&(0,ti.jsx)(i8,{width:"1.5rem",height:"1.5rem",className:r}),!s&&(0,ti.jsx)($r,{width:"1.5rem",height:"1.5rem",className:r})]});return s?(0,ti.jsx)("a",{href:i.url,className:(0,wo.default)(n,e),children:o}):(0,ti.jsx)("a",{className:(0,wo.default)(n,e),target:"_blank",rel:"noopener noreferrer",href:i.url,children:o})},Kq={link:{base:Gq,"link[protocol=github]":wR,"link[protocol=wiki]":xR,"link[protocol=rrid]":yR,"link[protocol=ror]":MR,"link[kind=github]":wR,"link[kind=wiki]":xR,"link[kind=rrid]":yR,"link[kind=ror]":MR},linkBlock:Xq},LR=Kq;var Qa=N(de(),1),SR=N(te(),1);var ER=N(Qe(),1),Yq=({node:i,className:e})=>{let{enumerator:t,depth:r,key:n,identifier:s,html_id:o}=i,a=o||s||n,l=(0,Qa.jsxs)(Qa.Fragment,{children:[t&&(0,Qa.jsx)("span",{className:"mr-3 select-none",children:t}),(0,Qa.jsx)("span",{className:"heading-text",children:(0,Qa.jsx)(ge,{ast:i.children})}),(0,Qa.jsx)(mi,{id:a,kind:"Section",className:"font-normal",hover:!0,hideInPopup:!0,noWidth:!0})]});return(0,SR.createElement)(`h${r}`,{id:a,className:(0,ER.default)("relative group",e)},l)},Jq={heading:Yq},RR=Jq;var ii=N(de(),1);var bh=N(Qe(),1);var M6={};qo(M6,{DATE:()=>Qq,DESCRIPTION:()=>eU,VERSION:()=>y6,downgrade:()=>rU,upgrade:()=>iU});var y6=1,Qq=new Date(Date.parse("2025-02-07")),eU="\nFootnotes have dropped backwards compatibility with `number`,\ninstead using `enumerator` on both the `FootnoteReference` and `FootnoteDefinition` nodes.\n\nPrevious versions of the AST had both of these defined.\nThe `enumerator` property is used in all other numberings of figures, sections, equations, etc.\n";function tU(i){if(i===void 0)return;let e=Number.parseInt(i,10);if(String(e)===i)return e}function iU(i){let{version:e,mdast:t}=i;if(!(e===0||e===null))throw new Error("Version must be 0");return Rr("footnoteDefinition,footnoteReference",t).forEach(n=>{n.number!==void 0&&n.enumerator==null&&(n.enumerator=String(n.number)),delete n.number}),i}function rU(i){let{version:e,mdast:t}=i;if(e!==y6)throw new Error(`Version must be ${y6}`);return Rr("footnoteDefinition,footnoteReference",t).forEach(n=>{let s=tU(n.enumerator);s!==void 0&&(n.number=s),n.number!==void 0&&n.enumerator==null&&(n.enumerator=String(n.number)),delete n.enumerator}),i}var S6={};qo(S6,{DATE:()=>nU,DESCRIPTION:()=>sU,VERSION:()=>L6,downgrade:()=>aU,upgrade:()=>oU});var L6=2,nU=new Date(Date.parse("2025-03-05")),sU="\nBlocks could previously define class on `block.data?.class`, this has been explicitly moved to `block.class`.\n";function oU(i){let{version:e,mdast:t}=i;if(e!==1)throw new Error("Version must be 1");return Rr("block",t).forEach(n=>{typeof n.data?.class=="string"&&(n.class=`${n.class??""} ${n.data.class}`.trim(),delete n.data.class,Object.keys(n.data).length===0&&delete n.data)}),i}function aU(i){let{version:e}=i;if(e!==L6)throw new Error(`Version must be ${L6}`);return i}var R6={};qo(R6,{DATE:()=>lU,DESCRIPTION:()=>cU,VERSION:()=>E6,downgrade:()=>uU,upgrade:()=>dU});var E6=3,lU=new Date(Date.parse("2025-12-03")),cU='\n`Output` nodes previously could not represent AST trees for each output. \nNow, the `Outputs` node has `Output` children with a 1:1 correspondence to `IOutput` bundles.\n\nExisting identifiers for the `Output` / `Outputs` nodes are not modified, as these are considered "content".\n';function dU(i){let{version:e,mdast:t}=i;if(e!==2)throw new Error("Version must be 2");return Rr("output",t).forEach(n=>{let s=n.data?.length??0,o=n.children??[],a=o.filter(u=>!!u.placeholder),l=s===1?o.filter(u=>!u.placeholder):[],c=(n.data??[]).map(u=>{let d={type:"output",jupyter_data:u,children:l.slice()};return l.length=0,d});c.push(...a),n.data!==void 0&&delete n.data,n.type="outputs",n.children=c}),i}function uU(i){let{version:e,mdast:t}=i;if(e!==E6)throw new Error(`Version must be ${E6}`);return Rr("outputs",t).forEach(n=>{let s=n.children.filter(c=>c.type==="output").map(c=>c.jupyter_data).filter(c=>!!c),a=n.children.filter(c=>!c.placeholder).map(c=>c.children??[]).flat(),l=n.children.filter(c=>!!c.placeholder);a.push(...l),n.data=s,n.type="output",n.children=a}),i}var _h=[M6,S6,R6];async function IR(i,e){e?.to===void 0&&e?.log?.warn("Calling migrate with no version is deprecated and will be removed in future.");let t=e?.to??_h.length,r=i.version||0;if(r===t)return e?.log?.debug(`Already at version ${t}. No migration needed.`),i;for(;r<t;){if(r>=_h.length)throw new Error(`No migration available to go from version ${r} to ${r+1}`);let n=_h[r];e?.log?.debug(`Upgrading from v${r} to v${r+1}...`),await n.upgrade(i),r++,i.version=r}for(;r>t;){if(r-1>=_h.length)throw new Error(`No migration available to go from version ${r} down to ${r-1}`);let n=_h[r-1];e?.log?.debug(`Downgrading from v${r} to v${r-1}...`),await n.downgrade(i),r--,i.version=r}return i}var hU=function(i,e,t,r){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})},fU=(...i)=>fetch(...i).then(e=>hU(void 0,void 0,void 0,function*(){var t;if(e.status===200){let r=yield e.json();try{r=yield IR(Object.assign({version:(t=r.version)!==null&&t!==void 0?t:0},r),{to:CM})}catch(n){console.error(`Error migrating content for ${i[0]} (aborted):`,n)}return r}throw new Error(`Content returned with status ${e.status}.`)}));function mU({load:i,identifier:e}){let t=gU({load:i,identifier:e});return t?t.loading?(0,ii.jsx)(ii.Fragment,{children:"Loading..."}):t.error?(0,ii.jsx)(ii.Fragment,{children:"Error loading remote page."}):!t.nodes||t.nodes.length===0?(0,ii.jsx)(ii.Fragment,{children:(0,ii.jsx)(go,{value:e||"No Label",message:"Cross Reference Not Found"})}):(0,ii.jsx)(ge,{ast:t==null?void 0:t.nodes}):null}function I6(i,e){return e&&(i!=null&&i.startsWith(e))?i:`${e||""}${i||""}`}function pU({url:i,remoteBaseUrl:e,dataUrl:t,baseurl:r}){return e||t!=null&&t.startsWith("http")?t?I6(t,e):(console.error("Expected external URL to provide a dataUrl"),null):t?pr(t,r):`${pr(i,r)}.json`}function W9({remote:i,url:e,remoteBaseUrl:t,dataUrl:r}){let n=nn(),s=pU({url:e,remoteBaseUrl:t,dataUrl:r,baseurl:n});return Ps(i?s:null,fU)}function gU({load:i,identifier:e}){var t;let r=co(),n=RM(),{remote:s,url:o,remoteBaseUrl:a,dataUrl:l}=Go();if(!i)return;let{data:c,error:u}=W9({remote:s,url:o,remoteBaseUrl:a,dataUrl:l}),d=c?c.mdast:r==null?void 0:r.article,f=c?(t=c.frontmatter)===null||t===void 0?void 0:t.parts:n==null?void 0:n.parts,h=[],m;return[{mdast:d},...Object.values(f!=null?f:{})].forEach(({mdast:p})=>{if(!p||h.length>0)return;let v=Jy(p,e,3);h=v.nodes,m=v.htmlId}),{htmlId:m,nodes:h,loading:s&&!c,error:s&&u}}function vU({url:i,dataUrl:e,remote:t,remoteBaseUrl:r,children:n,identifier:s,className:o,htmlId:a=""}){var l;let c=Os(),u=nn(),d=Go(),f=r!=null?r:d.remoteBaseUrl,h=!!f||d.remote||t,m=d.remote?i!=null?i:d.url:i,p=d.remote?e!=null?e:d.dataUrl:e,v=!!f||((l=m==null?void 0:m.startsWith("http"))!==null&&l!==void 0?l:!1),x=y=>{if(y.preventDefault(),!a)return;let S=document.getElementById(a);Up(S,{htmlId:a})},C=(o!=null?o:"").split(" ").includes("button");return(0,ii.jsx)(vr,{card:({load:y})=>(0,ii.jsx)(Zp,{remote:h,remoteBaseUrl:f,url:m,dataUrl:p,children:(0,ii.jsxs)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] overflow-auto",children:[f&&(0,ii.jsxs)("div",{className:"px-3 py-1 w-full text-xs bg-gray-50 border-b",children:[(0,ii.jsx)("strong",{className:"text-gray-700",children:"Source: "}),(0,ii.jsx)("a",{className:(0,bh.default)("text-gray-700",o),href:`${I6(m,f)}${a?`#${a}`:""}`,target:"_blank",children:f})]}),(0,ii.jsx)("div",{className:"px-3",children:(0,ii.jsx)(mU,{load:y,identifier:s})})]})}),children:(0,ii.jsxs)("span",{children:[h&&v&&(0,ii.jsx)("a",{href:`${I6(m,f)}${a?`#${a}`:""}`,target:"_blank",className:(0,bh.default)({"hover-link":!C},o),children:n}),h&&!v&&(0,ii.jsx)(c,{to:`${pr(m,u)}${a?`#${a}`:""}`,prefetch:"intent",className:(0,bh.default)({"hover-link":!C},o),children:n}),!h&&(0,ii.jsx)("a",{href:`#${a}`,onClick:x,className:(0,bh.default)({"hover-link":!C},o),children:n})]})})}var _U=({node:i,className:e})=>{if(!i.children)return(0,ii.jsx)(go,{value:i.label||i.identifier||"No Label",message:"Cross Reference Not Found",className:e});let{remote:t,url:r,dataUrl:n,remoteBaseUrl:s,identifier:o,html_id:a,class:l}=i;return(0,ii.jsxs)(vU,{identifier:o,htmlId:a,remote:t,url:r,dataUrl:n,remoteBaseUrl:s,className:(0,bh.default)(l,e),children:[i.prefix&&(0,ii.jsxs)(ii.Fragment,{children:[i.prefix," "]}),(0,ii.jsx)(ge,{ast:i.children}),i.suffix||null]})},bU={crossReference:_U},kR=bU;var Fn=N(de(),1),Z9=N(Qe(),1),cc=N(te(),1);var TR=(0,cc.createContext)(void 0);function CU({active:i,children:e}){return(0,Fn.jsx)(TR.Provider,{value:i,children:e})}function AR({tabs:i,children:e,className:t}){var r,n,s,o;let[a,l]=(r=PM())!==null&&r!==void 0?r:[],[c,u]=(0,cc.useState)((s=(n=i.find(f=>f.selected))===null||n===void 0?void 0:n.id)!==null&&s!==void 0?s:(o=i==null?void 0:i[0])===null||o===void 0?void 0:o.id),d=f=>{u(f.id),f.sync&&(l||console.error("TabStateProvider is not defined, synced tabs will not work."),l==null||l(f.sync))};return(0,cc.useEffect)(()=>{if(!a)return;let f=i.find(h=>h.sync===a);f&&u(f==null?void 0:f.id)},[i,a,u]),(0,Fn.jsx)(CU,{active:c,children:(0,Fn.jsxs)("div",{className:(0,Z9.default)("myst-tab-set my-5",t),children:[(0,Fn.jsx)("div",{className:"myst-tab-set-row flex flex-row flex-wrap overflow-x-auto border-b border-b-gray-100",children:i.map(f=>(0,Fn.jsx)("div",{className:(0,Z9.default)("myst-tab-item-header flex-none px-3 py-1 font-semibold cursor-pointer",{"myst-tab-item-header-active text-blue-600 border-b-2 border-b-blue-600 dark:border-b-white dark:text-white":c===f.id,"myst-tab-item-header-inactive text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-100":c!==f.id}),onClick:()=>d(f),children:f.title},f.id))}),(0,Fn.jsx)("div",{className:"myst-tab-item-body flex shadow",children:(0,Fn.jsx)("div",{className:"myst-tab-item-text w-full px-6",children:e})})]})})}function NR({id:i,children:e,className:t}){let n=(0,cc.useContext)(TR)===i;return(0,Fn.jsx)("div",{className:(0,Z9.default)({hidden:!n},t),children:e})}var xU=({node:i,className:e})=>{let t=Rr("tabItem",i).map(r=>({title:r.title,id:r.key,sync:r.sync}));return(0,Fn.jsx)(AR,{tabs:t,className:e,children:(0,Fn.jsx)(ge,{ast:i.children})})},wU=({node:i,className:e})=>(0,Fn.jsx)(NR,{id:i.key,className:e,children:(0,Fn.jsx)(ge,{ast:i.children})}),yU={tabSet:xU,tabItem:wU},OR=yU;var q9=N(de(),1),DR=N(Qe(),1);function MU(i){return[...i!=null?i:""].reduce((e,t)=>{let r=e.pop(),n=t==="+"?"\u207A":t==="-"?"\u207B":t,s=n.match(/[0-9]/),o=r==null?void 0:r.match(/[0-9]/);return s?o?[...e,`${r!=null?r:""}${n}`]:[...e,r,n].filter(a=>!!a):o?[...e,r,n].filter(a=>!!a):[...e,`${r!=null?r:""}${n}`]},[])}var LU=({node:i,className:e})=>{let t=MU(i.value);return(0,q9.jsx)("span",{className:(0,DR.default)("text-inherit",e),"aria-roledescription":"Chemical Formula",children:t.map((r,n)=>r.match(/[0-9]/)?(0,q9.jsx)("sub",{children:r},n):(0,q9.jsx)("span",{children:r},n))})},SU={chemicalFormula:LU},HR=SU;var zR=N(de(),1),EU=({node:i,className:e})=>{var t;let r=i.number==null?"":" ",n=`${(t=i.number)!==null&&t!==void 0?t:""}${r}${i.alt}`;return(0,zR.jsx)("span",{title:n,className:e,children:i.value})},RU={si:EU},BR=RU;var IU=Object.assign(Object.assign({},HR),BR),PR=IU;var wd=N(de(),1);var jR=N(Qe(),1),kU=({node:i,className:e})=>{var t,r,n;return i.result?((t=i.result)===null||t===void 0?void 0:t.status)!=="ok"?(0,wd.jsx)(go,{value:`${(r=i.result)===null||r===void 0?void 0:r.ename}: ${(n=i.result)===null||n===void 0?void 0:n.evalue}`,className:e}):(0,wd.jsx)(q1,{title:(0,wd.jsx)("code",{children:i.value}),children:(0,wd.jsx)("span",{className:(0,jR.default)("border-b border-dotted cursor-help",e),children:(0,wd.jsx)(ge,{ast:i.children})})}):(0,wd.jsx)(go,{value:`Unexecuted inline expression for: ${i.value}`,className:e})},TU={inlineExpression:kU},$R=TU;var nr=N(de(),1);var Ch=N(Qe(),1);var Fr;(function(i){i.proof="proof",i.axiom="axiom",i.lemma="lemma",i.definition="definition",i.criterion="criterion",i.remark="remark",i.conjecture="conjecture",i.corollary="corollary",i.algorithm="algorithm",i.example="example",i.property="property",i.observation="observation",i.proposition="proposition",i.assumption="assumption",i.theorem="theorem"})(Fr||(Fr={}));function AU(i){var e;let t=(e=i==null?void 0:i.split(" ").map(r=>r.trim().toLowerCase()).filter(r=>!!r))!==null&&e!==void 0?e:[];return[...new Set(t)]}function VR(i){return i?i.slice(0,1).toUpperCase()+i.slice(1):""}function NU({kind:i}){switch(i){case Fr.proof:case Fr.algorithm:return{color:"gray"};case Fr.lemma:case Fr.conjecture:case Fr.theorem:return{color:"purple"};case Fr.observation:case Fr.assumption:case Fr.axiom:return{color:"yellow"};case Fr.criterion:case Fr.corollary:case Fr.property:return{color:"orange"};case Fr.example:return{color:"green"};case Fr.remark:return{color:"red"};case Fr.definition:case Fr.proposition:default:return{color:"blue"}}}var OU=({id:i,dropdown:e,className:t,children:r})=>e?(0,nr.jsx)("details",{id:i,className:t,children:r}):(0,nr.jsx)("aside",{id:i,className:t,children:r}),DU=({dropdown:i,className:e,children:t})=>i?(0,nr.jsx)("summary",{className:e,children:t}):(0,nr.jsx)("div",{className:e,children:t}),HU="inline-block pl-2 mr-2 self-center flex-none";function zU({title:i,kind:e,color:t,dropdown:r,children:n,identifier:s,enumerator:o,className:a}){return(0,nr.jsxs)(OU,{id:s,dropdown:r,className:(0,Ch.default)("myst-proof my-5 shadow dark:bg-stone-800 overflow-hidden","dark:border-l-4 border-slate-400",{"dark:border-gray-500/60":!t||t==="gray","dark:border-blue-500/60":t==="blue","dark:border-green-500/60":t==="green","dark:border-amber-500/70":t==="yellow","dark:border-orange-500/60":t==="orange","dark:border-red-500/60":t==="red","dark:border-purple-500/60":t==="purple"},a),children:[(0,nr.jsxs)(DU,{dropdown:r,className:(0,Ch.default)("myst-proof-header m-0 font-medium py-2 flex min-w-0","text-md","border-y dark:border-y-0",{"bg-gray-50/80 dark:bg-slate-900":!t||t==="gray","bg-blue-50/80 dark:bg-slate-900":t==="blue","bg-green-50/80 dark:bg-slate-900":t==="green","bg-amber-50/80 dark:bg-slate-900":t==="yellow","bg-orange-50/80 dark:bg-slate-900":t==="orange","bg-red-50/80 dark:bg-slate-900":t==="red","bg-purple-50/80 dark:bg-slate-900":t==="purple","cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]":r}),children:[(0,nr.jsxs)("div",{className:(0,Ch.default)("myst-proof-title text-neutral-900 dark:text-white grow self-center overflow-hidden break-words","ml-4"),children:[(0,nr.jsxs)(mi,{id:s,kind:VR(e),children:[VR(e)," ",o]})," ",i&&(0,nr.jsxs)(nr.Fragment,{children:["(",i,")"]})]}),r&&(0,nr.jsx)("div",{className:"self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200",children:(0,nr.jsx)(ts,{width:"1.5rem",height:"1.5rem",className:(0,Ch.default)(HU,"transition-transform details-toggle")})})]}),(0,nr.jsx)("div",{className:(0,Ch.default)("myst-proof-body px-4",{"details-body":r}),children:n})]})}var BU=({node:i,className:e})=>{let[t,...r]=i.children,n=AU(i.class),{color:s}=NU({kind:i.kind,classes:n}),o=n.includes("dropdown"),a=(t==null?void 0:t.type)==="admonitionTitle";return(0,nr.jsx)(zU,{identifier:i.html_id,title:a?(0,nr.jsx)(ge,{ast:[t]}):void 0,kind:i.kind,enumerator:i.enumerator,color:s,dropdown:o,className:e,children:a?(0,nr.jsx)(ge,{ast:r}):(0,nr.jsx)(ge,{ast:i.children})})},PU={proof:BU},FR=PU;var Pt=N(de(),1);var dc=N(Qe(),1);function WR(i){var e;let t=(e=i==null?void 0:i.split(" ").map(r=>r.trim().toLowerCase()).filter(r=>!!r))!==null&&e!==void 0?e:[];return[...new Set(t)]}function ZR({classes:i=[]},e="blue"){return i.includes("gray")?{color:"gray"}:i.includes("purple")?{color:"purple"}:i.includes("yellow")?{color:"yellow"}:i.includes("orange")?{color:"orange"}:i.includes("green")?{color:"green"}:i.includes("red")?{color:"red"}:i.includes("blue")?{color:"blue"}:{color:e}}var jU=({id:i,dropdown:e,className:t,children:r})=>e?(0,Pt.jsx)("details",{id:i,className:t,children:r}):(0,Pt.jsx)("aside",{id:i,className:t,children:r}),$U=({dropdown:i,className:e,children:t})=>i?(0,Pt.jsx)("summary",{className:e,children:t}):(0,Pt.jsx)("div",{className:e,children:t}),VU="inline-block pl-2 mr-2 self-center flex-none";function el({title:i,color:e,dropdown:t,children:r,identifier:n,className:s,Icon:o}){return(0,Pt.jsxs)(jU,{id:n,dropdown:t,className:(0,dc.default)("myst-exercise my-5 shadow dark:bg-stone-800 overflow-hidden","dark:border-l-4 border-slate-400",{"dark:border-gray-500/60":!e||e==="gray","dark:border-blue-500/60":e==="blue","dark:border-green-500/60":e==="green","dark:border-amber-500/70":e==="yellow","dark:border-orange-500/60":e==="orange","dark:border-red-500/60":e==="red","dark:border-purple-500/60":e==="purple"},s),children:[(0,Pt.jsxs)($U,{dropdown:t,className:(0,dc.default)("myst-exercise-header m-0 font-medium py-2 flex min-w-0","text-md","border-y dark:border-y-0",{"bg-gray-50/80 dark:bg-slate-900":!e||e==="gray","bg-blue-50/80 dark:bg-slate-900":e==="blue","bg-green-50/80 dark:bg-slate-900":e==="green","bg-amber-50/80 dark:bg-slate-900":e==="yellow","bg-orange-50/80 dark:bg-slate-900":e==="orange","bg-red-50/80 dark:bg-slate-900":e==="red","bg-purple-50/80 dark:bg-slate-900":e==="purple","cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]":t}),children:[o&&(0,Pt.jsx)(o,{width:"2rem",height:"2rem",className:(0,dc.default)("myst-exercise-header-icon inline-block pl-2 mr-2 self-center flex-none",(0,dc.default)({"text-gray-600":!e||e==="gray","text-blue-600":e==="blue","text-green-600":e==="green","text-amber-600":e==="yellow","text-orange-600":e==="orange","text-red-600":e==="red","text-purple-600":e==="purple"}))}),(0,Pt.jsx)("div",{className:(0,dc.default)("myst-exercise-title text-neutral-900 dark:text-white grow self-center overflow-hidden break-words",{"ml-4":!o},"group"),children:i}),t&&(0,Pt.jsx)("div",{className:"self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200",children:(0,Pt.jsx)(ts,{width:"1.5rem",height:"1.5rem",className:(0,dc.default)(VU,"transition-transform details-toggle")})})]}),(0,Pt.jsx)("div",{className:(0,dc.default)("myst-exercise-body px-4",{"details-body":t}),children:r})]})}var FU=({node:i,className:e})=>{var t,r,n;if(i.hidden)return null;let[s,...o]=(t=i.children)!==null&&t!==void 0?t:[],a=WR(i.class),{color:l}=ZR({classes:a}),c=a.includes("dropdown"),u=((n=(r=i.children)===null||r===void 0?void 0:r[0])===null||n===void 0?void 0:n.type)==="admonitionTitle",d=i.html_id,f=i.enumerator,h=(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)(mi,{id:d,kind:"Exercise",children:[i.gate==="start"&&"Start of ",i.gate==="end"&&"End of ","Exercise",f!=null&&(0,Pt.jsxs)(Pt.Fragment,{children:[" ",f]})]}),u&&(0,Pt.jsxs)(Pt.Fragment,{children:[" ","(",(0,Pt.jsx)(ge,{ast:[s]}),")"]})]});return(0,Pt.jsx)(el,{identifier:d,title:h,color:l,dropdown:c,className:e,children:u?(0,Pt.jsx)(ge,{ast:o}):(0,Pt.jsx)(ge,{ast:i.children})})},WU=({node:i,className:e})=>{var t,r,n;if(i.hidden)return null;let[s,...o]=(t=i.children)!==null&&t!==void 0?t:[],a=WR(i.class),{color:l}=ZR({classes:a},"gray"),c=a.includes("dropdown"),u=((n=(r=i.children)===null||r===void 0?void 0:r[0])===null||n===void 0?void 0:n.type)==="admonitionTitle",d=i.html_id,f=(0,Pt.jsxs)(Pt.Fragment,{children:[i.gate==="start"&&"Start of ",i.gate==="end"&&"End of ",(0,Pt.jsx)(ge,{ast:[s]}),(0,Pt.jsx)(mi,{id:d,kind:"Solution",hover:!0,hideInPopup:!0,children:" #"})]});return(0,Pt.jsx)(el,{identifier:d,title:u?f:void 0,color:l,dropdown:c,className:e,children:u?(0,Pt.jsx)(ge,{ast:o}):(0,Pt.jsx)(ge,{ast:i.children})})},ZU={exercise:FU,solution:WU},qR=ZU;var tl=N(de(),1);var k6=N(Qe(),1);function qU(i){switch(i){case"topic":return{container:"myst-aside myst-aside-${kind} my-5 shadow dark:bg-stone-800 overflow-hidden dark:border-l-4 border-slate-400",title:"myst-aside-title m-0 font-medium py-2 px-4 flex min-w-0 text-md border-y dark:border-y-0 bg-gray-50/80 dark:bg-slate-900",body:"myst-aside-body px-4"};case"margin":case"sidebar":default:return{container:"myst-aside myst-aside-${kind} text-sm lg:h-0 col-margin-right",title:"myst-aside-title text-base font-semibold",body:"myst-aside-body"}}}var UU=({node:i,className:e})=>{let[t,...r]=i.children,n=qU(i.kind);return t.type!=="admonitionTitle"?(0,tl.jsx)("aside",{className:(0,k6.default)(n.container,i.class,e),children:(0,tl.jsx)(ge,{ast:i.children})}):(0,tl.jsxs)("aside",{className:(0,k6.default)(n.container,i.class,e),children:[(0,tl.jsx)("div",{className:n.title,children:(0,tl.jsx)(ge,{ast:t})}),(0,tl.jsx)("div",{className:n.body,children:(0,tl.jsx)(ge,{ast:r})})]})},GU={aside:UU},UR=GU;var uc=N(de(),1);var XU=({node:i,className:e})=>{let t=(0,uc.jsxs)(uc.Fragment,{children:[(0,uc.jsx)("code",{children:i.name})," - Unknown Directive"]});return(0,uc.jsx)(el,{title:t,color:"red",dropdown:!0,Icon:$a,className:e,children:(0,uc.jsx)("pre",{children:i.value})})},KU={mystDirective:XU},GR=KU;var U9=Hp([PS,GR,qS,VE,LR,NE,HE,JS,OR,PE,QS,VS,zE,RR,kR,FS,US,XS,$R,PR,FR,qR,UR],!0);var im=N(Qe(),1),H6=N(QR(),1),jt=N(te(),1);var Wr=N(te(),1);var A6=N(te(),1);var mG=A6[" useId ".trim().toString()]||(()=>{}),pG=0;function hc(i){let[e,t]=A6.useState(mG());return sn(()=>{i||t(r=>r??String(pG++))},[i]),i||(e?`radix-${e}`:"")}var yd=N(de(),1),X9="Collapsible",[gG,q1e]=Xo(X9),[vG,N6]=gG(X9),eI=Wr.forwardRef((i,e)=>{let{__scopeCollapsible:t,open:r,defaultOpen:n,disabled:s,onOpenChange:o,...a}=i,[l,c]=j1({prop:r,defaultProp:n??!1,onChange:o,caller:X9});return(0,yd.jsx)(vG,{scope:t,disabled:s,contentId:hc(),open:l,onOpenToggle:Wr.useCallback(()=>c(u=>!u),[c]),children:(0,yd.jsx)(Ut.div,{"data-state":D6(l),"data-disabled":s?"":void 0,...a,ref:e})})});eI.displayName=X9;var tI="CollapsibleTrigger",iI=Wr.forwardRef((i,e)=>{let{__scopeCollapsible:t,...r}=i,n=N6(tI,t);return(0,yd.jsx)(Ut.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":D6(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...r,ref:e,onClick:ei(i.onClick,n.onOpenToggle)})});iI.displayName=tI;var O6="CollapsibleContent",rI=Wr.forwardRef((i,e)=>{let{forceMount:t,...r}=i,n=N6(O6,i.__scopeCollapsible);return(0,yd.jsx)(Wa,{present:t||n.open,children:({present:s})=>(0,yd.jsx)(_G,{...r,ref:e,present:s})})});rI.displayName=O6;var _G=Wr.forwardRef((i,e)=>{let{__scopeCollapsible:t,present:r,children:n,...s}=i,o=N6(O6,t),[a,l]=Wr.useState(r),c=Wr.useRef(null),u=Ui(e,c),d=Wr.useRef(0),f=d.current,h=Wr.useRef(0),m=h.current,p=o.open||a,v=Wr.useRef(p),x=Wr.useRef(void 0);return Wr.useEffect(()=>{let C=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(C)},[]),sn(()=>{let C=c.current;if(C){x.current=x.current||{transitionDuration:C.style.transitionDuration,animationName:C.style.animationName},C.style.transitionDuration="0s",C.style.animationName="none";let y=C.getBoundingClientRect();d.current=y.height,h.current=y.width,v.current||(C.style.transitionDuration=x.current.transitionDuration,C.style.animationName=x.current.animationName),l(r)}},[o.open,r]),(0,yd.jsx)(Ut.div,{"data-state":D6(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...s,ref:u,style:{["--radix-collapsible-content-height"]:f?`${f}px`:void 0,["--radix-collapsible-content-width"]:m?`${m}px`:void 0,...i.style},children:p&&n})});function D6(i){return i?"open":"closed"}var nI=eI,sI=iI,oI=rI;var Ii=N(de(),1),CG=[1,2,3,4].map(i=>`main h${i}`).join(", "),K9=typeof document!="undefined";function z6(i,e){if(i===e)return i;if(i.length!==e.length)return e;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return e;return i}var xG=({headings:i,activeId:e})=>(0,Ii.jsx)("ul",{className:"myst-outline-list text-sm leading-6 text-slate-400",children:i.map(t=>(0,Ii.jsx)("li",{className:(0,im.default)("myst-outline-item border-l-2 hover:border-l-blue-500",{"text-blue-600":t.id===e,"border-l-gray-300 dark:border-l-gray-50":t.id!==e,"border-l-blue-500":t.id===e,"bg-blue-50 dark:bg-slate-800":t.id===e,"myst-outline-item-active":t.id===e}),children:(0,Ii.jsx)("a",{className:(0,im.default)("block p-1",{"text-slate-900 dark:text-slate-50":t.level<2&&t.id!==e,"text-slate-500 dark:text-slate-300":t.level>=2&&t.id!==e,"text-blue-600 dark:text-white font-bold":t.id===e,"pr-2":t.id!==e,"pl-2":t.level===1,"pl-4":t.level===2,"pl-8 text-xs":t.level===3,"pl-10 text-xs font-light":t.level===4,"pl-12 text-xs font-extralight":t.level===5}),href:`#${t.id}`,onClick:r=>{r.preventDefault();let n=document.querySelector(`#${t.id}`);n&&(n.scrollIntoView({behavior:"smooth"}),history.replaceState(void 0,"",`#${t.id}`),n.tabIndex===-1&&(n.tabIndex=-1),n.focus({preventScroll:!0}))},dangerouslySetInnerHTML:{__html:t.titleHTML}})},t.id))});function wG(i){let e=i.cloneNode(!0),t=e.getElementsByTagName("abbr");for(let r=0;r<t.length;r++){let n=t[r],s=n.parentNode;for(;n.firstChild;)s.insertBefore(n.firstChild,n);s.removeChild(n)}return e}function yG(i){return Array.from(document.querySelectorAll(i)).filter(t=>{let r=t.closest(".exclude-from-outline");return!(t.classList.contains("title")||r)})}function aI(i,e,t){let[r,n]=(0,jt.useState)(null);if(!K9)return{observer:r};(0,jt.useEffect)(()=>{let s=new MutationObserver(e);n(s)},[e,n]),(0,jt.useEffect)(()=>{if(!(!r||!i.current)){try{r.observe(i.current,t)}catch(s){console.error(s)}return()=>{r&&r.disconnect()}}},[r])}var lI=(i,e)=>{let[t,r]=(0,jt.useState)(null),[n,s]=(0,jt.useState)([]);return K9?((0,jt.useEffect)(()=>{let o=l=>{s(c=>{let u=new Set(c);return l.forEach(d=>{d.isIntersecting?u.add(d.target):u.delete(d.target)}),z6(c,Array.from(u))})},a=new IntersectionObserver(o,e!=null?e:{});return r(a),()=>a.disconnect()},[e]),(0,jt.useEffect)(()=>{if(!t)return;let o=i;return o.forEach(a=>{t.observe(a)}),()=>{o.forEach(a=>{t.unobserve(a)}),s(a=>a.filter(l=>!o.includes(l)))}},[i,t]),{observer:t,intersecting:n}):{observer:t}};function cI(i,e){let t=jp();if(!K9)return{activeId:"",headings:[]};let r=(0,jt.useRef)(null);(0,jt.useEffect)(()=>{r.current=document.querySelector("main")},[]);let[n,s]=(0,jt.useState)([]),o=(0,jt.useCallback)((0,H6.default)(()=>{s(f=>z6(f,yG(i)))},500,{trailing:!0}),[i]);aI(r,o,{attributes:!0,childList:!0,subtree:!0}),(0,jt.useEffect)(o,[]);let{intersecting:a}=lI(n),[l,c]=(0,jt.useState)();(0,jt.useEffect)(()=>{let f=t-10,h=a.reduce((C,y)=>C||(y.classList.contains("highlight")?y.id:null),null),m=a,p,v=window.innerHeight*.33;for(let C of m){let y=C.getBoundingClientRect().top-f;y>=0&&y<=v&&(!p||y<p.distance)&&(p={el:C,distance:y})}let x=p==null?void 0:p.el;(h||x)&&c(h||(x==null?void 0:x.id))},[a,t]);let[u,d]=(0,jt.useState)([]);return(0,jt.useEffect)(()=>{let f=10,h=n.map(m=>({element:m,level:Number(m.tagName.slice(1)),id:m.id,text:m.querySelector(".heading-text")})).filter(m=>!!m.text).map(({element:m,level:p,text:v,id:x})=>{let{innerText:C,innerHTML:y}=wG(v);return f=Math.min(f,p),{element:m,title:C,titleHTML:y,id:x,level:p}}).filter(m=>(m.level=m.level-f+1,m.level<e+1));d(h)},[n]),{activeId:l,headings:u}}function MG(){let[i,e]=(0,jt.useState)(!1),[t,r]=(0,jt.useState)([]),n=(0,jt.useMemo)(()=>({rootMargin:"0px 0px -33% 0px"}),[]),s=(0,jt.useRef)(null);(0,jt.useEffect)(()=>{s.current=document.querySelector("main")},[]);let o=(0,jt.useCallback)((0,H6.default)(()=>{if(!s.current)return;let c=["col-margin-right","col-margin-right-inset","col-gutter-outset-right","col-screen-right","col-screen-inset-right","col-page-right","col-page-inset-right","col-body-outset-right","col-gutter-page-right","col-page","col-page-inset","col-body-outset"].map(d=>[`.${d}`,`.${d} > *`]).flat().join(", "),u=s.current.querySelectorAll(c);r(d=>z6(d,Array.from(u)))},500,{trailing:!0}),[]);aI(s,o,{attributes:!0,childList:!0,subtree:!0}),(0,jt.useEffect)(o,[]);let{intersecting:a}=lI(t,n);return(0,jt.useEffect)(()=>{e(a.length>0)},[a]),{occluded:i}}var LG=({outlineRef:i,title:e="Contents",top:t=0,className:r,selector:n=CG,children:s,maxdepth:o=4,isMargin:a})=>{let{activeId:l,headings:c}=cI(n,o),[u,d]=(0,jt.useState)(!1),{occluded:f}=MG();return(0,jt.useEffect)(()=>{d(!0)},[a]),(0,jt.useEffect)(()=>{a&&d(!f)},[f,a]),c.length<=1||!K9?(0,Ii.jsx)("nav",{suppressHydrationWarning:!0,children:s}):(0,Ii.jsx)(nI,{open:u,onOpenChange:d,className:"myst-outline-section",children:(0,Ii.jsxs)("nav",{ref:i,"aria-label":"Document Outline",className:(0,im.default)("myst-outline not-prose overflow-y-auto","transition-opacity duration-700","bg-white/95 dark:bg-stone-900/95 backdrop-blur-sm rounded-lg p-2 -m-2",r),style:{top:t,maxHeight:`calc(100vh - ${t+100}px)`},children:[(0,Ii.jsxs)("div",{className:"myst-outline-header flex flex-row gap-2 mb-4 text-sm leading-6 uppercase rounded-lg text-slate-900 dark:text-slate-100",children:[e,(0,Ii.jsx)(sI,{asChild:!0,children:(0,Ii.jsx)("button",{className:"myst-outline-collapsible self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2","aria-label":"Open Contents",children:(0,Ii.jsx)(ts,{className:"transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100",height:"1.5rem",width:"1.5rem"})})})]}),(0,Ii.jsxs)(oI,{className:"CollapsibleContent",children:[(0,Ii.jsx)(xG,{headings:c,activeId:l}),s]})]})})};function SG(){var n,s;let{projects:i}=(n=ja())!=null?n:{},e=Hg(),t=nn(),r=(s=i==null?void 0:i[0])==null?void 0:s.pages;return!r||r.length===0?null:(0,Ii.jsxs)(Ii.Fragment,{children:[(0,Ii.jsx)("div",{className:"myst-supporting-documents my-4 text-sm leading-6 uppercase text-slate-900 dark:text-slate-100",children:"Supporting Documents"}),(0,Ii.jsx)("ul",{className:"flex flex-col gap-2 pl-0 text-sm leading-6 list-none text-slate-700 dark:text-slate-300",children:r.filter(o=>"slug"in o).map(o=>(0,Ii.jsx)("li",{children:(0,Ii.jsxs)(e,{to:pr(`/${qy(o.slug)}#main`,t),prefetch:"intent",className:({isActive:a})=>(0,im.default)("no-underline flex self-center hover:text-blue-700",{"text-blue-600":a}),children:[(0,Ii.jsx)(Yg,{width:"1.25rem",height:"1.25rem",className:"inline mr-2 shrink-0"}),(0,Ii.jsx)("span",{children:o.short_title||o.title})]})},o.slug))})]})}var B6=N(Qe(),1);var yo=N(de(),1),P6=({title:i,short_title:e,url:t,group:r,right:n})=>{let s=nn(),o=Os();return(0,yo.jsx)(o,{prefetch:"intent",className:(0,B6.default)("myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700",{"myst-footer-link-prev":n,"myst-footer-link-next":!n}),to:pr(t,s),children:(0,yo.jsxs)("div",{className:"flex h-full align-middle",children:[n&&(0,yo.jsx)(Fg,{width:"1.5rem",height:"1.5rem",className:"myst-footer-link-icon self-center transition-transform group-hover:-translate-x-1 shrink-0"}),(0,yo.jsxs)("div",{className:(0,B6.default)("flex-grow",{"text-right":n}),children:[(0,yo.jsx)("div",{className:"myst-footer-link-group text-xs text-gray-500 dark:text-gray-400",children:r||" "}),e||i]}),!n&&(0,yo.jsx)(Zg,{width:"1.5rem",height:"1.5rem",className:"myst-footer-link-icon self-center transition-transform group-hover:translate-x-1 shrink-0"})]})})};function EG({links:i}){var e,t,r,n,s,o;return!i||!((e=i.navigation)!=null&&e.prev)&&!((t=i.navigation)!=null&&t.next)?null:(0,yo.jsxs)("div",{className:"myst-footer-links flex pt-10 mb-10 space-x-4",children:[((r=i.navigation)==null?void 0:r.prev)&&(0,yo.jsx)(P6,{...(n=i.navigation)==null?void 0:n.prev,right:!0}),((s=i.navigation)==null?void 0:s.next)&&(0,yo.jsx)(P6,{...(o=i.navigation)==null?void 0:o.next})]})}var dI=N(te(),1),Y9="myst";async function uI(i){if(!i.port||window.mystLiveReloadConnected)return;window.mystLiveReloadConnected=!0,setTimeout(()=>{let s=JSON.parse(sessionStorage.getItem(Y9)||"{}");s.scroll&&(window.scrollTo(0,s.scroll),sessionStorage.removeItem(Y9))},30),console.log(`\u{1F50A} Listening to live content changes on port ${i.port}`);let e=location.protocol==="https:"?"wss:":"ws:",t=location.hostname,r=`${e}//${t}:${i.port}/socket`,n=new WebSocket(r);n.onmessage=s=>{let o=JSON.parse(s.data);if(o.type==="LOG"&&console.log(o.message),o.type==="RELOAD"){console.log("\u{1F680} Reloading window ..."),console.log(`\u{1F4CC} Keeping scroll for page at ${window.scrollY}`);let a=JSON.parse(sessionStorage.getItem(Y9)||"{}");a.scroll=window.scrollY,sessionStorage.setItem(Y9,JSON.stringify(a)),window.location.reload()}},n.onopen=()=>{i&&typeof i.onOpen=="function"&&i.onOpen()},n.onclose=()=>{console.log("MyST content server web socket closed. Reconnecting..."),setTimeout(()=>uI({...i,onOpen:()=>window.location.reload()}),1e3)},n.onerror=s=>{console.log("MyST content server web socket error:"),console.error(s)}}function RG({port:i}){return(0,dI.useEffect)(()=>{uI({port:i})},[]),null}var j6=N(Qe(),1);var hI=N(te(),1),js=N(de(),1);function IG({containerClassName:i,innerClassName:e,hideLongBibliography:t=15}){var d;let r=co(),n=o1(),{order:s,data:o}=(d=r==null?void 0:r.cite)!=null?d:{},a=s==null?void 0:s.filter(f=>f),[l,c]=(0,hI.useState)(!0);if(!a||!o||a.length===0)return null;let u=l&&t?a.slice(0,t):a;return(0,js.jsxs)("section",{id:"references",className:(0,j6.default)("myst-bibliography",n,"subgrid-gap col-screen",i),children:[(0,js.jsxs)("div",{className:e,children:[!!t&&a.length>t&&(0,js.jsx)("button",{onClick:()=>c(!l),className:"myst-bibliography-toggle float-right p-1 px-2 text-xs border rounded hover:border-blue-500 dark:hover:border-blue-400",children:l?"Show All":"Collapse"}),(0,js.jsxs)("header",{className:"myst-bibliography-header text-lg font-semibold text-stone-900 dark:text-white group",children:["References",(0,js.jsx)(mi,{id:"references",title:"Link to References",hover:!0,className:"ml-2"})]})]}),(0,js.jsx)("div",{className:(0,j6.default)("myst-bibliography-list pl-3 mb-8 text-xs text-stone-500 dark:text-stone-300",e),children:(0,js.jsxs)("ol",{children:[u.map(f=>{let{html:h}=o[f];return(0,js.jsx)("li",{className:"myst-bibliography-item break-words",id:`cite-${f}`,dangerouslySetInnerHTML:{__html:h||""}},f)}),!!t&&a.length>t&&(0,js.jsx)("li",{className:"text-center list-none",children:(0,js.jsx)("button",{onClick:()=>c(!l),className:"myst-bibliography-toggle p-2 border rounded hover:border-blue-500 dark:hover:border-blue-400",children:l?`Show all ${a.length} references`:"Collapse references"})})]})})]})}var $6=N(Qe(),1);var Wn=N(de(),1);function kG({containerClassName:i,innerClassName:e}){let t=co(),r=o1(),n=Rr("footnoteDefinition",t==null?void 0:t.article),s=Rr("footnoteReference",t==null?void 0:t.article);return n.length===0?null:(0,Wn.jsxs)("section",{id:"footnotes",className:(0,$6.default)("myst-footnotes",r,"subgrid-gap col-screen",i),children:[(0,Wn.jsx)("div",{className:e,children:(0,Wn.jsxs)("header",{className:"myst-footnotes-header text-lg font-semibold text-stone-900 dark:text-white group",children:["Footnotes",(0,Wn.jsx)(mi,{id:"footnotes",title:"Link to Footnotes",hover:!0,className:"ml-2"})]})}),(0,Wn.jsx)("div",{className:(0,$6.default)("myst-footnotes-list pl-3 mb-8 text-xs text-stone-500 dark:text-stone-300",e),children:(0,Wn.jsx)("ol",{children:n.map(o=>(0,Wn.jsx)("li",{id:`fn-${o.identifier}`,className:"myst-footnotes-item group",children:(0,Wn.jsxs)("div",{className:"flex flex-row",children:[(0,Wn.jsx)("div",{className:"myst-footnote-content break-words grow",children:(0,Wn.jsx)(ge,{ast:o.children})}),(0,Wn.jsx)("div",{className:"myst-footnote-backlinks flex flex-col grow-0",children:s.filter(a=>a.identifier===o.identifier).map(a=>(0,Wn.jsx)(mi,{id:`fnref-${a.key}`,title:"Link to Content",hover:"desktop",className:"p-1",children:"\u21A9",scrollBehavior:"instant"},a.key))})]})},o.key))})})]})}var Mt=N(de(),1),Ah=N(Qe(),1);var br=N(de(),1);var xh=N(Qe(),1);function TG({license:i,preamble:e="",className:t}){var r;if(!i.id)return null;let n=/^([CBYSAND0-]+)(?:(?:-)([0-9].[0-9]))?$/.exec(i.id);if(!i.CC||!n)return null;let s=`${e}${(r=i.name)!==null&&r!==void 0?r:i.title} (${i.id})`,o=n[1].toUpperCase();return(0,br.jsxs)("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:(0,xh.default)("myst-fm-license-cc-badge opacity-50 hover:opacity-100 text-inherit hover:text-inherit",t),"aria-label":s,children:[(0,br.jsx)(v6,{width:"1.25rem",height:"1.25rem",className:"myst-fm-license-cc-icon myst-fm-license-cc-icon-main inline-block mx-1",title:s}),(o.startsWith("CC0")||o.startsWith("CC-0")||o.includes("ZERO"))&&(0,br.jsx)(g6,{width:"1.25rem",height:"1.25rem",className:"myst-fm-license-cc-icon myst-fm-license-cc-icon-zero inline-block mr-1",title:"CC0: Work is in the worldwide public domain"}),o.includes("BY")&&(0,br.jsx)(h6,{width:"1.25rem",height:"1.25rem",className:"myst-fm-license-cc-icon myst-fm-license-cc-icon-by inline-block mr-1",title:"Credit must be given to the creator"}),o.includes("NC")&&(0,br.jsx)(f6,{width:"1.25rem",height:"1.25rem",className:"myst-fm-license-cc-icon myst-fm-license-cc-icon-nc inline-block mr-1",title:"Only noncommercial uses of the work are permitted"}),o.includes("SA")&&(0,br.jsx)(p6,{width:"1.25rem",height:"1.25rem",className:"myst-fm-license-cc-icon myst-fm-license-cc-icon-sa inline-block mr-1",title:"Adaptations must be shared under the same terms"}),o.includes("ND")&&(0,br.jsx)(m6,{width:"1.25rem",height:"1.25rem",className:"myst-fm-license-cc-icon myst-fm-license-cc-icon-nd inline-block mr-1",title:"No derivatives or adaptations of the work are permitted"})]})}function V6({license:i,preamble:e="",className:t}){var r;if(!i)return null;let n=typeof i=="string"?{name:"",url:"",id:i}:i;return!n||Object.keys(n).length===0?null:n.CC?(0,br.jsx)(TG,{license:n,preamble:e,className:t}):(0,br.jsxs)("a",{href:n.url||void 0,target:"_blank",rel:"noopener noreferrer",title:`${e}${(r=n.name)!==null&&r!==void 0?r:n.title} (${n.id})`,className:"myst-fm-license-badge text-inherit hover:text-inherit",children:[!n.osi&&(0,br.jsx)(l8,{width:"1.25rem",height:"1.25rem",className:(0,xh.default)("myst-fm-license-icon mx-1 inline-block opacity-60 hover:opacity-100",t)}),n.osi&&(0,br.jsx)(w6,{width:"1.25rem",height:"1.25rem",className:(0,xh.default)("myst-fm-license-icon myst-fm-license-icon-osi mx-1 inline-block opacity-60 hover:opacity-100 hover:text-[#599F46]",t)})]})}function J9({license:i,className:e}){return i?typeof i!="string"&&("code"in i||"content"in i)?(0,br.jsxs)(br.Fragment,{children:[(0,br.jsx)(V6,{license:i.content,preamble:"Content License: ",className:(0,xh.default)("myst-fm-license-content",e)}),(0,br.jsx)(V6,{license:i.code,preamble:"Code License: ",className:(0,xh.default)("myst-fm-license-code",e)})]}):(0,br.jsx)(V6,{license:i,className:e}):null}var Ar=N(de(),1);var Q9=N(te(),1);var AG=Object.defineProperty,NG=(i,e,t)=>e in i?AG(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,F6=(i,e,t)=>(NG(i,typeof e!="symbol"?e+"":e,t),t),W6=class{constructor(){F6(this,"current",this.detect()),F6(this,"handoffState","pending"),F6(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Mo=new W6;var rs=(i,e)=>{Mo.isServer?(0,Q9.useEffect)(i,e):(0,Q9.useLayoutEffect)(i,e)};var fI=N(te(),1);function wh(i){let e=(0,fI.useRef)(i);return rs(()=>{e.current=i},[i]),e}var mI=N(te(),1);var Zr=function(i){let e=wh(i);return mI.default.useCallback((...t)=>e.current(...t),[e])};var e5=N(te(),1);function pI(i){typeof queueMicrotask=="function"?queueMicrotask(i):Promise.resolve().then(i).catch(e=>setTimeout(()=>{throw e}))}function il(){let i=[],e={addEventListener(t,r,n,s){return t.addEventListener(r,n,s),e.add(()=>t.removeEventListener(r,n,s))},requestAnimationFrame(...t){let r=requestAnimationFrame(...t);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...t){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...t))},setTimeout(...t){let r=setTimeout(...t);return e.add(()=>clearTimeout(r))},microTask(...t){let r={current:!0};return pI(()=>{r.current&&t[0]()}),e.add(()=>{r.current=!1})},style(t,r,n){let s=t.style.getPropertyValue(r);return Object.assign(t.style,{[r]:n}),this.add(()=>{Object.assign(t.style,{[r]:s})})},group(t){let r=il();return t(r),this.add(()=>r.dispose())},add(t){return i.push(t),()=>{let r=i.indexOf(t);if(r>=0)for(let n of i.splice(r,1))n()}},dispose(){for(let t of i.splice(0))t()}};return e}function Z6(){let[i]=(0,e5.useState)(il);return(0,e5.useEffect)(()=>()=>i.dispose(),[i]),i}var q6=N(te(),1);var Md=N(te(),1);function OG(){let i=typeof document>"u";return"useSyncExternalStore"in Md?(e=>e.useSyncExternalStore)(Md)(()=>()=>{},()=>!1,()=>!i):!1}function gI(){let i=OG(),[e,t]=Md.useState(Mo.isHandoffComplete);return e&&Mo.isHandoffComplete===!1&&t(!1),Md.useEffect(()=>{e!==!0&&t(!0)},[e]),Md.useEffect(()=>Mo.handoff(),[]),i?!1:e}var vI,t5=(vI=q6.default.useId)!=null?vI:function(){let i=gI(),[e,t]=q6.default.useState(i?()=>Mo.nextId():null);return rs(()=>{e===null&&t(Mo.nextId())},[e]),e!=null?""+e:void 0};var om=N(te(),1);function fc(i,e,...t){if(i in e){let n=e[i];return typeof n=="function"?n(...t):n}let r=new Error(`Tried to handle "${i}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(n=>`"${n}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,fc),r}function Ld(i){return Mo.isServer?null:i instanceof Node?i.ownerDocument:i!=null&&i.hasOwnProperty("current")&&i.current instanceof Node?i.current.ownerDocument:document}var U6=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(i=>`${i}:not([tabindex='-1'])`).join(","),i5=(i=>(i[i.First=1]="First",i[i.Previous=2]="Previous",i[i.Next=4]="Next",i[i.Last=8]="Last",i[i.WrapAround=16]="WrapAround",i[i.NoScroll=32]="NoScroll",i))(i5||{}),DG=(i=>(i[i.Error=0]="Error",i[i.Overflow=1]="Overflow",i[i.Success=2]="Success",i[i.Underflow=3]="Underflow",i))(DG||{}),HG=(i=>(i[i.Previous=-1]="Previous",i[i.Next=1]="Next",i))(HG||{});function _I(i=document.body){return i==null?[]:Array.from(i.querySelectorAll(U6)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var rm=(i=>(i[i.Strict=0]="Strict",i[i.Loose=1]="Loose",i))(rm||{});function nm(i,e=0){var t;return i===((t=Ld(i))==null?void 0:t.body)?!1:fc(e,{[0](){return i.matches(U6)},[1](){let r=i;for(;r!==null;){if(r.matches(U6))return!0;r=r.parentElement}return!1}})}function G6(i){let e=Ld(i);il().nextFrame(()=>{e&&!nm(e.activeElement,0)&&BG(i)})}var zG=(i=>(i[i.Keyboard=0]="Keyboard",i[i.Mouse=1]="Mouse",i))(zG||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",i=>{i.metaKey||i.altKey||i.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",i=>{i.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:i.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function BG(i){i?.focus({preventScroll:!0})}var PG=["textarea","input"].join(",");function jG(i){var e,t;return(t=(e=i?.matches)==null?void 0:e.call(i,PG))!=null?t:!1}function X6(i,e=t=>t){return i.slice().sort((t,r)=>{let n=e(t),s=e(r);if(n===null||s===null)return 0;let o=n.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function bI(i,e){return $G(_I(),e,{relativeTo:i})}function $G(i,e,{sorted:t=!0,relativeTo:r=null,skipElements:n=[]}={}){let s=Array.isArray(i)?i.length>0?i[0].ownerDocument:document:i.ownerDocument,o=Array.isArray(i)?t?X6(i):i:_I(i);n.length>0&&o.length>1&&(o=o.filter(h=>!n.includes(h))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,d=o.length,f;do{if(u>=d||u+d<=0)return 0;let h=l+u;if(e&16)h=(h+d)%d;else{if(h<0)return 3;if(h>=d)return 1}f=o[h],f?.focus(c),u+=a}while(f!==s.activeElement);return e&6&&jG(f)&&f.select(),2}function VG(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function FG(){return/Android/gi.test(window.navigator.userAgent)}function CI(){return VG()||FG()}var xI=N(te(),1);function sm(i,e,t){let r=wh(e);(0,xI.useEffect)(()=>{function n(s){r.current(s)}return document.addEventListener(i,n,t),()=>document.removeEventListener(i,n,t)},[i,t])}var wI=N(te(),1);function yI(i,e,t){let r=wh(e);(0,wI.useEffect)(()=>{function n(s){r.current(s)}return window.addEventListener(i,n,t),()=>window.removeEventListener(i,n,t)},[i,t])}function MI(i,e,t=!0){let r=(0,om.useRef)(!1);(0,om.useEffect)(()=>{requestAnimationFrame(()=>{r.current=t})},[t]);function n(o,a){if(!r.current||o.defaultPrevented)return;let l=a(o);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let c=function u(d){return typeof d=="function"?u(d()):Array.isArray(d)||d instanceof Set?d:[d]}(i);for(let u of c){if(u===null)continue;let d=u instanceof HTMLElement?u:u.current;if(d!=null&&d.contains(l)||o.composed&&o.composedPath().includes(d))return}return!nm(l,rm.Loose)&&l.tabIndex!==-1&&o.preventDefault(),e(o,l)}let s=(0,om.useRef)(null);sm("pointerdown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),sm("mousedown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),sm("click",o=>{CI()||s.current&&(n(o,()=>s.current),s.current=null)},!0),sm("touchend",o=>n(o,()=>o.target instanceof HTMLElement?o.target:null),!0),yI("blur",o=>n(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var LI=N(te(),1);function SI(...i){return(0,LI.useMemo)(()=>Ld(...i),[...i])}var RI=N(te(),1);function EI(i){var e;if(i.type)return i.type;let t=(e=i.as)!=null?e:"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function II(i,e){let[t,r]=(0,RI.useState)(()=>EI(i));return rs(()=>{r(EI(i))},[i.type,i.as]),rs(()=>{t||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[t,e]),t}var r5=N(te(),1);var WG=Symbol();function am(...i){let e=(0,r5.useRef)(i);(0,r5.useEffect)(()=>{e.current=i},[i]);let t=Zr(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)});return i.every(r=>r==null||r?.[WG])?void 0:t}var TI=N(te(),1);function kI(i){return[i.screenX,i.screenY]}function AI(){let i=(0,TI.useRef)([-1,-1]);return{wasMoved(e){let t=kI(e);return i.current[0]===t[0]&&i.current[1]===t[1]?!1:(i.current=t,!0)},update(e){i.current=kI(e)}}}var lm=N(te(),1);function NI({container:i,accept:e,walk:t,enabled:r=!0}){let n=(0,lm.useRef)(e),s=(0,lm.useRef)(t);(0,lm.useEffect)(()=>{n.current=e,s.current=t},[e,t]),rs(()=>{if(!i||!r)return;let o=Ld(i);if(!o)return;let a=n.current,l=s.current,c=Object.assign(d=>a(d),{acceptNode:a}),u=o.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,c,!1);for(;u.nextNode();)l(u.currentNode)},[i,r,n,s])}var Zn=N(te(),1);function K6(...i){return Array.from(new Set(i.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var s5=(i=>(i[i.None=0]="None",i[i.RenderStrategy=1]="RenderStrategy",i[i.Static=2]="Static",i))(s5||{}),ZG=(i=>(i[i.Unmount=0]="Unmount",i[i.Hidden=1]="Hidden",i))(ZG||{});function cm({ourProps:i,theirProps:e,slot:t,defaultTag:r,features:n,visible:s=!0,name:o,mergeRefs:a}){a=a??qG;let l=DI(e,i);if(s)return n5(l,t,r,o,a);let c=n??0;if(c&2){let{static:u=!1,...d}=l;if(u)return n5(d,t,r,o,a)}if(c&1){let{unmount:u=!0,...d}=l;return fc(u?0:1,{[0](){return null},[1](){return n5({...d,hidden:!0,style:{display:"none"}},t,r,o,a)}})}return n5(l,t,r,o,a)}function n5(i,e={},t,r,n){let{as:s=t,children:o,refName:a="ref",...l}=Y6(i,["unmount","static"]),c=i.ref!==void 0?{[a]:i.ref}:{},u=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e));let d={};if(e){let f=!1,h=[];for(let[m,p]of Object.entries(e))typeof p=="boolean"&&(f=!0),p===!0&&h.push(m);f&&(d["data-headlessui-state"]=h.join(" "))}if(s===Zn.Fragment&&Object.keys(OI(l)).length>0){if(!(0,Zn.isValidElement)(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`));let f=u.props,h=typeof f?.className=="function"?(...p)=>K6(f?.className(...p),l.className):K6(f?.className,l.className),m=h?{className:h}:{};return(0,Zn.cloneElement)(u,Object.assign({},DI(u.props,OI(Y6(l,["ref"]))),d,c,{ref:n(u.ref,c.ref)},m))}return(0,Zn.createElement)(s,Object.assign({},Y6(l,["ref"]),s!==Zn.Fragment&&c,s!==Zn.Fragment&&d),u)}function qG(...i){return i.every(e=>e==null)?void 0:e=>{for(let t of i)t!=null&&(typeof t=="function"?t(e):t.current=e)}}function DI(...i){var e;if(i.length===0)return{};if(i.length===1)return i[0];let t={},r={};for(let n of i)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?((e=r[s])!=null||(r[s]=[]),r[s].push(n[s])):t[s]=n[s];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(t,{[n](s,...o){let a=r[n];for(let l of a){if((s instanceof Event||s?.nativeEvent instanceof Event)&&s.defaultPrevented)return;l(s,...o)}}});return t}function dm(i){var e;return Object.assign((0,Zn.forwardRef)(i),{displayName:(e=i.displayName)!=null?e:i.name})}function OI(i){let e=Object.assign({},i);for(let t in e)e[t]===void 0&&delete e[t];return e}function Y6(i,e=[]){let t=Object.assign({},i);for(let r of e)r in t&&delete t[r];return t}var yh=N(te(),1),J6=(0,yh.createContext)(null);J6.displayName="OpenClosedContext";var Mh=(i=>(i[i.Open=1]="Open",i[i.Closed=2]="Closed",i[i.Closing=4]="Closing",i[i.Opening=8]="Opening",i))(Mh||{});function HI(){return(0,yh.useContext)(J6)}function zI({value:i,children:e}){return yh.default.createElement(J6.Provider,{value:i},e)}function BI(i){let e=i.parentElement,t=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(t=e),e=e.parentElement;let r=e?.getAttribute("disabled")==="";return r&&UG(t)?!1:r}function UG(i){if(!i)return!1;let e=i.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function GG(i){throw new Error("Unexpected object: "+i)}var $s=(i=>(i[i.First=0]="First",i[i.Previous=1]="Previous",i[i.Next=2]="Next",i[i.Last=3]="Last",i[i.Specific=4]="Specific",i[i.Nothing=5]="Nothing",i))($s||{});function PI(i,e){let t=e.resolveItems();if(t.length<=0)return null;let r=e.resolveActiveIndex(),n=r??-1;switch(i.focus){case 0:{for(let s=0;s<t.length;++s)if(!e.resolveDisabled(t[s],s,t))return s;return r}case 1:{for(let s=n-1;s>=0;--s)if(!e.resolveDisabled(t[s],s,t))return s;return r}case 2:{for(let s=n+1;s<t.length;++s)if(!e.resolveDisabled(t[s],s,t))return s;return r}case 3:{for(let s=t.length-1;s>=0;--s)if(!e.resolveDisabled(t[s],s,t))return s;return r}case 4:{for(let s=0;s<t.length;++s)if(e.resolveId(t[s],s,t)===i.id)return s;return r}case 5:return null;default:GG(i)}}var Tr=(i=>(i.Space=" ",i.Enter="Enter",i.Escape="Escape",i.Backspace="Backspace",i.Delete="Delete",i.ArrowLeft="ArrowLeft",i.ArrowUp="ArrowUp",i.ArrowRight="ArrowRight",i.ArrowDown="ArrowDown",i.Home="Home",i.End="End",i.PageUp="PageUp",i.PageDown="PageDown",i.Tab="Tab",i))(Tr||{});var Q6=N(te(),1);var jI=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function $I(i){var e,t;let r=(e=i.innerText)!=null?e:"",n=i.cloneNode(!0);if(!(n instanceof HTMLElement))return r;let s=!1;for(let a of n.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(t=n.innerText)!=null?t:"":r;return jI.test(o)&&(o=o.replace(jI,"")),o}function VI(i){let e=i.getAttribute("aria-label");if(typeof e=="string")return e.trim();let t=i.getAttribute("aria-labelledby");if(t){let r=t.split(" ").map(n=>{let s=document.getElementById(n);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():$I(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return $I(i).trim()}function FI(i){let e=(0,Q6.useRef)(""),t=(0,Q6.useRef)("");return Zr(()=>{let r=i.current;if(!r)return"";let n=r.innerText;if(e.current===n)return t.current;let s=VI(r).trim().toLowerCase();return e.current=n,t.current=s,s})}var pi=N(te(),1);var XG=(i=>(i[i.Open=0]="Open",i[i.Closed=1]="Closed",i))(XG||{}),KG=(i=>(i[i.Pointer=0]="Pointer",i[i.Other=1]="Other",i))(KG||{}),YG=(i=>(i[i.OpenMenu=0]="OpenMenu",i[i.CloseMenu=1]="CloseMenu",i[i.GoToItem=2]="GoToItem",i[i.Search=3]="Search",i[i.ClearSearch=4]="ClearSearch",i[i.RegisterItem=5]="RegisterItem",i[i.UnregisterItem=6]="UnregisterItem",i))(YG||{});function ev(i,e=t=>t){let t=i.activeItemIndex!==null?i.items[i.activeItemIndex]:null,r=X6(e(i.items.slice()),s=>s.dataRef.current.domRef.current),n=t?r.indexOf(t):null;return n===-1&&(n=null),{items:r,activeItemIndex:n}}var JG={[1](i){return i.menuState===1?i:{...i,activeItemIndex:null,menuState:1}},[0](i){return i.menuState===0?i:{...i,__demoMode:!1,menuState:0}},[2]:(i,e)=>{var t;let r=ev(i),n=PI(e,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...i,...r,searchQuery:"",activeItemIndex:n,activationTrigger:(t=e.trigger)!=null?t:1}},[3]:(i,e)=>{let t=i.searchQuery!==""?0:1,r=i.searchQuery+e.value.toLowerCase(),n=(i.activeItemIndex!==null?i.items.slice(i.activeItemIndex+t).concat(i.items.slice(0,i.activeItemIndex+t)):i.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=n?i.items.indexOf(n):-1;return s===-1||s===i.activeItemIndex?{...i,searchQuery:r}:{...i,searchQuery:r,activeItemIndex:s,activationTrigger:1}},[4](i){return i.searchQuery===""?i:{...i,searchQuery:"",searchActiveItemIndex:null}},[5]:(i,e)=>{let t=ev(i,r=>[...r,{id:e.id,dataRef:e.dataRef}]);return{...i,...t}},[6]:(i,e)=>{let t=ev(i,r=>{let n=r.findIndex(s=>s.id===e.id);return n!==-1&&r.splice(n,1),r});return{...i,...t,activationTrigger:1}}},tv=(0,pi.createContext)(null);tv.displayName="MenuContext";function o5(i){let e=(0,pi.useContext)(tv);if(e===null){let t=new Error(`<${i} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,o5),t}return e}function QG(i,e){return fc(e.type,JG,i,e)}var eX=pi.Fragment;function tX(i,e){let{__demoMode:t=!1,...r}=i,n=(0,pi.useReducer)(QG,{__demoMode:t,menuState:t?0:1,buttonRef:(0,pi.createRef)(),itemsRef:(0,pi.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:o,buttonRef:a},l]=n,c=am(e);MI([a,o],(h,m)=>{var p;l({type:1}),nm(m,rm.Loose)||(h.preventDefault(),(p=a.current)==null||p.focus())},s===0);let u=Zr(()=>{l({type:1})}),d=(0,pi.useMemo)(()=>({open:s===0,close:u}),[s,u]),f={ref:c};return pi.default.createElement(tv.Provider,{value:n},pi.default.createElement(zI,{value:fc(s,{[0]:Mh.Open,[1]:Mh.Closed})},cm({ourProps:f,theirProps:r,slot:d,defaultTag:eX,name:"Menu"})))}var iX="button";function rX(i,e){var t;let r=t5(),{id:n=`headlessui-menu-button-${r}`,...s}=i,[o,a]=o5("Menu.Button"),l=am(o.buttonRef,e),c=Z6(),u=Zr(p=>{switch(p.key){case Tr.Space:case Tr.Enter:case Tr.ArrowDown:p.preventDefault(),p.stopPropagation(),a({type:0}),c.nextFrame(()=>a({type:2,focus:$s.First}));break;case Tr.ArrowUp:p.preventDefault(),p.stopPropagation(),a({type:0}),c.nextFrame(()=>a({type:2,focus:$s.Last}));break}}),d=Zr(p=>{switch(p.key){case Tr.Space:p.preventDefault();break}}),f=Zr(p=>{if(BI(p.currentTarget))return p.preventDefault();i.disabled||(o.menuState===0?(a({type:1}),c.nextFrame(()=>{var v;return(v=o.buttonRef.current)==null?void 0:v.focus({preventScroll:!0})})):(p.preventDefault(),a({type:0})))}),h=(0,pi.useMemo)(()=>({open:o.menuState===0}),[o]),m={ref:l,id:n,type:II(i,o.buttonRef),"aria-haspopup":"menu","aria-controls":(t=o.itemsRef.current)==null?void 0:t.id,"aria-expanded":o.menuState===0,onKeyDown:u,onKeyUp:d,onClick:f};return cm({ourProps:m,theirProps:s,slot:h,defaultTag:iX,name:"Menu.Button"})}var nX="div",sX=s5.RenderStrategy|s5.Static;function oX(i,e){var t,r;let n=t5(),{id:s=`headlessui-menu-items-${n}`,...o}=i,[a,l]=o5("Menu.Items"),c=am(a.itemsRef,e),u=SI(a.itemsRef),d=Z6(),f=HI(),h=(()=>f!==null?(f&Mh.Open)===Mh.Open:a.menuState===0)();(0,pi.useEffect)(()=>{let C=a.itemsRef.current;C&&a.menuState===0&&C!==u?.activeElement&&C.focus({preventScroll:!0})},[a.menuState,a.itemsRef,u]),NI({container:a.itemsRef.current,enabled:a.menuState===0,accept(C){return C.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:C.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(C){C.setAttribute("role","none")}});let m=Zr(C=>{var y,S;switch(d.dispose(),C.key){case Tr.Space:if(a.searchQuery!=="")return C.preventDefault(),C.stopPropagation(),l({type:3,value:C.key});case Tr.Enter:if(C.preventDefault(),C.stopPropagation(),l({type:1}),a.activeItemIndex!==null){let{dataRef:M}=a.items[a.activeItemIndex];(S=(y=M.current)==null?void 0:y.domRef.current)==null||S.click()}G6(a.buttonRef.current);break;case Tr.ArrowDown:return C.preventDefault(),C.stopPropagation(),l({type:2,focus:$s.Next});case Tr.ArrowUp:return C.preventDefault(),C.stopPropagation(),l({type:2,focus:$s.Previous});case Tr.Home:case Tr.PageUp:return C.preventDefault(),C.stopPropagation(),l({type:2,focus:$s.First});case Tr.End:case Tr.PageDown:return C.preventDefault(),C.stopPropagation(),l({type:2,focus:$s.Last});case Tr.Escape:C.preventDefault(),C.stopPropagation(),l({type:1}),il().nextFrame(()=>{var M;return(M=a.buttonRef.current)==null?void 0:M.focus({preventScroll:!0})});break;case Tr.Tab:C.preventDefault(),C.stopPropagation(),l({type:1}),il().nextFrame(()=>{bI(a.buttonRef.current,C.shiftKey?i5.Previous:i5.Next)});break;default:C.key.length===1&&(l({type:3,value:C.key}),d.setTimeout(()=>l({type:4}),350));break}}),p=Zr(C=>{switch(C.key){case Tr.Space:C.preventDefault();break}}),v=(0,pi.useMemo)(()=>({open:a.menuState===0}),[a]),x={"aria-activedescendant":a.activeItemIndex===null||(t=a.items[a.activeItemIndex])==null?void 0:t.id,"aria-labelledby":(r=a.buttonRef.current)==null?void 0:r.id,id:s,onKeyDown:m,onKeyUp:p,role:"menu",tabIndex:0,ref:c};return cm({ourProps:x,theirProps:o,slot:v,defaultTag:nX,features:sX,visible:h,name:"Menu.Items"})}var aX=pi.Fragment;function lX(i,e){let t=t5(),{id:r=`headlessui-menu-item-${t}`,disabled:n=!1,...s}=i,[o,a]=o5("Menu.Item"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===r:!1,c=(0,pi.useRef)(null),u=am(e,c);rs(()=>{if(o.__demoMode||o.menuState!==0||!l||o.activationTrigger===0)return;let M=il();return M.requestAnimationFrame(()=>{var _,E;(E=(_=c.current)==null?void 0:_.scrollIntoView)==null||E.call(_,{block:"nearest"})}),M.dispose},[o.__demoMode,c,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let d=FI(c),f=(0,pi.useRef)({disabled:n,domRef:c,get textValue(){return d()}});rs(()=>{f.current.disabled=n},[f,n]),rs(()=>(a({type:5,id:r,dataRef:f}),()=>a({type:6,id:r})),[f,r]);let h=Zr(()=>{a({type:1})}),m=Zr(M=>{if(n)return M.preventDefault();a({type:1}),G6(o.buttonRef.current)}),p=Zr(()=>{if(n)return a({type:2,focus:$s.Nothing});a({type:2,focus:$s.Specific,id:r})}),v=AI(),x=Zr(M=>v.update(M)),C=Zr(M=>{v.wasMoved(M)&&(n||l||a({type:2,focus:$s.Specific,id:r,trigger:0}))}),y=Zr(M=>{v.wasMoved(M)&&(n||l&&a({type:2,focus:$s.Nothing}))}),S=(0,pi.useMemo)(()=>({active:l,disabled:n,close:h}),[l,n,h]);return cm({ourProps:{id:r,ref:u,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,disabled:void 0,onClick:m,onFocus:p,onPointerEnter:x,onMouseEnter:x,onPointerMove:C,onMouseMove:C,onPointerLeave:y,onMouseLeave:y},theirProps:s,slot:S,defaultTag:aX,name:"Menu.Item"})}var cX=dm(tX),dX=dm(rX),uX=dm(oX),hX=dm(lX),um=Object.assign(cX,{Button:dX,Items:uX,Item:hX});var rv=N(Qe(),1),ZI=N(te(),1),WI=function(i,e,t,r){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};function fX(i,e){return WI(this,void 0,void 0,function*(){let r=yield(yield fetch(i)).blob();return mX(r,e)})}function mX(i,e){return WI(this,void 0,void 0,function*(){if(window.navigator&&window.navigator.msSaveOrOpenBlob)return window.navigator.msSaveOrOpenBlob(i);let t=URL.createObjectURL(i),r=document.createElement("a");return r.href=t,r.download=e,r.style.display="none",r.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{URL.revokeObjectURL(t),r.remove()},100),!0})}var iv="myst-fm-download-icon self-center flex-none inline-block mr-3";function pX({url:i,filename:e,format:t,className:r,title:n,internal:s}){if(!e){let a=s?(0,Ar.jsx)(I0,{width:"1.25rem",height:"1.25rem",className:iv,"aria-hidden":"true"}):(0,Ar.jsx)($r,{width:"1.25rem",height:"1.25rem",className:iv,"aria-hidden":"true"});return(0,Ar.jsxs)("a",{className:(0,rv.default)("myst-fm-download",r,"flex no-underline"),href:i,target:s?void 0:"_blank",rel:s?void 0:"noreferrer noopener",children:[(0,Ar.jsxs)("span",{className:"sr-only",children:["Visit URL ",n!=null?n:""]}),a,(0,Ar.jsx)("span",{className:"myst-fm-download-text w-max max-w-[200px] self-center",children:n!=null?n:i})]})}let o=(0,ZI.useCallback)(a=>{a.preventDefault(),fX(i,e)},[i,e]);return(0,Ar.jsxs)("a",{className:(0,rv.default)("myst-fm-download",r,"flex no-underline"),href:i,onClick:o,children:[(0,Ar.jsxs)("span",{className:"sr-only",children:["Download",t?` as ${t}`:""," ",n!=null?n:""]}),(0,Ar.jsx)(Kg,{width:"1.25rem",height:"1.25rem",className:iv,"aria-hidden":"true"}),(0,Ar.jsx)("span",{className:"myst-fm-download-text w-max max-w-[200px] self-center",children:n!=null?n:e})]})}function qI({exports:i}){return!i||i.length===0?null:(0,Ar.jsxs)(um,{as:"div",className:"myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0",children:[(0,Ar.jsxs)(um.Button,{className:"myst-fm-downloads-button relative ml-2 -mr-1",children:[(0,Ar.jsx)("span",{className:"sr-only",children:"Downloads"}),(0,Ar.jsx)(ud,{width:"1.25rem",height:"1.25rem",className:"myst-fm-downloads-icon","aria-hidden":"true",title:"Download"})]}),(0,Ar.jsx)(um.Items,{className:"myst-fm-downloads-menu absolute z-10 overflow-hidden bg-white rounded-sm shadow-lg -right-1 dark:bg-slate-800 ring-1 ring-black ring-opacity-5 focus:outline-none",children:i.map((e,t)=>(0,Ar.jsx)(um.Item,{children:(0,Ar.jsx)(pX,{className:"myst-fm-downloads-item block p-3 no-underline hover:bg-stone-700 dark:hover:bg-stone-200 hover:text-white dark:hover:text-black",url:e.url,filename:e.filename,format:e.format,title:e.title,internal:e.internal})},t))})]})}var li=N(de(),1),Bk=N(te(),1),x5=N(Qe(),1);var Wt=N(de(),1);var Li=N(te(),1);var GI=N(te(),1),nv=0;function XI(){GI.useEffect(()=>{let i=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",i[0]??UI()),document.body.insertAdjacentElement("beforeend",i[1]??UI()),nv++,()=>{nv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),nv--}},[])}function UI(){let i=document.createElement("span");return i.setAttribute("data-radix-focus-guard",""),i.tabIndex=0,i.style.outline="none",i.style.opacity="0",i.style.position="fixed",i.style.pointerEvents="none",i}var Vs=N(te(),1);var ek=N(de(),1),sv="focusScope.autoFocusOnMount",ov="focusScope.autoFocusOnUnmount",KI={bubbles:!1,cancelable:!0},gX="FocusScope",av=Vs.forwardRef((i,e)=>{let{loop:t=!1,trapped:r=!1,onMountAutoFocus:n,onUnmountAutoFocus:s,...o}=i,[a,l]=Vs.useState(null),c=Qo(n),u=Qo(s),d=Vs.useRef(null),f=Ui(e,p=>l(p)),h=Vs.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Vs.useEffect(()=>{if(r){let C=function(_){if(h.paused||!a)return;let E=_.target;a.contains(E)?d.current=E:mc(d.current,{select:!0})},y=function(_){if(h.paused||!a)return;let E=_.relatedTarget;E!==null&&(a.contains(E)||mc(d.current,{select:!0}))},S=function(_){if(document.activeElement===document.body)for(let R of _)R.removedNodes.length>0&&mc(a)};var p=C,v=y,x=S;document.addEventListener("focusin",C),document.addEventListener("focusout",y);let M=new MutationObserver(S);return a&&M.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",y),M.disconnect()}}},[r,a,h.paused]),Vs.useEffect(()=>{if(a){JI.add(h);let p=document.activeElement;if(!a.contains(p)){let x=new CustomEvent(sv,KI);a.addEventListener(sv,c),a.dispatchEvent(x),x.defaultPrevented||(vX(wX(tk(a)),{select:!0}),document.activeElement===p&&mc(a))}return()=>{a.removeEventListener(sv,c),setTimeout(()=>{let x=new CustomEvent(ov,KI);a.addEventListener(ov,u),a.dispatchEvent(x),x.defaultPrevented||mc(p??document.body,{select:!0}),a.removeEventListener(ov,u),JI.remove(h)},0)}}},[a,c,u,h]);let m=Vs.useCallback(p=>{if(!t&&!r||h.paused)return;let v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(v&&x){let C=p.currentTarget,[y,S]=_X(C);y&&S?!p.shiftKey&&x===S?(p.preventDefault(),t&&mc(y,{select:!0})):p.shiftKey&&x===y&&(p.preventDefault(),t&&mc(S,{select:!0})):x===C&&p.preventDefault()}},[t,r,h.paused]);return(0,ek.jsx)(Ut.div,{tabIndex:-1,...o,ref:f,onKeyDown:m})});av.displayName=gX;function vX(i,{select:e=!1}={}){let t=document.activeElement;for(let r of i)if(mc(r,{select:e}),document.activeElement!==t)return}function _X(i){let e=tk(i),t=YI(e,i),r=YI(e.reverse(),i);return[t,r]}function tk(i){let e=[],t=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{let n=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||n?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function YI(i,e){for(let t of i)if(!bX(t,{upTo:e}))return t}function bX(i,{upTo:e}){if(getComputedStyle(i).visibility==="hidden")return!0;for(;i;){if(e!==void 0&&i===e)return!1;if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1}function CX(i){return i instanceof HTMLInputElement&&"select"in i}function mc(i,{select:e=!1}={}){if(i&&i.focus){let t=document.activeElement;i.focus({preventScroll:!0}),i!==t&&CX(i)&&e&&i.select()}}var JI=xX();function xX(){let i=[];return{add(e){let t=i[0];e!==t&&t?.pause(),i=QI(i,e),i.unshift(e)},remove(e){i=QI(i,e),i[0]?.resume()}}}function QI(i,e){let t=[...i],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function wX(i){return i.filter(e=>e.tagName!=="A")}var yX=function(i){if(typeof document>"u")return null;var e=Array.isArray(i)?i[0]:i;return e.ownerDocument.body},Lh=new WeakMap,a5=new WeakMap,l5={},lv=0,ik=function(i){return i&&(i.host||ik(i.parentNode))},MX=function(i,e){return e.map(function(t){if(i.contains(t))return t;var r=ik(t);return r&&i.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",i,". Doing nothing"),null)}).filter(function(t){return Boolean(t)})},LX=function(i,e,t,r){var n=MX(e,Array.isArray(i)?i:[i]);l5[t]||(l5[t]=new WeakMap);var s=l5[t],o=[],a=new Set,l=new Set(n),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};n.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var h=f.getAttribute(r),m=h!==null&&h!=="false",p=(Lh.get(f)||0)+1,v=(s.get(f)||0)+1;Lh.set(f,p),s.set(f,v),o.push(f),p===1&&m&&a5.set(f,!0),v===1&&f.setAttribute(t,"true"),m||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return u(e),a.clear(),lv++,function(){o.forEach(function(d){var f=Lh.get(d)-1,h=s.get(d)-1;Lh.set(d,f),s.set(d,h),f||(a5.has(d)||d.removeAttribute(r),a5.delete(d)),h||d.removeAttribute(t)}),lv--,lv||(Lh=new WeakMap,Lh=new WeakMap,a5=new WeakMap,l5={})}},rk=function(i,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(i)?i:[i]),n=e||yX(i);return n?(r.push.apply(r,Array.from(n.querySelectorAll("[aria-live], script"))),LX(r,n,t,"aria-hidden")):function(){return null}};Hi();var f5=N(te());Hi();var on=N(te());var Sd="right-scroll-bar-position",Ed="width-before-scroll-bar",cv="with-scroll-bars-hidden",dv="--removed-body-scroll-bar-size";function c5(i,e){return typeof i=="function"?i(e):i&&(i.current=e),i}var nk=N(te());function sk(i,e){var t=(0,nk.useState)(function(){return{value:i,callback:e,facade:{get current(){return t.value},set current(r){var n=t.value;n!==r&&(t.value=r,t.callback(r,n))}}}})[0];return t.callback=e,t.facade}var d5=N(te());var SX=typeof window<"u"?d5.useLayoutEffect:d5.useEffect,ok=new WeakMap;function uv(i,e){var t=sk(e||null,function(r){return i.forEach(function(n){return c5(n,r)})});return SX(function(){var r=ok.get(t);if(r){var n=new Set(r),s=new Set(i),o=t.current;n.forEach(function(a){s.has(a)||c5(a,null)}),s.forEach(function(a){n.has(a)||c5(a,o)})}ok.set(t,i)},[i]),t}Hi();function EX(i){return i}function RX(i,e){e===void 0&&(e=EX);var t=[],r=!1,n={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:i},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),t}}}};return n}function hv(i){i===void 0&&(i={});var e=RX(null);return e.options=Es({async:!0,ssr:!1},i),e}Hi();var ak=N(te()),lk=function(i){var e=i.sideCar,t=n1(i,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return ak.createElement(r,Es({},t))};lk.isSideCarExport=!0;function fv(i,e){return i.useMedium(e),lk}var u5=hv();var mv=function(){},hm=on.forwardRef(function(i,e){var t=on.useRef(null),r=on.useState({onScrollCapture:mv,onWheelCapture:mv,onTouchMoveCapture:mv}),n=r[0],s=r[1],o=i.forwardProps,a=i.children,l=i.className,c=i.removeScrollBar,u=i.enabled,d=i.shards,f=i.sideCar,h=i.noRelative,m=i.noIsolation,p=i.inert,v=i.allowPinchZoom,x=i.as,C=x===void 0?"div":x,y=i.gapMode,S=n1(i,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=f,_=uv([t,e]),E=Es(Es({},S),n);return on.createElement(on.Fragment,null,u&&on.createElement(M,{sideCar:u5,removeScrollBar:c,shards:d,noRelative:h,noIsolation:m,inert:p,setCallbacks:s,allowPinchZoom:!!v,lockRef:t,gapMode:y}),o?on.cloneElement(on.Children.only(a),Es(Es({},E),{ref:_})):on.createElement(C,Es({},E,{className:l,ref:_}),a))});hm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hm.classNames={fullWidth:Ed,zeroRight:Sd};Hi();var gi=N(te());var Eh=N(te());var uk=N(te());var ck;var dk=function(){if(ck)return ck;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IX(){if(!document)return null;var i=document.createElement("style");i.type="text/css";var e=dk();return e&&i.setAttribute("nonce",e),i}function kX(i,e){i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}function TX(i){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(i)}var pv=function(){var i=0,e=null;return{add:function(t){i==0&&(e=IX())&&(kX(e,t),TX(e)),i++},remove:function(){i--,!i&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}};var gv=function(){var i=pv();return function(e,t){uk.useEffect(function(){return i.add(e),function(){i.remove()}},[e&&t])}};var fm=function(){var i=gv(),e=function(t){var r=t.styles,n=t.dynamic;return i(r,n),null};return e};var AX={left:0,top:0,right:0,gap:0},vv=function(i){return parseInt(i||"",10)||0},NX=function(i){var e=window.getComputedStyle(document.body),t=e[i==="padding"?"paddingLeft":"marginLeft"],r=e[i==="padding"?"paddingTop":"marginTop"],n=e[i==="padding"?"paddingRight":"marginRight"];return[vv(t),vv(r),vv(n)]},_v=function(i){if(i===void 0&&(i="margin"),typeof window>"u")return AX;var e=NX(i),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}};var OX=fm(),Sh="data-scroll-locked",DX=function(i,e,t,r){var n=i.left,s=i.top,o=i.right,a=i.gap;return t===void 0&&(t="margin"),`
  .`.concat(cv,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Sh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ed,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sd," .").concat(Sd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ed," .").concat(Ed,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Sh,`] {
    `).concat(dv,": ").concat(a,`px;
  }
`)},hk=function(){var i=parseInt(document.body.getAttribute(Sh)||"0",10);return isFinite(i)?i:0},HX=function(){Eh.useEffect(function(){return document.body.setAttribute(Sh,(hk()+1).toString()),function(){var i=hk()-1;i<=0?document.body.removeAttribute(Sh):document.body.setAttribute(Sh,i.toString())}},[])},bv=function(i){var e=i.noRelative,t=i.noImportant,r=i.gapMode,n=r===void 0?"margin":r;HX();var s=Eh.useMemo(function(){return _v(n)},[n]);return Eh.createElement(OX,{styles:DX(s,!e,n,t?"":"!important")})};var Cv=!1;if(typeof window<"u")try{mm=Object.defineProperty({},"passive",{get:function(){return Cv=!0,!0}}),window.addEventListener("test",mm,mm),window.removeEventListener("test",mm,mm)}catch{Cv=!1}var mm,Rd=Cv?{passive:!1}:!1;var zX=function(i){return i.tagName==="TEXTAREA"},fk=function(i,e){if(!(i instanceof Element))return!1;var t=window.getComputedStyle(i);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!zX(i)&&t[e]==="visible")},BX=function(i){return fk(i,"overflowY")},PX=function(i){return fk(i,"overflowX")},xv=function(i,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=mk(i,r);if(n){var s=pk(i,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},jX=function(i){var e=i.scrollTop,t=i.scrollHeight,r=i.clientHeight;return[e,t,r]},$X=function(i){var e=i.scrollLeft,t=i.scrollWidth,r=i.clientWidth;return[e,t,r]},mk=function(i,e){return i==="v"?BX(e):PX(e)},pk=function(i,e){return i==="v"?jX(e):$X(e)},VX=function(i,e){return i==="h"&&e==="rtl"?-1:1},gk=function(i,e,t,r,n){var s=VX(i,window.getComputedStyle(e).direction),o=s*r,a=t.target,l=e.contains(a),c=!1,u=o>0,d=0,f=0;do{if(!a)break;var h=pk(i,a),m=h[0],p=h[1],v=h[2],x=p-v-s*m;(m||x)&&mk(i,a)&&(d+=x,f+=m);var C=a.parentNode;a=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(n&&Math.abs(d)<1||!n&&o>d)||!u&&(n&&Math.abs(f)<1||!n&&-o>f))&&(c=!0),c};var h5=function(i){return"changedTouches"in i?[i.changedTouches[0].clientX,i.changedTouches[0].clientY]:[0,0]},vk=function(i){return[i.deltaX,i.deltaY]},_k=function(i){return i&&"current"in i?i.current:i},FX=function(i,e){return i[0]===e[0]&&i[1]===e[1]},WX=function(i){return`
  .block-interactivity-`.concat(i,` {pointer-events: none;}
  .allow-interactivity-`).concat(i,` {pointer-events: all;}
`)},ZX=0,Rh=[];function bk(i){var e=gi.useRef([]),t=gi.useRef([0,0]),r=gi.useRef(),n=gi.useState(ZX++)[0],s=gi.useState(fm)[0],o=gi.useRef(i);gi.useEffect(function(){o.current=i},[i]),gi.useEffect(function(){if(i.inert){document.body.classList.add("block-interactivity-".concat(n));var p=nM([i.lockRef.current],(i.shards||[]).map(_k),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(n))})}}},[i.inert,i.lockRef.current,i.shards]);var a=gi.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var x=h5(p),C=t.current,y="deltaX"in p?p.deltaX:C[0]-x[0],S="deltaY"in p?p.deltaY:C[1]-x[1],M,_=p.target,E=Math.abs(y)>Math.abs(S)?"h":"v";if("touches"in p&&E==="h"&&_.type==="range")return!1;var R=window.getSelection(),A=R&&R.anchorNode,H=A?A===_||A.contains(_):!1;if(H)return!1;var $=xv(E,_);if(!$)return!0;if($?M=E:(M=E==="v"?"h":"v",$=xv(E,_)),!$)return!1;if(!r.current&&"changedTouches"in p&&(y||S)&&(r.current=M),!M)return!0;var X=r.current||M;return gk(X,v,p,X==="h"?y:S,!0)},[]),l=gi.useCallback(function(p){var v=p;if(!(!Rh.length||Rh[Rh.length-1]!==s)){var x="deltaY"in v?vk(v):h5(v),C=e.current.filter(function(M){return M.name===v.type&&(M.target===v.target||v.target===M.shadowParent)&&FX(M.delta,x)})[0];if(C&&C.should){v.cancelable&&v.preventDefault();return}if(!C){var y=(o.current.shards||[]).map(_k).filter(Boolean).filter(function(M){return M.contains(v.target)}),S=y.length>0?a(v,y[0]):!o.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),c=gi.useCallback(function(p,v,x,C){var y={name:p,delta:v,target:x,should:C,shadowParent:qX(x)};e.current.push(y),setTimeout(function(){e.current=e.current.filter(function(S){return S!==y})},1)},[]),u=gi.useCallback(function(p){t.current=h5(p),r.current=void 0},[]),d=gi.useCallback(function(p){c(p.type,vk(p),p.target,a(p,i.lockRef.current))},[]),f=gi.useCallback(function(p){c(p.type,h5(p),p.target,a(p,i.lockRef.current))},[]);gi.useEffect(function(){return Rh.push(s),i.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Rd),document.addEventListener("touchmove",l,Rd),document.addEventListener("touchstart",u,Rd),function(){Rh=Rh.filter(function(p){return p!==s}),document.removeEventListener("wheel",l,Rd),document.removeEventListener("touchmove",l,Rd),document.removeEventListener("touchstart",u,Rd)}},[]);var h=i.removeScrollBar,m=i.inert;return gi.createElement(gi.Fragment,null,m?gi.createElement(s,{styles:WX(n)}):null,h?gi.createElement(bv,{noRelative:i.noRelative,gapMode:i.gapMode}):null)}function qX(i){for(var e=null;i!==null;)i instanceof ShadowRoot&&(e=i.host,i=i.host),i=i.parentNode;return e}var Ck=fv(u5,bk);var xk=f5.forwardRef(function(i,e){return f5.createElement(hm,Es({},i,{ref:e,sideCar:Ck}))});xk.classNames=hm.classNames;var wv=xk;var sr=N(de(),1),m5="Popover",[wk,fme]=Xo(m5,[Z1]),pm=Z1(),[UX,pc]=wk(m5),yk=i=>{let{__scopePopover:e,children:t,open:r,defaultOpen:n,onOpenChange:s,modal:o=!1}=i,a=pm(e),l=Li.useRef(null),[c,u]=Li.useState(!1),[d,f]=j1({prop:r,defaultProp:n??!1,onChange:s,caller:m5});return(0,sr.jsx)(d9,{...a,children:(0,sr.jsx)(UX,{scope:e,contentId:hc(),triggerRef:l,open:d,onOpenChange:f,onOpenToggle:Li.useCallback(()=>f(h=>!h),[f]),hasCustomAnchor:c,onCustomAnchorAdd:Li.useCallback(()=>u(!0),[]),onCustomAnchorRemove:Li.useCallback(()=>u(!1),[]),modal:o,children:t})})};yk.displayName=m5;var Mk="PopoverAnchor",GX=Li.forwardRef((i,e)=>{let{__scopePopover:t,...r}=i,n=pc(Mk,t),s=pm(t),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=n;return Li.useEffect(()=>(o(),()=>a()),[o,a]),(0,sr.jsx)(z0,{...s,...r,ref:e})});GX.displayName=Mk;var Lk="PopoverTrigger",Sk=Li.forwardRef((i,e)=>{let{__scopePopover:t,...r}=i,n=pc(Lk,t),s=pm(t),o=Ui(e,n.triggerRef),a=(0,sr.jsx)(Ut.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":Nk(n.open),...r,ref:o,onClick:ei(i.onClick,n.onOpenToggle)});return n.hasCustomAnchor?a:(0,sr.jsx)(z0,{asChild:!0,...s,children:a})});Sk.displayName=Lk;var yv="PopoverPortal",[XX,KX]=wk(yv,{forceMount:void 0}),Ek=i=>{let{__scopePopover:e,forceMount:t,children:r,container:n}=i,s=pc(yv,e);return(0,sr.jsx)(XX,{scope:e,forceMount:t,children:(0,sr.jsx)(Wa,{present:t||s.open,children:(0,sr.jsx)(B0,{asChild:!0,container:n,children:r})})})};Ek.displayName=yv;var Ih="PopoverContent",Rk=Li.forwardRef((i,e)=>{let t=KX(Ih,i.__scopePopover),{forceMount:r=t.forceMount,...n}=i,s=pc(Ih,i.__scopePopover);return(0,sr.jsx)(Wa,{present:r||s.open,children:s.modal?(0,sr.jsx)(JX,{...n,ref:e}):(0,sr.jsx)(QX,{...n,ref:e})})});Rk.displayName=Ih;var YX=c9("PopoverContent.RemoveScroll"),JX=Li.forwardRef((i,e)=>{let t=pc(Ih,i.__scopePopover),r=Li.useRef(null),n=Ui(e,r),s=Li.useRef(!1);return Li.useEffect(()=>{let o=r.current;if(o)return rk(o)},[]),(0,sr.jsx)(wv,{as:YX,allowPinchZoom:!0,children:(0,sr.jsx)(Ik,{...i,ref:n,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ei(i.onCloseAutoFocus,o=>{o.preventDefault(),s.current||t.triggerRef.current?.focus()}),onPointerDownOutside:ei(i.onPointerDownOutside,o=>{let a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:ei(i.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),QX=Li.forwardRef((i,e)=>{let t=pc(Ih,i.__scopePopover),r=Li.useRef(!1),n=Li.useRef(!1);return(0,sr.jsx)(Ik,{...i,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{i.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||t.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:s=>{i.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(n.current=!0));let o=s.target;t.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&n.current&&s.preventDefault()}})}),Ik=Li.forwardRef((i,e)=>{let{__scopePopover:t,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...d}=i,f=pc(Ih,t),h=pm(t);return XI(),(0,sr.jsx)(av,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:s,children:(0,sr.jsx)(P0,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>f.onOpenChange(!1),children:(0,sr.jsx)(u9,{"data-state":Nk(f.open),role:"dialog",id:f.contentId,...h,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),kk="PopoverClose",Tk=Li.forwardRef((i,e)=>{let{__scopePopover:t,...r}=i,n=pc(kk,t);return(0,sr.jsx)(Ut.button,{type:"button",...r,ref:e,onClick:ei(i.onClick,()=>n.onOpenChange(!1))})});Tk.displayName=kk;var eK="PopoverArrow",Ak=Li.forwardRef((i,e)=>{let{__scopePopover:t,...r}=i,n=pm(t);return(0,sr.jsx)(h9,{...n,...r,ref:e})});Ak.displayName=eK;function Nk(i){return i?"open":"closed"}var p5=yk;var g5=Sk,v5=Ek,_5=Rk,Ok=Tk,b5=Ak;var Id=N(de(),1);var tK=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(t[r[n]]=i[r[n]]);return t};function C5({affiliations:i,affiliationId:e}){var t,r;if(!i||i.length===0)return null;let s=(r=Object.fromEntries((t=i==null?void 0:i.map(o=>{var{id:a}=o,l=tK(o,["id"]);return[a,l]}))!==null&&t!==void 0?t:[])[e])!==null&&r!==void 0?r:{name:e};return(0,Id.jsxs)(Id.Fragment,{children:[s.name||s.institution," ",s.ror&&(0,Id.jsx)("a",{className:"myst-fm-affiliation-link ml-1",href:`https://ror.org/${s.ror.replace(/(https?:\/\/)?ror\.org\//,"")}`,target:"_blank",rel:"noopener noreferrer",title:"Research Organization Registry",children:(0,Id.jsx)(tm,{width:"1rem",height:"1rem",className:"myst-fm-affiliation-icon inline-block"})})]})}function kh({title:i,children:e}){return(0,Wt.jsxs)("div",{className:"myst-fm-popover-definition px-4 py-2 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[(0,Wt.jsx)("dt",{className:"myst-fm-popover-definition-title text-sm font-medium leading-6 text-gray-900",children:i}),(0,Wt.jsx)("dd",{className:"myst-fm-popover-definition-value mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:e})]})}var Hk=({author:i,affiliations:e,children:t})=>{var r;return i?(0,Wt.jsxs)(p5,{children:[(0,Wt.jsx)(g5,{asChild:!0,children:(0,Wt.jsx)("button",{className:"myst-fm-author-popover focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline","aria-label":"Author Details",children:t})}),(0,Wt.jsx)(v5,{children:(0,Wt.jsxs)(_5,{className:"myst-fm-author-popover-content hover-card-content rounded p-5 w-[400px] bg-white shadow",sideOffset:5,children:[(0,Wt.jsxs)("div",{className:"flex flex-col gap-2.5",children:[(0,Wt.jsx)("p",{className:"myst-fm-author-popover-name text-mauve12 text-[15px] leading-[19px] font-medium mb-2.5",children:i.name}),(0,Wt.jsx)("p",{className:"myst-fm-author-popover-affiliations text-mauve12 text-[15px] leading-[19px] font-medium mb-2.5",children:(r=i.affiliations)===null||r===void 0?void 0:r.map(n=>(0,Wt.jsx)(C5,{affiliations:e,affiliationId:n},n))}),(0,Wt.jsxs)("dl",{className:"myst-fm-author-popover-details divide-y divide-gray-100",children:[i.email&&(0,Wt.jsx)(kh,{title:"Email",children:(0,Wt.jsx)("a",{className:"myst-fm-author-popover-link ml-1",href:`mailto:${i.email}`,title:`${i.name} <${i.email}>`,target:"_blank",rel:"noopener noreferrer",children:i.email})}),i.orcid&&(0,Wt.jsx)(kh,{title:"ORCID",children:(0,Wt.jsx)("a",{className:"myst-fm-author-popover-orcid ml-1",href:`https://orcid.org/${i.orcid}`,target:"_blank",rel:"noopener noreferrer",title:"ORCID (Open Researcher and Contributor ID)",children:i.orcid})}),i.github&&(0,Wt.jsx)(kh,{title:"GitHub",children:(0,Wt.jsxs)("a",{className:"myst-fm-author-popover-github ml-1",href:`https://github.com/${i.github}`,target:"_blank",rel:"noopener noreferrer",title:`GitHub: ${i.github}`,children:["@",i.github]})}),i.twitter&&(0,Wt.jsx)(kh,{title:"X Account",children:(0,Wt.jsxs)("a",{className:"myst-fm-author-popover-twitter ml-1",href:`https://x.com/${i.twitter}`,target:"_blank",rel:"noopener noreferrer",title:`X Account: ${i.twitter}`,children:["@",i.twitter]})}),i.url&&(0,Wt.jsx)(kh,{title:"Website",children:(0,Wt.jsx)("a",{className:"myst-fm-author-popover-link ml-1",href:i.url,target:"_blank",rel:"noopener noreferrer",title:"Author Website",children:i.url})}),i.roles&&(0,Wt.jsx)(kh,{title:"Roles",children:i.roles.join(", ")})]})]}),(0,Wt.jsx)(b5,{className:"fill-white"})]})})]}):(0,Wt.jsx)(Wt.Fragment,{children:t})};function zk({href:i,icon:e,title:t,className:r}){return(0,li.jsx)("a",{className:"myst-fm-author-icon-link ml-1",href:i,title:t,target:"_blank",rel:"noopener noreferrer",children:(0,li.jsx)(e,{width:"1rem",height:"1rem",className:(0,x5.default)("myst-fm-author-icon inline-block text-gray-400 -translate-y-[0.1em]",r)})})}function Pk({author:i,affiliations:e,className:t}){return(0,li.jsxs)("span",{className:(0,x5.default)("myst-fm-author font-semibold text-sm",t),children:[(0,li.jsx)(Hk,{author:i,affiliations:e,children:(0,li.jsx)("span",{className:"myst-fm-author-name",children:i.name})}),i.email&&i.corresponding&&(0,li.jsx)(zk,{href:`mailto:${i.email}`,title:`${i.name} <${i.email}>`,icon:_6,className:"myst-fm-author-icon-email hover:text-blue-400"}),i.orcid&&(0,li.jsx)(zk,{href:`https://orcid.org/${i.orcid}`,title:`ORCID: ${i.orcid}`,icon:x6,className:"myst-fm-author-icon-orcid hover:text-[#A9C751]"})]})}function Mv({authors:i,affiliations:e}){return!i||i.length===0?null:(0,li.jsx)("div",{className:"myst-fm-authors-list",children:i.map((t,r)=>(0,li.jsx)(Pk,{author:t,affiliations:e,className:(0,x5.default)("myst-fm-author-item inline-block",{"myst-fm-author-comma text-comma":r<i.length-1})},t.name))})}function jk({authors:i,affiliations:e}){return!i||i.length===0?null:i.reduce((r,{affiliations:n})=>r||!!n&&(n==null?void 0:n.length)>0,!1)?(0,li.jsx)("header",{className:"myst-fm-authors-affiliations mt-4 not-prose",children:(0,li.jsxs)("div",{className:"myst-fm-authors-grid grid grid-cols-1 sm:grid-cols-2 gap-y-1",children:[i.length>1&&(0,li.jsxs)(li.Fragment,{children:[(0,li.jsx)("div",{className:"myst-fm-authors-header-authors pb-2 text-xs font-thin uppercase",children:"Authors"}),(0,li.jsx)("div",{className:"myst-fm-authors-header-affil pb-2 text-xs font-thin uppercase",children:"Affiliations"})]}),i.map(r=>{var n;return(0,li.jsxs)(Bk.default.Fragment,{children:[(0,li.jsx)("div",{className:"myst-fm-author-col",children:(0,li.jsx)(Pk,{author:r,affiliations:e})}),(0,li.jsx)("div",{className:"myst-fm-affiliation-col text-sm",children:(n=r.affiliations)===null||n===void 0?void 0:n.map(s=>(0,li.jsx)("div",{className:"myst-fm-affiliation-item",children:(0,li.jsx)(C5,{affiliations:e,affiliationId:s})},s))})]},r.name)})]})}):(0,li.jsx)("header",{className:"myst-fm-authors-affiliations mt-4 not-prose",children:(0,li.jsx)(Mv,{authors:i,affiliations:e})})}var et=N(de(),1),or=N(te(),1),Td=N(Qe(),1);var ki=N(te());function kd(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var iK=["color"],$k=(0,ki.forwardRef)(function(i,e){var t=i.color,r=t===void 0?"currentColor":t,n=kd(i,iK);return(0,ki.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:e}),(0,ki.createElement)("path",{d:"M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H7V13H3.5C3.22386 13 3 12.7761 3 12.5V2.5C3 2.22386 3.22386 2 3.5 2H4V2.25C4 2.66421 4.33579 3 4.75 3H10.25C10.6642 3 11 2.66421 11 2.25V2H11.5C11.7761 2 12 2.22386 12 2.5V7H13V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM9 8.5C9 8.77614 8.77614 9 8.5 9C8.22386 9 8 8.77614 8 8.5C8 8.22386 8.22386 8 8.5 8C8.77614 8 9 8.22386 9 8.5ZM10.5 9C10.7761 9 11 8.77614 11 8.5C11 8.22386 10.7761 8 10.5 8C10.2239 8 10 8.22386 10 8.5C10 8.77614 10.2239 9 10.5 9ZM13 8.5C13 8.77614 12.7761 9 12.5 9C12.2239 9 12 8.77614 12 8.5C12 8.22386 12.2239 8 12.5 8C12.7761 8 13 8.22386 13 8.5ZM14.5 9C14.7761 9 15 8.77614 15 8.5C15 8.22386 14.7761 8 14.5 8C14.2239 8 14 8.22386 14 8.5C14 8.77614 14.2239 9 14.5 9ZM15 10.5C15 10.7761 14.7761 11 14.5 11C14.2239 11 14 10.7761 14 10.5C14 10.2239 14.2239 10 14.5 10C14.7761 10 15 10.2239 15 10.5ZM14.5 13C14.7761 13 15 12.7761 15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5C14 12.7761 14.2239 13 14.5 13ZM14.5 15C14.7761 15 15 14.7761 15 14.5C15 14.2239 14.7761 14 14.5 14C14.2239 14 14 14.2239 14 14.5C14 14.7761 14.2239 15 14.5 15ZM8.5 11C8.77614 11 9 10.7761 9 10.5C9 10.2239 8.77614 10 8.5 10C8.22386 10 8 10.2239 8 10.5C8 10.7761 8.22386 11 8.5 11ZM9 12.5C9 12.7761 8.77614 13 8.5 13C8.22386 13 8 12.7761 8 12.5C8 12.2239 8.22386 12 8.5 12C8.77614 12 9 12.2239 9 12.5ZM8.5 15C8.77614 15 9 14.7761 9 14.5C9 14.2239 8.77614 14 8.5 14C8.22386 14 8 14.2239 8 14.5C8 14.7761 8.22386 15 8.5 15ZM11 14.5C11 14.7761 10.7761 15 10.5 15C10.2239 15 10 14.7761 10 14.5C10 14.2239 10.2239 14 10.5 14C10.7761 14 11 14.2239 11 14.5ZM12.5 15C12.7761 15 13 14.7761 13 14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var rK=["color"],Vk=(0,ki.forwardRef)(function(i,e){var t=i.color,r=t===void 0?"currentColor":t,n=kd(i,rK);return(0,ki.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:e}),(0,ki.createElement)("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var nK=["color"],Fk=(0,ki.forwardRef)(function(i,e){var t=i.color,r=t===void 0?"currentColor":t,n=kd(i,nK);return(0,ki.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:e}),(0,ki.createElement)("path",{d:"M3 2C2.44772 2 2 2.44772 2 3V12C2 12.5523 2.44772 13 3 13H12C12.5523 13 13 12.5523 13 12V8.5C13 8.22386 12.7761 8 12.5 8C12.2239 8 12 8.22386 12 8.5V12H3V3L6.5 3C6.77614 3 7 2.77614 7 2.5C7 2.22386 6.77614 2 6.5 2H3ZM12.8536 2.14645C12.9015 2.19439 12.9377 2.24964 12.9621 2.30861C12.9861 2.36669 12.9996 2.4303 13 2.497L13 2.5V2.50049V5.5C13 5.77614 12.7761 6 12.5 6C12.2239 6 12 5.77614 12 5.5V3.70711L6.85355 8.85355C6.65829 9.04882 6.34171 9.04882 6.14645 8.85355C5.95118 8.65829 5.95118 8.34171 6.14645 8.14645L11.2929 3H9.5C9.22386 3 9 2.77614 9 2.5C9 2.22386 9.22386 2 9.5 2H12.4999H12.5C12.5678 2 12.6324 2.01349 12.6914 2.03794C12.7504 2.06234 12.8056 2.09851 12.8536 2.14645Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var sK=["color"],Wk=(0,ki.forwardRef)(function(i,e){var t=i.color,r=t===void 0?"currentColor":t,n=kd(i,sK);return(0,ki.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:e}),(0,ki.createElement)("path",{d:"M8.51194 3.00541C9.18829 2.54594 10.0435 2.53694 10.6788 2.95419C10.8231 3.04893 10.9771 3.1993 11.389 3.61119C11.8009 4.02307 11.9513 4.17714 12.046 4.32141C12.4633 4.95675 12.4543 5.81192 11.9948 6.48827C11.8899 6.64264 11.7276 6.80811 11.3006 7.23511L10.6819 7.85383C10.4867 8.04909 10.4867 8.36567 10.6819 8.56093C10.8772 8.7562 11.1938 8.7562 11.389 8.56093L12.0077 7.94221L12.0507 7.89929C12.4203 7.52976 12.6568 7.2933 12.822 7.0502C13.4972 6.05623 13.5321 4.76252 12.8819 3.77248C12.7233 3.53102 12.4922 3.30001 12.1408 2.94871L12.0961 2.90408L12.0515 2.85942C11.7002 2.508 11.4692 2.27689 11.2277 2.11832C10.2377 1.46813 8.94398 1.50299 7.95001 2.17822C7.70691 2.34336 7.47044 2.57991 7.1009 2.94955L7.058 2.99247L6.43928 3.61119C6.24401 3.80645 6.24401 4.12303 6.43928 4.31829C6.63454 4.51355 6.95112 4.51355 7.14638 4.31829L7.7651 3.69957C8.1921 3.27257 8.35757 3.11027 8.51194 3.00541ZM4.31796 7.14672C4.51322 6.95146 4.51322 6.63487 4.31796 6.43961C4.12269 6.24435 3.80611 6.24435 3.61085 6.43961L2.99213 7.05833L2.94922 7.10124C2.57957 7.47077 2.34303 7.70724 2.17788 7.95035C1.50265 8.94432 1.4678 10.238 2.11799 11.2281C2.27656 11.4695 2.50766 11.7005 2.8591 12.0518L2.90374 12.0965L2.94837 12.1411C3.29967 12.4925 3.53068 12.7237 3.77214 12.8822C4.76219 13.5324 6.05589 13.4976 7.04986 12.8223C7.29296 12.6572 7.52943 12.4206 7.89896 12.051L7.89897 12.051L7.94188 12.0081L8.5606 11.3894C8.75586 11.1941 8.75586 10.8775 8.5606 10.6823C8.36533 10.487 8.04875 10.487 7.85349 10.6823L7.23477 11.301C6.80777 11.728 6.6423 11.8903 6.48794 11.9951C5.81158 12.4546 4.95642 12.4636 4.32107 12.0464C4.17681 11.9516 4.02274 11.8012 3.61085 11.3894C3.19896 10.9775 3.0486 10.8234 2.95385 10.6791C2.53661 10.0438 2.54561 9.18863 3.00507 8.51227C3.10993 8.35791 3.27224 8.19244 3.69924 7.76544L4.31796 7.14672ZM9.62172 6.08558C9.81698 5.89032 9.81698 5.57373 9.62172 5.37847C9.42646 5.18321 9.10988 5.18321 8.91461 5.37847L5.37908 8.91401C5.18382 9.10927 5.18382 9.42585 5.37908 9.62111C5.57434 9.81637 5.89092 9.81637 6.08619 9.62111L9.62172 6.08558Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var oK=["color"],Zk=(0,ki.forwardRef)(function(i,e){var t=i.color,r=t===void 0?"currentColor":t,n=kd(i,oK);return(0,ki.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:e}),(0,ki.createElement)("path",{d:"M0.877075 7.49972C0.877075 3.84204 3.84222 0.876892 7.49991 0.876892C11.1576 0.876892 14.1227 3.84204 14.1227 7.49972C14.1227 11.1574 11.1576 14.1226 7.49991 14.1226C3.84222 14.1226 0.877075 11.1574 0.877075 7.49972ZM7.49991 1.82689C4.36689 1.82689 1.82708 4.36671 1.82708 7.49972C1.82708 10.6327 4.36689 13.1726 7.49991 13.1726C10.6329 13.1726 13.1727 10.6327 13.1727 7.49972C13.1727 4.36671 10.6329 1.82689 7.49991 1.82689ZM8.24993 10.5C8.24993 10.9142 7.91414 11.25 7.49993 11.25C7.08571 11.25 6.74993 10.9142 6.74993 10.5C6.74993 10.0858 7.08571 9.75 7.49993 9.75C7.91414 9.75 8.24993 10.0858 8.24993 10.5ZM6.05003 6.25C6.05003 5.57211 6.63511 4.925 7.50003 4.925C8.36496 4.925 8.95003 5.57211 8.95003 6.25C8.95003 6.74118 8.68002 6.99212 8.21447 7.27494C8.16251 7.30651 8.10258 7.34131 8.03847 7.37854L8.03841 7.37858C7.85521 7.48497 7.63788 7.61119 7.47449 7.73849C7.23214 7.92732 6.95003 8.23198 6.95003 8.7C6.95004 9.00376 7.19628 9.25 7.50004 9.25C7.8024 9.25 8.04778 9.00601 8.05002 8.70417L8.05056 8.7033C8.05924 8.6896 8.08493 8.65735 8.15058 8.6062C8.25207 8.52712 8.36508 8.46163 8.51567 8.37436L8.51571 8.37433C8.59422 8.32883 8.68296 8.27741 8.78559 8.21506C9.32004 7.89038 10.05 7.35382 10.05 6.25C10.05 4.92789 8.93511 3.825 7.50003 3.825C6.06496 3.825 4.95003 4.92789 4.95003 6.25C4.95003 6.55376 5.19628 6.8 5.50003 6.8C5.80379 6.8 6.05003 6.55376 6.05003 6.25Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var aK=["color"],qk=(0,ki.forwardRef)(function(i,e){var t=i.color,r=t===void 0?"currentColor":t,n=kd(i,aK);return(0,ki.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:e}),(0,ki.createElement)("path",{d:"M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var lK=["color"],Uk=(0,ki.forwardRef)(function(i,e){var t=i.color,r=t===void 0?"currentColor":t,n=kd(i,lK);return(0,ki.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:e}),(0,ki.createElement)("path",{d:"M1.90321 7.29677C1.90321 10.341 4.11041 12.4147 6.58893 12.8439C6.87255 12.893 7.06266 13.1627 7.01355 13.4464C6.96444 13.73 6.69471 13.9201 6.41109 13.871C3.49942 13.3668 0.86084 10.9127 0.86084 7.29677C0.860839 5.76009 1.55996 4.55245 2.37639 3.63377C2.96124 2.97568 3.63034 2.44135 4.16846 2.03202L2.53205 2.03202C2.25591 2.03202 2.03205 1.80816 2.03205 1.53202C2.03205 1.25588 2.25591 1.03202 2.53205 1.03202L5.53205 1.03202C5.80819 1.03202 6.03205 1.25588 6.03205 1.53202L6.03205 4.53202C6.03205 4.80816 5.80819 5.03202 5.53205 5.03202C5.25591 5.03202 5.03205 4.80816 5.03205 4.53202L5.03205 2.68645L5.03054 2.68759L5.03045 2.68766L5.03044 2.68767L5.03043 2.68767C4.45896 3.11868 3.76059 3.64538 3.15554 4.3262C2.44102 5.13021 1.90321 6.10154 1.90321 7.29677ZM13.0109 7.70321C13.0109 4.69115 10.8505 2.6296 8.40384 2.17029C8.12093 2.11718 7.93465 1.84479 7.98776 1.56188C8.04087 1.27898 8.31326 1.0927 8.59616 1.14581C11.4704 1.68541 14.0532 4.12605 14.0532 7.70321C14.0532 9.23988 13.3541 10.4475 12.5377 11.3662C11.9528 12.0243 11.2837 12.5586 10.7456 12.968L12.3821 12.968C12.6582 12.968 12.8821 13.1918 12.8821 13.468C12.8821 13.7441 12.6582 13.968 12.3821 13.968L9.38205 13.968C9.10591 13.968 8.88205 13.7441 8.88205 13.468L8.88205 10.468C8.88205 10.1918 9.10591 9.96796 9.38205 9.96796C9.65819 9.96796 9.88205 10.1918 9.88205 10.468L9.88205 12.3135L9.88362 12.3123C10.4551 11.8813 11.1535 11.3546 11.7585 10.6738C12.4731 9.86976 13.0109 8.89844 13.0109 7.70321Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var _t=N(te(),1);var Gk=N(te(),1);var Xk=N(de(),1),cK="Label",Lv=Gk.forwardRef((i,e)=>(0,Xk.jsx)(Ut.label,{...i,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(i.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Lv.displayName=cK;var Nr=N(de(),1),[Iv,Tme]=Xo("Form"),kv="Form",[dK,Th]=Iv(kv),[uK,Kk]=Iv(kv),Yk=_t.forwardRef((i,e)=>{let{__scopeForm:t,onClearServerErrors:r=()=>{},...n}=i,s=_t.useRef(null),o=Ui(e,s),[a,l]=_t.useState({}),c=_t.useCallback(H=>a[H],[a]),u=_t.useCallback((H,$)=>l(X=>({...X,[H]:{...X[H]??{},...$}})),[]),d=_t.useCallback(H=>{l($=>({...$,[H]:void 0})),C($=>({...$,[H]:{}}))},[]),[f,h]=_t.useState({}),m=_t.useCallback(H=>f[H]??[],[f]),p=_t.useCallback((H,$)=>{h(X=>({...X,[H]:[...X[H]??[],$]}))},[]),v=_t.useCallback((H,$)=>{h(X=>({...X,[H]:(X[H]??[]).filter(ue=>ue.id!==$)}))},[]),[x,C]=_t.useState({}),y=_t.useCallback(H=>x[H]??{},[x]),S=_t.useCallback((H,$)=>{C(X=>({...X,[H]:{...X[H]??{},...$}}))},[]),[M,_]=_t.useState({}),E=_t.useCallback((H,$)=>{_(X=>{let ue=new Set(X[H]).add($);return{...X,[H]:ue}})},[]),R=_t.useCallback((H,$)=>{_(X=>{let ue=new Set(X[H]);return ue.delete($),{...X,[H]:ue}})},[]),A=_t.useCallback(H=>Array.from(M[H]??[]).join(" ")||void 0,[M]);return(0,Nr.jsx)(dK,{scope:t,getFieldValidity:c,onFieldValidityChange:u,getFieldCustomMatcherEntries:m,onFieldCustomMatcherEntryAdd:p,onFieldCustomMatcherEntryRemove:v,getFieldCustomErrors:y,onFieldCustomErrorsChange:S,onFieldValiditionClear:d,children:(0,Nr.jsx)(uK,{scope:t,onFieldMessageIdAdd:E,onFieldMessageIdRemove:R,getFieldDescription:A,children:(0,Nr.jsx)(Ut.form,{...n,ref:o,onInvalid:ei(i.onInvalid,H=>{let $=rT(H.currentTarget);$===H.target&&$.focus(),H.preventDefault()}),onSubmit:ei(i.onSubmit,r,{checkForDefaultPrevented:!1}),onReset:ei(i.onReset,r)})})})});Yk.displayName=kv;var Tv="FormField",[hK,y5]=Iv(Tv),Jk=_t.forwardRef((i,e)=>{let{__scopeForm:t,name:r,serverInvalid:n=!1,...s}=i,a=Th(Tv,t).getFieldValidity(r),l=hc();return(0,Nr.jsx)(hK,{scope:t,id:l,name:r,serverInvalid:n,children:(0,Nr.jsx)(Ut.div,{"data-valid":Nv(a,n),"data-invalid":Ov(a,n),...s,ref:e})})});Jk.displayName=Tv;var Ev="FormLabel",Qk=_t.forwardRef((i,e)=>{let{__scopeForm:t,...r}=i,n=Th(Ev,t),s=y5(Ev,t),o=r.htmlFor||s.id,a=n.getFieldValidity(s.name);return(0,Nr.jsx)(Lv,{"data-valid":Nv(a,s.serverInvalid),"data-invalid":Ov(a,s.serverInvalid),...r,ref:e,htmlFor:o})});Qk.displayName=Ev;var w5="FormControl",eT=_t.forwardRef((i,e)=>{let{__scopeForm:t,...r}=i,n=Th(w5,t),s=y5(w5,t),o=Kk(w5,t),a=_t.useRef(null),l=Ui(e,a),c=r.name||s.name,u=r.id||s.id,d=n.getFieldCustomMatcherEntries(c),{onFieldValidityChange:f,onFieldCustomErrorsChange:h,onFieldValiditionClear:m}=n,p=_t.useCallback(async C=>{if(nT(C.validity)){let X=Sv(C.validity);f(c,X);return}let y=C.form?new FormData(C.form):new FormData,S=[C.value,y],M=[],_=[];d.forEach(X=>{xK(X,S)?_.push(X):wK(X)&&M.push(X)});let E=M.map(({id:X,match:ue})=>[X,ue(...S)]),R=Object.fromEntries(E),A=Object.values(R).some(Boolean),H=A;C.setCustomValidity(H?gm:"");let $=Sv(C.validity);if(f(c,$),h(c,R),!A&&_.length>0){let X=_.map(({id:pe,match:we})=>we(...S).then(Ve=>[pe,Ve])),ue=await Promise.all(X),he=Object.fromEntries(ue),ee=Object.values(he).some(Boolean);C.setCustomValidity(ee?gm:"");let ie=Sv(C.validity);f(c,ie),h(c,he)}},[d,c,h,f]);_t.useEffect(()=>{let C=a.current;if(C){let y=()=>p(C);return C.addEventListener("change",y),()=>C.removeEventListener("change",y)}},[p]);let v=_t.useCallback(()=>{let C=a.current;C&&(C.setCustomValidity(""),m(c))},[c,m]);_t.useEffect(()=>{let C=a.current?.form;if(C)return C.addEventListener("reset",v),()=>C.removeEventListener("reset",v)},[v]),_t.useEffect(()=>{let C=a.current,y=C?.closest("form");if(y&&s.serverInvalid){let S=rT(y);S===C&&S.focus()}},[s.serverInvalid]);let x=n.getFieldValidity(c);return(0,Nr.jsx)(Ut.input,{"data-valid":Nv(x,s.serverInvalid),"data-invalid":Ov(x,s.serverInvalid),"aria-invalid":s.serverInvalid?!0:void 0,"aria-describedby":o.getFieldDescription(c),title:"",...r,ref:l,id:u,name:c,onInvalid:ei(i.onInvalid,C=>{let y=C.currentTarget;p(y)}),onChange:ei(i.onChange,C=>{v()})})});eT.displayName=w5;var gm="This value is not valid",fK={badInput:gm,patternMismatch:"This value does not match the required pattern",rangeOverflow:"This value is too large",rangeUnderflow:"This value is too small",stepMismatch:"This value does not match the required step",tooLong:"This value is too long",tooShort:"This value is too short",typeMismatch:"This value does not match the required type",valid:void 0,valueMissing:"This value is missing"},vm="FormMessage",tT=_t.forwardRef((i,e)=>{let{match:t,name:r,...n}=i,s=y5(vm,i.__scopeForm),o=r??s.name;return t===void 0?(0,Nr.jsx)(Av,{...n,ref:e,name:o,children:i.children||gm}):typeof t=="function"?(0,Nr.jsx)(pK,{match:t,...n,ref:e,name:o}):(0,Nr.jsx)(mK,{match:t,...n,ref:e,name:o})});tT.displayName=vm;var mK=_t.forwardRef((i,e)=>{let{match:t,forceMatch:r=!1,name:n,children:s,...o}=i,l=Th(vm,o.__scopeForm).getFieldValidity(n);return r||l?.[t]?(0,Nr.jsx)(Av,{ref:e,...o,name:n,children:s??fK[t]}):null}),pK=_t.forwardRef((i,e)=>{let{match:t,forceMatch:r=!1,name:n,id:s,children:o,...a}=i,l=Th(vm,a.__scopeForm),c=_t.useRef(null),u=Ui(e,c),d=hc(),f=s??d,h=_t.useMemo(()=>({id:f,match:t}),[f,t]),{onFieldCustomMatcherEntryAdd:m,onFieldCustomMatcherEntryRemove:p}=l;_t.useEffect(()=>(m(n,h),()=>p(n,h.id)),[h,n,m,p]);let v=l.getFieldValidity(n),C=l.getFieldCustomErrors(n)[f];return r||v&&!nT(v)&&C?(0,Nr.jsx)(Av,{id:f,ref:u,...a,name:n,children:o??gm}):null}),Av=_t.forwardRef((i,e)=>{let{__scopeForm:t,id:r,name:n,...s}=i,o=Kk(vm,t),a=hc(),l=r??a,{onFieldMessageIdAdd:c,onFieldMessageIdRemove:u}=o;return _t.useEffect(()=>(c(n,l),()=>u(n,l)),[n,l,c,u]),(0,Nr.jsx)(Ut.span,{id:l,...s,ref:e})}),Rv="FormValidityState",gK=i=>{let{__scopeForm:e,name:t,children:r}=i,n=Th(Rv,e),s=y5(Rv,e),o=t??s.name,a=n.getFieldValidity(o);return(0,Nr.jsx)(Nr.Fragment,{children:r(a)})};gK.displayName=Rv;var vK="FormSubmit",iT=_t.forwardRef((i,e)=>{let{__scopeForm:t,...r}=i;return(0,Nr.jsx)(Ut.button,{type:"submit",...r,ref:e})});iT.displayName=vK;function Sv(i){let e={};for(let t in i)e[t]=i[t];return e}function _K(i){return i instanceof HTMLElement}function bK(i){return"validity"in i}function CK(i){return bK(i)&&(i.validity.valid===!1||i.getAttribute("aria-invalid")==="true")}function rT(i){let e=i.elements,[t]=Array.from(e).filter(_K).filter(CK);return t}function xK(i,e){return i.match.constructor.name==="AsyncFunction"||yK(i.match,e)}function wK(i){return i.match.constructor.name==="Function"}function yK(i,e){return i(...e)instanceof Promise}function nT(i){let e=!1;for(let t in i){let r=t;if(r!=="valid"&&r!=="customError"&&i[r]){e=!0;break}}return e}function Nv(i,e){if(i?.valid===!0&&!e)return!0}function Ov(i,e){if(i?.valid===!1||e)return!0}var sT=Yk,oT=Jk,aT=Qk,lT=eT,cT=tT;var dT=iT;var LK=function(i,e,t,r){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})},uT=/^(?:https?:\/\/github.com\/)?([A-Za-z0-9_.-]+)\/([A-Za-z0-9_.-]+)(?:.git)?\/?$/,hT=/^(?:https?:\/\/gitlab.com\/)?([A-Za-z0-9_.-]+)\/([A-Za-z0-9_.-]+)(?:.git)?\/?$/,fT=/^(?:https?:\/\/gist.github.com\/)?([A-Za-z0-9_.-]+)\/([A-Za-z0-9_.-]+)(?:.git)?\/?$/;function SK(i){let{className:e,defaultMessage:t,copiedMessage:r,invalidLinkFallback:n,buildLink:s,copiedMessageDuration:o}=i,[a,l]=(0,or.useState)(t),c=(0,or.useCallback)(()=>{var u;if(window.isSecureContext){let d=i.buildLink();window.navigator.clipboard.writeText((u=d!=null?d:n)!==null&&u!==void 0?u:"<invalid link>"),l(r!=null?r:t),setTimeout(()=>{l(t)},o!=null?o:1e3)}},[t,r,s,o,n,l]);return(0,et.jsxs)("button",{type:"button",className:(0,Td.default)("myst-fm-launch-copy-button",e,"flex flex-row items-center gap-1"),onClick:c,children:[a," ",(0,et.jsx)($k,{className:"inline-block"})]})}function Dv(i){let e=new URL(i),t=`${e.origin}${e.pathname}`;return t.endsWith("/")||(t=`${t}/`),t}function mT(i){return Object.entries(i).filter(([e,t])=>t!==void 0).map(([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`).join("&")}function EK(i,e,t="v2"){var r,n,s,o,a,l,c;let u;if(!i.repo||!i.url)return;switch(i.provider){case"git":{let h=encodeURIComponent(i.repo),m=encodeURIComponent((r=i.ref)!==null&&r!==void 0?r:"HEAD");u=`git/${h}/${m}`;break}case"gitlab":{let[,h,m]=(n=i.repo.match(hT))!==null&&n!==void 0?n:[];if(!h)return;let p=encodeURIComponent((s=i.ref)!==null&&s!==void 0?s:"HEAD");u=`gl/${h}/${m}/${p}`;break}case"github":{let[,h,m]=(o=i.repo.match(uT))!==null&&o!==void 0?o:[];if(!h)return;let p=encodeURIComponent((a=i.ref)!==null&&a!==void 0?a:"HEAD");u=`gh/${h}/${m}/${p}`;break}case"gist":{let[,h,m]=(l=i.repo.match(fT))!==null&&l!==void 0?l:[];if(!h)return;let p=encodeURIComponent((c=i.ref)!==null&&c!==void 0?c:"HEAD");u=`gist/${h}/${m}/${p}`;break}default:return}let d=mT({urlpath:`/lab/tree/${e}`});return`${Dv(i.url)}${t}/${u}?${d}`}function RK(i){let e=new URL(i),t=e.pathname.slice(1).split("/");return t[t.length-1]||e.hostname}function IK(i,e){var t,r,n;if(!i.repo||!i.url)return;let{ref:s}=i,o,a;switch(i.provider){case"git":{o=i.repo,a=RK(o);break}case"gitlab":{let[,c,u]=(t=i.repo.match(hT))!==null&&t!==void 0?t:[];o=`https://gitlab.com/${c}/${u}`,a=u;break}case"github":{let[,c,u]=(r=i.repo.match(uT))!==null&&r!==void 0?r:[];o=`https://github.com/${c}/${u}`,a=u;break}case"gist":{let[,,c]=(n=i.repo.match(fT))!==null&&n!==void 0?n:[];o=`https://gist.github.com/${c}`,a=c;break}default:return}return`git-pull?${mT({repo:o,urlpath:`lab/tree/${a}${e}`})}`}function kK(i,e){let[t,r]=(0,or.useState)(i);return or.default.useEffect(()=>{let n=setTimeout(()=>{r(i)},e);return()=>{clearTimeout(n)}},[i,e]),t}function TK(i){return LK(this,void 0,void 0,function*(){let e=`${i}versions`;try{if("binderhub"in(yield(yield fetch(e)).json()))return"binderhub"}catch{console.debug(`Couldn't reach ${e}`)}let t=`${i}hub/api/`;try{if("version"in(yield(yield fetch(t)).json()))return"jupyterhub"}catch{console.debug(`Couldn't reach ${e}`)}return"error"})}function AK(i){var e;let{thebe:t,location:r,onLaunch:n}=i,{binder:s}=t,o=(e=s==null?void 0:s.url)!==null&&e!==void 0?e:"https://mybinder.org",[a,l]=(0,or.useState)(void 0),[c,u]=(0,or.useState)(""),d=(0,or.useCallback)(S=>{l(void 0),u(S.target.value)},[u]),f=(0,or.useRef)(null),h=(0,or.useCallback)(()=>{let S=f.current;if(!S)return;let M=Object.fromEntries(new FormData(S)),_=M.url;if(!_)return;let E=Dv(_),R=M==null?void 0:M.provider;switch(R!=null?R:a){case"jupyterhub":{let H=IK(s!=null?s:{},r);return`${E}hub/user-redirect/${H}`}case"binderhub":return EK(Object.assign(Object.assign({},s!=null?s:{}),{url:E}),r);case void 0:return}},[f,r,s,a]),m=(0,or.useRef)(null),p=(0,or.useCallback)(()=>{var S;if(((S=m.current)===null||S===void 0?void 0:S.dataset.invalid)!=="true")return h()},[h,m]),v=kK(c,100),[x,C]=(0,or.useState)(!1);or.default.useEffect(()=>{var S,M;if(!!!(!((M=(S=m.current)===null||S===void 0?void 0:S.checkValidity)===null||M===void 0)&&M.call(S)))return;C(!0);let E;try{E=Dv(v)}catch{return}TK(E).then(R=>{R!=="error"?l(R):/https?:\/\/mybinder.org\//.test(E)?l("binderhub"):l("error")}).catch(console.error).finally(()=>C(!1))},[v,m,C]);let y=(0,or.useCallback)(S=>{var M;S.preventDefault();let _=h();_&&((M=window==null?void 0:window.open(_,"_blank"))===null||M===void 0||M.focus()),n==null||n()},[o,h,n]);return(0,et.jsxs)(sT,{onSubmit:y,ref:f,children:[(0,et.jsxs)(oT,{className:"myst-fm-launch-form mb-2.5 grid",name:"url",children:[(0,et.jsxs)("div",{className:"flex flex-col items-baseline justify-between",children:[(0,et.jsxs)(aT,{className:"myst-fm-launch-label text-[15px] font-medium leading-[35px]",children:["Enter a JupyterHub or BinderHub URL, e.g."," ",(0,et.jsx)("a",{href:"https://mybinder.org",className:"font-medium text-blue-600 dark:text-blue-500 hover:underline",children:"https://mybinder.org"})]}),(0,et.jsx)(cT,{className:"text-[13px] opacity-80",match:"typeMismatch",children:"Please provide a valid URL that starts with http(s)."})]}),(0,et.jsxs)("div",{className:"relative flex",children:[(0,et.jsx)("span",{className:"flex absolute h-full","aria-hidden":!0,children:a==="binderhub"&&(0,et.jsx)(u6,{className:"myst-fm-launch-status-ready w-[24px] h-[24px] mx-[4px] self-center pointer-events-none"})||a==="jupyterhub"&&(0,et.jsx)(mh,{className:"myst-fm-launch-status-ready w-[24px] h-[24px] mx-[4px] self-center pointer-events-none"})||a==="error"&&(0,et.jsx)(Zk,{className:"myst-fm-launch-status-error w-[24px] h-[24px] mx-[4px] self-center pointer-events-none"})||x&&(0,et.jsx)(Uk,{className:"myst-fm-launch-status-building w-[24px] h-[24px] mx-[4px] self-center pointer-events-none motion-safe:animate-spin"})||(0,et.jsx)(Wk,{className:"myst-fm-launch-status w-[24px] h-[24px] mx-[4px] self-center pointer-events-none"})}),(0,et.jsx)(lT,{asChild:!0,children:(0,et.jsx)("input",{className:"myst-fm-launch-input ps-[32px] box-border inline-flex h-[35px] w-full appearance-none items-center justify-center rounded px-2.5 text-[15px] leading-none shadow-[0_0_0_1px] shadow-slate-400 outline-none bg-gray-50 dark:bg-gray-700 hover:shadow-[0_0_0_1px_black] focus:shadow-[0_0_0_2px_black]",type:"url",placeholder:o,required:!0,ref:m,onChange:d})})]})]}),(0,et.jsxs)("details",{className:(0,Td.default)("myst-fm-launch-modal-body rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden","bg-gray-50 dark:bg-stone-800",{hidden:!(a==="jupyterhub"||a==="error")}),open:!1,children:[(0,et.jsx)("summary",{className:(0,Td.default)("myst-fm-launch-modal-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3","cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]","bg-gray-100 dark:bg-slate-900"),children:(0,et.jsxs)("span",{className:"text-neutral-900 dark:text-white",children:[(0,et.jsx)("span",{className:"block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200",children:(0,et.jsx)(ts,{width:"1.5rem",height:"1.5rem",className:(0,Td.default)("details-toggle","transition-transform")})}),"JupyterHub Requirements"]})}),(0,et.jsxs)("div",{className:"px-4 py-1 details-body flex flex-col gap-1",children:[(0,et.jsx)("p",{children:'Launching on a JupyterHub will usually require you to choose a "profile". You should select a profile that has the right packages, and enough resources to run the code-cells and inline expressions in this MyST project.'}),(0,et.jsxs)("p",{children:["Whichever image you choose, it must have the"," ",(0,et.jsx)("a",{href:"https://github.com/jupyterhub/nbgitpuller",className:"underline",children:"nbgitpuller"})," ","extension installed. If it is missing, you will see an HTTP 404 error once the server starts."]}),(0,et.jsx)("p",{children:"Contact the Hub administrator for more information about using nbgitpuller with JupyterHub."})]})]}),(0,et.jsxs)("fieldset",{disabled:a!=="error",className:(0,Td.default)("myst-fm-launch-option mt-6",{hidden:a!=="error"}),children:[(0,et.jsx)("legend",{className:"mb-3",children:"The provider type could not be detected automatically. what kind of provider have you given?"}),(0,et.jsxs)("div",{children:[(0,et.jsx)("input",{id:"jupyterhub",type:"radio",name:"provider",value:"jupyterhub",className:"mr-2",defaultChecked:!0}),(0,et.jsx)("label",{className:"cursor-pointer ",htmlFor:"jupyterhub",children:"JupyterHub"})]}),(0,et.jsxs)("div",{children:[(0,et.jsx)("input",{id:"binderhub",type:"radio",name:"provider",className:"mr-2",value:"binderhub"}),(0,et.jsx)("label",{className:"cursor-pointer ",htmlFor:"binderhub",children:"BinderHub"})]})]}),(0,et.jsxs)("fieldset",{className:(0,Td.default)("myst-fm-launch-modal-footer flex flex-row justify-between mt-6",{hidden:a===void 0}),disabled:a===void 0,children:[(0,et.jsx)(dT,{asChild:!0,children:(0,et.jsxs)("button",{className:"myst-fm-launch-button inline-flex flex-row gap-1 h-[35px] items-center justify-center rounded px-[15px] font-medium leading-none bg-orange-500 hover:bg-orange-600 outline-none text-white focus:shadow-[0_0_0_2px] focus:shadow-black focus:outline-none",children:[(0,et.jsx)("span",{children:"Launch"})," ",(0,et.jsx)(Fk,{className:"myst-fm-launch-icon inline-block"})]})}),(0,et.jsx)(SK,{className:"inline-flex h-[35px] items-center justify-center rounded px-[15px] font-medium leading-none bg-gray-400 hover:bg-gray-500 outline-none text-white focus:shadow-[0_0_0_2px] focus:shadow-black focus:outline-none",defaultMessage:"Copy Link",copiedMessage:"Link Copied",buildLink:p})]})]})}function pT(i){let e=(0,or.useRef)(null),t=(0,or.useCallback)(()=>{var r,n;(n=(r=e.current)===null||r===void 0?void 0:r.click)===null||n===void 0||n.call(r)},[]);return(0,et.jsxs)(p5,{children:[(0,et.jsx)(g5,{asChild:!0,children:(0,et.jsx)("button",{className:"myst-fm-launch-button inline-flex size-[24px] hover:text-[#E18435] items-center justify-center","aria-label":"Launch in external computing interface",title:"Launch in external computing interface",children:(0,et.jsx)(qk,{className:"myst-fm-launch-icon"})})}),(0,et.jsx)(v5,{children:(0,et.jsxs)(_5,{className:"myst-fm-launch-modal myst-fm-launch-modal-content z-30 text-gray-700 dark:text-white bg-white dark:bg-stone-800 p-5 rounded shadow-[0_10px_38px_-10px_hsla(206,22%,7%,.35),0_10px_20px_-15px_hsla(206,22%,7%,.2)] max-w-[400px]",sideOffset:5,children:[(0,et.jsx)(AK,Object.assign({},i,{onLaunch:t})),(0,et.jsx)(Ok,{className:"absolute right-[5px] top-[5px] inline-flex size-[25px] items-center justify-center rounded-full","aria-label":"Close",ref:e,children:(0,et.jsx)(Vk,{})}),(0,et.jsx)(b5,{className:"fill-white"})]})})]})}function NK({to:i,className:e,title:t,children:r}){return(0,Mt.jsx)("a",{href:i,className:e,title:t,children:r})}function OK({doi:i,className:e}){if(!i)return null;let r=`https://doi.org/${i.replace(/^(https?:\/\/)?(dx\.)?doi\.org\//,"")}`;return(0,Mt.jsx)("div",{className:(0,Ah.default)("myst-fm-doi-badge flex-none",e),title:"DOI (Digital Object Identifier)",children:(0,Mt.jsx)("a",{className:"myst-fm-doi-link font-light no-underline hover:font-light hover:underline text-inherit hover:text-inherit",target:"_blank",rel:"noopener noreferrer",href:r,children:r})})}function DK({date:i,format:e={year:"numeric",month:"long",day:"numeric"},spacer:t}){if(!i)return null;let r=new Date(i),s=new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()).toLocaleDateString("en-US",e);return(0,Mt.jsx)("time",{dateTime:i,className:(0,Ah.default)("myst-fm-date-string",{"text-spacer":t}),children:s})}function Hv({github:i}){if(!i)return null;let e=i.replace(/^(https?:\/\/)?github\.com\//,"");return(0,Mt.jsx)("a",{href:`https://github.com/${e}`,title:`GitHub Repository: ${e}`,target:"_blank",rel:"noopener noreferrer",className:"myst-fm-github-link text-inherit hover:text-inherit",children:(0,Mt.jsx)(b6,{width:"1.25rem",height:"1.25rem",className:"myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"})})}function zv({open_access:i}){return i?(0,Mt.jsx)("a",{href:"https://en.wikipedia.org/wiki/Open_access",target:"_blank",rel:"noopener noreferrer",title:"Open Access",className:"myst-fm-open-access-badge text-inherit hover:text-inherit",children:(0,Mt.jsx)(C6,{width:"1.25rem",height:"1.25rem",className:"myst-fm-block-open-access-icon mr-1 inline-block opacity-60 hover:opacity-100 hover:text-[#E18435]"})}):null}function HK({editUrl:i}){return i?(0,Mt.jsx)("a",{href:i,title:"Edit This Page",target:"_blank",rel:"noopener noreferrer",className:"myst-fm-edit-link text-inherit hover:text-inherit",children:(0,Mt.jsx)(k0,{width:"1.25rem",height:"1.25rem",className:"myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"})}):null}function Bv({venue:i,volume:e,issue:t,className:r}){if(!i)return null;let{title:n,url:s}=typeof i=="string"?{title:i,url:null}:i;return n?(0,Mt.jsxs)("div",{className:(0,Ah.default)("myst-fm-journal flex-none mr-2",r),children:[s?(0,Mt.jsx)(NK,{className:"myst-fm-journal-link font-semibold no-underline smallcaps",to:s,title:n,children:n}):(0,Mt.jsx)("span",{className:"myst-fm-journal-title font-semibold smallcaps",children:n}),e!=null&&(0,Mt.jsxs)("span",{className:"myst-fm-journal-volume pl-2 ml-2 border-l",children:["Volume ",e.title,t!=null&&(0,Mt.jsxs)(Mt.Fragment,{children:[", Issue ",t.title]})]})]}):null}function gT({frontmatter:i,kind:e=si.Article,authorStyle:t="block",hideBadges:r,hideExports:n,hideAuthors:s,className:o,thebe:a,location:l}){if(!i)return null;let{title:c,subtitle:u,subject:d,doi:f,open_access:h,license:m,github:p,venue:v,volume:x,issue:C,exports:y,downloads:S,date:M,authors:_,enumerator:E,edit_url:R}=i,A=e===si.Notebook,H=S?S.length>0:y&&y.length>0,$=_&&_.length>0,X=!!h||!!m||!!H||!!A||!!p,ue=!!d||!!v||!!x||!!C,he=!!f||!!M,Y=ue||X&&!r||H&&!n,ee=!1;return!c&&!u&&!Y&&!$&&!he?null:(0,Mt.jsxs)("div",{id:"skip-to-frontmatter","aria-label":"article frontmatter",className:(0,Ah.default)("myst-fm-block",o),children:[Y&&(0,Mt.jsxs)("div",{className:"myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light",children:[d&&(0,Mt.jsx)("div",{className:(0,Ah.default)("myst-fm-block-subject flex-none pr-2 smallcaps",{"mr-2 border-r":v}),children:d}),(0,Mt.jsx)(Bv,{venue:v,volume:x,issue:C}),(0,Mt.jsx)("div",{className:"flex-grow"}),!r&&(0,Mt.jsxs)("div",{className:"myst-fm-block-badges",children:[(0,Mt.jsx)(J9,{license:m}),(0,Mt.jsx)(zv,{open_access:h}),(0,Mt.jsx)(Hv,{github:p})]}),(0,Mt.jsx)(HK,{editUrl:R!=null?R:void 0}),!n&&(0,Mt.jsx)(qI,{exports:S!=null?S:y}),!ee&&a&&l&&(0,Mt.jsx)(pT,{thebe:a,location:l})]}),c&&(0,Mt.jsxs)("h1",{className:"myst-fm-block-title mb-0",children:[E&&(0,Mt.jsxs)("span",{className:"myst-fm-block-enumerator mr-3 select-none",children:[" ",E," "]}),c]}),u&&(0,Mt.jsx)("p",{className:"myst-fm-block-subtitle mt-2 mb-0 lead text-zinc-600 dark:text-zinc-400",children:u}),!s&&$&&t==="list"&&(0,Mt.jsx)(Mv,{authors:i.authors,affiliations:i.affiliations}),!s&&$&&t==="block"&&(0,Mt.jsx)(jk,{authors:i.authors,affiliations:i.affiliations}),he&&(0,Mt.jsxs)("div",{className:"myst-fm-block-date-doi flex mt-2 text-sm font-light",children:[(0,Mt.jsx)(DK,{date:M,spacer:!!f}),(0,Mt.jsx)(OK,{doi:f})]})]})}var Ad=N(Qe(),1);var vT=N(Qe(),1),_m=N(de(),1);function Pv({className:i="w-10 h-10 mx-3"}){let{nextTheme:e}=Pp();return(0,_m.jsxs)("button",{className:(0,vT.default)("myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800",i),title:"Toggle theme between light and dark mode","aria-label":"Toggle theme between light and dark mode",onClick:e,children:[(0,_m.jsx)(k8,{className:"myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"}),(0,_m.jsx)(c8,{className:"myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"})]})}var zK=N(te(),1),BK=N(Qe(),1);var _T=N(de(),1),M5=60;var qr=N(de(),1);function PK({frontmatter:i,children:e,toggleTheme:t,className:r,hideAuthors:n}){let s=o1(),{subject:o,venue:a,volume:l,issue:c,...u}=i!=null?i:{},d={"col-page-right":s==="article-left-grid","col-page":s==="article-grid"},f={"col-body":s==="article-left-grid","col-page-left":s==="article-grid"};return(0,qr.jsxs)("header",{className:"myst-article-header relative col-screen",children:[(i==null?void 0:i.banner)&&(0,qr.jsx)("div",{className:(0,Ad.default)("myst-article-header-background absolute",s,"subgrid-gap col-screen bg-no-repeat bg-cover bg-top w-full h-full -z-10 pointer-events-none"),style:{backgroundImage:`url(${i==null?void 0:i.banner})`}}),(0,qr.jsx)("div",{className:(0,Ad.default)("myst-article-header-content w-full relative col-screen article",s,"subgrid-gap",{"my-[2rem] pb-[1rem] md:my-[4rem]":i==null?void 0:i.banner,"my-[2rem]":!(i!=null&&i.banner)},r),children:(0,qr.jsxs)("div",{className:(0,Ad.default)("myst-article-header-banner",d,{"shadow-2xl bg-white/80 dark:bg-black/80 backdrop-blur":i==null?void 0:i.banner}),children:[(0,qr.jsxs)("div",{className:(0,Ad.default)("flex w-full align-middle py-2 mb-[1rem] text-sm",{"px-4 w-full":i==null?void 0:i.banner,"bg-white/80 dark:bg-black/80":i==null?void 0:i.banner,...d}),children:[o&&(0,qr.jsx)("div",{className:(0,Ad.default)("flex-none pr-2 smallcaps"),children:o}),(0,qr.jsx)(Bv,{venue:a,volume:l,issue:c,className:"hidden pl-2 border-l md:block"}),(0,qr.jsx)("div",{className:"flex-grow"}),(0,qr.jsxs)("div",{className:"hidden sm:block",children:[(0,qr.jsx)(J9,{license:i==null?void 0:i.license}),(0,qr.jsx)(zv,{open_access:i==null?void 0:i.open_access}),(0,qr.jsx)(Hv,{github:i==null?void 0:i.github})]}),t&&(0,qr.jsx)(Pv,{className:"myst-article-header-theme-button inline-block w-5 h-5 mt-0.5 ml-1"})]}),(0,qr.jsxs)("div",{className:"flex flex-col mb-10 md:flex-row",children:[(0,qr.jsx)(gT,{frontmatter:u,authorStyle:"list",className:(0,Ad.default)("myst-article-header-fm flex-grow",{"pt-6 px-6":i==null?void 0:i.banner,...f}),hideAuthors:n,hideBadges:!0,hideExports:!0}),e]})]})})]})}var bT=N(Qe(),1),Nd=N(de(),1);function L5({content:i,title:e="Abstract",id:t="abstract",className:r}){return i?(0,Nd.jsxs)("div",{className:(0,bT.default)("myst-abstract",r),children:[(0,Nd.jsxs)("h2",{id:t,className:"myst-abstract-title mb-3 text-base font-semibold group",children:[e,(0,Nd.jsx)(mi,{id:t,title:`Link to ${e}`,hover:!0,className:"ml-2"})]}),(0,Nd.jsx)("div",{className:"myst-abstract-box px-6 py-1 mb-3 rounded-sm bg-slate-50 dark:bg-slate-800",children:(0,Nd.jsx)(ge,{ast:i,className:"myst-abstract-content col-body"})})]}):null}var jv=N(Qe(),1);var Od=N(de(),1);function CT({keywords:i,hideKeywords:e,className:t}){return e||!i||i.length===0?null:(0,Od.jsxs)("div",{className:(0,jv.default)("myst-keywords mb-10 group",t),children:[(0,Od.jsx)("span",{className:"myst-keywords-label mr-2 font-semibold",children:"Keywords:"}),(0,Od.jsx)("span",{className:"myst-keywords-list",children:i.map((r,n)=>(0,Od.jsx)("span",{className:(0,jv.default)("myst-keywords-item",{"after:content-[','] after:mr-1":n<i.length-1}),children:r},r))}),(0,Od.jsx)(mi,{id:"keywords",title:"Link to Keywords",hover:!0,className:"ml-2"})]})}var Nh=N(Qe(),1),Dd=N(de(),1);function jK({parts:i,keywords:e,hideKeywords:t,containerClassName:r,innerClassName:n}){return!i.abstract&&!i.keypoints&&!i.summary?null:(0,Dd.jsxs)("div",{className:(0,Nh.default)("myst-fm-parts",r),children:[(0,Dd.jsx)(L5,{className:(0,Nh.default)("myst-fm-section",n),content:i.abstract}),(0,Dd.jsx)(L5,{className:(0,Nh.default)("myst-fm-section",n),content:i.keypoints,title:"Key Points",id:"keypoints"}),(0,Dd.jsx)(L5,{className:(0,Nh.default)("myst-fm-section",n),content:i.summary,title:"Plain Language Summary",id:"summary"}),(0,Dd.jsx)(CT,{className:(0,Nh.default)("myst-fm-section",n),keywords:e,hideKeywords:t})]})}function w2e(i,e){let t=r1(i,"abstract"),r=r1(i,"summary",{requireExplicitPart:!0}),n=r1(i,["keypoints"],{requireExplicitPart:!0}),s=r1(i,["data_availability","data availability"]),o=r1(i,["acknowledgments","acknowledgements"]),a=Object.fromEntries(Object.entries(e!=null?e:{}).map(([l,c])=>[l,c.mdast]));return{abstract:t,summary:r,keypoints:n,data_availability:s,acknowledgments:o,...a}}function xT(i){var e;return(i==null?void 0:i.type)==="root"&&((e=i.children)==null?void 0:e.length)===1&&i.children[0].type==="block"?i.children[0].children:i}var Vv=N(Qe(),1),sa=N(de(),1);function $K({parts:i,containerClassName:e,innerClassName:t}){return(0,sa.jsxs)("div",{className:(0,Vv.default)("myst-backmatter-parts",e),children:[(0,sa.jsx)($v,{className:t,title:"Acknowledgments",id:"acknowledgments",content:i.acknowledgments}),(0,sa.jsx)($v,{className:t,title:"Data Availability",id:"data-availability",content:i.data_availability})]})}function $v({title:i,id:e,content:t,className:r}){return t?(0,sa.jsxs)("div",{className:(0,Vv.default)("myst-backmatter flex flex-col w-full md:flex-row group/backmatter",r),children:[(0,sa.jsxs)("h2",{id:e,className:"myst-backmatter-title mt-5 text-base font-semibold group md:w-[200px] self-start md:flex-none opacity-90 group-hover/backmatter:opacity-100",children:[i,(0,sa.jsx)(mi,{id:e,title:`Link to ${i}`,hover:!0,className:"ml-2"})]}),(0,sa.jsx)("div",{className:"myst-backmatter-content grow opacity-90 group-hover/backmatter:opacity-100 col-screen",children:(0,sa.jsx)(ge,{ast:xT(t)})})]}):null}var ft=N(de(),1);var S5=function(i){if(i==null)return ZK;if(typeof i=="function")return E5(i);if(typeof i=="object")return Array.isArray(i)?VK(i):FK(i);if(typeof i=="string")return WK(i);throw new Error("Expected function, string, or object as test")};function VK(i){let e=[],t=-1;for(;++t<i.length;)e[t]=S5(i[t]);return E5(r);function r(...n){let s=-1;for(;++s<e.length;)if(e[s].apply(this,n))return!0;return!1}}function FK(i){let e=i;return E5(t);function t(r){let n=r,s;for(s in i)if(n[s]!==e[s])return!1;return!0}}function WK(i){return E5(e);function e(t){return t&&t.type===i}}function E5(i){return e;function e(t,r,n){return Boolean(qK(t)&&i.call(this,t,typeof r=="number"?r:void 0,n||void 0))}}function ZK(){return!0}function qK(i){return i!==null&&typeof i=="object"&&"type"in i}function R5(i,e,t){let r=S5(t||e),n=!0;e&&typeof e=="object"&&"cascade"in e&&typeof e.cascade=="boolean"&&(n=e.cascade),s(i);function s(o,a,l){if(o!==i&&r(o,a,l))return!1;if("children"in o&&Array.isArray(o.children)){let c=o,u=c.children,d=-1,f=0;if(u.length>0){for(;++d<u.length;)s(u[d],d,c)&&(u[f++]=u[d]);if(o!==i&&n&&!f)return!1;u.length=f}}return!0}}var Ti=N(te(),1),Fs=N(Qe(),1);var wT=function(i,e,t,r){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})},UK=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(t[r[n]]=i[r[n]]);return t};function GK(i,e){let t=document.createElement("a"),r=URL.createObjectURL(e);t.href=r,t.download=i,t.click()}function XK(i,e){return wT(this,void 0,void 0,function*(){let{unified:t}=yield import("/myst_assets_folder/_shared/unified-DL6LFCCS.js"),{mystToDocx:r,fetchImagesAsBuffers:n}=yield import("/myst_assets_folder/_shared/dist-QIJZRBP4.js"),s=JSON.parse(JSON.stringify(e)),o=yield n(s),a=yield t().use(r,o).stringify(s).result;GK(i,a)})}function KK(i,e){var t,r;let s=(r=(((t=e.children[0])===null||t===void 0?void 0:t.type)==="block"?e.children[0]:e).children)===null||r===void 0?void 0:r[0],o={};if(s?.type==="code"&&s?.lang==="yaml")try{o=sM(s.value)||{},s.type="__delete__"}catch(c){Zy(i,"Invalid YAML frontmatter",{note:c.message,ruleId:Yy.frontmatterIsYaml})}return R5(e,"__delete__")===null&&R5(e,{cascade:!1},"__delete__"),o}function YK(i,e,t){return wT(this,void 0,void 0,function*(){var r,n,s;let{visit:o}=yield import("/myst_assets_folder/_shared/unist-util-visit-446J6CPU.js"),{unified:a}=yield import("/myst_assets_folder/_shared/unified-DL6LFCCS.js"),{mystParse:l}=yield import("/myst_assets_folder/_shared/dist-BHKJNA2B.js"),{mathPlugin:c,footnotesPlugin:u,keysPlugin:d,htmlPlugin:f,reconstructHtmlPlugin:h,basicTransformationsPlugin:m,enumerateTargetsPlugin:p,resolveReferencesPlugin:v,WikiTransformer:x,GithubTransformer:C,DOITransformer:y,RRIDTransformer:S,RORTransformer:M,linksPlugin:_,ReferenceState:E,abbreviationPlugin:R,glossaryPlugin:A,joinGatesPlugin:H}=yield import("/myst_assets_folder/_shared/dist-NLCWEYGT.js"),{default:$}=yield import("/myst_assets_folder/_shared/dist-SSNQCYKL.js"),{default:X}=yield import("/myst_assets_folder/_shared/dist-FMC7QGKW.js"),{default:ue}=yield import("/myst_assets_folder/_shared/dist-EUKWNOPU.js").catch(()=>({default:null})),{mystToHtml:he}=yield import("/myst_assets_folder/_shared/dist-SIYFYMYA.js"),{buttonRole:Y}=yield import("/myst_assets_folder/_shared/dist-IWPPJBYW.js"),{cardDirective:ee}=yield import("/myst_assets_folder/_shared/dist-TMSCD6KS.js"),{gridDirective:ie}=yield import("/myst_assets_folder/_shared/dist-DAMRF7E6.js"),{tabDirectives:pe}=yield import("/myst_assets_folder/_shared/dist-BVWUEM6Y.js"),{proofDirective:we}=yield import("/myst_assets_folder/_shared/dist-WK3I2JGV.js"),{exerciseDirectives:Ve}=yield import("/myst_assets_folder/_shared/dist-GGHQ4HVT.js"),lt=new y0,gt=ae=>l(ae,{markdownit:{linkify:!0},directives:[ee,ie,...pe,we,...Ve],roles:[Y],vfile:lt}),De=gt(i),rt=[new x,new C,new y,new S,new M],Jt=JSON.parse(JSON.stringify(De));o(Jt,ae=>delete ae.position);let Ke=he(JSON.parse(JSON.stringify(De))),Ye={cite:{order:[],data:{}}},fi=KK(lt,De),yt=Ky(fi,{property:"frontmatter",messages:{}}),oi=new E("",{frontmatter:Object.assign(Object.assign({},yt),{numbering:(r=yt.numbering)!==null&&r!==void 0?r:e?.numbering}),vfile:lt});o(De,ae=>{ae.type==="cite"&&(ae.error=!0)}),a().use(h).use(f).use(m,{parser:gt}).use(c,{macros:(n=yt?.math)!==null&&n!==void 0?n:{}}).use(A).use(R,{abbreviations:yt.abbreviations}).use(p,{state:oi}).use(_,{transformers:rt}).use(u).use(H).use(v,{state:oi}).use(d).runSync(De,lt);let Ai=JSON.parse(JSON.stringify(De));o(Ai,ae=>{delete ae.position,delete ae.key});let Ue=new y0,T=a().use($,{references:Ye}).stringify(De,Ue).result,B=new y0,W;try{W=a().use(X).stringify(De,B).result}catch(ae){console.error(ae),W={value:`Problem with typst conversion: ${ae.message||"Unknown Error"}`,macros:[],commands:{}}}let U=new y0,oe=ue?a().use(ue,si.Article,yt,void 0,"",{format:2,writeFullArticle:(s=t?.jats)===null||s===void 0?void 0:s.fullArticle}).stringify(De,U).result:"Problem loading myst-to-jats";return{frontmatter:yt,mdastPre:Jt,mdastPost:Ai,references:Object.assign(Object.assign({},Ye),{article:De}),html:Ke,tex:T.value,texWarnings:Ue.messages,typst:W.value,typstWarnings:B.messages,jats:oe,jatsWarnings:U.messages,warnings:lt.messages}})}function JK({id:i,value:e,column:t,fullscreen:r,numbering:n,TitleBlock:s,captureTab:o,className:a}){let l=(0,Ti.useRef)(null),[c,u]=(0,Ti.useState)(e.trim()),[d,f]=(0,Ti.useState)({}),[h,m]=(0,Ti.useState)({}),[p,v]=(0,Ti.useState)("Loading..."),[x,C]=(0,Ti.useState)("Loading..."),[y,S]=(0,Ti.useState)("Loading..."),[M,_]=(0,Ti.useState)("Loading..."),[E,R]=(0,Ti.useState)([]),[A,H]=(0,Ti.useState)("Loading..."),[$,X]=(0,Ti.useState)([]),[ue,he]=(0,Ti.useState)("Loading..."),[Y,ee]=(0,Ti.useState)([]),[ie,pe]=(0,Ti.useState)([]),[we,Ve]=(0,Ti.useState)("DEMO"),[lt,gt]=(0,Ti.useState)("yaml"),[De,rt]=(0,Ti.useState)("pre");(0,Ti.useEffect)(()=>{let Ue={current:!0};return YK(c,{numbering:n},{removeHeading:!!s,jats:{fullArticle:!!s}}).then(T=>{Ue.current&&(m(T.frontmatter),v(T.mdastPre),C(T.mdastPost),f(T.references),S(T.html),_(T.tex),R(T.texWarnings),H(T.typst),X(T.typstWarnings),he(T.jats),ee(T.jatsWarnings),pe(T.warnings))}),()=>{Ue.current=!1}},[c]),(0,Ti.useEffect)(()=>{if(l.current){if(t){l.current.style.height="";return}l.current.style.height="auto",l.current.style.height=`${l.current.scrollHeight}px`}},[c,t]),(0,Ti.useEffect)(()=>{!l.current||!o||l.current.addEventListener("keydown",Ue=>{Ue.key==="Tab"&&(Ue.preventDefault(),Ue.stopPropagation())})},[l,o]);let Jt=[];switch(we){case"DEMO":Jt=ie;break;case"LaTeX":Jt=E;break;case"Typst":Jt=$;break;case"JATS":Jt=Y;break;default:break}let Ke=(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("div",{className:"self-center text-sm border cursor-pointer dark:border-slate-600",children:["DEMO","AST","HTML","LaTeX","Typst","JATS","DOCX"].map(Ue=>(0,ft.jsx)("button",{className:(0,Fs.default)("px-2 py-1",{"bg-white hover:bg-slate-200 dark:bg-slate-500 dark:hover:bg-slate-700":we!==Ue,"bg-blue-800 text-white":we===Ue}),title:`Show the ${Ue}`,"aria-label":`Show the ${Ue}`,"aria-pressed":we===Ue?"true":"false",onClick:()=>Ve(Ue),children:Ue},Ue))}),we==="AST"&&(0,ft.jsxs)("div",{className:"self-center text-sm border cursor-pointer w-fit dark:border-slate-600",children:[["yaml","json"].map(Ue=>(0,ft.jsx)("button",{className:(0,Fs.default)("px-2 py-1",{"bg-white hover:bg-slate-200 dark:bg-slate-500 dark:hover:bg-slate-700":lt!==Ue,"bg-blue-800 text-white":lt===Ue}),title:`Show the AST as ${Ue.toUpperCase()}`,"aria-pressed":lt===Ue?"true":"false",onClick:()=>gt(Ue),children:Ue.toUpperCase()},Ue)),["pre","post"].map(Ue=>(0,ft.jsx)("button",{className:(0,Fs.default)("px-2 py-1",{"bg-white hover:bg-slate-200 dark:bg-slate-500 dark:hover:bg-slate-700":De!==Ue,"bg-blue-800 text-white":De===Ue}),title:`Show the AST Stage ${Ue.toUpperCase()}`,"aria-pressed":De===Ue?"true":"false",onClick:()=>rt(Ue),children:Ue.toUpperCase()},Ue))]})]}),Ye=De==="pre"?p:x,{downloads:fi,exports:yt,parts:oi}=h,Ai=UK(h,["downloads","exports","parts"]);return(0,ft.jsxs)("figure",{id:i,className:(0,Fs.default)("relative",{"grid grid-cols-2 gap-0 grid-rows-[3rem_1fr]":t,"rounded shadow-lg":!r,"m-0":r},a),children:[t&&(0,ft.jsxs)("div",{className:"flex flex-row items-stretch h-full col-span-2 px-2 border dark:border-slate-600",children:[(0,ft.jsx)("div",{className:"flex-grow"}),Ke]}),(0,ft.jsxs)("div",{className:(0,Fs.default)("relative myst",{"overflow-auto":t}),children:[(0,ft.jsx)(P1,{text:c,className:"absolute right-0 p-1"}),(0,ft.jsxs)("label",{children:[(0,ft.jsx)("span",{className:"sr-only",children:"Edit the MyST Markdown text"}),(0,ft.jsx)("textarea",{ref:l,value:c,className:(0,Fs.default)("block p-6 w-full font-mono shadow-inner outline-none resize-none bg-slate-50/50 dark:bg-slate-800/50",{"text-sm":!t},{"h-full":t}),onChange:Ue=>u(Ue.target.value)})]})]}),(0,ft.jsxs)("div",{className:(0,Fs.default)("relative exclude-from-outline min-h-1 dark:bg-slate-900",{"overflow-auto":t}),children:[!t&&(0,ft.jsx)("div",{className:"absolute top-0 left-0",children:Ke}),(0,ft.jsxs)("div",{className:(0,Fs.default)("px-6 pb-6",{"pt-[40px]":!t&&we!=="AST","pt-[80px]":!t&&we==="AST","pt-4":t}),children:[we==="DEMO"&&(0,ft.jsx)(ft.Fragment,{children:(0,ft.jsx)(EM,{kind:si.Article,references:d,frontmatter:Ai,children:(0,ft.jsxs)(LM,{gridSystem:"demo-grid",children:[s&&(0,ft.jsx)(s,{frontmatter:h}),(0,ft.jsx)(ge,{ast:d.article})]})})}),we==="AST"&&(0,ft.jsx)(ft.Fragment,{children:(0,ft.jsx)(na,{lang:lt,value:lt==="yaml"?oM(Ye):JSON.stringify(Ye,null,2)})}),we==="HTML"&&(0,ft.jsx)(na,{lang:"xml",value:y,showCopy:!1}),we==="LaTeX"&&(0,ft.jsx)(na,{lang:"latex",value:M,showCopy:!1}),we==="Typst"&&(0,ft.jsx)(na,{lang:"typst",value:A,showCopy:!1}),we==="JATS"&&(0,ft.jsx)(na,{lang:"xml",value:ue,showCopy:!1}),we==="DOCX"&&(0,ft.jsx)("div",{children:(0,ft.jsxs)("button",{className:"p-3 border rounded",onClick:()=>XK("demo.docx",d.article),title:"Download Micorsoft Word","aria-label":"Download Micorsoft Word",children:[(0,ft.jsx)(ud,{width:"1.3rem",height:"1.3rem",className:"inline mr-1"})," ","Download as Microsoft Word"]})})]}),Jt.length>0&&(0,ft.jsx)("div",{className:(0,Fs.default)("w-full",{"absolute bottom-0":t}),children:Jt.map((Ue,T)=>(0,ft.jsxs)("div",{className:(0,Fs.default)("p-1 shadow-inner text-white not-prose",{"bg-red-500 dark:bg-red-800":Ue.fatal===!0,"bg-orange-500 dark:bg-orange-700":Ue.fatal===!1,"bg-slate-500 dark:bg-slate-800":Ue.fatal===null}),children:[Ue.fatal===!0&&(0,ft.jsx)(uo,{width:"1.3rem",height:"1.3rem",className:"inline mr-1"}),Ue.fatal===!1&&(0,ft.jsx)($a,{width:"1.3rem",height:"1.3rem",className:"inline mr-1"}),Ue.fatal===null&&(0,ft.jsx)(E1,{width:"1.3rem",height:"1.3rem",className:"inline mr-1"}),(0,ft.jsx)("code",{children:Ue.ruleId||Ue.source}),": ",Ue.message]},T))})]})]})}var yT=({node:i,className:e})=>(0,ft.jsx)(JK,{id:i.html_id||i.identifier,value:i.value,numbering:i.numbering,className:(0,Fs.default)(i.class,e)});var Oh=N(de(),1),Hd=N(te(),1),LT=N(Qe(),1),MT=function(i,e,t,r){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})},I5;function QK(){return MT(this,void 0,void 0,function*(){return I5===void 0&&(I5=(yield import("/myst_assets_folder/_shared/mermaid.core-WXSEMFDT.js")).default,I5.initialize({startOnLoad:!1})),I5})}function eY({id:i,value:e,className:t}){let r=(0,Hd.useId)(),[n,s]=(0,Hd.useState)(),[o,a]=(0,Hd.useState)();return(0,Hd.useEffect)(()=>{(()=>MT(this,void 0,void 0,function*(){try{let c=`mermaid-${r.replace(/:/g,"")}`,u=yield QK(),{svg:d}=yield u.render(c,e);s(d),a(void 0)}catch(c){s(void 0),a(c)}}))()},[]),(0,Oh.jsxs)("figure",{id:i,className:t,children:[n&&(0,Oh.jsx)("div",{dangerouslySetInnerHTML:{__html:n}}),o&&(0,Oh.jsxs)("pre",{children:["Error parsing mermaid graph.",`

`,o.message,`

`,e]})]})}var ST=({node:i,className:e})=>(0,Oh.jsx)(eY,{id:i.html_id||i.identifier,value:i.value,className:(0,LT.default)(i.class,e)});var Fv={...U9,myst:yT,mermaid:ST};var Wv=N(te(),1),k5=N(de(),1);function tY(i){return e=>{e.preventDefault();let t=document.querySelector(`#${i}`);t&&(t.nextSibling.focus(),history.replaceState(void 0,"",`#${i}`),t.tabIndex===-1&&(t.tabIndex=-1),t.focus({preventScroll:!0}))}}var iY=Wv.default.memo(({targets:i})=>(0,k5.jsx)("div",{className:"myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1","aria-label":"skip to content options",children:i.map(({id:e,title:t})=>(0,k5.jsx)("a",{href:`#${e}`,className:"myst-skip-to-link block px-2 py-1 text-black underline",onClick:tY(e),children:t},e))}));var zd=N(te(),1);function ET(i){let e=new XMLHttpRequest;e.open("POST","/api/theme"),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.send(JSON.stringify({theme:i}))}var A5="(prefers-color-scheme: light)",T5="myst:theme";function rY(){return typeof window!="object"?null:window.matchMedia(A5).matches?jr.light:jr.dark}function nY({setTheme:i}){(0,zd.useEffect)(()=>{let e=window.matchMedia(A5),t=()=>{i(e.matches?jr.light:jr.dark)};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[])}function RT({ssrTheme:i,useLocalStorage:e}){let[t,r]=zd.default.useState(()=>{if(Bp(i))return i;if(typeof window!="object")return null;let s=rY(),o=localStorage.getItem(T5);return e&&Bp(o)?o:s});nY({setTheme:r});let n=(0,zd.useRef)(!1);return(0,zd.useEffect)(()=>{if(!n.current){n.current=!0;return}Bp(t)&&(e?localStorage.setItem(T5,t):ET(t))},[t]),[t,r]}var IT=N(de(),1);function Zv({useLocalStorage:i}){let e=`localStorage.getItem(${JSON.stringify(T5)})`,t=`
  const savedTheme = ${i?e:"null"};
  const theme = window.matchMedia(${JSON.stringify(A5)}).matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
`;return(0,IT.jsx)("script",{dangerouslySetInnerHTML:{__html:t}})}var oa=N(de(),1),sY=i=>`window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', '${i}');`;function kT({analytics_google:i,analytics_plausible:e}){return(0,oa.jsxs)(oa.Fragment,{children:[e&&(0,oa.jsx)("script",{defer:!0,"data-domain":e,src:"https://plausible.io/js/plausible.js"}),i&&(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("script",{async:!0,src:`https://www.googletagmanager.com/gtag/js?id=${i}`}),(0,oa.jsx)("script",{dangerouslySetInnerHTML:{__html:sY(i)}})]})]})}function Cpe({title:i,description:e,twitter:t}){let r=[{title:i},{property:"og:title",content:i},{name:"generator",content:"mystmd"}];return e&&(r.push({name:"description",content:e}),r.push({property:"og:description",content:e})),t&&r.push({name:"twitter:site",content:`@${t.replace("@","")}`}),r}function xpe({origin:i,url:e,title:t,description:r,image:n,twitter:s,keywords:o}){let a=[{title:t},{property:"og:title",content:t},{name:"generator",content:"mystmd"}];return r&&(a.push({name:"description",content:r}),a.push({property:"og:description",content:r})),o&&a.push({name:"keywords",content:o.join(", ")}),i&&e&&a.push({property:"og:url",content:`${i}${e}`}),n&&(a.push({name:"image",content:n}),a.push({property:"og:image",content:n})),s&&(a.push({name:"twitter:card",content:n?"summary_large_image":"summary"}),a.push({name:"twitter:creator",content:`@${s.replace("@","")}`}),a.push({name:"twitter:title",content:t}),r&&a.push({name:"twitter:description",content:r}),n&&a.push({name:"twitter:image",content:n}),a.push({name:"twitter:alt",content:t})),a}var Bd=N(de(),1);function qv(){return(0,Bd.jsxs)(Bd.Fragment,{children:[(0,Bd.jsx)("h1",{children:"No Site Found - 404"}),(0,Bd.jsx)("p",{children:"No website is available at this url, or an error occurred. Please double check the url."})]})}var gc=N(de(),1);function Uv({error:i}){var e,t;return(0,gc.jsxs)(gc.Fragment,{children:[(0,gc.jsx)("h1",{children:"Unexpected Error Occurred"}),(0,gc.jsxs)("p",{children:["Status: ",i.status]}),(0,gc.jsx)("p",{children:(t=(e=i.data)==null?void 0:e.message)!=null?t:""})]})}var TT=N(Qe(),1),Xt=N(de(),1);function AT({children:i,scripts:e,theme:t,config:r,title:n,staticBuild:s,baseurl:o,top:a=M5,renderers:l=Fv,head:c}){let u=By(),d=s?{Link:p=>(0,Xt.jsx)(Rg,{...p,reloadDocument:!0}),NavLink:p=>(0,Xt.jsx)(Eg,{...p,reloadDocument:!0})}:{Link:Rg,NavLink:Eg,navigate:u},[f,h]=RT({ssrTheme:t,useLocalStorage:s});return(0,Xt.jsx)(wM,{theme:f,setTheme:h,renderers:l,...d,top:a,children:(0,Xt.jsx)(oY,{children:i,scripts:e,head:(0,Xt.jsxs)(Xt.Fragment,{children:[c,t?void 0:(0,Xt.jsx)(Zv,{useLocalStorage:!!s})]}),config:r,title:n,liveReloadListener:!s,baseurl:o,top:a})})}function oY({children:i,scripts:e,head:t,config:r,title:n,baseurl:s,top:o=M5,liveReloadListener:a}){var c,u;let{theme:l}=Pp();return(0,Xt.jsxs)("html",{lang:"en",className:(0,TT.default)(l),style:{scrollPadding:o},children:[(0,Xt.jsxs)("head",{children:[(0,Xt.jsx)("meta",{charSet:"utf-8"}),(0,Xt.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1"}),n&&(0,Xt.jsx)("title",{children:n}),(0,Xt.jsx)($y,{}),(0,Xt.jsx)(jy,{}),(0,Xt.jsx)(kT,{analytics_google:(c=r==null?void 0:r.options)==null?void 0:c.analytics_google,analytics_plausible:(u=r==null?void 0:r.options)==null?void 0:u.analytics_plausible}),t]}),(0,Xt.jsxs)("body",{className:"m-0 transition-colors duration-500 bg-white dark:bg-stone-900",children:[(0,Xt.jsx)(AM,{baseurl:s,children:(0,Xt.jsx)(HM,{config:r,children:i})}),(0,Xt.jsx)(Wy,{}),(0,Xt.jsx)(Vy,{}),a&&(0,Xt.jsx)(Fy,{}),e]})]})}function aY(){let i=Py();return(0,Xt.jsx)(AT,{theme:jr.light,children:(0,Xt.jsx)("main",{className:"article-grid subgrid-gap col-screen",children:(0,Xt.jsx)("article",{className:"article",children:zy(i)?(0,Xt.jsx)(qv,{}):(0,Xt.jsx)(Uv,{error:i})})})})}var vc=N(de(),1);function lY(){return(0,vc.jsxs)(vc.Fragment,{children:[(0,vc.jsx)("h1",{children:"Document Not Found"}),(0,vc.jsxs)("p",{children:["Take me ",(0,vc.jsx)("a",{href:"/",children:"home"}),"."]})]})}var op=N(de(),1),Du=N(te(),1);function dY(i){return typeof i=="object"&&i!==null}function OT(i){if(i===void 0)return;let{binder:e,server:t,lite:r,kernelName:n,disableSessionSaving:s,mathjaxConfig:o,mathjaxUrl:a}=i!=null?i:{},l={mathjaxConfig:o,mathjaxUrl:a};if(s&&(l.savedSessionOptions={enabled:!1}),n&&(l.kernelOptions={kernelName:n}),e){l.useBinder=!0;let{repo:c,ref:u,url:d,provider:f}=e;l.binderOptions={repo:c,ref:u,binderUrl:d,repoProvider:f}}if(r===!0&&(l.useJupyterLite=!0),dY(t)){let{url:c,token:u}=t;l.serverSettings={},c&&(l.serverSettings.baseUrl=c),u&&(l.serverSettings.token=u)}return l}var W4=N(zo(),1),yP=Du.default.createContext(void 0);function JRe({features:i,optionOverrideFn:e,customRepoProviders:t,children:r}){let n=WM(),s=Du.default.useMemo(()=>{if(!n)return;let o=n==null?void 0:n.thebe,a=n==null?void 0:n.github,l=n==null?void 0:n.binder,c=OT(o),u=e?e(c):c;return{enabled:!!u,thebe:u,githubBadgeUrl:a,binderBadgeUrl:l,features:i,customRepoProviders:t}},[n,e]);return(0,op.jsx)(yP.Provider,{value:s,children:r})}function ap(){return(0,Du.useContext)(yP)}function QRe({baseurl:i,connect:e,children:t}){var r,n,s,o,a,l,c;let u=ap();return(0,op.jsx)(W4.ThebeBundleLoaderProvider,{loadThebeLite:(n=(r=u==null?void 0:u.thebe)===null||r===void 0?void 0:r.useJupyterLite)!==null&&n!==void 0?n:!1,publicPath:i,children:(0,op.jsx)(W4.ThebeServerProvider,{connect:e!=null?e:!1,options:u==null?void 0:u.thebe,useBinder:(o=(s=u==null?void 0:u.thebe)===null||s===void 0?void 0:s.useBinder)!==null&&o!==void 0?o:!1,useJupyterLite:(l=(a=u==null?void 0:u.thebe)===null||a===void 0?void 0:a.useJupyterLite)!==null&&l!==void 0?l:!1,customRepoProviders:(c=u==null?void 0:u.customRepoProviders)!==null&&c!==void 0?c:[],children:t})})}var MP=Du.default.createContext(null);function LP(){let i=(0,Du.useContext)(MP);return i===null?{outputsId:void 0}:i}function Hu({outputsId:i,children:e}){return(0,op.jsx)(MP.Provider,{value:{outputsId:i},children:e})}var $u=N(de(),1);var Zi=N(de(),1),Y4=N(te(),1);var _s=N(te(),1);var Bo=N(de(),1);var ka=N(te(),1);function SP(i){let e=i;return typeof e.slug=="string"&&typeof e.location=="string"&&typeof e.mdast=="object"&&Array.isArray(e.dependencies)&&Array.isArray(e.computables)}function lp(i){return typeof i.slug=="string"}function EP(i){return typeof i.status=="string"&&lp(i)}function RP(i){let e=i;return typeof e.slug=="string"&&typeof e.mdast=="object"}function IP(i){let e=i;return typeof e.pageSlug=="string"&&typeof e.notebookSlug=="string"&&typeof e.notebook=="object"&&typeof e.rendermime=="object"}function kP(i){let e=i;return typeof e.pageSlug=="string"&&typeof e.notebookSlug=="string"&&typeof e.session=="object"}var TP=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(t[r[n]]=i[r[n]]);return t};function AP(i,e){var t;switch(e.type){case"NAVIGATE":{if(!SP(e.payload))throw console.error(e.payload),new Error("invalid NAVIGATE payload");let{kind:r,slug:n,location:s,mdast:o,dependencies:a,computables:l}=e.payload;return i.pages[n]?i:Object.assign(Object.assign({},i),{mdast:Object.assign(Object.assign({},i.mdast),{[n]:{root:o}}),pages:Object.assign(Object.assign({},i.pages),{[n]:{kind:r,slug:n,location:s,dependencies:a,computables:l,computable:l.length>0||r===si.Notebook,ready:!1,scopes:{}}})})}case"ADD_MDAST":{if(!RP(e.payload))throw console.error(e.payload),new Error("invalid ADD_MDAST payload");let{slug:r,mdast:n}=e.payload;return i.mdast[r]?i:Object.assign(Object.assign({},i),{mdast:Object.assign(Object.assign({},i.mdast),{[r]:{root:n}})})}case"REQUEST_BUILD":{if(!lp(e.payload))throw console.error(e.payload),new Error("invalid REQUEST_BUILD payload");let{slug:r}=e.payload;return i.builds[r]&&i.builds[r].status==="pending"?i:Object.assign(Object.assign({},i),{builds:Object.assign(Object.assign({},i.builds),{[r]:{status:"pending"}})})}case"BUILD_STATUS":{if(!EP(e.payload))throw console.error(e.payload),new Error("invalid BUILD_STATUS payload");let{slug:r}=e.payload;if(!i.builds[r])throw console.error(i,e.payload),new Error("Trying to set build status when there is no build state");return i.builds[r].status===e.payload.status?i:Object.assign(Object.assign({},i),{builds:Object.assign(Object.assign({},i.builds),{[r]:Object.assign(Object.assign({},i.builds[r]),{status:e.payload.status})})})}case"CLEAR_BUILD":{if(!lp(e.payload))throw console.error(e.payload),new Error("invalid CLEAR_BUILD payload");let{slug:r}=e.payload;if(!i.builds[r])return i;let n=i.builds,s=r,o=n[s],a=TP(n,[typeof s=="symbol"?s:s+""]);return Object.assign(Object.assign({},i),{builds:a})}case"SET_RENDERING_READY":{if(!lp(e.payload))throw console.error(e.payload),new Error("invalid SET_READY payload");let{slug:r}=e.payload;if(i.pages[r].ready)return i;let n=i.builds,s=r,o=n[s],a=TP(n,[typeof s=="symbol"?s:s+""]);return Object.assign(Object.assign({},i),{builds:a,pages:Object.assign(Object.assign({},i.pages),{[r]:Object.assign(Object.assign({},i.pages[r]),{ready:!0})})})}case"ADD_NOTEBOOK":{if(!IP(e.payload))throw console.error(e.payload),new Error("invalid ADD_NOTEBOOK payload");let{pageSlug:r,notebookSlug:n,notebook:s,rendermime:o}=e.payload;if(!i.pages[r])throw console.error(i,e.payload),new Error("Trying to add notebook when there is no rendering state");return i.pages[r].scopes[n]?(console.warn("Trying to add notebook scope when rendering already has one",e.payload),i):Object.assign(Object.assign({},i),{pages:Object.assign(Object.assign({},i.pages),{[r]:Object.assign(Object.assign({},i.pages[r]),{scopes:Object.assign(Object.assign({},i.pages[r].scopes),{[n]:{notebook:s,rendermime:o}})})})})}case"ADD_SESSION":{if(!kP(e.payload))throw console.error(e.payload),new Error("invalid ADD_SESSION payload");let{pageSlug:r,notebookSlug:n,session:s}=e.payload;if(!i.pages[r])throw console.error(i,e.payload),new Error("Trying to add session when there is no rendering state");return!((t=i.pages[r].scopes[n])===null||t===void 0)&&t.session?(console.warn("Trying to add session scope when rendering already has one",e.payload),i):Object.assign(Object.assign({},i),{pages:Object.assign(Object.assign({},i.pages),{[r]:Object.assign(Object.assign({},i.pages[r]),{scopes:Object.assign(Object.assign({},i.pages[r].scopes),{[n]:Object.assign(Object.assign({},i.pages[r].scopes[n]),{session:s})})})})})}}return i}function Pl(i,e,t){var r,n;return(n=(r=i.pages[e])===null||r===void 0?void 0:r.scopes[t])===null||n===void 0?void 0:n.notebook}function NP(i,e){var t,r;return(r=(t=i.pages[e])===null||t===void 0?void 0:t.computable)!==null&&r!==void 0?r:!1}function Qf(i,e){var t;return!(!((t=i.pages[e])===null||t===void 0)&&t.ready)&&!!i.builds[e]}function OP(i,e){var t,r,n;return!((t=i.pages[e])===null||t===void 0)&&t.ready?"ready":(n=(r=i.builds[e])===null||r===void 0?void 0:r.status)!==null&&n!==void 0?n:"unknown"}function DP(i){return Object.entries(i.builds).filter(([,{status:e}])=>e==="fetching").reduce((e,[t])=>[...e,...i.pages[t].dependencies.filter(r=>{var n;return!i.mdast[(n=r.slug)!==null&&n!==void 0?n:r.url]}).map(r=>{var n;return{slug:(n=r.slug)!==null&&n!==void 0?n:r.url,url:r.url}})],[])}function HP(i){return e=>Object.entries(e.builds).filter(([,{status:t}])=>t===i).reduce((t,[r])=>{let n=[];return e.pages[r].kind===si.Notebook&&n.push({pageSlug:r,notebookSlug:r,location:e.pages[r].location}),n.push(...e.pages[r].dependencies.map(s=>{var o;return{pageSlug:r,notebookSlug:(o=s.slug)!==null&&o!==void 0?o:s.url,location:s.location}})),[...t,...n]},[])}var zP=HP("build-notebooks"),BP=HP("start-session");function PP(i,e){var t;return(t=i.pages[e])===null||t===void 0?void 0:t.dependencies.every(r=>{var n;return!!i.mdast[(n=r.slug)!==null&&n!==void 0?n:r.url]})}function jP(i,e){let t=i.pages[e];return t==null?void 0:t.dependencies.every(r=>{var n;return!!t.scopes[(n=r.slug)!==null&&n!==void 0?n:r.url]})}function $P(i,e){let t=i.pages[e];return t==null?void 0:t.dependencies.every(r=>{var n,s;return!!(!((s=t.scopes[(n=r.slug)!==null&&n!==void 0?n:r.url])===null||s===void 0)&&s.session)})}var ZP=N(de(),1),so=N(te(),1),jl=N(zo(),1);function Yie(i){if(!i||i.type!=="block")return;let e=i;if(i.children&&i.children.length===1&&i.children[0].type==="container"&&(e=i.children[0]),e.children&&e.children.length>=2&&e.children[0].type==="code")return{codeCell:e.children[0],output:e.children[1]}}function VP(i,e,t,r,n,s,o){let a=new i.ThebeNotebook(r,e,o);return a.cells=n.children.map(l=>{var c,u,d,f;l.type!=="block"&&console.warn(`Unexpected block type ${l.type}`);let h=Yie(l);if(h){let{codeCell:m,output:p}=h,v={pageSlug:t,notebookSlug:r,cellId:l.key};return s[l.key]=v,s[(c=p.id)!==null&&c!==void 0?c:p.key]=v,l.identifier&&(s[l.identifier]=v),m.identifier&&(s[m.identifier]=v),p.identifier&&(s[p.identifier]=v),new i.ThebeCodeCell(v.cellId,a.id,(u=m.value)!==null&&u!==void 0?u:"",e,(d=l.data)!==null&&d!==void 0?d:{},a.rendermime)}else return new i.ThebeMarkdownCell(l.key,a.id,l.children.reduce((p,v)=>{var x;return p+`
`+((x=v.value)!==null&&x!==void 0?x:"")},""),(f=l.data)!==null&&f!==void 0?f:{},a.rendermime)}),a}var e0=N(te(),1);function FP(){let[i,e]=(0,e0.useState)();return(0,e0.useEffect)(()=>{i||import("/myst_assets_folder/_shared/plotly-renderer-JDXA7TBI.js").then(t=>{console.debug("Jupyter: Adding plotly renderer factory to rendermime registry",{module:t}),e(t)})},[i]),{plotly:i}}var Jie="application/vnd.plotly.v1+json";function Qie(i){return i.some(e=>{var t;return Object.keys((t=e.data)!==null&&t!==void 0?t:[]).includes(Jie)})}function WP(i,e){let t=Qie(e),[r,n]=(0,e0.useState)(!t);return(0,e0.useEffect)(()=>{r||!t||import("/myst_assets_folder/_shared/plotly-renderer-JDXA7TBI.js").then(s=>{console.debug("Jupyter: Adding plotly renderer factory to rendermime registry",{module:s}),i.addFactory(s.rendererFactory,41),n(!0)})},[r,t]),{loaded:r}}function qP({slug:i,url:e,dispatch:t}){let{data:r,error:n}=W9({remote:!0,dataUrl:`${e}.json`});return(0,so.useEffect)(()=>{r&&t({type:"ADD_MDAST",payload:{slug:i,mdast:r.mdast}})},[r]),n?(0,ZP.jsxs)("div",{children:["error: ",i,n.message]}):null}function UP({pageSlug:i,notebookSlug:e,idkmap:t,state:r,dispatch:n}){var s;let{core:o}=(0,jl.useThebeLoader)(),{config:a}=(0,jl.useThebeConfig)(),l=(0,so.useRef)(!1),c=!!(!((s=r.pages[i])===null||s===void 0)&&s.scopes[e]),{plotly:u}=FP();(0,so.useEffect)(()=>{var f;if(!o||!a||!u||c||l.current)return;l.current=!0,console.debug(`Jupyter: NotebookBuilder - ${e} being added to scope ${i}`);let h=o==null?void 0:o.makeRenderMimeRegistry(a==null?void 0:a.mathjax);u&&h.addFactory(u.rendererFactory,41);let m=VP(o,a,i,e,r.mdast[e].root,t,h),p=(f=r.pages[i])===null||f===void 0?void 0:f.computables;p==null||p.forEach(v=>{t[v.label]&&(t[v.outputKey]=t[v.label],t[v.embedKey]=t[v.label])}),n({type:"ADD_NOTEBOOK",payload:{pageSlug:i,notebookSlug:e,rendermime:h,notebook:m}})},[o,a,i,e,c,l,u]);let d=u&&jP(r,i);return(0,so.useEffect)(()=>{d&&n({type:"BUILD_STATUS",payload:{slug:i,status:"wait-for-server"}})},[d]),null}function GP({pageSlug:i,notebookSlug:e,location:t,state:r,dispatch:n}){var s;let{core:o}=(0,jl.useThebeLoader)(),{config:a,server:l}=(0,jl.useThebeServer)(),c=(0,so.useRef)(!1),u=(s=r.pages[i])===null||s===void 0?void 0:s.scopes[e];(0,so.useEffect)(()=>{!o||!l||u!=null&&u.session||c.current||(c.current=!0,console.debug(`Jupyter: Starting session for ${i}-${e} at ${t}`),t===void 0&&console.warn("Article/Notebook json is missing the location field, this maybe break notebook execution when located outside of the root folder"),l.listRunningSessions().then(f=>{var h;console.debug("Jupyter: running sessions",f);let m=`/${i}-${e}.ipynb`;console.debug("session starter path:",m);let p=(h=t==null?void 0:t.match(/(.*)\/.*/))!==null&&h!==void 0?h:null;p&&(console.debug("session starter match:",p),m=`${p[1]}/${i}-${e}.ipynb`,console.debug("session starter path (modified):",m));let v=f.find(x=>x.path===m);v?(console.debug(`session already exists for ${m}`,v),l.connectToExistingSession(v,u.rendermime).then(x=>{var C;if(x==null){console.error(`Could not connect to session for ${m}`);return}console.debug(`reconnected to session for ${m}`,x),console.debug("restarting session",x),(C=x.kernel)===null||C===void 0||C.restart().then(()=>{Pl(r,i,e).attachSession(x),n({type:"ADD_SESSION",payload:{pageSlug:i,notebookSlug:e,session:x}})})})):l.startNewSession(u.rendermime,Object.assign(Object.assign({},a==null?void 0:a.kernels),{path:m})).then(x=>{if(x==null){l==null||l.getKernelSpecs().then(y=>{console.error(`Could not start session for ${m}`),console.debug(`Available kernels: ${Object.keys(y)}`)});return}console.debug(`session started for ${m}`,x),Pl(r,i,e).attachSession(x),n({type:"ADD_SESSION",payload:{pageSlug:i,notebookSlug:e,session:x}})})}))},[o,a,u,i,e,c]);let d=$P(r,i);return(0,so.useEffect)(()=>{d&&n({type:"SET_RENDERING_READY",payload:{slug:i}})},[d]),null}function XP({state:i,dispatch:e}){let{core:t,load:r,loading:n}=(0,jl.useThebeLoader)(),{ready:s,error:o}=(0,jl.useThebeServer)();return(0,so.useEffect)(()=>{t||n||r()},[t,r,n]),(0,so.useEffect)(()=>{s&&Object.entries(i.builds).forEach(([a,{status:l}])=>{l==="wait-for-server"&&e({type:"BUILD_STATUS",payload:{slug:a,status:"start-session"}})})},[s,i]),(0,so.useEffect)(()=>{},[o]),null}var cp=ka.default.createContext(void 0);function ere({contents:{slug:i,location:e,kind:t,mdast:r,dependencies:n},state:s,dispatch:o}){(0,ka.useEffect)(()=>{if(s.pages[i]){console.debug(`Jupyter: ExecuteScopeProvider - ${i} is already in scope`);return}let a=KP(r);o({type:"NAVIGATE",payload:{kind:t,slug:i,location:e!=null?e:t===si.Notebook?"/fallback.ipynb":"/",mdast:r,dependencies:n!=null?n:[],computables:a}})},[i])}function tre({slug:i,state:e,dispatch:t}){(0,ka.useEffect)(()=>{e.builds[i]&&(e.builds[i].status==="pending"&&t({type:"BUILD_STATUS",payload:{slug:i,status:"fetching"}}),e.builds[i].status==="fetching"&&PP(e,i)&&t({type:"BUILD_STATUS",payload:{slug:i,status:"build-notebooks"}}))},[e.builds,e.mdast])}function KP(i){return Rr("container[kind=figure]:has(output), embed:has(output)",i).map(e=>{let{key:t,label:r,source:n}=e,s=Rr("output",e);return{embedKey:t,outputKey:s[0].key,label:r,source:n}})}function bIe({children:i,enable:e,contents:t}){var r,n;let s=KP(t.mdast),o=t.kind===si.Notebook?"/fallback.ipynb":"/",a={mdast:{[t.slug]:{root:t.mdast}},pages:{[t.slug]:{computable:s.length>0||t.kind===si.Notebook,kind:t.kind,slug:t.slug,location:(r=t.location)!==null&&r!==void 0?r:o,dependencies:(n=t.dependencies)!==null&&n!==void 0?n:[],computables:s,ready:!1,scopes:{}}},builds:{}},[l,c]=(0,ka.useReducer)(AP,a),u=(0,ka.useRef)({});ere({contents:t,state:l,dispatch:c}),tre({slug:t.slug,state:l,dispatch:c});let d=DP(l),f=zP(l),h=BP(l),m=ka.default.useMemo(()=>({canCompute:e,slug:t.slug,location:t.location,state:l,dispatch:c,idkmap:u.current}),[l,t.slug,e]);return typeof window!="undefined"&&(window.executeScope=m),(0,Bo.jsxs)(cp.Provider,{value:m,children:[(0,Bo.jsxs)("div",{className:"hidden",children:[d.length>0&&(0,Bo.jsx)("div",{className:"p-1 pl-4",children:d.map(({slug:p,url:v})=>(0,Bo.jsx)(qP,{slug:p,url:v,dispatch:c},`fetch-${p}`))}),f.length>0&&(0,Bo.jsx)("div",{className:"p-1 pl-4",children:f.map(({pageSlug:p,notebookSlug:v})=>(0,Bo.jsx)(UP,{pageSlug:p,notebookSlug:v,idkmap:u.current,state:l,dispatch:c},`build-${p}-${v}`))}),h.length>0&&(0,Bo.jsx)("div",{className:"p-1 pl-4",children:h.map(({pageSlug:p,notebookSlug:v,location:x})=>(0,Bo.jsx)(GP,{pageSlug:p,notebookSlug:v,location:x,state:l,dispatch:c},`session-${p}-${v}`))})]}),(0,Bo.jsx)(XP,{state:l,dispatch:c}),i]})}var QP=N(de(),1),Jr=N(te(),1),zu=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(t[r[n]]=i[r[n]]);return t},yy=Jr.default.createContext(void 0);function My(i){return typeof i.pageSlug=="string"&&typeof i.notebookSlug=="string"&&typeof i.kind=="string"}function YP(i){return My(i)&&typeof i.cellId=="string"&&typeof i.kind=="string"}function ire(i){return My(i)&&Array.isArray(i.cellIds)&&i.cellIds.every(e=>typeof e=="string")&&typeof i.kind=="string"}function JP(i){var e,t;return typeof i.pageSlug=="string"&&typeof i.notebookSlug=="string"&&i.errors===void 0||((t=Array.isArray(i.errors)&&((e=i.errors)===null||e===void 0?void 0:e.every(r=>typeof r=="object")))!==null&&t!==void 0?t:!1)}function rre(i,e){var t,r,n,s,o,a,l;switch(e.type){case"SET_CELL_BUSY":{if(!YP(e.payload))return console.error("SET_CELL_BUSY payload must be a cell payload",e.payload),i;let{pageSlug:c,notebookSlug:u,cellId:d,kind:f}=e.payload;return!((r=(t=i[f][c])===null||t===void 0?void 0:t[u])===null||r===void 0)&&r[d]?i:Object.assign(Object.assign({},i),{[f]:Object.assign(Object.assign({},i[f]),{[c]:Object.assign(Object.assign({},i[f][c]),{[u]:Object.assign(Object.assign({},(n=i[f][c])===null||n===void 0?void 0:n[u]),{[d]:!0})})})})}case"CLEAR_CELL_BUSY":{if(!YP(e.payload))return console.error("CLEAR_CELL_BUSY payload must be a cell payload",e.payload),i;let{pageSlug:c,notebookSlug:u,cellId:d,kind:f}=e.payload,h=i[f],m=c,p=h[m],v=zu(h,[typeof m=="symbol"?m:m+""]);if(!p)return i;let x=p,C=u,y=x[C],S=zu(x,[typeof C=="symbol"?C:C+""]);if(!y||!y[d])return i;let M=y,_=d,E=M[_],R=zu(M,[typeof _=="symbol"?_:_+""]);return Object.keys(R).length===0&&Object.keys(S).length===0?Object.assign(Object.assign({},i),{[f]:v}):Object.keys(R).length===0?Object.assign(Object.assign({},i),{[f]:Object.assign(Object.assign({},i[f]),{[c]:Object.assign({},S)})}):Object.assign(Object.assign({},i),{[f]:Object.assign(Object.assign({},i[f]),{[e.payload.pageSlug]:Object.assign(Object.assign({},S),{[u]:Object.assign({},R)})})})}case"SET_NOTEBOOK_BUSY":{if(!ire(e.payload))return console.error("SET_NOTEBOOK_BUSY payload must be a notebook payload",e.payload),i;let{pageSlug:c,notebookSlug:u,cellIds:d,kind:f}=e.payload;return Object.assign(Object.assign({},i),{[f]:Object.assign(Object.assign({},i[f]),{[c]:Object.assign(Object.assign({},i[f][c]),{[u]:Object.assign(Object.assign({},(s=i[f][c])===null||s===void 0?void 0:s[u]),d.reduce((h,m)=>Object.assign(Object.assign({},h),{[m]:!0}),{}))})})})}case"CLEAR_NOTEBOOK_BUSY":{if(!My(e.payload))return console.error("CLEAR_NOTEBOOK_BUSY payload must be a notebook payload",e.payload),i;let{pageSlug:c,notebookSlug:u,kind:d}=e.payload;if(!i[d][c]||!(!((o=i[d][c])===null||o===void 0)&&o[u]))return i;let f=i[d][c],h=u,m=f[h],p=zu(f,[typeof h=="symbol"?h:h+""]);if(Object.keys(p).length===0){let v=i[d],x=c,C=v[x],y=zu(v,[typeof x=="symbol"?x:x+""]);return Object.assign(Object.assign({},i),{[d]:y})}return Object.assign(Object.assign({},i),{[d]:Object.assign(Object.assign({},i[d]),{[c]:Object.assign({},p)})})}case"SET_ERROR":{if(!JP(e.payload))return console.error("SET_ERROR payload must be an error payload",e.payload),i;let{pageSlug:c,notebookSlug:u,errors:d}=e.payload;return d?i.error[c]||!((a=i.error[c])===null||a===void 0)&&a[u]?i:Object.assign(Object.assign({},i),{error:Object.assign(Object.assign({},i.error),{[c]:Object.assign(Object.assign({},i.error[c]),{[u]:d})})}):(console.error("SET_ERROR payload must have errors",e.payload),i)}case"CLEAR_ERROR":{if(!JP(e.payload))return console.error("CLEAR_ERROR payload must be a error payload",e.payload),i;let{pageSlug:c,notebookSlug:u}=e.payload;if(!i.error[c]||!(!((l=i.error[c])===null||l===void 0)&&l[u]))return i;let d=i.error[c],f=u,h=d[f],m=zu(d,[typeof f=="symbol"?f:f+""]);if(Object.keys(m).length>0)return Object.assign(Object.assign({},i),{error:Object.assign(Object.assign({},i.error),{[c]:Object.assign({},m)})});let p=i.error,v=c,x=p[v],C=zu(p,[typeof v=="symbol"?v:v+""]);return Object.assign(Object.assign({},i),{error:C})}}return i}function xIe({children:i}){let[e,t]=(0,Jr.useReducer)(rre,{execute:{},reset:{},error:{}}),r=Jr.default.useMemo(()=>({state:e,dispatch:t}),[e]);return typeof window!="undefined"&&(window.busyScopeState=r.state),(0,QP.jsx)(yy.Provider,{value:r,children:i})}function t0(){let i=Jr.default.useContext(yy);if(i===void 0)throw new Error("useBusyScope must be used within a BusyScopeProvider");let{dispatch:e,state:t}=i,r=(0,Jr.useCallback)((f,h,m,p)=>nre(t,f,h,m,p),[t]),n=(0,Jr.useCallback)((f,h,m)=>sre(t,f,h,m),[t]),s=(0,Jr.useCallback)((f,h)=>ore(t,f,h),[t]),o=(0,Jr.useCallback)((f,h,m,p)=>{e({type:"SET_CELL_BUSY",payload:{pageSlug:f,notebookSlug:h,cellId:m,kind:p}})},[e]),a=(0,Jr.useCallback)((f,h,m,p)=>e({type:"CLEAR_CELL_BUSY",payload:{pageSlug:f,notebookSlug:h,cellId:m,kind:p}}),[e]),l=(0,Jr.useCallback)((f,h,m,p)=>e({type:"SET_NOTEBOOK_BUSY",payload:{pageSlug:f,notebookSlug:h,cellIds:m,kind:p}}),[e]),c=(0,Jr.useCallback)((f,h,m)=>e({type:"CLEAR_NOTEBOOK_BUSY",payload:{pageSlug:f,notebookSlug:h,kind:m}}),[e]),u=(0,Jr.useCallback)((f,h,m)=>e({type:"SET_ERROR",payload:{pageSlug:f,notebookSlug:h,errors:m}}),[e]),d=(0,Jr.useCallback)((f,h)=>e({type:"CLEAR_ERROR",payload:{pageSlug:f,notebookSlug:h}}),[e]);return{cell:r,notebook:n,page:s,setCell:o,clearCell:a,setNotebook:l,clearNotebook:c,setError:u,clearError:d}}function ej(i){let e=Jr.default.useContext(yy);if(e===void 0)throw new Error("useBusyScope must be used within a BusyScopeProvider");let{state:t,dispatch:r}=e,n=()=>{Object.keys(t.error[i]).forEach(o=>{r({type:"CLEAR_ERROR",payload:{pageSlug:i,notebookSlug:o}})})},s;return Object.keys(t.error).length>0&&t.error[i]&&(s=Object.entries(t.error[i]).map(([o,a])=>({pageSlug:i,notebookSlug:o,errors:a}))),{items:s,clearErrors:n}}function nre(i,e,t,r,n){var s,o;return!!(!((o=(s=i[n][e])===null||s===void 0?void 0:s[t])===null||o===void 0)&&o[r])}function sre(i,e,t,r){var n;return!!(!((n=i[r][e])===null||n===void 0)&&n[t])}function ore(i,e,t){return!!i[t][e]}var i0=N(zo(),1);var Ly=function(i,e,t,r){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};function Z4({clearOutputsOnExecute:i=!1}={}){var e;let t=_s.default.useContext(cp),{config:r}=(0,i0.useThebeConfig)(),n=t0();if(t===void 0)throw new Error("useExecuteScope must be used within a ExecuteScopeProvider");let{state:s,dispatch:o}=t,a=(0,_s.useCallback)(f=>{console.debug(`Jupyter: Starting ${f}`),o({type:"REQUEST_BUILD",payload:{slug:f}})},[]),l=f=>{Object.entries(s.pages[f].scopes).forEach(([h,{notebook:m}])=>{n.clearError(f,h),n.setNotebook(f,h,m.code.map(p=>p.id),"execute")}),i&&Object.values(s.pages[f].scopes).forEach(({notebook:h})=>{h.clear()}),setTimeout(()=>Ly(this,void 0,void 0,function*(){let h=(m,p)=>{var v,x;if(p.subject==="cell"&&p.status==="idle"){let C=(v=p.object.notebookId)!==null&&v!==void 0?v:"unknown";n.clearCell(f,C,(x=p.id)!==null&&x!==void 0?x:"unknown","execute")}};r==null||r.events.on("status",h),yield Promise.all(Object.entries(s.pages[f].scopes).map(m=>Ly(this,[m],void 0,function*([,{notebook:p}]){let v=yield p.executeAll(!0),x=(0,i0.findErrors)(v);x!=null&&(console.error("errors",x),n.setError(f,p.id,x),n.clearNotebook(f,p.id,"execute"))}))),r==null||r.events.off("status",h)}),100)},c=(0,_s.useCallback)(f=>{var h;Object.entries((h=s.pages[f])===null||h===void 0?void 0:h.scopes).forEach(([,{notebook:m}])=>{m.clear()})},[s]),u=(0,_s.useCallback)(f=>{var h;Object.entries((h=s.pages[f])===null||h===void 0?void 0:h.scopes).forEach(([m,{notebook:p,session:v}])=>{n.clearError(f,m),n.setNotebook(f,m,p.code.map(x=>x.id),"reset"),setTimeout(()=>{var x;p.reset(),(x=v==null?void 0:v.kernel)===null||x===void 0||x.restart().finally(()=>{n.clearNotebook(f,m,"reset")})},300)})},[s]),d=(e=t.state.pages[t.slug])===null||e===void 0?void 0:e.ready;return Object.assign(Object.assign({},t),{ready:d,start:a,clearAll:c,resetAll:u,execute:l})}function q4(i,e=!1){var t,r;let n=_s.default.useContext(cp),{config:s}=(0,i0.useThebeConfig)(),o=t0();if(n===void 0)throw new Error("useNotebookExecution must be used within a ExecuteScopeProvider");let{state:a,dispatch:l,idkmap:c}=n,u=(t=c[i])!==null&&t!==void 0?t:{},{pageSlug:d,notebookSlug:f,cellId:h}=u,m=(0,_s.useCallback)(()=>{l({type:"REQUEST_BUILD",payload:{slug:n.slug}})},[u]),p,v;u&&a.pages[d]&&(v=Pl(a,d,f),v&&(p=v==null?void 0:v.getCellById(h)));let x=()=>{let R=Pl(a,d,f);o.clearError(d,f),o.setNotebook(d,f,R.code.map(A=>A.id),"execute"),e&&R.clear(),setTimeout(()=>Ly(this,void 0,void 0,function*(){let A=(X,ue)=>{var he;ue.subject==="cell"&&ue.status==="idle"&&o.clearCell(d,f,(he=ue.id)!==null&&he!==void 0?he:"unknown","execute")};s==null||s.events.on("status",A);let H=yield R.executeAll(!0),$=(0,i0.findErrors)(H);$!=null&&(console.error("an error occurred during notebook execution"),o.setError(d,f,$),o.clearNotebook(d,f,"execute")),s==null||s.events.off("status",A)}),100)},C=(0,_s.useCallback)(()=>{Pl(a,d,f).clear()},[a]),y=(0,_s.useCallback)(()=>{let R=Pl(a,d,f);o.clearError(d,f),o.setNotebook(d,f,R.code.map(A=>A.id),"reset"),setTimeout(()=>{var A,H;R.reset(),(H=(A=R.session)===null||A===void 0?void 0:A.kernel)===null||H===void 0||H.restart().finally(()=>{o.clearNotebook(d,f,"reset")})},300)},[a]),S=(r=n.state.pages[n.slug])===null||r===void 0?void 0:r.ready,M=o.notebook(d,f,"execute"),_=o.notebook(d,f,"reset"),E=M||_;return Object.assign(Object.assign({},n),{ready:S,start:m,clear:C,reset:y,execute:x,cellIsExecuting:p?o.cell(d,f,p==null?void 0:p.id,"execute"):!1,notebookIsExecuting:M,notebookIsResetting:_,notebookIsBusy:E,executionCount:p==null?void 0:p.executionCount})}function bs(i,e=!1){var t,r,n,s;let o=t0(),a=_s.default.useContext(cp);if(a===void 0)throw new Error("useCellExecution must be used within a ExecuteScopeProvider");let{state:l,idkmap:c}=a,u=(t=c[i])!==null&&t!==void 0?t:{},{pageSlug:d,notebookSlug:f,cellId:h}=u,m,p;u&&l.pages[d]&&(p=Pl(l,d,f),p&&(m=p==null?void 0:p.getCellById(h)));let v=(r=a.state.pages[a.slug])===null||r===void 0?void 0:r.ready,x=(s=(n=a.state.pages[a.slug])===null||n===void 0?void 0:n.kind)!==null&&s!==void 0?s:si.Article,C=(0,_s.useCallback)(()=>{if(!m){console.error("no cell found on execute",{pageSlug:d,notebookSlug:f,cellId:h});return}o.setCell(d,f,m.id,"execute"),e&&m.clear(),setTimeout(()=>{if(!m)throw new Error("no cell found on execute");m.execute().then(()=>{if(!m)throw new Error("no cell found after execute");o.clearCell(d,f,m==null?void 0:m.id,"execute")})},100)},[l,m]),y=(0,_s.useCallback)(()=>{if(!m){console.error("no cell found on clear",{pageSlug:d,notebookSlug:f,cellId:h});return}m.clear()},[l,m]),S=o.notebook(d,f,"execute"),M=o.notebook(d,f,"reset"),_=S||M;return{canCompute:a.canCompute,kind:x,ready:v,execute:C,clear:y,cellIsExecuting:m?o.cell(d,f,m==null?void 0:m.id,"execute"):!1,notebookIsExecuting:S,notebookIsResetting:M,notebookIsBusy:_,cell:m}}var K4=N(de(),1),aj=N(zo(),1);var $t=N(de(),1);var n0=N(Qe(),1);var Bu=N(de(),1);function r0({size:i}){return(0,Bu.jsxs)("div",{className:"myst-jp-spinner",role:"status",children:[(0,Bu.jsxs)("svg",{"aria-hidden":"true",width:i,height:i,className:"mr-2 text-gray-200 animate-spin dark:text-gray-600 fill-green-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Bu.jsx)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,Bu.jsx)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),(0,Bu.jsx)("span",{className:"sr-only",children:"Loading..."})]})}var are=i=>(e,t,r)=>(r.revalidateOnFocus=!1,r.revalidateIfStale=!1,r.revalidateOnReconnect=!1,i(e,t,r)),Sy=cR(Ps,are);var Pu=N(te(),1),tj=N(zo(),1),lre=function(i,e,t,r){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};function ij(i){return lre(this,void 0,void 0,function*(){let e=yield fetch(i);if(e.status===200){let t=yield e.text();if(i.endsWith(".json"))try{let r=JSON.parse(t),n=Object.keys(r);if(n.length===2&&n.includes("content")&&n.includes("content_type"))return r}catch{}return{content:t}}throw new Error(`Content returned with status ${e.status}.`)})}function rj(i,e){if(typeof document=="undefined")return e?{}:{data:{content:i!=null?i:""}};let{data:t,error:r}=Sy(e||null,ij);return e?{data:t,error:r}:{data:{content:i!=null?i:""}}}var cre=i=>Promise.all(i.map(e=>ij(e)));function dre(i){return i.map(e=>{if("data"in e&&e.data){let t=e.data;return Object.assign(Object.assign({},e),{data:Object.entries(t).reduce((r,[n,s])=>Object.assign(Object.assign({},r),{[n]:Object.assign({},s)}),{})})}return Object.assign({},e)})}function U4(i){let e=[],t=dre(i);gM(t,o=>{"content_type"in o&&o.content_type.startsWith("image/")||o.path&&e.push(o)});let r=e.map(({path:o})=>o),{data:n,error:s}=Sy(r,cre);return n==null||n.forEach(({content:o},a)=>{let l=e[a];"text"in l?l.text=o:"traceback"in l?l.traceback=o:l.content=o,l.path=void 0}),{data:e.length===0||n?t:void 0,error:s}}function Ey(){let{connect:i,connecting:e,ready:t,server:r,error:n}=(0,tj.useThebeServer)(),[s,o]=(0,Pu.useState)(!1),a=(0,Pu.useCallback)(u=>{u!=null&&s&&u.click()},[s]),l=(0,Pu.useCallback)(()=>{if(!i){console.debug("LaunchBinder: Trying to start a connection but connect() isn't defined");return}o(!0),i()},[i]),c=(0,Pu.useCallback)(u=>{let d=r==null?void 0:r.userServerUrl;if(d&&u){let f=new URL(d);f.pathname=`${f.pathname}lab/tree${u}`.replace(/\/+/g,"/"),d=f.toString()}return d},[r]);return{connecting:e,ready:t,error:n,autoClickRef:a,handleStart:l,getUserServerUrl:c}}function ure({icon:i,label:e,title:t,busy:r,error:n,className:s,onClick:o}){let a=i;return n?a=(0,$t.jsx)(uo,{className:"inline pr-2 text-red-600 text-semibold",width:"1.5rem",height:"1.5rem",title:t}):r&&(a=(0,$t.jsx)(r0,{size:16})),(0,$t.jsx)("button",{className:(0,n0.default)("myst-jp-btn-binder",s),disabled:r,onClick:o,title:t,children:(0,$t.jsxs)("div",{className:"flex items-center h-full",children:[a,(0,$t.jsx)("span",{children:e})]})})}function GIe({type:i,location:e}){let{connecting:t,ready:r,error:n,autoClickRef:s,handleStart:o,getUserServerUrl:a}=Ey(),l="flex gap-1 px-2 py-1 font-normal no-underline border rounded bg-slate-200 border-slate-600 hover:bg-slate-800 hover:text-white hover:border-transparent",c=(0,$t.jsx)($r,{width:"1rem",height:"1rem",className:"self-center mr-2 transition-transform group-hover:-translate-x-1 shrink-0"});if(i==="link"&&(c=(0,$t.jsx)($r,{width:"1.5rem",height:"1.5rem",className:"inline h-5 pr-2"}),l="inline-flex items-center mr-2 font-medium no-underline text-gray-900 lg:mr-0 lg:flex"),r){let f=a(e);return(0,$t.jsx)("a",{ref:s,className:(0,n0.default)("myst-jp-btn-launch-binder",l),href:f,target:"_blank",rel:"noopener noreferrer",title:"Binder server is available, click to open in a new tab",children:(0,$t.jsxs)("div",{className:"flex items-center h-full",children:[c,(0,$t.jsx)("span",{children:"Open in Jupyter"})]})})}let u="Launch Jupyter",d="Click to start a new compute session";return n?(u="Launch Error",d=n):t&&(u="Launching...",d="Starting a jupyter server, please wait"),(0,$t.jsx)(ure,{className:l,icon:c,label:u,title:d,busy:t,error:!!n,onClick:o})}function nj({ready:i,busy:e,modified:t,onClick:r}){let n="Enable compute to make this figure interactive";i&&(n=t?"The figure has been modified":"The figure is in its original state");let s=(0,$t.jsx)(T0,{width:"1.5rem",height:"1.5rem"});return i&&(t?s=(0,$t.jsx)(Ug,{width:"1.5rem",height:"1.5rem",className:"text-green-600"}):s=(0,$t.jsx)(j0,{width:"1.5rem",height:"1.5rem",className:"text-green-600"})),(0,$t.jsxs)("div",{className:"myst-jp-btn-spinner-status relative flex text-sm",children:[(0,$t.jsx)("button",{className:(0,n0.default)("cursor-pointer text-gray-700 dark:text-white active:text-green-700 hover:opacity-100",{"opacity-10":e,"opacity-70":!e}),disabled:i,title:n,"aria-label":"status",onClick:r!=null?r:()=>({}),children:s}),e&&(0,$t.jsx)("span",{className:"myst-jp-btn-spinner-overlay absolute top-0 left-0 z-10 opacity-100",children:(0,$t.jsx)(r0,{size:24})})]})}function sj({ready:i,icon:e,busy:t,disabled:r,title:n,onClick:s}){return(0,$t.jsxs)("div",{className:"myst-jp-btn-spinner relative flex text-sm",children:[(0,$t.jsx)("button",{className:(0,n0.default)(" text-gray-700 dark:text-white active:text-green-700 ",{"opacity-10 hover:opacity-10":t,"opacity-70":!t&&!r,"cursor-pointer hover:opacity-100":!r,"cursor-not-allowed opacity-10 hover:opacity-10":r}),disabled:r||!i||t,onClick:()=>s(),title:n!=null?n:"run all cells","aria-label":n!=null?n:"run all cells",children:e}),t&&(0,$t.jsx)("span",{className:"myst-jp-btn-spinner-overlay absolute top-0 left-0 z-10 opacity-100",children:(0,$t.jsx)(r0,{size:24})})]})}function ju({ready:i,executing:e,disabled:t,title:r,onClick:n}){return(0,$t.jsx)(sj,{ready:i,busy:e,disabled:t,title:r!=null?r:"run all cells",onClick:n,icon:(0,$t.jsx)(o8,{width:"1.5rem",height:"1.5rem",className:"myst-jp-btn-run inline-block align-top"})})}function G4({ready:i,resetting:e,disabled:t,title:r,onClick:n}){return(0,$t.jsx)(sj,{ready:i,busy:e,disabled:t,title:r!=null?r:"reset notebook",onClick:n,icon:(0,$t.jsx)(qg,{width:"1.5rem",height:"1.5rem",className:"myst-jp-btn-restart inline-block align-top"})})}function X4({ready:i,disabled:e,title:t,onClick:r}){return(0,$t.jsx)("button",{className:(0,n0.default)("myst-jp-btn-clear flex text-gray-700 dark:text-white",{"cursor-not-allowed opacity-10":e||!i,"active:text-green-700 opacity-70 hover:opacity-100 cursor-pointer":!e}),disabled:e||!i,onClick:()=>r(),title:t!=null?t:"clear","aria-label":t!=null?t:"clear",children:(0,$t.jsx)(n8,{width:"1.5rem",height:"1.5rem",className:"inline-block align-top"})})}function oj({ready:i,disabled:e,title:t,onClick:r}){return(0,$t.jsx)("button",{className:"myst-jp-btn-launch flex items-center text-gray-700 cursor-pointer dark:text-white active:text-green-700 opacity-70 hover:opacity-100",disabled:e||!i,onClick:()=>r(),title:t!=null?t:"launch in jupyter","aria-label":t!=null?t:"launch in jupyter",children:(0,$t.jsx)($r,{width:"1.5rem",height:"1.5rem",className:"inline-block align-top"})})}function lj({id:i}){let{connect:e,connecting:t}=(0,aj.useThebeServer)(),{slug:r,state:n,start:s,ready:o,executionCount:a}=q4(i),l=Qf(n,r),c=()=>{if(!e){console.debug("ArticleStatusBadge: Trying to start a connection but connect() isn't defined");return}e(),s()};return(0,K4.jsx)(nj,{ready:o,busy:l||t,modified:a!=null,onClick:c})}function cj({id:i}){let{ready:e,cellIsExecuting:t,notebookIsBusy:r,execute:n}=q4(i);return e?(0,K4.jsx)(ju,{ready:e,executing:t,disabled:r,onClick:n,title:"Run the notebook that creates this figure"}):null}function dj({id:i}){let{ready:e,notebookIsResetting:t,notebookIsBusy:r,reset:n}=q4(i);return e?(0,K4.jsx)(G4,{ready:e,resetting:t,disabled:r,onClick:n,title:"Reset the figure to its original state and restart the kernel"}):null}var hj=Y4.default.createContext({});function uj({placeholder:i,children:e}){let t=Y4.default.useMemo(()=>({placeholder:i}),[i]);return(0,Zi.jsx)(hj.Provider,{value:t,children:e})}function J4(){return Y4.default.useContext(hj).placeholder}function Q4({outputId:i,placeholder:e,children:t,title:r="Jupyter Notebook",url:n,remoteBaseUrl:s}){let{kind:o}=bs(i),a=ap(),l=Os(),c=jp(),u=nn(),{inCrossRef:d}=Go();return(a==null?void 0:a.enabled)&&(a==null?void 0:a.features.figureCompute)&&o===si.Article&&!s&&!d?(0,Zi.jsxs)("div",{"data-name":"output-decoration-with-compute-ctrls",className:"mb-4 shadow myst-jp-output-deco",children:[(0,Zi.jsx)("div",{className:"myst-jp-output-deco-header sticky z-[2] w-full bg-gray-100/80 backdrop-blur dark:bg-neutral-800/80 py-1 px-2",style:{top:c},children:(0,Zi.jsxs)("div",{className:"flex items-center myst-jp-output-deco-inner",children:[(0,Zi.jsxs)("div",{className:"flex items-center myst-jp-output-deco-source",children:[(0,Zi.jsx)(mh,{width:"1.25rem",height:"1.25rem",className:"inline-block"}),(0,Zi.jsx)("span",{className:"ml-2 myst-jp-output-deco-label",children:"Source:"}),n&&(0,Zi.jsx)(l,{to:pr(n,s!=null?s:u),className:"ml-2 no-underline myst-jp-output-deco-link text-normal hover:underline",children:r})]}),(0,Zi.jsx)("div",{className:"flex-grow"}),(0,Zi.jsx)(lj,{id:i}),(0,Zi.jsx)(cj,{id:i}),(0,Zi.jsx)(dj,{id:i})]})}),(0,Zi.jsx)(uj,{placeholder:e,children:t})]}):o===si.Article?(0,Zi.jsxs)("div",{"data-name":"output-decoration-article",children:[(0,Zi.jsxs)("div",{className:"flex justify-end items-center text-xsmyst-jp-output-deco-light",children:[(0,Zi.jsx)(mh,{width:"0.75rem",height:"0.75rem",className:"inline-block"}),(0,Zi.jsx)("div",{className:"ml-1 myst-jp-output-deco-label",children:"Source:"}),n&&(0,Zi.jsx)(l,{to:pr(n,s!=null?s:u),className:"ml-1 no-underline myst-jp-output-deco-link text-normal hover:underline",children:r})]}),(0,Zi.jsx)(uj,{placeholder:e,children:t})]}):(0,Zi.jsx)("div",{"data-name":"output-decoration-notebook-output",children:t})}function fj({node:i}){var e,t,r,n,s,o,a;let l=(e=i.children)===null||e===void 0?void 0:e.find(u=>u.type==="output"),c=(t=i.children)===null||t===void 0?void 0:t.find(u=>u.type==="outputs");return c?(0,$u.jsx)(Q4,{outputId:(r=c.id)!==null&&r!==void 0?r:c.key,title:(n=i.source)===null||n===void 0?void 0:n.title,url:(s=i.source)===null||s===void 0?void 0:s.url,remoteBaseUrl:(o=i.source)===null||o===void 0?void 0:o.remoteBaseUrl,children:(0,$u.jsx)(Hu,{outputsId:(a=c.id)!==null&&a!==void 0?a:c.key,children:(0,$u.jsx)(ge,{ast:i.children})})},i.key):l?(0,$u.jsx)(Hu,{outputsId:l.key,children:(0,$u.jsx)(ge,{ast:i.children})}):(0,$u.jsx)(ge,{ast:i.children})}var Vu=N(de(),1),Ry=N(Qe(),1),vj=N(te(),1);var Ta=N(de(),1),Yc=N(te(),1);var mj=N(Qe(),1);var pj=N(zo(),1);var eg=function(i,e,t,r){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};function hre(i){return eg(this,void 0,void 0,function*(){let e=new Image;return e.crossOrigin="Anonymous",new Promise((r,n)=>{e.onload=function(){let o=document.createElement("canvas"),a=o.getContext("2d");if(!a)return console.error("Could not get canvas context"),n();o.height=e.naturalHeight,o.width=e.naturalWidth,a.drawImage(e,0,0);let l=o.toDataURL("image/png"),[,c]=l.split(";base64,");r(c)},e.src=i})})}function tg(i){return eg(this,void 0,void 0,function*(){return Promise.all(i.map(e=>eg(this,void 0,void 0,function*(){if(!("data"in e))return e;let t=Object.keys(e.data).filter(n=>n!=="image/svg"&&n!=="image/svg+xml"&&n.startsWith("image/"));if(t.length===0)return e;let r=yield Promise.all(t.map(n=>eg(this,void 0,void 0,function*(){let s=e.data[n];if(s.path){let o=yield hre(s.path);return Object.assign(Object.assign({},s),{content:o})}return s})));return t.forEach((n,s)=>{e.data[n]=r[s]}),e})))})}function fre({outputsId:i,initialData:e,core:t}){var r;let n=bs(i),s=J4(),o=(0,Yc.useRef)(null);(0,Yc.useEffect)(()=>{var l,c,u;if(!o.current||!(n!=null&&n.cell)){console.debug(`Jupyter: No cell ref available for cell ${i}:${(l=n==null?void 0:n.cell)===null||l===void 0?void 0:l.id}`);return}let d=n.cell.isAttachedToDOM?"reattaching":"attaching";console.debug(`${d} cell ${n.cell.id} to DOM at:`,{el:o.current,connected:o.current.isConnected,data:(c=t==null?void 0:t.stripWidgets(e))!==null&&c!==void 0?c:e}),n.cell.attachToDOM(o.current),n.cell.executionCount==null&&n.cell.initOutputs((u=t==null?void 0:t.stripWidgets(e,!0,s?()=>"":void 0))!==null&&u!==void 0?u:e)},[o==null?void 0:o.current,n==null?void 0:n.cell]);let a=((r=n==null?void 0:n.cell)===null||r===void 0?void 0:r.executionCount)!=null;return console.debug(`Jupyter: Cell ${i} executed: ${a}; Show output: ${a||!s}`),(0,Ta.jsxs)("div",{children:[(0,Ta.jsx)("div",{ref:o,"data-thebe-active-ref":"true",className:(0,mj.default)("relative",{"invisible h-0":!a&&s})}),n.ready&&s&&!a&&(0,Ta.jsx)(ge,{ast:s})]})}function gj({outputsId:i,outputs:e}){let{core:t,load:r}=(0,pj.useThebeLoader)(),{inCrossRef:n}=Go(),s=bs(i),{data:o,error:a}=U4(e),[l,c]=(0,Yc.useState)(null);return(0,Yc.useEffect)(()=>{t||r()},[t,r]),(0,Yc.useEffect)(()=>{!o||l!=null||tg(o).then(u=>{let d=E0(u,{});c(d)})},[i,o,l]),a?(console.error(a),(0,Ta.jsxs)("div",{className:"text-red-500",children:["Error rendering output: ",a.message]})):!n&&(s!=null&&s.ready)?(0,Ta.jsxs)("div",{children:[!l&&(0,Ta.jsx)("div",{className:"p-2.5",children:"Fetching full output data..."}),t&&l&&(0,Ta.jsx)(fre,{outputsId:i,initialData:l,core:t},i)]}):(0,Ta.jsx)("div",{children:"ActiveJupyterCellOutputs in cross reference"})}function _j({node:i}){var e;let t=(0,Ry.default)({hidden:i.visibility==="remove"}),{children:r,identifier:n,align:s}=i,o=(e=i.id)!==null&&e!==void 0?e:i.key,a=bs(o),{ready:l}=a,c=(0,vj.useMemo)(()=>Rr("output",i).map(f=>f.jupyter_data),[r]),u=c.length>0,d=J4();if(!l&&d)return(0,Vu.jsx)(ge,{ast:d});if(!l){let f=(0,Vu.jsx)("div",{"data-name":"outputs-container",id:n||void 0,"data-mdast-node-id":o,className:(0,Ry.default)("max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative",{"text-left":!s||s==="left","text-center":s==="center","text-right":s==="right","mb-5":u},t),children:(0,Vu.jsx)(Hu,{outputsId:o,children:(0,Vu.jsx)(ge,{ast:r})})});return i.visibility==="hide"?(0,Vu.jsx)(ea,{title:"Output",children:f}):f}return(0,Vu.jsx)(gj,{outputsId:o,outputs:c})}var $l=N(de(),1);var Aa=N(de(),1);var ng=N(de(),1);var Mj=N(xj(),1),Lj=N(yj(),1),dp=N(te(),1);function bre(i,e=!1){return i=(0,Lj.escapeCarriageReturn)(yre(i)),Mj.default.ansiToJson(i,{json:!0,remove_empty:!0,use_classes:e})}function Cre(i){let e="";return i.bg&&(e+=`${i.bg}-bg `),i.fg&&(e+=`${i.fg}-fg `),i.decoration&&(e+=`ansi-${i.decoration} `),e===""?null:(e=e.substring(0,e.length-1),e)}function xre(i){let e={};switch(i.bg&&(e.backgroundColor=`rgb(${i.bg})`),i.fg&&(e.color=`rgb(${i.fg})`),i.decoration){case"bold":e.fontWeight="bold";break;case"dim":e.opacity="0.5";break;case"italic":e.fontStyle="italic";break;case"hidden":e.visibility="hidden";break;case"strikethrough":e.textDecoration="line-through";break;case"underline":e.textDecoration="underline";break;case"blink":e.textDecoration="blink";break;default:break}return e}function wre(i,e,t,r){let n=e?null:xre(t),s=e?Cre(t):null;if(!i)return dp.createElement("span",{style:n,key:r,className:s},t.content);let o=[],a=/(\s|^)(https?:\/\/(?:www\.|(?!www))[^\s.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/g,l=0,c;for(;(c=a.exec(t.content))!==null;){let[,u,d]=c,f=c.index+u.length;f>l&&o.push(t.content.substring(l,f));let h=d.startsWith("www.")?`http://${d}`:d;o.push(dp.createElement("a",{key:l,href:h,target:"_blank"},`${d}`)),l=a.lastIndex}return l<t.content.length&&o.push(t.content.substring(l)),dp.createElement("span",{style:n,key:r,className:s},o)}function Fu(i){let{className:e,useClasses:t,children:r,linkify:n}=i;return dp.createElement("code",{className:e},bre(r??"",t??!1).map(wre.bind(null,n??!1,t??!1)))}function yre(i){let e=i;do i=e,e=i.replace(/[^\n]\x08/gm,"");while(e.length<i.length);return i}var up=N(de(),1),Sj=N(te(),1);var rg=({content:i,path:e,render:t})=>{let{error:r,data:n}=rj(i,e);return r?(0,up.jsxs)("div",{className:"myst-jp-long-error text-red-500",children:["Error loading content: ",r.message]}):n?(0,up.jsx)("div",{children:t(n.content)}):(0,up.jsx)("div",{className:"myst-jp-long-loading",children:"Fetching long content...."})};function ky({output:i}){return(0,ng.jsx)(rg,{content:s1(i.text),path:i.path,render:e=>(0,ng.jsx)("pre",{className:"myst-jp-stream-output text-sm font-thin font-system",children:(0,ng.jsx)(Fu,{children:e!=null?e:""})})})}var sg=N(de(),1);function Ty({output:i}){return(0,sg.jsx)(rg,{content:s1(i.traceback),path:i.path,render:e=>(0,sg.jsx)("pre",{className:"myst-jp-error-output text-sm font-thin font-system jupyter-error",children:(0,sg.jsx)(Fu,{children:e!=null?e:""})})})}var Mre=[Pn.ImagePng,Pn.ImageJpeg,Pn.ImageGif,Pn.ImageBmp];function Lre(i){let e=i.data,t=Mre.reduce((n,s)=>{if(n)return n;if(e&&e[s])return e[s]},void 0),r=e&&e["text/plain"];return{image:t,text:r}}function Sre({image:i,text:e}){var t;return(0,Aa.jsx)("img",{src:i==null?void 0:i.path,alt:(t=e==null?void 0:e.content)!==null&&t!==void 0?t:"Image produced in Jupyter"})}function Ej({output:i}){switch(i.output_type){case"stream":return(0,Aa.jsx)("div",{"data-name":"safe-output-stream",children:(0,Aa.jsx)(ky,{output:i})});case"error":return(0,Aa.jsx)("div",{"data-name":"safe-output-error",children:(0,Aa.jsx)(Ty,{output:i})});case"display_data":case"execute_result":case"update_display_data":{let{image:e,text:t}=Lre(i);return!e&&!t?null:e?(0,Aa.jsx)("div",{"data-name":"safe-output-image",children:(0,Aa.jsx)(Sre,{image:e,text:t})}):t?(0,Aa.jsx)("div",{"data-name":"safe-output-text",className:"font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text",children:(0,Aa.jsx)(Fu,{children:t.content})}):null}default:return console.warn(`Unknown output_type ${i.output_type}`),null}}var s0=N(de(),1),Wu=N(te(),1);var kj=N(zo(),1);var Rj=N(de(),1),hp=N(te(),1);function Ij({id:i,data:e,core:t}){let r=t.makeRenderMimeRegistry(),n=(0,hp.useRef)(new t.PassiveCellRenderer(i,r,void 0)),s=(0,hp.useRef)(null),{loaded:o}=WP(r,[e]);return(0,hp.useEffect)(()=>{var a,l;!s.current||!o||(n.current.attachToDOM((a=s.current)!==null&&a!==void 0?a:void 0,!0),n.current.render((l=t==null?void 0:t.stripWidgets([e]))!==null&&l!==void 0?l:e))},[s,o]),(0,Rj.jsx)("div",{ref:s,"data-thebe-passive-ref":"true","data-output-id":i})}var Tj=Wu.default.memo(({outputsId:i,output:e})=>{let{core:t,load:r}=(0,kj.useThebeLoader)(),{data:n,error:s}=U4([e]),[o,a]=(0,Wu.useState)(null);return(0,Wu.useEffect)(()=>{t||r()},[t,r]),(0,Wu.useEffect)(()=>{!n||o!=null||tg(n).then(l=>{let c=E0(l,{});a(c[0])})},[i,n,o]),s?(console.error(s),(0,s0.jsxs)("div",{className:"text-red-500",children:["Error rendering output: ",s.message]})):(0,s0.jsxs)("div",{children:[!o&&(0,s0.jsx)("div",{className:"p-2.5",children:"Loading..."}),o&&t&&(0,s0.jsx)(Ij,{id:i,data:o,core:t,kind:si.Notebook})]})});var Aj=N(te(),1);var Ere=new Set(["stream","error"]),Rre=new Set([Pn.TextPlain,Pn.ImagePng,Pn.ImageGif,Pn.ImageJpeg,Pn.ImageBmp]);function Ire(i,e,t){if(!i)return!1;try{if(e.has(i.output_type))return!0;let r=i.data,n=r?Object.keys(r):[];return"data"in i&&Boolean(i.data)&&n.every(s=>t.has(s))}catch(r){return console.error(r),!1}}function kre(i){if(!i||typeof i!="object")return{isValid:!1,reason:"Jupyter output data package is missing or not an object"};let e=i.output_type;return!("output_type"in i)||typeof e!="string"?{isValid:!1,reason:"Missing or invalid output_type property"}:{isValid:!0}}function Nj({node:i,className:e}){let{outputsId:t}=LP(),{ready:r}=bs(t!=null?t:""),n=(0,Aj.useMemo)(()=>i.jupyter_data,[i]),s=Ire(n,Ere,Rre),o=kre(n);return!t||!n||!o.isValid?(o.reason&&console.error(o.reason),(0,$l.jsx)(el,{title:(0,$l.jsx)("div",{children:"Cannot render output node"}),color:"red",dropdown:!0,Icon:$a,className:e,children:(0,$l.jsxs)("div",{className:"py-2 space-y-1",children:[(0,$l.jsx)("div",{children:"Output data package is not compatible with the current renderer."}),o.reason&&(0,$l.jsxs)("div",{className:"font-mono text-sm",children:["Reason: ",o.reason]})]})})):s&&!r?(0,$l.jsx)(Ej,{output:n}):(0,$l.jsx)(Tj,{outputsId:t,output:n})}var Vl=N(de(),1);var Oj=N(Qe(),1);function Dj({node:i}){var e,t,r,n,s,o,a,l,c,u;let{base:d}=U9.container,f=((e=i.source)===null||e===void 0?void 0:e.kind)===si.Notebook,h=(t=i.children)===null||t===void 0?void 0:t.find(p=>p.type==="output"),m=(r=i.children)===null||r===void 0?void 0:r.find(p=>p.type==="outputs");if(f){if(m){let p=(n=i.children)===null||n===void 0?void 0:n.find(x=>x.type==="image"&&x.placeholder),v=(s=i.children)===null||s===void 0?void 0:s.filter(x=>!(x.type==="image"&&x.placeholder));return(0,Vl.jsx)("figure",{id:i.html_id||i.identifier||i.key,className:(0,Oj.default)("myst-jp-figure",{subcontainer:i.subcontainer},i.class),children:(0,Vl.jsx)(Q4,{outputId:(o=m.id)!==null&&o!==void 0?o:m.key,placeholder:p,title:(a=i.source)===null||a===void 0?void 0:a.title,url:(l=i.source)===null||l===void 0?void 0:l.url,remoteBaseUrl:(c=i.source)===null||c===void 0?void 0:c.remoteBaseUrl,children:(0,Vl.jsx)(Hu,{outputsId:(u=m.id)!==null&&u!==void 0?u:m.key,children:(0,Vl.jsx)(ge,{ast:v})})},i.key)})}else if(h)return(0,Vl.jsx)(el,{title:(0,Vl.jsx)("div",{children:"Cannot render embedded output node"}),color:"red",dropdown:!0,Icon:$a,className:h.className,children:(0,Vl.jsx)("div",{className:"py-2",children:"Output data package is not compatible with the current renderer."})})}return(0,Vl.jsx)(d,{node:i})}var Dn=N(de(),1);var $j=N(Qe(),1);var og=N(de(),1);function Hj({id:i}){let{ready:e,cellIsExecuting:t,notebookIsBusy:r,execute:n}=bs(i);return e?(0,og.jsx)(ju,{ready:e,executing:t,disabled:r,onClick:n,title:"Run cell"}):null}function zj({id:i}){let{ready:e,cellIsExecuting:t}=bs(i);return!e||!t?null:(0,og.jsx)(ju,{ready:e,executing:t,disabled:!0,onClick:()=>({}),title:"executing cell..."})}function Bj({id:i}){let{ready:e,notebookIsBusy:t,clear:r}=bs(i);return e?(0,og.jsx)(X4,{ready:e,disabled:t,onClick:r,title:"Clear cell outputs"}):null}var Cs=N(de(),1);var Pj=N(zo(),1);var jj=N(Qe(),1);function CTe({showLaunch:i=!1}){let{slug:e,ready:t,state:r,start:n,resetAll:s,clearAll:o,execute:a}=Z4(),l=t0(),{connecting:c,connect:u,ready:d,server:f,error:h}=(0,Pj.useThebeServer)(),m=NP(r,e),p=()=>{if(!u){console.debug("NotebookToolbar: Trying to start a connection but connect() isn't defined");return}u(),n(e)},v=()=>s(e),x=()=>o(e),C=()=>a(e),y=()=>{!d||!(f!=null&&f.settings)||window.open(`${f.settings.baseUrl}?token=${f.settings.token}`,"_blank")},S=Qf(r,e),M=OP(r,e),_=!!h,E="Connect to a compute server";return _?E="Error connecting to a compute server":S&&(M=="pending"?E="Pending...":M=="fetching"?E="Fetching...":M=="build-notebooks"?E="Building notebooks...":M=="wait-for-server"?E="Waiting for server...":M=="start-session"?E="Starting session...":M=="error"?E="Error":E="Unknown"),m?(0,Cs.jsx)("div",{className:"myst-jp-nb-toolbar sticky top-[60px] pb-[14px] flex justify-end w-full z-20 pointer-events-none",children:(0,Cs.jsxs)("div",{className:"myst-jp-nb-toolbar-inner flex p-1 m-1 space-x-1 border rounded-full shadow pointer-events-auto border-stone-300 bg-white/80 dark:bg-stone-900/80 backdrop-blur",children:[!t&&(0,Cs.jsxs)("div",{className:"myst-jp-nb-toolbar-power rounded",children:[(0,Cs.jsx)("button",{className:(0,jj.default)("myst-jp-nb-toolbar-power-btn flex text-center rounded-full cursor-pointer text-stone-800 dark:text-white hover:opacity-100 opacity-60",{"opacity-10 text-stone-100 dark:text-stone-700":c||S}),onClick:p,disabled:S,"aria-label":"start compute environment",children:(0,Cs.jsx)(T0,{className:"inline-block w-6 h-6 align-top",title:"Launch kernel"})}),(c||S)&&!_&&(0,Cs.jsx)("span",{className:"myst-jp-nb-toolbar-spinner absolute top-1 left-1 z-10 w-[22px] h-[22px] opacity-100",title:E,children:(0,Cs.jsx)(r0,{size:24})})]}),t&&(0,Cs.jsx)(ju,{ready:t,executing:l.page(e,"execute"),onClick:C,title:"Run all cells"}),t&&(0,Cs.jsx)(G4,{ready:t,resetting:l.page(e,"reset"),onClick:v,disabled:l.page(e,"execute"),title:"Reset notebook and restart kernel"}),t&&(0,Cs.jsx)(X4,{ready:t,disabled:l.page(e,"execute")||l.page(e,"reset"),onClick:x,title:"Clear all cells"}),i&&t&&(0,Cs.jsx)(oj,{ready:t,disabled:!1,onClick:y,title:"Launch notebook in Jupyter"})]})}):null}function Tre({node:i,className:e}){var t,r,n,s;let o=IM(),a=(0,Dn.jsxs)("div",{id:(r=(t=i.html_id)!==null&&t!==void 0?t:i.identifier)!==null&&r!==void 0?r:i.key,className:(0,$j.default)("myst-jp-nb-block relative group/block",e,i.class,{[(n=i.data)===null||n===void 0?void 0:n.class]:typeof((s=i.data)===null||s===void 0?void 0:s.class)=="string",hidden:i.visibility==="remove"}),children:[o===si.Notebook&&i.kind==="notebook-code"&&(0,Dn.jsxs)(Dn.Fragment,{children:[(0,Dn.jsx)("div",{className:"myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden",children:(0,Dn.jsx)("div",{className:"flex absolute top-0 right-0",children:(0,Dn.jsx)(zj,{id:i.key})})}),(0,Dn.jsx)("div",{className:"myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex",children:(0,Dn.jsxs)("div",{className:"absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800",children:[(0,Dn.jsx)(Hj,{id:i.key}),(0,Dn.jsx)(Bj,{id:i.key})]})})]}),(0,Dn.jsx)(ge,{ast:i.children})]});return i.visibility==="hide"?(0,Dn.jsx)(ea,{title:"Notebook Cell",children:a}):a}var ag={block:{"block[kind=notebook-code],block[kind=notebook-content]":Tre}};var Vj={outputs:_j,output:Nj,embed:fj,container:Dj},Are=Hp([Vj,ag]);var Fj=N(de(),1);var vn=N(de(),1),fp=N(te(),1),Wj=N(zo(),1);function Nre({children:i,idx:e}){return(0,vn.jsxs)("div",{className:"myst-jp-error-tray-decoration relative py-3 mx-2 my-8 border rounded",children:[(0,vn.jsx)("div",{className:"myst-jp-error-tray-cell absolute z-10 flex items-center bg-white -top-3 -left-2",children:e&&(0,vn.jsxs)("div",{className:"myst-jp-error-tray-cell-number ml-1 text-sm text-gray-500",children:["cell #: ",e+1]})}),(0,vn.jsx)("div",{className:"myst-jp-error-tray-content mx-3",children:i})]})}function Ore({errors:i}){let{core:e}=(0,Wj.useThebeLoader)(),[t,r]=(0,fp.useState)([]),[n,s]=(0,fp.useState)([]);return(0,fp.useEffect)(()=>{if(!e)return;let o=i.map(()=>new e.PassiveCellRenderer("any"));s(i.map((a,l)=>c=>{var u;c&&(o[l].attachToDOM(c),o[l].render((u=i[l].error)!==null&&u!==void 0?u:[]))})),r(t)},[e,i]),e?(0,vn.jsx)("div",{children:i.map((o,a)=>(0,vn.jsx)("div",{className:"myst-jp-error-tray-item not-prose min-w-[400px]",children:(0,vn.jsx)(Nre,{idx:o.index,children:(0,vn.jsx)("div",{className:"z-100",ref:n[a]},o.id)})},`error-${o.id}`))}):null}function VTe({pageSlug:i,index:e}){let{items:t}=ej(i);return!t||t.length===0||e&&e?null:(0,vn.jsx)("div",{className:"myst-jp-error-tray relative px-4 pt-3 my-8 text-sm text-red-600 border border-red-400 rounded border-1",children:t.map(({notebookSlug:r,errors:n},s)=>(0,vn.jsxs)("div",{children:[(0,vn.jsxs)("div",{children:[(0,vn.jsx)("span",{className:"font-bold",children:"Error"})," in notebook ",(0,vn.jsxs)("span",{children:['"',r,'"']})]}),(0,vn.jsx)(Ore,{errors:n})]},`${r}-${s}`))})}var Qn=N(de(),1),Zu=N(te(),1),Zj=N(zo(),1);function qTe({waitForSessions:i}){var e,t,r;let n=ap(),{connecting:s,ready:o,error:a,events:l}=(0,Zj.useThebeServer)(),{slug:c,ready:u,state:d}=Z4(),[f,h]=(0,Zu.useState)(!1),[m,p]=(0,Zu.useState)(),[v,x]=(0,Zu.useState)("[client] Connecting..."),C=a,y=o&&(!i||u),S=s||Qf(d,c),M=(E,R)=>{x(`[${R.subject}]: ${R.message}`)};(0,Zu.useEffect)(()=>{l&&l.on("status",M)},[l]),(0,Zu.useEffect)(()=>{n!=null&&n.thebe&&(S||C?h(!0):y&&setTimeout(()=>{h(!1),m==null||m(),p(void 0)},1e3))},[n,S,y,C]);let _=!((e=n==null?void 0:n.thebe)===null||e===void 0)&&e.useBinder?"Jupyter":!((t=n==null?void 0:n.thebe)===null||t===void 0)&&t.useJupyterLite?"JupyterLite":"Local Server";return f&&C?(0,Qn.jsxs)("div",{className:"myst-jp-connect-status-tray fixed p-3 z-[11] text-sm text-gray-700 bg-white border rounded shadow-lg bottom-2 sm:right-2 max-w-[90%] md:max-w-[300px] min-w-0",children:[(0,Qn.jsxs)("div",{className:"myst-jp-connect-status-header mb-2 font-semibold text-center",children:["\u26D4\uFE0F Error connecting to ",_," \u26D4\uFE0F"]}),(0,Qn.jsx)("div",{className:"myst-jp-connect-status-message my-1 max-h-[15rem] mono overflow-hidden text-ellipsis",children:C}),(0,Qn.jsx)("div",{className:"myst-jp-connect-status-dismiss flex justify-end",children:(0,Qn.jsx)("div",{className:"myst-jp-connect-status-dismiss-btn text-xs cursor-pointer hover:underline",role:"button",onClick:()=>h(!1),children:"dismiss"})})]}):f&&(!((r=n==null?void 0:n.thebe)===null||r===void 0)&&r.useJupyterLite)?(0,Qn.jsxs)("div",{className:"myst-jp-connect-status-tray fixed p-3 z-[11] text-sm text-gray-700 bg-white border rounded shadow-lg bottom-2 sm:right-2 max-w-[90%] md:max-w-[300px] min-w-0",children:[(0,Qn.jsxs)("div",{className:"myst-jp-connect-status-header mb-1 font-semibold text-center",children:["\u26A1\uFE0F Connecting to ",_," \u26A1\uFE0F"]}),!y&&(0,Qn.jsx)("div",{className:"myst-jp-connect-status-notready max-h-[5rem] mono overflow-hidden text-ellipsis",children:v}),y&&(0,Qn.jsx)("div",{className:"myst-jp-connect-status-message max-h-[15rem] mono overflow-hidden text-ellipsis",children:"The in-browser JupyterLite server is ready, press run anytime."})]}):f?(0,Qn.jsxs)("div",{className:"myst-jp-connect-status-tray fixed p-3 z-[11] text-sm text-gray-700 bg-white border rounded shadow-lg bottom-2 sm:right-2 max-w-[90%] md:max-w-[300px] min-w-0",children:[(0,Qn.jsxs)("div",{className:"myst-jp-connect-status-header mb-1 font-semibold text-center",children:["\u26A1\uFE0F Connecting to ",_," \u26A1\uFE0F"]}),(0,Qn.jsx)("div",{className:"myst-jp-connect-status-message max-h-[15rem] mono overflow-hidden text-ellipsis",children:v})]}):null}export{cY as a,w2e as b,pM as c,Hp as d,Os as e,jp as f,LM as g,o1 as h,EM as i,nn as j,Lne as k,ja as l,kne as m,One as n,WM as o,Fg as p,Kg as q,ge as r,LG as s,SG as t,EG as u,RG as v,IG as w,kG as x,pX as y,gT as z,Pv as A,PK as B,jK as C,$K as D,Fv as E,iY as F,lY as G,qv as H,Uv as I,Cpe as J,xpe as K,AT as L,aY as M,xIe as N,VTe as O,JRe as P,ap as Q,QRe as R,bIe as S,qTe as T,GIe as U,CTe as V,Are as W};
/*! Bundled license information:

@babel/runtime/helpers/regenerator.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE *)

use-sync-external-store/cjs/use-sync-external-store-shim.production.js:
  (**
   * @license React
   * use-sync-external-store-shim.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.7.1
   * https://jquery.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2023-08-28T13:37Z
   *)
*/
